var wO=Object.create;var Qg=Object.defineProperty,SO=Object.defineProperties,IO=Object.getOwnPropertyDescriptor,kO=Object.getOwnPropertyDescriptors,TO=Object.getOwnPropertyNames,l8=Object.getOwnPropertySymbols,EO=Object.getPrototypeOf,u8=Object.prototype.hasOwnProperty,AO=Object.prototype.propertyIsEnumerable;var Kg=(e,i)=>(i=Symbol[e])?i:Symbol.for("Symbol."+e);var c8=(e,i,n)=>i in e?Qg(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n,q=(e,i)=>{for(var n in i||={})u8.call(i,n)&&c8(e,n,i[n]);if(l8)for(var n of l8(i))AO.call(i,n)&&c8(e,n,i[n]);return e},Se=(e,i)=>SO(e,kO(i));var kt=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var LO=(e,i,n,s)=>{if(i&&typeof i=="object"||typeof i=="function")for(let r of TO(i))!u8.call(e,r)&&r!==n&&Qg(e,r,{get:()=>i[r],enumerable:!(s=IO(i,r))||s.enumerable});return e};var tr=(e,i,n)=>(n=e!=null?wO(EO(e)):{},LO(i||!e||!e.__esModule?Qg(n,"default",{value:e,enumerable:!0}):n,e));var fe=(e,i,n)=>new Promise((s,r)=>{var o=p=>{try{a(n.next(p))}catch(c){r(c)}},t=p=>{try{a(n.throw(p))}catch(c){r(c)}},a=p=>p.done?s(p.value):Promise.resolve(p.value).then(o,t);a((n=n.apply(e,i)).next())}),_g=function(e,i){this[0]=e,this[1]=i},h8=(e,i,n)=>{var s=(t,a,p,c)=>{try{var u=n[t](a),h=(a=u.value)instanceof _g,l=u.done;Promise.resolve(h?a[0]:a).then(d=>h?s(t==="return"?t:"next",a[1]?{done:d.done,value:d.value}:d,p,c):p({value:d,done:l})).catch(d=>s("throw",d,p,c))}catch(d){c(d)}},r=t=>o[t]=a=>new Promise((p,c)=>s(t,a,p,c)),o={};return n=n.apply(e,i),o[Kg("asyncIterator")]=()=>o,r("next"),r("throw"),r("return"),o};var d8=(e,i,n)=>(i=e[Kg("asyncIterator")])?i.call(e):(e=e[Kg("iterator")](),i={},n=(s,r)=>(r=e[s])&&(i[s]=o=>new Promise((t,a,p)=>(o=r.call(e,o),p=o.done,Promise.resolve(o.value).then(c=>t({value:c,done:p}),a)))),n("next"),n("return"),i);var Ua=kt((ff,K3)=>{"use strict";(function(i,n){typeof ff=="object"&&typeof K3=="object"?K3.exports=n():typeof define=="function"&&define.amd?define("Phaser",[],n):typeof ff=="object"?ff.Phaser=n():i.Phaser=n()})(ff,()=>(()=>{var e={50792:r=>{"use strict";var o=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function p(l,d,v){this.fn=l,this.context=d,this.once=v||!1}function c(l,d,v,f,g){if(typeof v!="function")throw new TypeError("The listener must be a function");var m=new p(v,f||l,g),x=t?t+d:d;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],m]:l._events[x].push(m):(l._events[x]=m,l._eventsCount++),l}function u(l,d){--l._eventsCount===0?l._events=new a:delete l._events[d]}function h(){this._events=new a,this._eventsCount=0}h.prototype.eventNames=function(){var d=[],v,f;if(this._eventsCount===0)return d;for(f in v=this._events)o.call(v,f)&&d.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},h.prototype.listeners=function(d){var v=t?t+d:d,f=this._events[v];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,m=f.length,x=new Array(m);g<m;g++)x[g]=f[g].fn;return x},h.prototype.listenerCount=function(d){var v=t?t+d:d,f=this._events[v];return f?f.fn?1:f.length:0},h.prototype.emit=function(d,v,f,g,m,x){var y=t?t+d:d;if(!this._events[y])return!1;var b=this._events[y],M=arguments.length,C,w;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),M){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,v),!0;case 3:return b.fn.call(b.context,v,f),!0;case 4:return b.fn.call(b.context,v,f,g),!0;case 5:return b.fn.call(b.context,v,f,g,m),!0;case 6:return b.fn.call(b.context,v,f,g,m,x),!0}for(w=1,C=new Array(M-1);w<M;w++)C[w-1]=arguments[w];b.fn.apply(b.context,C)}else{var S=b.length,I;for(w=0;w<S;w++)switch(b[w].once&&this.removeListener(d,b[w].fn,void 0,!0),M){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,v);break;case 3:b[w].fn.call(b[w].context,v,f);break;case 4:b[w].fn.call(b[w].context,v,f,g);break;default:if(!C)for(I=1,C=new Array(M-1);I<M;I++)C[I-1]=arguments[I];b[w].fn.apply(b[w].context,C)}}return!0},h.prototype.on=function(d,v,f){return c(this,d,v,f,!1)},h.prototype.once=function(d,v,f){return c(this,d,v,f,!0)},h.prototype.removeListener=function(d,v,f,g){var m=t?t+d:d;if(!this._events[m])return this;if(!v)return u(this,m),this;var x=this._events[m];if(x.fn)x.fn===v&&(!g||x.once)&&(!f||x.context===f)&&u(this,m);else{for(var y=0,b=[],M=x.length;y<M;y++)(x[y].fn!==v||g&&!x[y].once||f&&x[y].context!==f)&&b.push(x[y]);b.length?this._events[m]=b.length===1?b[0]:b:u(this,m)}return this},h.prototype.removeAllListeners=function(d){var v;return d?(v=t?t+d:d,this._events[v]&&u(this,v)):(this._events=new a,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,r.exports=h},11517:(r,o,t)=>{var a=t(38829),p=function(c,u,h,l){for(var d=c[0],v=1;v<c.length;v++){var f=c[v];a(f,d,u,h,l),d=f}return c};r.exports=p},80318:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d){return a(c,"angle",u,h,l,d)};r.exports=p},60757:r=>{var o=function(t,a,p){for(var c=0;c<t.length;c++){var u=t[c];a.call(p,u)}return t};r.exports=o},69927:r=>{var o=function(t,a,p){p===void 0&&(p=0);for(var c=p;c<t.length;c++){var u=t[c],h=!0;for(var l in a)u[l]!==a[l]&&(h=!1);if(h)return u}return null};r.exports=o},32265:r=>{var o=function(t,a,p){p===void 0&&(p=0);for(var c=t.length-1;c>=p;c--){var u=t[c],h=!0;for(var l in a)u[l]!==a[l]&&(h=!1);if(h)return u}return null};r.exports=o},94420:(r,o,t)=>{var a=t(11879),p=t(60461),c=t(95540),u=t(29747),h=t(41481),l=new h({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1).setOrigin(0,0),d=function(v,f){f===void 0&&(f={});var g=f.hasOwnProperty("width"),m=f.hasOwnProperty("height"),x=c(f,"width",-1),y=c(f,"height",-1),b=c(f,"cellWidth",1),M=c(f,"cellHeight",b),C=c(f,"position",p.TOP_LEFT),w=c(f,"x",0),S=c(f,"y",0),I=0,T=0,k=x*b,E=y*M;l.setPosition(w,S),l.setSize(b,M);for(var A=0;A<v.length;A++)if(a(v[A],l,C),g&&x===-1)l.x+=b;else if(m&&y===-1)l.y+=M;else if(m&&!g){if(T+=M,l.y+=M,T===E&&(T=0,I+=b,l.y=S,l.x+=b,I===k))break}else if(I+=b,l.x+=b,I===k&&(I=0,T+=M,l.x=w,l.y+=M,T===E))break;return v};r.exports=d},41721:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d){return a(c,"alpha",u,h,l,d)};r.exports=p},67285:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d){return a(c,"x",u,h,l,d)};r.exports=p},9074:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d,v,f){return h==null&&(h=u),a(c,"x",u,l,v,f),a(c,"y",h,d,v,f)};r.exports=p},75222:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d){return a(c,"y",u,h,l,d)};r.exports=p},22983:r=>{var o=function(t,a,p,c){p===void 0&&(p=0),c===void 0&&(c=6.28);for(var u=p,h=(c-p)/t.length,l=a.x,d=a.y,v=a.radius,f=0;f<t.length;f++)t[f].x=l+v*Math.cos(u),t[f].y=d+v*Math.sin(u),u+=h;return t};r.exports=o},95253:r=>{var o=function(t,a,p,c){p===void 0&&(p=0),c===void 0&&(c=6.28);for(var u=p,h=(c-p)/t.length,l=a.width/2,d=a.height/2,v=0;v<t.length;v++)t[v].x=a.x+l*Math.cos(u),t[v].y=a.y+d*Math.sin(u),u+=h;return t};r.exports=o},88505:(r,o,t)=>{var a=t(15258),p=t(26708),c=function(u,h,l){var d;l?d=p(h,l,u.length):d=a(h,u.length);for(var v=0;v<u.length;v++){var f=u[v],g=d[v];f.x=g.x,f.y=g.y}return u};r.exports=c},41346:(r,o,t)=>{var a=t(14649),p=t(86003),c=t(49498),u=function(h,l,d){d===void 0&&(d=0);var v=a(l,!1,h.length);d>0?p(v,d):d<0&&c(v,Math.abs(d));for(var f=0;f<h.length;f++)h[f].x=v[f].x,h[f].y=v[f].y;return h};r.exports=u},11575:(r,o,t)=>{var a=t(84993),p=function(c,u,h){var l=a({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},h),d=a({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},h),v=a({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},h);l.pop(),d.pop(),v.pop(),l=l.concat(d,v);for(var f=l.length/c.length,g=0,m=0;m<c.length;m++){var x=c[m],y=l[Math.floor(g)];x.x=y.x,x.y=y.y,g+=f}return c};r.exports=p},29953:r=>{var o=function(t,a,p){for(var c=0;c<t.length;c++){var u=t[c];u.anims&&u.anims.play(a,p)}return t};r.exports=o},66979:r=>{var o=function(t,a,p,c,u,h){c===void 0&&(c=0),u===void 0&&(u=0),h===void 0&&(h=1);var l,d=0,v=t.length;if(h===1)for(l=u;l<v;l++)t[l][a]+=p+d*c,d++;else for(l=u;l>=0;l--)t[l][a]+=p+d*c,d++;return t};r.exports=o},43967:r=>{var o=function(t,a,p,c,u,h){c===void 0&&(c=0),u===void 0&&(u=0),h===void 0&&(h=1);var l,d=0,v=t.length;if(h===1)for(l=u;l<v;l++)t[l][a]=p+d*c,d++;else for(l=u;l>=0;l--)t[l][a]=p+d*c,d++;return t};r.exports=o},88926:(r,o,t)=>{var a=t(28176),p=function(c,u){for(var h=0;h<c.length;h++)a(u,c[h]);return c};r.exports=p},33286:(r,o,t)=>{var a=t(24820),p=function(c,u){for(var h=0;h<c.length;h++)a(u,c[h]);return c};r.exports=p},96e3:(r,o,t)=>{var a=t(65822),p=function(c,u){for(var h=0;h<c.length;h++)a(u,c[h]);return c};r.exports=p},28789:(r,o,t)=>{var a=t(26597),p=function(c,u){for(var h=0;h<c.length;h++)a(u,c[h]);return c};r.exports=p},97154:(r,o,t)=>{var a=t(90260),p=function(c,u){for(var h=0;h<c.length;h++)a(u,c[h]);return c};r.exports=p},20510:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d){return a(c,"rotation",u,h,l,d)};r.exports=p},91051:(r,o,t)=>{var a=t(1163),p=t(20339),c=function(u,h,l){for(var d=h.x,v=h.y,f=0;f<u.length;f++){var g=u[f];a(g,d,v,l,Math.max(1,p(g.x,g.y,d,v)))}return u};r.exports=c},76332:(r,o,t)=>{var a=t(1163),p=function(c,u,h,l){var d=u.x,v=u.y;if(l===0)return c;for(var f=0;f<c.length;f++)a(c[f],d,v,h,l);return c};r.exports=p},61619:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d){return a(c,"scaleX",u,h,l,d)};r.exports=p},94868:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d,v,f){return h==null&&(h=u),a(c,"scaleX",u,l,v,f),a(c,"scaleY",h,d,v,f)};r.exports=p},95532:(r,o,t)=>{var a=t(66979),p=function(c,u,h,l,d){return a(c,"scaleY",u,h,l,d)};r.exports=p},8689:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"alpha",u,h,l,d)};r.exports=p},2645:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l){return a(c,"blendMode",u,0,h,l)};r.exports=p},32372:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"depth",u,h,l,d)};r.exports=p},85373:r=>{var o=function(t,a,p){for(var c=0;c<t.length;c++)t[c].setInteractive(a,p);return t};r.exports=o},81583:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d,v,f){return h==null&&(h=u),a(c,"originX",u,l,v,f),a(c,"originY",h,d,v,f),c.forEach(function(g){g.updateDisplayOrigin()}),c};r.exports=p},79939:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"rotation",u,h,l,d)};r.exports=p},2699:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d,v,f){return h==null&&(h=u),a(c,"scaleX",u,l,v,f),a(c,"scaleY",h,d,v,f)};r.exports=p},98739:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"scaleX",u,h,l,d)};r.exports=p},98476:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"scaleY",u,h,l,d)};r.exports=p},6207:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d,v,f){return h==null&&(h=u),a(c,"scrollFactorX",u,l,v,f),a(c,"scrollFactorY",h,d,v,f)};r.exports=p},6607:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"scrollFactorX",u,h,l,d)};r.exports=p},72248:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"scrollFactorY",u,h,l,d)};r.exports=p},14036:r=>{var o=function(t,a,p,c,u){for(var h=0;h<t.length;h++)t[h].setTint(a,p,c,u);return t};r.exports=o},50159:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l){return a(c,"visible",u,0,h,l)};r.exports=p},77597:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"x",u,h,l,d)};r.exports=p},83194:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d,v,f){return h==null&&(h=u),a(c,"x",u,l,v,f),a(c,"y",h,d,v,f)};r.exports=p},67678:(r,o,t)=>{var a=t(43967),p=function(c,u,h,l,d){return a(c,"y",u,h,l,d)};r.exports=p},35850:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d){l===void 0&&(l=0),d===void 0&&(d=new a);var v,f,g=c.length;if(g===1)v=c[0].x,f=c[0].y,c[0].x=u,c[0].y=h;else{var m=1,x=0;l===0&&(x=g-1,m=g-2),v=c[x].x,f=c[x].y,c[x].x=u,c[x].y=h;for(var y=0;y<g;y++)if(!(m>=g||m===-1)){var b=c[m],M=b.x,C=b.y;b.x=v,b.y=f,v=M,f=C,l===0?m--:m++}}return d.x=v,d.y=f,d};r.exports=p},8628:(r,o,t)=>{var a=t(33680),p=function(c){return a(c)};r.exports=p},21837:(r,o,t)=>{var a=t(7602),p=function(c,u,h,l,d){d===void 0&&(d=!1);var v=Math.abs(l-h)/c.length,f;if(d)for(f=0;f<c.length;f++)c[f][u]+=a(f*v,h,l);else for(f=0;f<c.length;f++)c[f][u]=a(f*v,h,l);return c};r.exports=p},21910:(r,o,t)=>{var a=t(54261),p=function(c,u,h,l,d){d===void 0&&(d=!1);var v=Math.abs(l-h)/c.length,f;if(d)for(f=0;f<c.length;f++)c[f][u]+=a(f*v,h,l);else for(f=0;f<c.length;f++)c[f][u]=a(f*v,h,l);return c};r.exports=p},62054:r=>{var o=function(t,a,p,c,u){if(u===void 0&&(u=!1),t.length===0)return t;if(t.length===1)return u?t[0][a]+=(c+p)/2:t[0][a]=(c+p)/2,t;var h=Math.abs(c-p)/(t.length-1),l;if(u)for(l=0;l<t.length;l++)t[l][a]+=l*h+p;else for(l=0;l<t.length;l++)t[l][a]=l*h+p;return t};r.exports=o},79815:r=>{var o=function(t){for(var a=0;a<t.length;a++)t[a].visible=!t[a].visible;return t};r.exports=o},39665:(r,o,t)=>{var a=t(15994),p=function(c,u,h){h===void 0&&(h=0);for(var l=0;l<c.length;l++){var d=c[l];d.x=a(d.x,u.left-h,u.right+h),d.y=a(d.y,u.top-h,u.bottom+h)}return c};r.exports=p},61061:(r,o,t)=>{r.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(74943),u=t(81957),h=t(41138),l=t(35154),d=t(90126),v=new p({initialize:function(g,m,x){this.manager=g,this.key=m,this.type="frame",this.frames=this.getFrames(g.textureManager,l(x,"frames",[]),l(x,"defaultTextureKey",null),l(x,"sortFrames",!0)),this.frameRate=l(x,"frameRate",null),this.duration=l(x,"duration",null),this.msPerFrame,this.skipMissedFrames=l(x,"skipMissedFrames",!0),this.delay=l(x,"delay",0),this.repeat=l(x,"repeat",0),this.repeatDelay=l(x,"repeatDelay",0),this.yoyo=l(x,"yoyo",!1),this.showBeforeDelay=l(x,"showBeforeDelay",!1),this.showOnStart=l(x,"showOnStart",!1),this.hideOnComplete=l(x,"hideOnComplete",!1),this.randomFrame=l(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(c.PAUSE_ALL,this.pause,this),this.manager.on(c.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(f,g,m,x){m===null&&x===null?(f.frameRate=24,f.duration=24/g*1e3):m&&x===null?(f.duration=m,f.frameRate=g/(m/1e3)):(f.frameRate=x,f.duration=g/x*1e3),f.msPerFrame=1e3/f.frameRate},addFrame:function(f){return this.addFrameAt(this.frames.length,f)},addFrameAt:function(f,g){var m=this.getFrames(this.manager.textureManager,g);if(m.length>0){if(f===0)this.frames=m.concat(this.frames);else if(f===this.frames.length)this.frames=this.frames.concat(m);else{var x=this.frames.slice(0,f),y=this.frames.slice(f);this.frames=x.concat(m,y)}this.updateFrameSequence()}return this},checkFrame:function(f){return f>=0&&f<this.frames.length},getFirstTick:function(f){f.accumulator=0,f.nextTick=f.msPerFrame||f.currentFrame.duration},getFrameAt:function(f){return this.frames[f]},getFrames:function(f,g,m,x){x===void 0&&(x=!0);var y=[],b,M,C=1,w,S;if(typeof g=="string"){if(S=g,!f.exists(S))return console.warn('Texture "%s" not found',S),y;var I=f.get(S),T=I.getFrameNames();x&&d(T),g=[],T.forEach(function(R){g.push({key:S,frame:R})})}if(!Array.isArray(g)||g.length===0)return y;for(w=0;w<g.length;w++){var k=g[w],E=l(k,"key",m);if(E){var A=l(k,"frame",0),L=f.getFrame(E,A);if(!L){console.warn('Texture "%s" not found',E);continue}M=new h(E,A,C,L),M.duration=l(k,"duration",0),M.isFirst=!b,b&&(b.nextFrame=M,M.prevFrame=b),y.push(M),b=M,C++}}if(y.length>0){M.isLast=!0,M.nextFrame=y[0],y[0].prevFrame=M;var D=1/(y.length-1);for(w=0;w<y.length;w++)y[w].progress=w*D}return y},getNextTick:function(f){f.accumulator-=f.nextTick,f.nextTick=f.msPerFrame||f.currentFrame.duration},getFrameByProgress:function(f){return f=a(f,0,1),u(f,this.frames,"progress")},nextFrame:function(f){var g=f.currentFrame;g.isLast?f.yoyo?this.handleYoyoFrame(f,!1):f.repeatCounter>0?f.inReverse&&f.forward?f.forward=!1:this.repeatAnimation(f):f.complete():this.updateAndGetNextTick(f,g.nextFrame)},handleYoyoFrame:function(f,g){if(g||(g=!1),f.inReverse===!g&&f.repeatCounter>0){(f.repeatDelay===0||f.pendingRepeat)&&(f.forward=g),this.repeatAnimation(f);return}if(f.inReverse!==g&&f.repeatCounter===0){f.complete();return}f.forward=g;var m=g?f.currentFrame.nextFrame:f.currentFrame.prevFrame;this.updateAndGetNextTick(f,m)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(f){var g=f.currentFrame;g.isFirst?f.yoyo?this.handleYoyoFrame(f,!0):f.repeatCounter>0?f.inReverse&&!f.forward?this.repeatAnimation(f):(f.forward=!0,this.repeatAnimation(f)):f.complete():this.updateAndGetNextTick(f,g.prevFrame)},updateAndGetNextTick:function(f,g){f.setCurrentFrame(g),this.getNextTick(f)},removeFrame:function(f){var g=this.frames.indexOf(f);return g!==-1&&this.removeFrameAt(g),this},removeFrameAt:function(f){return this.frames.splice(f,1),this.updateFrameSequence(),this},repeatAnimation:function(f){if(f._pendingStop===2){if(f._pendingStopValue===0)return f.stop();f._pendingStopValue--}f.repeatDelay>0&&!f.pendingRepeat?(f.pendingRepeat=!0,f.accumulator-=f.nextTick,f.nextTick+=f.repeatDelay):(f.repeatCounter--,f.forward?f.setCurrentFrame(f.currentFrame.nextFrame):f.setCurrentFrame(f.currentFrame.prevFrame),f.isPlaying&&(this.getNextTick(f),f.handleRepeat()))},toJSON:function(){var f={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(g){f.frames.push(g.toJSON())}),f},updateFrameSequence:function(){for(var f=this.frames.length,g=1/(f-1),m,x=0;x<f;x++)m=this.frames[x],m.index=x+1,m.isFirst=!1,m.isLast=!1,m.progress=x*g,x===0?(m.isFirst=!0,f===1?(m.isLast=!0,m.nextFrame=m,m.prevFrame=m):(m.isLast=!1,m.prevFrame=this.frames[f-1],m.nextFrame=this.frames[x+1])):x===f-1&&f>1?(m.isLast=!0,m.prevFrame=this.frames[f-2],m.nextFrame=this.frames[0]):f>1&&(m.prevFrame=this.frames[x-1],m.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(c.PAUSE_ALL,this.pause,this),this.manager.off(c.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var f=0;f<this.frames.length;f++)this.frames[f].destroy();this.frames=[],this.manager=null}});r.exports=v},41138:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l,d,v){v===void 0&&(v=!1),this.textureKey=u,this.textureFrame=h,this.index=l,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});r.exports=p},60848:(r,o,t)=>{var a=t(42099),p=t(83419),c=t(90330),u=t(50792),h=t(74943),l=t(8443),d=t(95540),v=t(35154),f=t(36383),g=t(20283),m=t(41836),x=new p({Extends:u,initialize:function(b){u.call(this),this.game=b,this.textureManager=null,this.globalTimeScale=1,this.anims=new c,this.mixes=new c,this.paused=!1,this.name="AnimationManager",b.events.once(l.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(l.DESTROY,this.destroy,this)},addMix:function(y,b,M){var C=this.anims,w=this.mixes,S=typeof y=="string"?y:y.key,I=typeof b=="string"?b:b.key;if(C.has(S)&&C.has(I)){var T=w.get(S);T||(T={}),T[I]=M,w.set(S,T)}return this},removeMix:function(y,b){var M=this.mixes,C=typeof y=="string"?y:y.key,w=M.get(C);if(w)if(b){var S=typeof b=="string"?b:b.key;w.hasOwnProperty(S)&&delete w[S]}else b||M.delete(C);return this},getMix:function(y,b){var M=this.mixes,C=typeof y=="string"?y:y.key,w=typeof b=="string"?b:b.key,S=M.get(C);return S&&S.hasOwnProperty(w)?S[w]:0},add:function(y,b){return this.anims.has(y)?(console.warn("Animation key exists: "+y),this):(b.key=y,this.anims.set(y,b),this.emit(h.ADD_ANIMATION,y,b),this)},exists:function(y){return this.anims.has(y)},createFromAseprite:function(y,b,M){var C=[],w=this.game.cache.json.get(y);if(!w)return console.warn("No Aseprite data found for: "+y),C;var S=this,I=v(w,"meta",null),T=v(w,"frames",null);if(I&&T){var k=v(I,"frameTags",[]);k.forEach(function(E){var A=[],L=d(E,"name",null),D=d(E,"from",0),R=d(E,"to",0),N=d(E,"direction","forward");if(L&&(!b||b&&b.indexOf(L)>-1)){for(var P=0,O=D;O<=R;O++){var W=O.toString(),G=T[W];if(G){var H=d(G,"duration",f.MAX_SAFE_INTEGER);A.push({key:y,frame:W,duration:H}),P+=H}}N==="reverse"&&(A=A.reverse());var V={key:L,frames:A,duration:P,yoyo:N==="pingpong"},B;M?M.anims&&(B=M.anims.create(V)):B=S.create(V),B&&C.push(B)}})}return C},create:function(y){var b=y.key,M=!1;return b&&(M=this.get(b),M?console.warn("AnimationManager key already exists: "+b):(M=new a(this,b,y),this.anims.set(b,M),this.emit(h.ADD_ANIMATION,b,M))),M},fromJSON:function(y,b){b===void 0&&(b=!1),b&&this.anims.clear(),typeof y=="string"&&(y=JSON.parse(y));var M=[];if(y.hasOwnProperty("anims")&&Array.isArray(y.anims)){for(var C=0;C<y.anims.length;C++)M.push(this.create(y.anims[C]));y.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=y.globalTimeScale)}else y.hasOwnProperty("key")&&y.type==="frame"&&M.push(this.create(y));return M},generateFrameNames:function(y,b){var M=v(b,"prefix",""),C=v(b,"start",0),w=v(b,"end",0),S=v(b,"suffix",""),I=v(b,"zeroPad",0),T=v(b,"outputArray",[]),k=v(b,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),T;var E=this.textureManager.get(y);if(!E)return T;var A;if(b)for(k||(k=g(C,w)),A=0;A<k.length;A++){var L=M+m(k[A],I,"0",1)+S;E.has(L)?T.push({key:y,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,y)}else for(k=E.getFrameNames(),A=0;A<k.length;A++)T.push({key:y,frame:k[A]});return T},generateFrameNumbers:function(y,b){var M=v(b,"start",0),C=v(b,"end",-1),w=v(b,"first",!1),S=v(b,"outputArray",[]),I=v(b,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),S;var T=this.textureManager.get(y);if(!T)return S;w&&T.has(w)&&S.push({key:y,frame:w}),I||(C===-1&&(C=T.frameTotal-2),I=g(M,C));for(var k=0;k<I.length;k++){var E=I[k];T.has(E)?S.push({key:y,frame:E}):console.warn('Frame "%s" not found in texture "%s"',E,y)}return S},get:function(y){return this.anims.get(y)},getAnimsFromTexture:function(y){for(var b=this.textureManager.get(y),M=b.key,C=this.anims.getArray(),w=[],S=0;S<C.length;S++)for(var I=C[S],T=I.frames,k=0;k<T.length;k++)if(T[k].textureKey===M){w.push(I.key);break}return w},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(y,b){Array.isArray(b)||(b=[b]);for(var M=0;M<b.length;M++)b[M].anims.play(y);return this},staggerPlay:function(y,b,M,C){M===void 0&&(M=0),C===void 0&&(C=!0),Array.isArray(b)||(b=[b]);var w=b.length;C||w--;for(var S=0;S<b.length;S++){var I=M<0?Math.abs(M)*(w-S):M*S;b[S].anims.playAfterDelay(y,I)}return this},remove:function(y){var b=this.get(y);return b&&(this.emit(h.REMOVE_ANIMATION,y,b),this.anims.delete(y),this.removeMix(y)),b},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(y){var b={anims:[],globalTimeScale:this.globalTimeScale};return y!==void 0&&y!==""?b.anims.push(this.anims.get(y).toJSON()):this.anims.each(function(M,C){b.anims.push(C.toJSON())}),b},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});r.exports=x},9674:(r,o,t)=>{var a=t(42099),p=t(30976),c=t(83419),u=t(90330),h=t(74943),l=t(95540),d=new c({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(v){var f=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var m=v[g];this.nextAnim?this.nextAnimsQueue.push(m):this.nextAnim=m}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(v){this.isPlaying&&this.stop();var f=this.animationManager,g=typeof v=="string"?v:l(v,"key",null),m=this.exists(g)?this.get(g):f.get(g);if(!m)console.warn("Missing animation: "+g);else{this.currentAnim=m;var x=m.getTotalFrames(),y=l(v,"frameRate",m.frameRate),b=l(v,"duration",m.duration);m.calculateDuration(this,x,b,y),this.delay=l(v,"delay",m.delay),this.repeat=l(v,"repeat",m.repeat),this.repeatDelay=l(v,"repeatDelay",m.repeatDelay),this.yoyo=l(v,"yoyo",m.yoyo),this.showBeforeDelay=l(v,"showBeforeDelay",m.showBeforeDelay),this.showOnStart=l(v,"showOnStart",m.showOnStart),this.hideOnComplete=l(v,"hideOnComplete",m.hideOnComplete),this.skipMissedFrames=l(v,"skipMissedFrames",m.skipMissedFrames),this.randomFrame=l(v,"randomFrame",m.randomFrame),this.timeScale=l(v,"timeScale",this.timeScale);var M=l(v,"startFrame",0);M>x&&(M=0),this.randomFrame&&(M=p(0,x-1));var C=m.frames[M];M===0&&!this.forward&&(C=m.getLastFrame()),this.currentFrame=C}return this.parent},pause:function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},resume:function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},playAfterDelay:function(v,f){if(!this.isPlaying)this.delayCounter=f,this.play(v,!0);else{var g=this.nextAnim,m=this.nextAnimsQueue;g&&m.unshift(g),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(v,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(v);else{var g=this.nextAnim,m=this.nextAnimsQueue;g&&m.unshift(g),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(v,f){f===void 0&&(f=!1);var g=this.currentAnim,m=this.parent,x=typeof v=="string"?v:v.key;if(f&&this.isPlaying&&g.key===x)return m;if(g&&this.isPlaying){var y=this.animationManager.getMix(g.key,v);if(y>0)return this.playAfterDelay(v,y)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},playReverse:function(v,f){f===void 0&&(f=!1);var g=typeof v=="string"?v:v.key;return f&&this.isPlaying&&this.currentAnim.key===g?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},startAnimation:function(v){this.load(v);var f=this.currentAnim,g=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),g},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(v,f){var g=this.currentAnim;if(g){var m=this.currentFrame,x=this.parent,y=m.textureFrame;x.emit(v,g,m,x,y),f&&x.emit(f+g.key,g,m,x,y)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var v=this.currentFrame;if(!v)return 0;var f=v.progress;return this.inReverse&&(f*=-1),f},setProgress:function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},setRepeat:function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},globalRemove:function(v,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(v,f){v===void 0&&(v=!1),f===void 0&&(f=!1);var g=this.currentAnim,m=this.parent;return g?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),g.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(g.frames[0]),this.parent):m},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},stopAfterDelay:function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},stopAfterRepeat:function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},stopOnFrame:function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(v,f){var g=this.currentAnim;if(!(!this.isPlaying||!g||g.paused)){if(this.accumulator+=f*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?g.nextFrame(this):g.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var m=0;do this.forward?g.nextFrame(this):g.previousFrame(this),m++;while(this.isPlaying&&this.accumulator>this.nextTick&&m<60)}}},setCurrentFrame:function(v){var f=this.parent;return this.currentFrame=v,f.texture=v.frame.texture,f.frame=v.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),v.setAlpha&&(f.alpha=v.alpha),f.setSizeToFrame(),f._originComponent&&(v.frame.customPivot?f.setOrigin(v.frame.pivotX,v.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(v){return this.anims?this.anims.get(v):null},exists:function(v){return this.anims?this.anims.has(v):!1},create:function(v){var f=v.key,g=!1;return f&&(g=this.get(f),g?console.warn("Animation key already exists: "+f):(g=new a(this,f,v),this.anims||(this.anims=new u),this.anims.set(f,g))),g},createFromAseprite:function(v,f){return this.animationManager.createFromAseprite(v,f,this.parent)},generateFrameNames:function(v,f){return this.animationManager.generateFrameNames(v,f)},generateFrameNumbers:function(v,f){return this.animationManager.generateFrameNumbers(v,f)},remove:function(v){var f=this.get(v);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(v)),f},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});r.exports=d},57090:r=>{r.exports="add"},25312:r=>{r.exports="animationcomplete"},89580:r=>{r.exports="animationcomplete-"},52860:r=>{r.exports="animationrepeat"},63850:r=>{r.exports="animationrestart"},99085:r=>{r.exports="animationstart"},28087:r=>{r.exports="animationstop"},1794:r=>{r.exports="animationupdate"},52562:r=>{r.exports="pauseall"},57953:r=>{r.exports="remove"},68339:r=>{r.exports="resumeall"},74943:(r,o,t)=>{r.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(r,o,t)=>{r.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(r,o,t)=>{var a=t(83419),p=t(90330),c=t(50792),u=t(24736),h=new a({initialize:function(){this.entries=new p,this.events=new c},add:function(l,d){return this.entries.set(l,d),this.events.emit(u.ADD,this,l,d),this},has:function(l){return this.entries.has(l)},exists:function(l){return this.entries.has(l)},get:function(l){return this.entries.get(l)},remove:function(l){var d=this.get(l);return d&&(this.entries.delete(l),this.events.emit(u.REMOVE,this,l,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});r.exports=h},24047:(r,o,t)=>{var a=t(2161),p=t(83419),c=t(8443),u=new p({initialize:function(l){this.game=l,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(c.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new a),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],l=0;l<h.length;l++)this[h[l]].destroy(),this[h[l]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});r.exports=u},51464:r=>{r.exports="add"},59261:r=>{r.exports="remove"},24736:(r,o,t)=>{r.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(r,o,t)=>{r.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(39506),u=t(50792),h=t(19715),l=t(87841),d=t(61340),v=t(80333),f=t(26099),g=new a({Extends:u,Mixins:[p.AlphaSingle,p.Visible],initialize:function(x,y,b,M){x===void 0&&(x=0),y===void 0&&(y=0),b===void 0&&(b=0),M===void 0&&(M=0),u.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new l,this.dirty=!0,this._x=x,this._y=y,this._width=b,this._height=M,this._bounds=new l,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new f(b/2,M/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(m){this.renderList.push(m)},setOrigin:function(m,x){return m===void 0&&(m=.5),x===void 0&&(x=m),this.originX=m,this.originY=x,this},getScroll:function(m,x,y){y===void 0&&(y=new f);var b=this.width*.5,M=this.height*.5;return y.x=m-b,y.y=x-M,this.useBounds&&(y.x=this.clampX(y.x),y.y=this.clampY(y.y)),y},centerOnX:function(m){var x=this.width*.5;return this.midPoint.x=m,this.scrollX=m-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(m){var x=this.height*.5;return this.midPoint.y=m,this.scrollY=m-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(m,x){return this.centerOnX(m),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var m=this._bounds,x=this.width*.5,y=this.height*.5;this.midPoint.set(m.centerX,m.centerY),this.scrollX=m.centerX-x,this.scrollY=m.centerY-y}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(m){if(this.disableCull)return m;var x=this.matrix.matrix,y=x[0],b=x[1],M=x[2],C=x[3],w=y*C-b*M;if(!w)return m;var S=x[4],I=x[5],T=this.scrollX,k=this.scrollY,E=this.width,A=this.height,L=this.y,D=L+A,R=this.x,N=R+E,P=this.culledObjects,O=m.length;w=1/w,P.length=0;for(var W=0;W<O;++W){var G=m[W];if(!G.hasOwnProperty("width")||G.parentContainer){P.push(G);continue}var H=G.width,V=G.height,B=G.x-T*G.scrollFactorX-H*G.originX,j=G.y-k*G.scrollFactorY-V*G.originY,U=B*y+j*M+S,X=B*b+j*C+I,Z=(B+H)*y+(j+V)*M+S,$=(B+H)*b+(j+V)*C+I;Z>R&&U<N&&$>L&&X<D&&P.push(G)}return P},getWorldPoint:function(m,x,y){y===void 0&&(y=new f);var b=this.matrix.matrix,M=b[0],C=b[1],w=b[2],S=b[3],I=b[4],T=b[5],k=M*S-C*w;if(!k)return y.x=m,y.y=x,y;k=1/k;var E=S*k,A=-C*k,L=-w*k,D=M*k,R=(w*T-S*I)*k,N=(C*I-M*T)*k,P=Math.cos(this.rotation),O=Math.sin(this.rotation),W=this.zoomX,G=this.zoomY,H=this.scrollX,V=this.scrollY,B=m+(H*P-V*O)*W,j=x+(H*O+V*P)*G;return y.x=B*E+j*L+R,y.y=B*A+j*D+N,y},ignore:function(m){var x=this.id;Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++){var b=m[y];Array.isArray(b)?this.ignore(b):b.isParent?this.ignore(b.getChildren()):b.cameraFilter|=x}return this},clampX:function(m){var x=this._bounds,y=this.displayWidth,b=x.x+(y-this.width)/2,M=Math.max(b,b+x.width-y);return m<b?m=b:m>M&&(m=M),m},clampY:function(m){var x=this._bounds,y=this.displayHeight,b=x.y+(y-this.height)/2,M=Math.max(b,b+x.height-y);return m<b?m=b:m>M&&(m=M),m},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(m){return m===void 0&&(m=0),this.rotation=c(m),this},setBackgroundColor:function(m){return m===void 0&&(m="rgba(0,0,0,0)"),this.backgroundColor=v(m),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(m,x,y,b,M){return M===void 0&&(M=!1),this._bounds.setTo(m,x,y,b),this.dirty=!0,this.useBounds=!0,M?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(m){m===void 0&&(m=new l);var x=this._bounds;return m.setTo(x.x,x.y,x.width,x.height),m},setName:function(m){return m===void 0&&(m=""),this.name=m,this},setPosition:function(m,x){return x===void 0&&(x=m),this.x=m,this.y=x,this},setRotation:function(m){return m===void 0&&(m=0),this.rotation=m,this},setRoundPixels:function(m){return this.roundPixels=m,this},setScene:function(m,x){x===void 0&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=m,this.isSceneCamera=x;var y=m.sys;return this.sceneManager=y.game.scene,this.scaleManager=y.scale,this.cameraManager=y.cameras,this.updateSystem(),this},setScroll:function(m,x){return x===void 0&&(x=m),this.scrollX=m,this.scrollY=x,this},setSize:function(m,x){return x===void 0&&(x=m),this.width=m,this.height=x,this},setViewport:function(m,x,y,b){return this.x=m,this.y=x,this.width=y,this.height=b,this},setZoom:function(m,x){return m===void 0&&(m=1),x===void 0&&(x=m),m===0&&(m=.001),x===0&&(x=.001),this.zoomX=m,this.zoomY=x,this},setMask:function(m,x){return x===void 0&&(x=!0),this.mask=m,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(m){return m===void 0&&(m=!1),m&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var m={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(m.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),m},update:function(){},setIsSceneCamera:function(m){return this.isSceneCamera=m,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var m=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;m&&!this._customViewport?x.customViewports++:!m&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=m}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(m){this._x=m,this.updateSystem()}},y:{get:function(){return this._y},set:function(m){this._y=m,this.updateSystem()}},width:{get:function(){return this._width},set:function(m){this._width=m,this.updateSystem()}},height:{get:function(){return this._height},set:function(m){this._height=m,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(m){m!==this._scrollX&&(this._scrollX=m,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(m){m!==this._scrollY&&(this._scrollY=m,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(m){this._zoomX=m,this._zoomY=m,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(m){this._zoomX=m,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(m){this._zoomY=m,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(m){this._rotation=m,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});r.exports=g},38058:(r,o,t)=>{var a=t(71911),p=t(67502),c=t(45319),u=t(83419),h=t(31401),l=t(20052),d=t(19715),v=t(28915),f=t(87841),g=t(26099),m=new u({Extends:a,Mixins:[h.PostPipeline],initialize:function(y,b,M,C){a.call(this,y,b,M,C),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new l.Fade(this),this.flashEffect=new l.Flash(this),this.shakeEffect=new l.Shake(this),this.panEffect=new l.Pan(this),this.rotateToEffect=new l.RotateTo(this),this.zoomEffect=new l.Zoom(this),this.lerp=new g(1,1),this.followOffset=new g,this.deadzone=null,this._follow=null},setDeadzone:function(x,y){if(x===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=y):this.deadzone=new f(0,0,x,y),this._follow){var b=this.width/2,M=this.height/2,C=this._follow.x-this.followOffset.x,w=this._follow.y-this.followOffset.y;this.midPoint.set(C,w),this.scrollX=C-b,this.scrollY=w-M}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,y,b,M,C,w){return this.fadeEffect.start(!1,x,y,b,M,!0,C,w)},fadeOut:function(x,y,b,M,C,w){return this.fadeEffect.start(!0,x,y,b,M,!0,C,w)},fadeFrom:function(x,y,b,M,C,w,S){return this.fadeEffect.start(!1,x,y,b,M,C,w,S)},fade:function(x,y,b,M,C,w,S){return this.fadeEffect.start(!0,x,y,b,M,C,w,S)},flash:function(x,y,b,M,C,w,S){return this.flashEffect.start(x,y,b,M,C,w,S)},shake:function(x,y,b,M,C){return this.shakeEffect.start(x,y,b,M,C)},pan:function(x,y,b,M,C,w,S){return this.panEffect.start(x,y,b,M,C,w,S)},rotateTo:function(x,y,b,M,C,w,S){return this.rotateToEffect.start(x,y,b,M,C,w,S)},zoomTo:function(x,y,b,M,C,w){return this.zoomEffect.start(x,y,b,M,C,w)},preRender:function(){this.renderList.length=0;var x=this.width,y=this.height,b=x*.5,M=y*.5,C=this.zoomX,w=this.zoomY,S=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(C)&&Number.isInteger(w);var I=x*this.originX,T=y*this.originY,k=this._follow,E=this.deadzone,A=this.scrollX,L=this.scrollY;E&&p(E,this.midPoint.x,this.midPoint.y);var D=!1;if(k&&!this.panEffect.isRunning){var R=this.lerp,N=k.x-this.followOffset.x,P=k.y-this.followOffset.y;E?(N<E.x?A=v(A,A-(E.x-N),R.x):N>E.right&&(A=v(A,A+(N-E.right),R.x)),P<E.y?L=v(L,L-(E.y-P),R.y):P>E.bottom&&(L=v(L,L+(P-E.bottom),R.y))):(A=v(A,N-I,R.x),L=v(L,P-T,R.y)),D=!0}this.roundPixels&&(A=Math.floor(A),L=Math.floor(L)),this.useBounds&&(A=this.clampX(A),L=this.clampY(L)),this.scrollX=A,this.scrollY=L;var O=A+b,W=L+M;this.midPoint.set(O,W);var G=Math.floor(x/C+.5),H=Math.floor(y/w+.5),V=Math.floor(O-G/2+.5),B=Math.floor(W-H/2+.5);this.worldView.setTo(V,B,G,H),S.applyITRS(Math.floor(this.x+I+.5),Math.floor(this.y+T+.5),this.rotation,C,w),S.translate(-I,-T),this.shakeEffect.preRender(),D&&this.emit(d.FOLLOW_UPDATE,this,k)},setLerp:function(x,y){return x===void 0&&(x=1),y===void 0&&(y=x),this.lerp.set(x,y),this},setFollowOffset:function(x,y){return x===void 0&&(x=0),y===void 0&&(y=0),this.followOffset.set(x,y),this},startFollow:function(x,y,b,M,C,w){y===void 0&&(y=!1),b===void 0&&(b=1),M===void 0&&(M=b),C===void 0&&(C=0),w===void 0&&(w=C),this._follow=x,this.roundPixels=y,b=c(b,0,1),M=c(M,0,1),this.lerp.set(b,M),this.followOffset.set(C,w);var S=this.width/2,I=this.height/2,T=x.x-C,k=x.y-w;return this.midPoint.set(T,k),this.scrollX=T-S,this.scrollY=k-I,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,y){this.visible&&(this.rotateToEffect.update(x,y),this.panEffect.update(x,y),this.zoomEffect.update(x,y),this.shakeEffect.update(x,y),this.flashEffect.update(x,y),this.fadeEffect.update(x,y))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});r.exports=m},32743:(r,o,t)=>{var a=t(38058),p=t(83419),c=t(95540),u=t(37277),h=t(37303),l=t(97480),d=t(44594),v=new p({initialize:function(g){this.scene=g,this.systems=g.sys,this.roundPixels=g.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,g.sys.events.once(d.BOOT,this.boot,this),g.sys.events.on(d.START,this.start,this)},boot:function(){var f=this.systems;f.settings.cameras?this.fromJSON(f.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,f.scale.width,f.scale.height).setScene(this.scene),f.game.scale.on(l.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var f=this.systems;f.settings.cameras?this.fromJSON(f.settings.cameras):this.add(),this.main=this.cameras[0]}var g=this.systems.events;g.on(d.UPDATE,this.update,this),g.once(d.SHUTDOWN,this.shutdown,this)},add:function(f,g,m,x,y,b){f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),y===void 0&&(y=!1),b===void 0&&(b="");var M=new a(f,g,m,x);return M.setName(b),M.setScene(this.scene),M.setRoundPixels(this.roundPixels),M.id=this.getNextID(),this.cameras.push(M),y&&(this.main=M),M},addExisting:function(f,g){g===void 0&&(g=!1);var m=this.cameras.indexOf(f);return m===-1?(f.id=this.getNextID(),f.setRoundPixels(this.roundPixels),this.cameras.push(f),g&&(this.main=f),f):null},getNextID:function(){for(var f=this.cameras,g=1,m=0;m<32;m++){for(var x=!1,y=0;y<f.length;y++){var b=f[y];if(b&&b.id===g){x=!0;continue}}if(x)g=g<<1;else return g}return 0},getTotal:function(f){f===void 0&&(f=!1);for(var g=0,m=this.cameras,x=0;x<m.length;x++){var y=m[x];(!f||f&&y.visible)&&g++}return g},fromJSON:function(f){Array.isArray(f)||(f=[f]);for(var g=this.scene.sys.scale.width,m=this.scene.sys.scale.height,x=0;x<f.length;x++){var y=f[x],b=c(y,"x",0),M=c(y,"y",0),C=c(y,"width",g),w=c(y,"height",m),S=this.add(b,M,C,w);S.name=c(y,"name",""),S.zoom=c(y,"zoom",1),S.rotation=c(y,"rotation",0),S.scrollX=c(y,"scrollX",0),S.scrollY=c(y,"scrollY",0),S.roundPixels=c(y,"roundPixels",!1),S.visible=c(y,"visible",!0);var I=c(y,"backgroundColor",!1);I&&S.setBackgroundColor(I);var T=c(y,"bounds",null);if(T){var k=c(T,"x",0),E=c(T,"y",0),A=c(T,"width",g),L=c(T,"height",m);S.setBounds(k,E,A,L)}}return this},getCamera:function(f){for(var g=this.cameras,m=0;m<g.length;m++)if(g[m].name===f)return g[m];return null},getCamerasBelowPointer:function(f){for(var g=this.cameras,m=f.x,x=f.y,y=[],b=0;b<g.length;b++){var M=g[b];M.visible&&M.inputEnabled&&h(M,m,x)&&y.unshift(M)}return y},remove:function(f,g){g===void 0&&(g=!0),Array.isArray(f)||(f=[f]);for(var m=0,x=this.cameras,y=0;y<f.length;y++){var b=x.indexOf(f[y]);b!==-1&&(g?x[b].destroy():x[b].renderList=[],x.splice(b,1),m++)}return!this.main&&x[0]&&(this.main=x[0]),m},render:function(f,g){for(var m=this.scene,x=this.cameras,y=0;y<x.length;y++){var b=x[y];if(b.visible&&b.alpha>0){b.preRender();var M=this.getVisibleChildren(g.getChildren(),b);f.render(m,M,b)}}},getVisibleChildren:function(f,g){return f.filter(function(m){return m.willRender(g)})},resetAll:function(){for(var f=0;f<this.cameras.length;f++)this.cameras[f].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(f,g){for(var m=0;m<this.cameras.length;m++)this.cameras[m].update(f,g)},onResize:function(f,g,m,x,y){for(var b=0;b<this.cameras.length;b++){var M=this.cameras[b];M._x===0&&M._y===0&&M._width===x&&M._height===y&&M.setSize(g.width,g.height)}},resize:function(f,g){for(var m=0;m<this.cameras.length;m++)this.cameras[m].setSize(f,g)},shutdown:function(){this.main=void 0;for(var f=0;f<this.cameras.length;f++)this.cameras[f].destroy();this.cameras=[];var g=this.systems.events;g.off(d.UPDATE,this.update,this),g.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(l.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});u.register("CameraManager",v,"cameras"),r.exports=v},5020:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(19715),u=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,l,d,v,f,g,m,x){if(h===void 0&&(h=!0),l===void 0&&(l=1e3),d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=!1),m===void 0&&(m=null),x===void 0&&(x=this.camera.scene),!g&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=l,this.direction=h,this.progress=0,this.red=d,this.green=v,this.blue=f,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=m,this._onUpdateScope=x;var y=h?c.FADE_OUT_START:c.FADE_IN_START;return this.camera.emit(y,this.camera,this,l,d,v,f),this.camera},update:function(h,l){this.isRunning&&(this._elapsed+=l,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var l=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(l.x,l.y,l.width,l.height),!0},postRenderWebGL:function(h,l){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,v=this.red/255,f=this.green/255,g=this.blue/255;return h.drawFillRect(d.x,d.y,d.width,d.height,l(g,f,v,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var h=this.direction?c.FADE_OUT_COMPLETE:c.FADE_IN_COMPLETE;this.camera.emit(h,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=u},10662:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(19715),u=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(h,l,d,v,f,g,m){return h===void 0&&(h=250),l===void 0&&(l=255),d===void 0&&(d=255),v===void 0&&(v=255),f===void 0&&(f=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,this.red=l,this.green=d,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(c.FLASH_START,this.camera,this,h,l,d,v),this.camera)},update:function(h,l){this.isRunning&&(this._elapsed+=l,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var l=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(l.x,l.y,l.width,l.height),!0},postRenderWebGL:function(h,l){if(!this.isRunning)return!1;var d=this.camera,v=this.red/255,f=this.green/255,g=this.blue/255;return h.drawFillRect(d.x,d.y,d.width,d.height,l(g,f,v,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=u},20359:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(62640),u=t(19715),h=t(26099),l=new p({initialize:function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,v,f,g,m,x,y){f===void 0&&(f=1e3),g===void 0&&(g=c.Linear),m===void 0&&(m=!1),x===void 0&&(x=null),y===void 0&&(y=this.camera.scene);var b=this.camera;return!m&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source.set(b.scrollX,b.scrollY),this.destination.set(d,v),b.getScroll(d,v,this.current),typeof g=="string"&&c.hasOwnProperty(g)?this.ease=c[g]:typeof g=="function"&&(this.ease=g),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=y,this.camera.emit(u.PAN_START,this.camera,this,f,d,v)),b},update:function(d,v){if(this.isRunning){this._elapsed+=v;var f=a(this._elapsed/this.duration,0,1);this.progress=f;var g=this.camera;if(this._elapsed<this.duration){var m=this.ease(f);g.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*m,y=this.source.y+(this.current.y-this.source.y)*m;g.setScroll(x,y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,f,x,y)}else g.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,f,g.scrollX,g.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=l},34208:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(19715),u=t(62640),h=new p({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(l,d,v,f,g,m,x){v===void 0&&(v=1e3),f===void 0&&(f=u.Linear),g===void 0&&(g=!1),m===void 0&&(m=null),x===void 0&&(x=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var y=l;l<0?(y=-1*l,this.clockwise=!1):this.clockwise=!0;var b=360*Math.PI/180;y=y-Math.floor(y/b)*b;var M=this.camera;if(!g&&this.isRunning)return M;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=M.rotation,this.destination=y,typeof f=="string"&&u.hasOwnProperty(f)?this.ease=u[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=x,this.shortestPath){var C=0,w=0;this.destination>this.source?C=Math.abs(this.destination-this.source):C=Math.abs(this.destination+b)-this.source,this.source>this.destination?w=Math.abs(this.source-this.destination):w=Math.abs(this.source+b)-this.destination,C<w?this.clockwise=!0:C>w&&(this.clockwise=!1)}return this.camera.emit(c.ROTATE_START,this.camera,this,v,y),M},update:function(l,d){if(this.isRunning){this._elapsed+=d;var v=a(this._elapsed/this.duration,0,1);this.progress=v;var f=this.camera;if(this._elapsed<this.duration){var g=this.ease(v);this.current=f.rotation;var m=0,x=360*Math.PI/180,y=this.destination,b=this.current;this.clockwise===!1&&(y=this.current,b=this.destination),y>=b?m=Math.abs(y-b):m=Math.abs(y+x)-b;var M=0;this.clockwise?M=f.rotation+m*g:M=f.rotation-m*g,f.rotation=M,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,v,M)}else f.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,v,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=h},30330:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(19715),u=t(26099),h=new p({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(l,d,v,f,g){return l===void 0&&(l=100),d===void 0&&(d=.05),v===void 0&&(v=!1),f===void 0&&(f=null),g===void 0&&(g=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=f,this._onUpdateScope=g,this.camera.emit(c.SHAKE_START,this.camera,this,l,d),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(l,d){if(this.isRunning)if(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,f=this.camera.width,g=this.camera.height,m=this.camera.zoom;this._offsetX=(Math.random()*v.x*f*2-v.x*f)*m,this._offsetY=(Math.random()*v.y*g*2-v.y*g)*m,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});r.exports=h},45641:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(62640),u=t(19715),h=new p({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,d,v,f,g,m){d===void 0&&(d=1e3),v===void 0&&(v=c.Linear),f===void 0&&(f=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene);var x=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=x.zoom,this.destination=l,typeof v=="string"&&c.hasOwnProperty(v)?this.ease=c[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(u.ZOOM_START,this.camera,this,d,l)),x},update:function(l,d){this.isRunning&&(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=h},20052:(r,o,t)=>{r.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:r=>{r.exports="cameradestroy"},32726:r=>{r.exports="camerafadeincomplete"},87807:r=>{r.exports="camerafadeinstart"},45917:r=>{r.exports="camerafadeoutcomplete"},95666:r=>{r.exports="camerafadeoutstart"},47056:r=>{r.exports="cameraflashcomplete"},91261:r=>{r.exports="cameraflashstart"},45047:r=>{r.exports="followupdate"},81927:r=>{r.exports="camerapancomplete"},74264:r=>{r.exports="camerapanstart"},54419:r=>{r.exports="postrender"},79330:r=>{r.exports="prerender"},93183:r=>{r.exports="camerarotatecomplete"},80112:r=>{r.exports="camerarotatestart"},62252:r=>{r.exports="camerashakecomplete"},86017:r=>{r.exports="camerashakestart"},539:r=>{r.exports="camerazoomcomplete"},51892:r=>{r.exports="camerazoomstart"},19715:(r,o,t)=>{r.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(r,o,t)=>{r.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(r,o,t)=>{var a=t(83419),p=t(35154),c=new a({initialize:function(h){this.camera=p(h,"camera",null),this.left=p(h,"left",null),this.right=p(h,"right",null),this.up=p(h,"up",null),this.down=p(h,"down",null),this.zoomIn=p(h,"zoomIn",null),this.zoomOut=p(h,"zoomOut",null),this.zoomSpeed=p(h,"zoomSpeed",.01),this.minZoom=p(h,"minZoom",.001),this.maxZoom=p(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var l=p(h,"speed",null);typeof l=="number"?(this.speedX=l,this.speedY=l):(this.speedX=p(h,"speed.x",0),this.speedY=p(h,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=c},58818:(r,o,t)=>{var a=t(83419),p=t(35154),c=new a({initialize:function(h){this.camera=p(h,"camera",null),this.left=p(h,"left",null),this.right=p(h,"right",null),this.up=p(h,"up",null),this.down=p(h,"down",null),this.zoomIn=p(h,"zoomIn",null),this.zoomOut=p(h,"zoomOut",null),this.zoomSpeed=p(h,"zoomSpeed",.01),this.minZoom=p(h,"minZoom",.001),this.maxZoom=p(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var l=p(h,"acceleration",null);typeof l=="number"?(this.accelX=l,this.accelY=l):(this.accelX=p(h,"acceleration.x",0),this.accelY=p(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=p(h,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=p(h,"drag.x",0),this.dragY=p(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=p(h,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=p(h,"maxSpeed.x",0),this.maxSpeedY=p(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(h.scrollX-=this._speedX*u|0),this._speedY!==0&&(h.scrollY-=this._speedY*u|0),this._zoom!==0&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=c},38865:(r,o,t)=>{r.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(r,o,t)=>{r.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(r,o,t)=>{var a={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};r.exports=a},69547:(r,o,t)=>{var a=t(83419),p=t(8054),c=t(42363),u=t(82264),h=t(95540),l=t(35154),d=t(41212),v=t(29747),f=t(75508),g=t(36060),m=t(80333),x=new a({initialize:function(b){b===void 0&&(b={});var M=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],C="#ffffff",w=l(b,"scale",null);this.width=l(w,"width",1024,b),this.height=l(w,"height",768,b),this.zoom=l(w,"zoom",1,b),this.parent=l(w,"parent",void 0,b),this.scaleMode=l(w,w?"mode":"scaleMode",0,b),this.expandParent=l(w,"expandParent",!0,b),this.autoRound=l(w,"autoRound",!1,b),this.autoCenter=l(w,"autoCenter",0,b),this.resizeInterval=l(w,"resizeInterval",500,b),this.fullscreenTarget=l(w,"fullscreenTarget",null,b),this.minWidth=l(w,"min.width",0,b),this.maxWidth=l(w,"max.width",0,b),this.minHeight=l(w,"min.height",0,b),this.maxHeight=l(w,"max.height",0,b),this.snapWidth=l(w,"snap.width",0,b),this.snapHeight=l(w,"snap.height",0,b),this.renderType=l(b,"type",p.AUTO),this.canvas=l(b,"canvas",null),this.context=l(b,"context",null),this.canvasStyle=l(b,"canvasStyle",null),this.customEnvironment=l(b,"customEnvironment",!1),this.sceneConfig=l(b,"scene",null),this.seed=l(b,"seed",[(Date.now()*Math.random()).toString()]),f.RND=new f.RandomDataGenerator(this.seed),this.gameTitle=l(b,"title",""),this.gameURL=l(b,"url","https://phaser.io/"+p.LOG_VERSION),this.gameVersion=l(b,"version",""),this.autoFocus=l(b,"autoFocus",!0),this.stableSort=l(b,"stableSort",-1),this.stableSort===-1&&(this.stableSort=u.browser.es2019?1:0),u.features.stableSort=this.stableSort,this.domCreateContainer=l(b,"dom.createContainer",!1),this.domPointerEvents=l(b,"dom.pointerEvents","none"),this.inputKeyboard=l(b,"input.keyboard",!0),this.inputKeyboardEventTarget=l(b,"input.keyboard.target",window),this.inputKeyboardCapture=l(b,"input.keyboard.capture",[]),this.inputMouse=l(b,"input.mouse",!0),this.inputMouseEventTarget=l(b,"input.mouse.target",null),this.inputMousePreventDefaultDown=l(b,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=l(b,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=l(b,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=l(b,"input.mouse.preventDefaultWheel",!0),this.inputTouch=l(b,"input.touch",u.input.touch),this.inputTouchEventTarget=l(b,"input.touch.target",null),this.inputTouchCapture=l(b,"input.touch.capture",!0),this.inputActivePointers=l(b,"input.activePointers",1),this.inputSmoothFactor=l(b,"input.smoothFactor",0),this.inputWindowEvents=l(b,"input.windowEvents",!0),this.inputGamepad=l(b,"input.gamepad",!1),this.inputGamepadEventTarget=l(b,"input.gamepad.target",window),this.disableContextMenu=l(b,"disableContextMenu",!1),this.audio=l(b,"audio",{}),this.hideBanner=l(b,"banner",null)===!1,this.hidePhaser=l(b,"banner.hidePhaser",!1),this.bannerTextColor=l(b,"banner.text",C),this.bannerBackgroundColor=l(b,"banner.background",M),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=l(b,"fps",null),this.disablePreFX=l(b,"disablePreFX",!1),this.disablePostFX=l(b,"disablePostFX",!1);var S=l(b,"render",null);this.pipeline=l(S,"pipeline",null,b),this.autoMobilePipeline=l(S,"autoMobilePipeline",!0,b),this.defaultPipeline=l(S,"defaultPipeline",g.MULTI_PIPELINE,b),this.antialias=l(S,"antialias",!0,b),this.antialiasGL=l(S,"antialiasGL",!0,b),this.mipmapFilter=l(S,"mipmapFilter","",b),this.desynchronized=l(S,"desynchronized",!1,b),this.roundPixels=l(S,"roundPixels",!1,b),this.pixelArt=l(S,"pixelArt",this.zoom!==1,b),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=l(S,"transparent",!1,b),this.clearBeforeRender=l(S,"clearBeforeRender",!0,b),this.preserveDrawingBuffer=l(S,"preserveDrawingBuffer",!1,b),this.premultipliedAlpha=l(S,"premultipliedAlpha",!0,b),this.failIfMajorPerformanceCaveat=l(S,"failIfMajorPerformanceCaveat",!1,b),this.powerPreference=l(S,"powerPreference","default",b),this.batchSize=l(S,"batchSize",4096,b),this.maxTextures=l(S,"maxTextures",-1,b),this.maxLights=l(S,"maxLights",10,b);var I=l(b,"backgroundColor",0);this.backgroundColor=m(I),this.transparent&&(this.backgroundColor=m(0),this.backgroundColor.alpha=0),this.preBoot=l(b,"callbacks.preBoot",v),this.postBoot=l(b,"callbacks.postBoot",v),this.physics=l(b,"physics",{}),this.defaultPhysicsSystem=l(this.physics,"default",!1),this.loaderBaseURL=l(b,"loader.baseURL",""),this.loaderPath=l(b,"loader.path",""),this.loaderMaxParallelDownloads=l(b,"loader.maxParallelDownloads",u.os.android?6:32),this.loaderCrossOrigin=l(b,"loader.crossOrigin",void 0),this.loaderResponseType=l(b,"loader.responseType",""),this.loaderAsync=l(b,"loader.async",!0),this.loaderUser=l(b,"loader.user",""),this.loaderPassword=l(b,"loader.password",""),this.loaderTimeout=l(b,"loader.timeout",0),this.loaderMaxRetries=l(b,"loader.maxRetries",2),this.loaderWithCredentials=l(b,"loader.withCredentials",!1),this.loaderImageLoadType=l(b,"loader.imageLoadType","XHR"),this.loaderLocalScheme=l(b,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=l(b,"fx.glow.quality",.1),this.glowFXDistance=l(b,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var T=l(b,"plugins",null),k=c.DefaultScene;T&&(Array.isArray(T)?this.defaultPlugins=T:d(T)&&(this.installGlobalPlugins=h(T,"global",[]),this.installScenePlugins=h(T,"scene",[]),Array.isArray(T.default)?k=T.default:Array.isArray(T.defaultMerge)&&(k=k.concat(T.defaultMerge)))),this.defaultPlugins=k;var E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=l(b,"images.default",E+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=l(b,"images.missing",E+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=l(b,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});r.exports=x},86054:(r,o,t)=>{var a=t(20623),p=t(27919),c=t(8054),u=t(89357),h=function(l){var d=l.config;if((d.customEnvironment||d.canvas)&&d.renderType===c.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==c.HEADLESS)if(d.renderType===c.AUTO&&(d.renderType=u.webGL?c.WEBGL:c.CANVAS),d.renderType===c.WEBGL){if(!u.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===c.CANVAS){if(!u.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||p.disableSmoothing();var v=l.scale.baseSize,f=v.width,g=v.height;if(d.canvas?(l.canvas=d.canvas,l.canvas.width=f,l.canvas.height=g):l.canvas=p.create(l,f,g,d.renderType),d.canvasStyle&&(l.canvas.style=d.canvasStyle),d.antialias||a.setCrisp(l.canvas),d.renderType!==c.HEADLESS){var m,x;m=t(68627),x=t(74797),d.renderType===c.WEBGL?l.renderer=new x(l):(l.renderer=new m(l),l.context=l.renderer.gameContext)}};r.exports=h},96391:(r,o,t)=>{var a=t(8054),p=function(c){var u=c.config;if(!u.hideBanner){var h="WebGL";u.renderType===a.CANVAS?h="Canvas":u.renderType===a.HEADLESS&&(h="Headless");var l=u.audio,d=c.device.audio,v;if(d.webAudio&&!l.disableWebAudio?v="Web Audio":l.noAudio||!d.webAudio&&!d.audioData?v="No Audio":v="HTML5 Audio",c.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var f="",g=[f];if(Array.isArray(u.bannerBackgroundColor)){var m;u.bannerBackgroundColor.forEach(function(y){f=f.concat("%c "),g.push("background: "+y),m=y}),g[g.length-1]="color: "+u.bannerTextColor+"; background: "+m}else f=f.concat("%c "),g.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor);g.push("background: transparent"),u.gameTitle&&(f=f.concat(u.gameTitle),u.gameVersion&&(f=f.concat(" v"+u.gameVersion)),u.hidePhaser||(f=f.concat(" / ")));var x="";u.hidePhaser||(f=f.concat("Phaser v"+a.VERSION+x+" ("+h+" | "+v+")")),f=f.concat(" %c "+u.gameURL),g[0]=f,console.log.apply(console,g)}}};r.exports=p},50127:(r,o,t)=>{var a=t(40366),p=t(60848),c=t(24047),u=t(27919),h=t(83419),l=t(69547),d=t(83719),v=t(86054),f=t(45893),g=t(96391),m=t(82264),x=t(57264),y=t(50792),b=t(8443),M=t(7003),C=t(37277),w=t(77332),S=t(76531),I=t(60903),T=t(69442),k=t(17130),E=t(65898),A=t(51085),L=t(14747);if(0)var D;var R=new h({initialize:function(P){this.config=new l(P),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new y,this.anims=new p(this),this.textures=new k(this),this.cache=new c(this),this.registry=new f(this,new y),this.input=new M(this,this.config),this.scene=new I(this,this.config.sceneConfig),this.device=m,this.scale=new S(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new E(this,this.config.fps),this.plugins=new w(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){if(!C.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),d(this),g(this),a(this.canvas,this.config.parent),this.textures.once(T.READY,this.texturesReady,this),this.events.emit(b.BOOT)},texturesReady:function(){this.events.emit(b.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var N=this.events;N.on(b.HIDDEN,this.onHidden,this),N.on(b.VISIBLE,this.onVisible,this),N.on(b.BLUR,this.onBlur,this),N.on(b.FOCUS,this.onFocus,this)},step:function(N,P){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var O=this.events;O.emit(b.PRE_STEP,N,P),O.emit(b.STEP,N,P),this.scene.update(N,P),O.emit(b.POST_STEP,N,P);var W=this.renderer;W.preRender(),O.emit(b.PRE_RENDER,W,N,P),this.scene.render(W),W.postRender(),O.emit(b.POST_RENDER,W,N,P)}},headlessStep:function(N,P){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var O=this.events;O.emit(b.PRE_STEP,N,P),O.emit(b.STEP,N,P),this.scene.update(N,P),O.emit(b.POST_STEP,N,P),this.scene.isProcessing=!1,O.emit(b.PRE_RENDER,null,N,P),O.emit(b.POST_RENDER,null,N,P)}},onHidden:function(){this.loop.pause(),this.events.emit(b.PAUSE)},pause:function(){var N=this.isPaused;this.isPaused=!0,N||this.events.emit(b.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(b.RESUME,this.loop.pauseDuration)},resume:function(){var N=this.isPaused;this.isPaused=!1,N&&this.events.emit(b.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(N,P){P===void 0&&(P=!1),this.pendingDestroy=!0,this.removeCanvas=N,this.noReturn=P},runDestroy:function(){this.scene.destroy(),this.events.emit(b.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});r.exports=R},65898:(r,o,t)=>{var a=t(83419),p=t(35154),c=t(29747),u=t(43092),h=new a({initialize:function(d,v){this.game=d,this.raf=new u,this.started=!1,this.running=!1,this.minFps=p(v,"min",5),this.targetFps=p(v,"target",60),this.fpsLimit=p(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=c,this.forceSetTimeOut=p(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(v,"deltaHistory",10),this.panicMax=p(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(v,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var l=window.performance.now();this.time=l,this.lastTime=l,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(l){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=l;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},smoothDelta:function(l){var d=this.deltaIndex,v=this.deltaHistory,f=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,l=Math.min(l,this._target)),l>this._min&&(l=v[d],l=Math.min(l,this._min)),v[d]=l,this.deltaIndex++,this.deltaIndex>=f&&(this.deltaIndex=0);for(var g=0,m=0;m<f;m++)g+=v[m];return g/=f,g},updateFPS:function(l){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0},stepLimitFPS:function(l){this.now=l;var d=Math.max(0,l-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,l>=this.nextFpsUpdate&&this.updateFPS(l),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(l,this.delta),this.delta=0),this.lastTime=l,this.frame++},step:function(l){this.now=l;var d=Math.max(0,l-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,l>=this.nextFpsUpdate&&this.updateFPS(l),this.framesThisSecond++,this.callback(l,d),this.lastTime=l,this.frame++},tick:function(){var l=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(l):this.step(l)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(l){l===void 0&&(l=!1);var d=window.performance.now();if(!this.running){l&&(this.startTime+=-this.lastTime+(this.lastTime+d));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});r.exports=h},51085:(r,o,t)=>{var a=t(8443),p=function(c){var u,h=c.events;if(document.hidden!==void 0)u="visibilitychange";else{var l=["webkit","moz","ms"];l.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},u=v+"visibilitychange")})}var d=function(v){document.hidden||v.type==="pause"?h.emit(a.HIDDEN):h.emit(a.VISIBLE)};u&&document.addEventListener(u,d,!1),window.onblur=function(){h.emit(a.BLUR)},window.onfocus=function(){h.emit(a.FOCUS)},window.focus&&c.config.autoFocus&&window.focus()};r.exports=p},97217:r=>{r.exports="blur"},47548:r=>{r.exports="boot"},19814:r=>{r.exports="contextlost"},68446:r=>{r.exports="destroy"},41700:r=>{r.exports="focus"},25432:r=>{r.exports="hidden"},65942:r=>{r.exports="pause"},59211:r=>{r.exports="postrender"},47789:r=>{r.exports="poststep"},39066:r=>{r.exports="prerender"},460:r=>{r.exports="prestep"},16175:r=>{r.exports="ready"},42331:r=>{r.exports="resume"},11966:r=>{r.exports="step"},32969:r=>{r.exports="systemready"},94830:r=>{r.exports="visible"},8443:(r,o,t)=>{r.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(r,o,t)=>{r.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(r,o,t)=>{var a=t(5290),p=t(27919),c=t(35154),u=function(h){var l=c(h,"data",[]),d=c(h,"canvas",null),v=c(h,"palette",a),f=c(h,"pixelWidth",1),g=c(h,"pixelHeight",f),m=c(h,"resizeCanvas",!0),x=c(h,"clearCanvas",!0),y=c(h,"preRender",null),b=c(h,"postRender",null),M=Math.floor(Math.abs(l[0].length*f)),C=Math.floor(Math.abs(l.length*g));d||(d=p.create2D(this,M,C),m=!1,x=!1),m&&(d.width=M,d.height=C);var w=d.getContext("2d",{willReadFrequently:!0});x&&w.clearRect(0,0,M,C),y&&y(d,w);for(var S=0;S<l.length;S++)for(var I=l[S],T=0;T<I.length;T++){var k=I[T];k!=="."&&k!==" "&&(w.fillStyle=v[k],w.fillRect(T*f,S*g,f,g))}return b&&b(d,w),d};r.exports=u},15822:(r,o,t)=>{r.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:r=>{r.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:r=>{r.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:r=>{r.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:r=>{r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:r=>{r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(r,o,t)=>{r.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(r,o,t)=>{var a=t(83419),p=t(36316),c=t(80021),u=t(26099),h=new a({Extends:c,initialize:function(d,v,f,g){c.call(this,"CubicBezierCurve"),Array.isArray(d)&&(g=new u(d[6],d[7]),f=new u(d[4],d[5]),v=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=v,this.p2=f,this.p3=g},getStartPoint:function(l){return l===void 0&&(l=new u),l.copy(this.p0)},getResolution:function(l){return l},getPoint:function(l,d){d===void 0&&(d=new u);var v=this.p0,f=this.p1,g=this.p2,m=this.p3;return d.set(p(l,v.x,f.x,g.x,m.x),p(l,v.y,f.y,g.y,m.y))},draw:function(l,d){d===void 0&&(d=32);var v=this.getPoints(d);l.beginPath(),l.moveTo(this.p0.x,this.p0.y);for(var f=1;f<v.length;f++)l.lineTo(v[f].x,v[f].y);return l.strokePath(),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(l){var d=l.points,v=new u(d[0],d[1]),f=new u(d[2],d[3]),g=new u(d[4],d[5]),m=new u(d[6],d[7]);return new h(v,f,g,m)},r.exports=h},80021:(r,o,t)=>{var a=t(83419),p=t(19217),c=t(87841),u=t(26099),h=new a({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},draw:function(l,d){return d===void 0&&(d=32),l.strokePoints(this.getPoints(d))},getBounds:function(l,d){l||(l=new c),d===void 0&&(d=16);var v=this.getLength();d>v&&(d=v/2);var f=Math.max(1,Math.round(v/d));return p(this.getSpacedPoints(f),l)},getDistancePoints:function(l){var d=this.getLength(),v=Math.max(1,d/l);return this.getSpacedPoints(v)},getEndPoint:function(l){return l===void 0&&(l=new u),this.getPointAt(1,l)},getLength:function(){var l=this.getLengths();return l[l.length-1]},getLengths:function(l){if(l===void 0&&(l=this.arcLengthDivisions),this.cacheArcLengths.length===l+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],v,f=this.getPoint(0,this._tmpVec2A),g=0;d.push(0);for(var m=1;m<=l;m++)v=this.getPoint(m/l,this._tmpVec2B),g+=v.distance(f),d.push(g),f.copy(v);return this.cacheArcLengths=d,d},getPointAt:function(l,d){var v=this.getUtoTmapping(l);return this.getPoint(v,d)},getPoints:function(l,d,v){v===void 0&&(v=[]),l||(d?l=this.getLength()/d:l=this.defaultDivisions);for(var f=0;f<=l;f++)v.push(this.getPoint(f/l));return v},getRandomPoint:function(l){return l===void 0&&(l=new u),this.getPoint(Math.random(),l)},getSpacedPoints:function(l,d,v){v===void 0&&(v=[]),l||(d?l=this.getLength()/d:l=this.defaultDivisions);for(var f=0;f<=l;f++){var g=this.getUtoTmapping(f/l,null,l);v.push(this.getPoint(g))}return v},getStartPoint:function(l){return l===void 0&&(l=new u),this.getPointAt(0,l)},getTangent:function(l,d){d===void 0&&(d=new u);var v=1e-4,f=l-v,g=l+v;return f<0&&(f=0),g>1&&(g=1),this.getPoint(f,this._tmpVec2A),this.getPoint(g,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(l,d){var v=this.getUtoTmapping(l);return this.getTangent(v,d)},getTFromDistance:function(l,d){return l<=0?0:this.getUtoTmapping(0,l,d)},getUtoTmapping:function(l,d,v){var f=this.getLengths(v),g=0,m=f.length,x;d?x=Math.min(d,f[m-1]):x=l*f[m-1];for(var y=0,b=m-1,M;y<=b;)if(g=Math.floor(y+(b-y)/2),M=f[g]-x,M<0)y=g+1;else if(M>0)b=g-1;else{b=g;break}if(g=b,f[g]===x)return g/(m-1);var C=f[g],w=f[g+1],S=w-C,I=(x-C)/S;return(g+I)/(m-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});r.exports=h},73825:(r,o,t)=>{var a=t(83419),p=t(80021),c=t(39506),u=t(35154),h=t(43396),l=t(26099),d=new a({Extends:p,initialize:function(f,g,m,x,y,b,M,C){if(typeof f=="object"){var w=f;f=u(w,"x",0),g=u(w,"y",0),m=u(w,"xRadius",0),x=u(w,"yRadius",m),y=u(w,"startAngle",0),b=u(w,"endAngle",360),M=u(w,"clockwise",!1),C=u(w,"rotation",0)}else x===void 0&&(x=m),y===void 0&&(y=0),b===void 0&&(b=360),M===void 0&&(M=!1),C===void 0&&(C=0);p.call(this,"EllipseCurve"),this.p0=new l(f,g),this._xRadius=m,this._yRadius=x,this._startAngle=c(y),this._endAngle=c(b),this._clockwise=M,this._rotation=c(C)},getStartPoint:function(v){return v===void 0&&(v=new l),this.getPoint(0,v)},getResolution:function(v){return v*2},getPoint:function(v,f){f===void 0&&(f=new l);for(var g=Math.PI*2,m=this._endAngle-this._startAngle,x=Math.abs(m)<Number.EPSILON;m<0;)m+=g;for(;m>g;)m-=g;m<Number.EPSILON&&(x?m=0:m=g),this._clockwise&&!x&&(m===g?m=-g:m=m-g);var y=this._startAngle+v*m,b=this.p0.x+this._xRadius*Math.cos(y),M=this.p0.y+this._yRadius*Math.sin(y);if(this._rotation!==0){var C=Math.cos(this._rotation),w=Math.sin(this._rotation),S=b-this.p0.x,I=M-this.p0.y;b=S*C-I*w+this.p0.x,M=S*w+I*C+this.p0.y}return f.set(b,M)},setXRadius:function(v){return this.xRadius=v,this},setYRadius:function(v){return this.yRadius=v,this},setWidth:function(v){return this.xRadius=v/2,this},setHeight:function(v){return this.yRadius=v/2,this},setStartAngle:function(v){return this.startAngle=v,this},setEndAngle:function(v){return this.endAngle=v,this},setClockwise:function(v){return this.clockwise=v,this},setRotation:function(v){return this.rotation=v,this},x:{get:function(){return this.p0.x},set:function(v){this.p0.x=v}},y:{get:function(){return this.p0.y},set:function(v){this.p0.y=v}},xRadius:{get:function(){return this._xRadius},set:function(v){this._xRadius=v}},yRadius:{get:function(){return this._yRadius},set:function(v){this._yRadius=v}},startAngle:{get:function(){return h(this._startAngle)},set:function(v){this._startAngle=c(v)}},endAngle:{get:function(){return h(this._endAngle)},set:function(v){this._endAngle=c(v)}},clockwise:{get:function(){return this._clockwise},set:function(v){this._clockwise=v}},angle:{get:function(){return h(this._rotation)},set:function(v){this._rotation=c(v)}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});d.fromJSON=function(v){return new d(v)},r.exports=d},33951:(r,o,t)=>{var a=t(83419),p=t(80021),c=t(19217),u=t(87841),h=t(26099),l=new a({Extends:p,initialize:function(v,f){p.call(this,"LineCurve"),Array.isArray(v)&&(f=new h(v[2],v[3]),v=new h(v[0],v[1])),this.p0=v,this.p1=f,this.arcLengthDivisions=1},getBounds:function(d){return d===void 0&&(d=new u),c([this.p0,this.p1],d)},getStartPoint:function(d){return d===void 0&&(d=new h),d.copy(this.p0)},getResolution:function(d){return d===void 0&&(d=1),d},getPoint:function(d,v){return v===void 0&&(v=new h),d===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),v)},getPointAt:function(d,v){return this.getPoint(d,v)},getTangent:function(d,v){return v===void 0&&(v=new h),v.copy(this.p1).subtract(this.p0).normalize(),v},getUtoTmapping:function(d,v,f){var g;if(v){var m=this.getLengths(f),x=m[m.length-1],y=Math.min(v,x);g=y/x}else g=d;return g},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});l.fromJSON=function(d){var v=d.points,f=new h(v[0],v[1]),g=new h(v[2],v[3]);return new l(f,g)},r.exports=l},14744:(r,o,t)=>{var a=t(83419),p=t(80021),c=t(32112),u=t(26099),h=new a({Extends:p,initialize:function(d,v,f){p.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(f=new u(d[4],d[5]),v=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=v,this.p2=f},getStartPoint:function(l){return l===void 0&&(l=new u),l.copy(this.p0)},getResolution:function(l){return l},getPoint:function(l,d){d===void 0&&(d=new u);var v=this.p0,f=this.p1,g=this.p2;return d.set(c(l,v.x,f.x,g.x),c(l,v.y,f.y,g.y))},draw:function(l,d){d===void 0&&(d=32);var v=this.getPoints(d);l.beginPath(),l.moveTo(this.p0.x,this.p0.y);for(var f=1;f<v.length;f++)l.lineTo(v[f].x,v[f].y);return l.strokePath(),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(l){var d=l.points,v=new u(d[0],d[1]),f=new u(d[2],d[3]),g=new u(d[4],d[5]);return new h(v,f,g)},r.exports=h},42534:(r,o,t)=>{var a=t(87842),p=t(83419),c=t(80021),u=t(26099),h=new p({Extends:c,initialize:function(d){d===void 0&&(d=[]),c.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(l){for(var d=0;d<l.length;d++){var v=new u;typeof l[d]=="number"?(v.x=l[d],v.y=l[d+1],d++):Array.isArray(l[d])?(v.x=l[d][0],v.y=l[d][1]):(v.x=l[d].x,v.y=l[d].y),this.points.push(v)}return this},addPoint:function(l,d){var v=new u(l,d);return this.points.push(v),v},getStartPoint:function(l){return l===void 0&&(l=new u),l.copy(this.points[0])},getResolution:function(l){return l*this.points.length},getPoint:function(l,d){d===void 0&&(d=new u);var v=this.points,f=(v.length-1)*l,g=Math.floor(f),m=f-g,x=v[g===0?g:g-1],y=v[g],b=v[g>v.length-2?v.length-1:g+1],M=v[g>v.length-3?v.length-1:g+2];return d.set(a(m,x.x,y.x,b.x,M.x),a(m,x.y,y.y,b.y,M.y))},toJSON:function(){for(var l=[],d=0;d<this.points.length;d++)l.push(this.points[d].x),l.push(this.points[d].y);return{type:this.type,points:l}}});h.fromJSON=function(l){return new h(l.points)},r.exports=h},25410:(r,o,t)=>{r.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(r,o,t)=>{var a=t(83419),p=t(26099),c=new a({initialize:function(h,l){this.active=!1,this.p0=new p(h,l)},getPoint:function(u,h){return h===void 0&&(h=new p),h.copy(this.p0)},getPointAt:function(u,h){return this.getPoint(u,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});r.exports=c},46669:(r,o,t)=>{var a=t(83419),p=t(46728),c=t(73825),u=t(39429),h=t(33951),l=t(68618),d=t(14744),v=t(87841),f=t(42534),g=t(26099),m=t(36383),x=new a({initialize:function(b,M){b===void 0&&(b=0),M===void 0&&(M=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new g,this._tmpVec2A=new g,this._tmpVec2B=new g,typeof b=="object"?this.fromJSON(b):this.startPoint.set(b,M)},add:function(y){return this.curves.push(y),this},circleTo:function(y,b,M){return b===void 0&&(b=!1),this.ellipseTo(y,y,0,360,b,M)},closePath:function(){var y=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);return y.equals(b)||this.curves.push(new h(b,y)),this},cubicBezierTo:function(y,b,M,C,w,S){var I=this.getEndPoint(),T,k,E;return y instanceof g?(T=y,k=b,E=M):(T=new g(M,C),k=new g(w,S),E=new g(y,b)),this.add(new p(I,T,k,E))},quadraticBezierTo:function(y,b,M,C){var w=this.getEndPoint(),S,I;return y instanceof g?(S=y,I=b):(S=new g(M,C),I=new g(y,b)),this.add(new d(w,S,I))},draw:function(y,b){for(var M=0;M<this.curves.length;M++){var C=this.curves[M];C.active&&C.draw(y,b)}return y},ellipseTo:function(y,b,M,C,w,S){var I=new c(0,0,y,b,M,C,w,S),T=this.getEndPoint(this._tmpVec2A),k=I.getStartPoint(this._tmpVec2B);return T.subtract(k),I.x=T.x,I.y=T.y,this.add(I)},fromJSON:function(y){this.curves=[],this.cacheLengths=[],this.startPoint.set(y.x,y.y),this.autoClose=y.autoClose;for(var b=0;b<y.curves.length;b++){var M=y.curves[b];switch(M.type){case"LineCurve":this.add(h.fromJSON(M));break;case"EllipseCurve":this.add(c.fromJSON(M));break;case"SplineCurve":this.add(f.fromJSON(M));break;case"CubicBezierCurve":this.add(p.fromJSON(M));break;case"QuadraticBezierCurve":this.add(d.fromJSON(M));break}}return this},getBounds:function(y,b){y===void 0&&(y=new v),b===void 0&&(b=16),y.x=Number.MAX_VALUE,y.y=Number.MAX_VALUE;for(var M=new v,C=m.MIN_SAFE_INTEGER,w=m.MIN_SAFE_INTEGER,S=0;S<this.curves.length;S++){var I=this.curves[S];I.active&&(I.getBounds(M,b),y.x=Math.min(y.x,M.x),y.y=Math.min(y.y,M.y),C=Math.max(C,M.right),w=Math.max(w,M.bottom))}return y.right=C,y.bottom=w,y},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var y=[],b=0,M=0;M<this.curves.length;M++)b+=this.curves[M].getLength(),y.push(b);return this.cacheLengths=y,y},getCurveAt:function(y){for(var b=y*this.getLength(),M=this.getCurveLengths(),C=0;C<M.length;){if(M[C]>=b)return this.curves[C];C++}return null},getEndPoint:function(y){return y===void 0&&(y=new g),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,y):y.copy(this.startPoint),y},getLength:function(){var y=this.getCurveLengths();return y[y.length-1]},getPoint:function(y,b){b===void 0&&(b=new g);for(var M=y*this.getLength(),C=this.getCurveLengths(),w=0;w<C.length;){if(C[w]>=M){var S=C[w]-M,I=this.curves[w],T=I.getLength(),k=T===0?0:1-S/T;return I.getPointAt(k,b)}w++}return null},getPoints:function(y,b){!y&&!b&&(y=this.defaultDivisions);for(var M=[],C,w=0;w<this.curves.length;w++){var S=this.curves[w];if(S.active)for(var I=S.getResolution(y),T=S.getPoints(I,b),k=0;k<T.length;k++){var E=T[k];C&&C.equals(E)||(M.push(E),C=E)}}return this.autoClose&&M.length>1&&!M[M.length-1].equals(M[0])&&M.push(M[0]),M},getRandomPoint:function(y){return y===void 0&&(y=new g),this.getPoint(Math.random(),y)},getSpacedPoints:function(y){y===void 0&&(y=40);for(var b=[],M=0;M<=y;M++)b.push(this.getPoint(M/y));return this.autoClose&&b.push(b[0]),b},getStartPoint:function(y){return y===void 0&&(y=new g),y.copy(this.startPoint)},getTangent:function(y,b){b===void 0&&(b=new g);for(var M=y*this.getLength(),C=this.getCurveLengths(),w=0;w<C.length;){if(C[w]>=M){var S=C[w]-M,I=this.curves[w],T=I.getLength(),k=T===0?0:1-S/T;return I.getTangentAt(k,b)}w++}return null},lineTo:function(y,b){y instanceof g?this._tmpVec2B.copy(y):typeof y=="object"?this._tmpVec2B.setFromObject(y):this._tmpVec2B.set(y,b);var M=this.getEndPoint(this._tmpVec2A);return this.add(new h([M.x,M.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(y){return y.unshift(this.getEndPoint()),this.add(new f(y))},moveTo:function(y,b){return y instanceof g?this.add(new l(y.x,y.y)):this.add(new l(y,b))},toJSON:function(){for(var y=[],b=0;b<this.curves.length;b++)y.push(this.curves[b].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:y}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});u.register("path",function(y,b){return new x(y,b)}),r.exports=x},45893:(r,o,t)=>{var a=t(83419),p=t(24882),c=new a({initialize:function(h,l){this.parent=h,this.events=l,l||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(u){var h=this.list;if(Array.isArray(u)){for(var l=[],d=0;d<u.length;d++)l.push(h[u[d]]);return l}else return h[u]},getAll:function(){var u={};for(var h in this.list)this.list.hasOwnProperty(h)&&(u[h]=this.list[h]);return u},query:function(u){var h={};for(var l in this.list)this.list.hasOwnProperty(l)&&l.match(u)&&(h[l]=this.list[l]);return h},set:function(u,h){if(this._frozen)return this;if(typeof u=="string")return this.setValue(u,h);for(var l in u)this.setValue(l,u[l]);return this},inc:function(u,h){if(this._frozen)return this;h===void 0&&(h=1);var l=this.get(u);return l===void 0&&(l=0),this.set(u,l+h),this},toggle:function(u){return this._frozen?this:(this.set(u,!this.get(u)),this)},setValue:function(u,h){if(this._frozen)return this;if(this.has(u))this.values[u]=h;else{var l=this,d=this.list,v=this.events,f=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:function(){return d[u]},set:function(g){if(!l._frozen){var m=d[u];d[u]=g,v.emit(p.CHANGE_DATA,f,u,g,m),v.emit(p.CHANGE_DATA_KEY+u,f,g,m)}}}),d[u]=h,v.emit(p.SET_DATA,f,u,h)}return this},each:function(u,h){for(var l=[this.parent,null,void 0],d=1;d<arguments.length;d++)l.push(arguments[d]);for(var v in this.list)l[1]=v,l[2]=this.list[v],u.apply(h,l);return this},merge:function(u,h){h===void 0&&(h=!0);for(var l in u)u.hasOwnProperty(l)&&(h||!h&&!this.has(l))&&this.setValue(l,u[l]);return this},remove:function(u){if(this._frozen)return this;if(Array.isArray(u))for(var h=0;h<u.length;h++)this.removeValue(u[h]);else return this.removeValue(u);return this},removeValue:function(u){if(this.has(u)){var h=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(p.REMOVE_DATA,this.parent,u,h)}return this},pop:function(u){var h=void 0;return!this._frozen&&this.has(u)&&(h=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(p.REMOVE_DATA,this.parent,u,h)),h},has:function(u){return this.list.hasOwnProperty(u)},setFreeze:function(u){return this._frozen=u,this},reset:function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(u){this._frozen=!!u}},count:{get:function(){var u=0;for(var h in this.list)this.list[h]!==void 0&&u++;return u}}});r.exports=c},63646:(r,o,t)=>{var a=t(83419),p=t(45893),c=t(37277),u=t(44594),h=new a({Extends:p,initialize:function(d){p.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});c.register("DataManagerPlugin",h,"data"),r.exports=h},10700:r=>{r.exports="changedata"},93608:r=>{r.exports="changedata-"},60883:r=>{r.exports="destroy"},69780:r=>{r.exports="removedata"},22166:r=>{r.exports="setdata"},24882:(r,o,t)=>{r.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(r,o,t)=>{r.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(r,o,t)=>{var a=t(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function c(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var u=document.createElement("audio"),h=!!u.canPlayType;try{if(h){var l=function(f,g){var m=u.canPlayType("audio/"+f).replace(/^no$/,"");return g?!!(m||u.canPlayType("audio/"+g).replace(/^no$/,"")):!!m};if(p.ogg=l('ogg; codecs="vorbis"'),p.opus=l('ogg; codecs="opus"',"opus"),p.mp3=l("mpeg"),p.wav=l("wav"),p.m4a=l("x-m4a"),p.aac=l("aac"),p.flac=l("flac","x-flac"),p.webm=l('webm; codecs="vorbis"'),u.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)p.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(d===10&&v>=11||d>10)&&(p.dolby=!0)}}}}catch{}return p}r.exports=c()},84148:(r,o,t)=>{var a=t(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function c(){var u=navigator.userAgent;return/Edg\/\d+/.test(u)?(p.edge=!0,p.es2019=!0):/OPR/.test(u)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(u)&&!a.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(u)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(u)&&a.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(u)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(u)&&!a.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(p.silk=!0),p}r.exports=c()},89289:(r,o,t)=>{var a=t(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function c(){var l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var f=new Image;f.onload=function(){var g=a.create2D(f,6),m=g.getContext("2d",{willReadFrequently:!0});if(m.globalCompositeOperation="multiply",m.drawImage(v,0,0),m.drawImage(f,2,0),!m.getImageData(2,0,1,1))return!1;var x=m.getImageData(2,0,1,1).data;a.remove(f),p.supportNewBlendModes=x[0]===255&&x[1]===0&&x[2]===0},f.src=l+"/wCKxvRF"+d},v.src=l+"AP804Oa6"+d,!1}function u(){var l=a.create2D(this,2),d=l.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var v=d.getImageData(0,0,1,1);if(v===null)return!1;d.putImageData(v,1,0);var f=d.getImageData(1,0,1,1),g=f.data[0]===v.data[0]&&f.data[1]===v.data[1]&&f.data[2]===v.data[2]&&f.data[3]===v.data[3];return a.remove(this),g}function h(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=c(),p.supportInverseAlpha=u()),p}r.exports=h()},89357:(r,o,t)=>{var a=t(25892),p=t(84148),c=t(27919),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function h(){var d=new ArrayBuffer(4),v=new Uint8Array(d),f=new Uint32Array(d);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,f[0]===3569595041?!0:f[0]===2712847316?!1:null}function l(){if(typeof importScripts=="function")return u;u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch{u.localStorage=!1}u.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,u.fileSystem=!!window.requestFileSystem;var d=!1,v=function(){if(window.WebGLRenderingContext)try{var f=c.createWebGL(this),g=f.getContext("webgl")||f.getContext("experimental-webgl"),m=c.create2D(this),x=m.getContext("2d",{willReadFrequently:!0}),y=x.createImageData(1,1);return d=y.data instanceof Uint8ClampedArray,c.remove(f),c.remove(m),!!g}catch{return!1}return!1};return u.webGL=v(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(u.getUserMedia=!1),!a.iOS&&(p.ie||p.firefox||p.chrome)&&(u.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(u.littleEndian=h()),u.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&u.littleEndian!==null&&d,u}r.exports=l()},91639:r=>{var o={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return o;var a,p="Fullscreen",c="FullScreen",u=["request"+p,"request"+c,"webkitRequest"+p,"webkitRequest"+c,"msRequest"+p,"msRequest"+c,"mozRequest"+c,"mozRequest"+p];for(a=0;a<u.length;a++)if(document.documentElement[u[a]]){o.available=!0,o.request=u[a];break}var h=["cancel"+c,"exit"+p,"webkitCancel"+c,"webkitExit"+p,"msCancel"+c,"msExit"+p,"mozCancel"+c,"mozExit"+p];if(o.available){for(a=0;a<h.length;a++)if(document[h[a]]){o.cancel=h[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(o.keyboard=!0),Object.defineProperty(o,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),o}r.exports=t()},31784:(r,o,t)=>{var a=t(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function c(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}r.exports=c()},25892:r=>{var o={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return o;var a=navigator.userAgent;/Windows/.test(a)?o.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(o.iOS=!0,o.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),o.iOSVersion=parseInt(RegExp.$1,10)):o.macOS=!0:/Android/.test(a)?o.android=!0:/Linux/.test(a)?o.linux=!0:/iP[ao]d|iPhone/i.test(a)?(o.iOS=!0,navigator.appVersion.match(/OS (\d+)/),o.iOSVersion=parseInt(RegExp.$1,10),o.iPhone=a.toLowerCase().indexOf("iphone")!==-1,o.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?o.kindle=!0:/CrOS/.test(a)&&(o.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(o.android=!1,o.iOS=!1,o.macOS=!1,o.windows=!0,o.windowsPhone=!0);var p=/Silk/.test(a);return(o.windows||o.macOS||o.linux&&!p||o.chromeOS)&&(o.desktop=!0),(o.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(o.desktop=!1),navigator.standalone&&(o.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(o.cordova=!0),window.ejecta!==void 0&&(o.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(o.node=!0),o.node&&typeof process.versions=="object"&&(o.nodeWebkit=!!process.versions["node-webkit"],o.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(o.crosswalk=!0),o.pixelRatio=window.devicePixelRatio||1,o}r.exports=t()},43267:(r,o,t)=>{var a=t(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function c(){if(typeof importScripts=="function")return p;var u=document.createElement("video"),h=!!u.canPlayType,l=/^no$/;try{h&&(u.canPlayType('video/ogg; codecs="theora"').replace(l,"")&&(p.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(l,"")&&(p.h264=!0,p.mp4=!0),u.canPlayType("video/x-m4v").replace(l,"")&&(p.m4v=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(l,"")&&(p.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(l,"")&&(p.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(l,"")&&(p.hls=!0))}catch{}return u.parentNode&&u.parentNode.removeChild(u),p.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var f=a(d[v],"url",d[v]);if(f.indexOf("blob:")===0)return{url:f,type:""};var g;if(f.indexOf("data:")===0?g=f.split(",")[0].match(/\/(.*?);/):g=f.match(/\.([a-zA-Z0-9]+)($|\?)/),g=a(d[v],"type",g?g[1]:"").toLowerCase(),p[g])return{url:f,type:g}}return null},p}r.exports=c()},82264:(r,o,t)=>{r.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(r,o,t)=>{var a=t(83419),p=new Float32Array(20),c=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(u){return this._matrix.set(u),this._dirty=!0,this},reset:function(){var u=this._matrix;return u.fill(0),u[0]=1,u[6]=1,u[12]=1,u[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var u=this._data;return this._dirty&&(u.set(this._matrix),u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,this._dirty=!1),u},brightness:function(u,h){u===void 0&&(u=0),h===void 0&&(h=!1);var l=u;return this.multiply([l,0,0,0,0,0,l,0,0,0,0,0,l,0,0,0,0,0,1,0],h)},saturate:function(u,h){u===void 0&&(u=0),h===void 0&&(h=!1);var l=u*2/3+1,d=(l-1)*-.5;return this.multiply([l,d,d,0,0,d,l,d,0,0,d,d,l,0,0,0,0,0,1,0],h)},desaturate:function(u){return u===void 0&&(u=!1),this.saturate(-1,u)},hue:function(u,h){u===void 0&&(u=0),h===void 0&&(h=!1),u=u/180*Math.PI;var l=Math.cos(u),d=Math.sin(u),v=.213,f=.715,g=.072;return this.multiply([v+l*(1-v)+d*-v,f+l*-f+d*-f,g+l*-g+d*(1-g),0,0,v+l*-v+d*.143,f+l*(1-f)+d*.14,g+l*-g+d*-.283,0,0,v+l*-v+d*-(1-v),f+l*-f+d*f,g+l*(1-g)+d*g,0,0,0,0,0,1,0],h)},grayscale:function(u,h){return u===void 0&&(u=1),h===void 0&&(h=!1),this.saturate(-u,h)},blackWhite:function(u){return u===void 0&&(u=!1),this.multiply(c.BLACK_WHITE,u)},contrast:function(u,h){u===void 0&&(u=0),h===void 0&&(h=!1);var l=u+1,d=-.5*(l-1);return this.multiply([l,0,0,0,d,0,l,0,0,d,0,0,l,0,d,0,0,0,1,0],h)},negative:function(u){return u===void 0&&(u=!1),this.multiply(c.NEGATIVE,u)},desaturateLuminance:function(u){return u===void 0&&(u=!1),this.multiply(c.DESATURATE_LUMINANCE,u)},sepia:function(u){return u===void 0&&(u=!1),this.multiply(c.SEPIA,u)},night:function(u,h){return u===void 0&&(u=.1),h===void 0&&(h=!1),this.multiply([u*-2,-u,0,0,0,-u,0,u,0,0,0,u,u*2,0,0,0,0,0,1,0],h)},lsd:function(u){return u===void 0&&(u=!1),this.multiply(c.LSD,u)},brown:function(u){return u===void 0&&(u=!1),this.multiply(c.BROWN,u)},vintagePinhole:function(u){return u===void 0&&(u=!1),this.multiply(c.VINTAGE,u)},kodachrome:function(u){return u===void 0&&(u=!1),this.multiply(c.KODACHROME,u)},technicolor:function(u){return u===void 0&&(u=!1),this.multiply(c.TECHNICOLOR,u)},polaroid:function(u){return u===void 0&&(u=!1),this.multiply(c.POLAROID,u)},shiftToBGR:function(u){return u===void 0&&(u=!1),this.multiply(c.SHIFT_BGR,u)},multiply:function(u,h){h===void 0&&(h=!1),h||this.reset();var l=this._matrix,d=p;return d.set(l),l.set([d[0]*u[0]+d[1]*u[5]+d[2]*u[10]+d[3]*u[15],d[0]*u[1]+d[1]*u[6]+d[2]*u[11]+d[3]*u[16],d[0]*u[2]+d[1]*u[7]+d[2]*u[12]+d[3]*u[17],d[0]*u[3]+d[1]*u[8]+d[2]*u[13]+d[3]*u[18],d[0]*u[4]+d[1]*u[9]+d[2]*u[14]+d[3]*u[19]+d[4],d[5]*u[0]+d[6]*u[5]+d[7]*u[10]+d[8]*u[15],d[5]*u[1]+d[6]*u[6]+d[7]*u[11]+d[8]*u[16],d[5]*u[2]+d[6]*u[7]+d[7]*u[12]+d[8]*u[17],d[5]*u[3]+d[6]*u[8]+d[7]*u[13]+d[8]*u[18],d[5]*u[4]+d[6]*u[9]+d[7]*u[14]+d[8]*u[19]+d[9],d[10]*u[0]+d[11]*u[5]+d[12]*u[10]+d[13]*u[15],d[10]*u[1]+d[11]*u[6]+d[12]*u[11]+d[13]*u[16],d[10]*u[2]+d[11]*u[7]+d[12]*u[12]+d[13]*u[17],d[10]*u[3]+d[11]*u[8]+d[12]*u[13]+d[13]*u[18],d[10]*u[4]+d[11]*u[9]+d[12]*u[14]+d[13]*u[19]+d[14],d[15]*u[0]+d[16]*u[5]+d[17]*u[10]+d[18]*u[15],d[15]*u[1]+d[16]*u[6]+d[17]*u[11]+d[18]*u[16],d[15]*u[2]+d[16]*u[7]+d[17]*u[12]+d[18]*u[17],d[15]*u[3]+d[16]*u[8]+d[17]*u[13]+d[18]*u[18],d[15]*u[4]+d[16]*u[9]+d[17]*u[14]+d[18]*u[19]+d[19]]),this._dirty=!0,this}});c.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],c.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],c.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],c.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],c.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r.exports=c},51767:(r,o,t)=>{var a=t(83419),p=t(29747),c=new a({initialize:function(h,l,d){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(h,l,d)},set:function(u,h,l){return u===void 0&&(u=0),h===void 0&&(h=0),l===void 0&&(l=0),this._rgb=[u,h,l],this.onChange(),this},equals:function(u,h,l){var d=this._rgb;return d[0]===u&&d[1]===h&&d[2]===l},onChange:function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},r:{get:function(){return this._rgb[0]},set:function(u){this._rgb[0]=u,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(u){this._rgb[1]=u,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(u){this._rgb[2]=u,this.onChange()}},destroy:function(){this.onChangeCallback=null}});r.exports=c},60461:r=>{var o={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};r.exports=o},54312:(r,o,t)=>{var a=t(62235),p=t(35893),c=t(86327),u=t(88417),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)+v),c(l,a(d)+f),l};r.exports=h},46768:(r,o,t)=>{var a=t(62235),p=t(26541),c=t(86327),u=t(385),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)-v),c(l,a(d)+f),l};r.exports=h},35827:(r,o,t)=>{var a=t(62235),p=t(54380),c=t(86327),u=t(40136),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)+v),c(l,a(d)+f),l};r.exports=h},46871:(r,o,t)=>{var a=t(66786),p=t(35893),c=t(7702),u=function(h,l,d,v){return d===void 0&&(d=0),v===void 0&&(v=0),a(h,p(l)+d,c(l)+v),h};r.exports=u},5198:(r,o,t)=>{var a=t(7702),p=t(26541),c=t(20786),u=t(385),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)-v),c(l,a(d)+f),l};r.exports=h},11879:(r,o,t)=>{var a=t(60461),p=[];p[a.BOTTOM_CENTER]=t(54312),p[a.BOTTOM_LEFT]=t(46768),p[a.BOTTOM_RIGHT]=t(35827),p[a.CENTER]=t(46871),p[a.LEFT_CENTER]=t(5198),p[a.RIGHT_CENTER]=t(80503),p[a.TOP_CENTER]=t(89698),p[a.TOP_LEFT]=t(922),p[a.TOP_RIGHT]=t(21373),p[a.LEFT_BOTTOM]=p[a.BOTTOM_LEFT],p[a.LEFT_TOP]=p[a.TOP_LEFT],p[a.RIGHT_BOTTOM]=p[a.BOTTOM_RIGHT],p[a.RIGHT_TOP]=p[a.TOP_RIGHT];var c=function(u,h,l,d,v){return p[l](u,h,d,v)};r.exports=c},80503:(r,o,t)=>{var a=t(7702),p=t(54380),c=t(20786),u=t(40136),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)+v),c(l,a(d)+f),l};r.exports=h},89698:(r,o,t)=>{var a=t(35893),p=t(17717),c=t(88417),u=t(66737),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(l,a(d)+v),u(l,p(d)-f),l};r.exports=h},922:(r,o,t)=>{var a=t(26541),p=t(17717),c=t(385),u=t(66737),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(l,a(d)-v),u(l,p(d)-f),l};r.exports=h},21373:(r,o,t)=>{var a=t(54380),p=t(17717),c=t(40136),u=t(66737),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(l,a(d)+v),u(l,p(d)-f),l};r.exports=h},91660:(r,o,t)=>{r.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(r,o,t)=>{var a=t(60461),p=t(79291),c={In:t(91660),To:t(16694)};c=p(!1,c,a),r.exports=c},21578:(r,o,t)=>{var a=t(62235),p=t(35893),c=t(88417),u=t(66737),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(l,p(d)+v),u(l,a(d)+f),l};r.exports=h},10210:(r,o,t)=>{var a=t(62235),p=t(26541),c=t(385),u=t(66737),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(l,p(d)-v),u(l,a(d)+f),l};r.exports=h},82341:(r,o,t)=>{var a=t(62235),p=t(54380),c=t(40136),u=t(66737),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(l,p(d)+v),u(l,a(d)+f),l};r.exports=h},87958:(r,o,t)=>{var a=t(62235),p=t(26541),c=t(86327),u=t(40136),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)-v),c(l,a(d)+f),l};r.exports=h},40080:(r,o,t)=>{var a=t(7702),p=t(26541),c=t(20786),u=t(40136),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)-v),c(l,a(d)+f),l};r.exports=h},88466:(r,o,t)=>{var a=t(26541),p=t(17717),c=t(40136),u=t(66737),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(l,a(d)-v),u(l,p(d)-f),l};r.exports=h},38829:(r,o,t)=>{var a=t(60461),p=[];p[a.BOTTOM_CENTER]=t(21578),p[a.BOTTOM_LEFT]=t(10210),p[a.BOTTOM_RIGHT]=t(82341),p[a.LEFT_BOTTOM]=t(87958),p[a.LEFT_CENTER]=t(40080),p[a.LEFT_TOP]=t(88466),p[a.RIGHT_BOTTOM]=t(19211),p[a.RIGHT_CENTER]=t(34609),p[a.RIGHT_TOP]=t(48741),p[a.TOP_CENTER]=t(49440),p[a.TOP_LEFT]=t(81288),p[a.TOP_RIGHT]=t(61323);var c=function(u,h,l,d,v){return p[l](u,h,d,v)};r.exports=c},19211:(r,o,t)=>{var a=t(62235),p=t(54380),c=t(86327),u=t(385),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)+v),c(l,a(d)+f),l};r.exports=h},34609:(r,o,t)=>{var a=t(7702),p=t(54380),c=t(20786),u=t(385),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,p(d)+v),c(l,a(d)+f),l};r.exports=h},48741:(r,o,t)=>{var a=t(54380),p=t(17717),c=t(385),u=t(66737),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(l,a(d)+v),u(l,p(d)-f),l};r.exports=h},49440:(r,o,t)=>{var a=t(35893),p=t(17717),c=t(86327),u=t(88417),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,a(d)+v),c(l,p(d)-f),l};r.exports=h},81288:(r,o,t)=>{var a=t(26541),p=t(17717),c=t(86327),u=t(385),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,a(d)-v),c(l,p(d)-f),l};r.exports=h},61323:(r,o,t)=>{var a=t(54380),p=t(17717),c=t(86327),u=t(40136),h=function(l,d,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),u(l,a(d)+v),c(l,p(d)-f),l};r.exports=h},16694:(r,o,t)=>{r.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(r,o,t)=>{var a=t(88417),p=t(20786),c=function(u,h,l){return a(u,h),p(u,l)};r.exports=c},62235:r=>{var o=function(t){return t.y+t.height-t.height*t.originY};r.exports=o},72873:(r,o,t)=>{var a=t(62235),p=t(26541),c=t(54380),u=t(17717),h=t(87841),l=function(d,v){v===void 0&&(v=new h);var f=p(d),g=u(d);return v.x=f,v.y=g,v.width=c(d)-f,v.height=a(d)-g,v};r.exports=l},35893:r=>{var o=function(t){return t.x-t.width*t.originX+t.width*.5};r.exports=o},7702:r=>{var o=function(t){return t.y-t.height*t.originY+t.height*.5};r.exports=o},26541:r=>{var o=function(t){return t.x-t.width*t.originX};r.exports=o},87431:r=>{var o=function(t){return t.width*t.originX};r.exports=o},46928:r=>{var o=function(t){return t.height*t.originY};r.exports=o},54380:r=>{var o=function(t){return t.x+t.width-t.width*t.originX};r.exports=o},17717:r=>{var o=function(t){return t.y-t.height*t.originY};r.exports=o},86327:r=>{var o=function(t,a){return t.y=a-t.height+t.height*t.originY,t};r.exports=o},88417:r=>{var o=function(t,a){var p=t.width*t.originX;return t.x=a+p-t.width*.5,t};r.exports=o},20786:r=>{var o=function(t,a){var p=t.height*t.originY;return t.y=a+p-t.height*.5,t};r.exports=o},385:r=>{var o=function(t,a){return t.x=a+t.width*t.originX,t};r.exports=o},40136:r=>{var o=function(t,a){return t.x=a-t.width+t.width*t.originX,t};r.exports=o},66737:r=>{var o=function(t,a){return t.y=a+t.height*t.originY,t};r.exports=o},58724:(r,o,t)=>{r.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:r=>{var o={setCrisp:function(t){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(p){t.style["image-rendering"]=p}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};r.exports=o},27919:(r,o,t)=>{var a=t(8054),p=t(68703),c=[],u=!1,h=function(){var l=function(M,C,w,S,I){C===void 0&&(C=1),w===void 0&&(w=1),S===void 0&&(S=a.CANVAS),I===void 0&&(I=!1);var T,k=f(S);return k===null?(k={parent:M,canvas:document.createElement("canvas"),type:S},S===a.CANVAS&&c.push(k),T=k.canvas):(k.parent=M,T=k.canvas),I&&(k.parent=T),T.width=C,T.height=w,u&&S===a.CANVAS&&p.disable(T.getContext("2d",{willReadFrequently:!1})),T},d=function(M,C,w){return l(M,C,w,a.CANVAS)},v=function(M,C,w){return l(M,C,w,a.WEBGL)},f=function(M){if(M===void 0&&(M=a.CANVAS),M===a.WEBGL)return null;for(var C=0;C<c.length;C++){var w=c[C];if(!w.parent&&w.type===M)return w}return null},g=function(M){var C=M instanceof HTMLCanvasElement;c.forEach(function(w){(C&&w.canvas===M||!C&&w.parent===M)&&(w.parent=null,w.canvas.width=1,w.canvas.height=1)})},m=function(){var M=0;return c.forEach(function(C){C.parent&&M++}),M},x=function(){return c.length-m()},y=function(){u=!0},b=function(){u=!1};return{create2D:d,create:l,createWebGL:v,disableSmoothing:y,enableSmoothing:b,first:f,free:x,pool:c,remove:g,total:m}};r.exports=h()},68703:r=>{var o="",t=function(){var a=function(h){for(var l=["i","webkitI","msI","mozI","oI"],d=0;d<l.length;d++){var v=l[d]+"mageSmoothingEnabled";if(v in h)return v}return null},p=function(h){return o===""&&(o=a(h)),o&&(h[o]=!0),h},c=function(h){return o===""&&(o=a(h)),o&&(h[o]=!1),h},u=function(h){return o!==null?h[o]:null};return{disable:c,enable:p,getPrefix:a,isEnabled:u}};r.exports=t()},65208:r=>{var o=function(t,a){return a===void 0&&(a="none"),t.style.msTouchAction=a,t.style["ms-touch-action"]=a,t.style["touch-action"]=a,t};r.exports=o},91610:r=>{var o=function(t,a){a===void 0&&(a="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(c){t.style[c+"user-select"]=a}),t.style["-webkit-touch-callout"]=a,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};r.exports=o},26253:(r,o,t)=>{r.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(r,o,t)=>{var a=t(83419),p=t(37589),c=t(1e3),u=t(7537),h=t(87837),l=new a({initialize:function(v,f,g,m){v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,f,g,m)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,v,f,g,m){return g===void 0&&(g=255),m===void 0&&(m=!0),this._locked=!0,this.red=d,this.green=v,this.blue=f,this.alpha=g,this._locked=!1,this.update(m)},setGLTo:function(d,v,f,g){return g===void 0&&(g=1),this._locked=!0,this.redGL=d,this.greenGL=v,this.blueGL=f,this.alphaGL=g,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,v,f){return u(d,v,f,this)},update:function(d){if(d===void 0&&(d=!1),this._locked)return this;var v=this.r,f=this.g,g=this.b,m=this.a;return this._color=p(v,f,g),this._color32=c(v,f,g,m),this._rgba="rgba("+v+","+f+","+g+","+m/255+")",d&&h(v,f,g,this),this},updateHSV:function(){var d=this.r,v=this.g,f=this.b;return h(d,v,f,this),this},clone:function(){return new l(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,v){d===void 0&&(d=0),v===void 0&&(v=255);var f=Math.floor(d+Math.random()*(v-d)),g=Math.floor(d+Math.random()*(v-d)),m=Math.floor(d+Math.random()*(v-d));return this.setTo(f,g,m)},randomGray:function(d,v){d===void 0&&(d=0),v===void 0&&(v=255);var f=Math.floor(d+Math.random()*(v-d));return this.setTo(f,f,f)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var v=this.r,f=this.g,g=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(d/100)))),f=Math.max(0,Math.min(255,f-Math.round(255*-(d/100)))),g=Math.max(0,Math.min(255,g-Math.round(255*-(d/100)))),this.setTo(v,f,g)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,u(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,u(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,u(this._h,this._s,d,this)}}});r.exports=l},92728:(r,o,t)=>{var a=t(37589),p=function(c){c===void 0&&(c=1024);var u=[],h=255,l,d=255,v=0,f=0;for(l=0;l<=h;l++)u.push({r:d,g:l,b:f,color:a(d,l,f)});for(v=255,l=h;l>=0;l--)u.push({r:l,g:v,b:f,color:a(l,v,f)});for(d=0,l=0;l<=h;l++,v--)u.push({r:d,g:v,b:l,color:a(d,v,l)});for(v=0,f=255,l=0;l<=h;l++,f--,d++)u.push({r:d,g:v,b:f,color:a(d,v,f)});if(c===1024)return u;var g=[],m=0,x=1024/c;for(l=0;l<c;l++)g.push(u[Math.floor(m)]),m+=x;return g};r.exports=p},91588:r=>{var o=function(t){var a={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(a.a=t>>>24),a};r.exports=o},62957:r=>{var o=function(t){var a=t.toString(16);return a.length===1?"0"+a:a};r.exports=o},37589:r=>{var o=function(t,a,p){return t<<16|a<<8|p};r.exports=o},1e3:r=>{var o=function(t,a,p,c){return c<<24|t<<16|a<<8|p};r.exports=o},62183:(r,o,t)=>{var a=t(40987),p=t(89528),c=function(u,h,l){var d=l,v=l,f=l;if(h!==0){var g=l<.5?l*(1+h):l+h-l*h,m=2*l-g;d=p(m,g,u+1/3),v=p(m,g,u),f=p(m,g,u-1/3)}var x=new a;return x.setGLTo(d,v,f,1)};r.exports=c},27939:(r,o,t)=>{var a=t(7537),p=function(c,u){c===void 0&&(c=1),u===void 0&&(u=1);for(var h=[],l=0;l<=359;l++)h.push(a(l/359,c,u));return h};r.exports=p},7537:(r,o,t)=>{var a=t(37589);function p(u,h,l,d){var v=(u+h*6)%6,f=Math.min(v,4-v,1);return Math.round(255*(d-d*l*Math.max(0,f)))}var c=function(u,h,l,d){h===void 0&&(h=1),l===void 0&&(l=1);var v=p(5,u,h,l),f=p(3,u,h,l),g=p(1,u,h,l);return d?d.setTo?d.setTo(v,f,g,d.alpha,!0):(d.r=v,d.g=f,d.b=g,d.color=a(v,f,g),d):{r:v,g:f,b:g,color:a(v,f,g)}};r.exports=c},70238:(r,o,t)=>{var a=t(40987),p=function(c){var u=new a;c=c.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(f,g,m,x){return g+g+m+m+x+x});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(h){var l=parseInt(h[1],16),d=parseInt(h[2],16),v=parseInt(h[3],16);u.setTo(l,d,v)}return u};r.exports=p},89528:r=>{var o=function(t,a,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?t+(a-t)*6*p:p<.5?a:p<.6666666666666666?t+(a-t)*(.6666666666666666-p)*6:t};r.exports=o},30100:(r,o,t)=>{var a=t(40987),p=t(90664),c=function(u){var h=p(u);return new a(h.r,h.g,h.b,h.a)};r.exports=c},90664:r=>{var o=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};r.exports=o},13699:(r,o,t)=>{var a=t(28915),p=t(37589),c=function(l,d,v,f,g,m,x,y){x===void 0&&(x=100),y===void 0&&(y=0);var b=y/x,M=a(l,f,b),C=a(d,g,b),w=a(v,m,b);return{r:M,g:C,b:w,a:255,color:p(M,C,w)}},u=function(l,d,v,f){return v===void 0&&(v=100),f===void 0&&(f=0),c(l.r,l.g,l.b,d.r,d.g,d.b,v,f)},h=function(l,d,v,f,g,m){return g===void 0&&(g=100),m===void 0&&(m=0),c(l.r,l.g,l.b,d,v,f,g,m)};r.exports={RGBWithRGB:c,ColorWithRGB:h,ColorWithColor:u}},68957:(r,o,t)=>{var a=t(40987),p=function(c){return new a(c.r,c.g,c.b,c.a)};r.exports=p},87388:(r,o,t)=>{var a=t(40987),p=function(c){var u=new a,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(c.toLowerCase());if(h){var l=parseInt(h[1],10),d=parseInt(h[2],10),v=parseInt(h[3],10),f=h[4]!==void 0?parseFloat(h[4]):1;u.setTo(l,d,v,f*255)}return u};r.exports=p},87837:r=>{var o=function(t,a,p,c){c===void 0&&(c={h:0,s:0,v:0}),t/=255,a/=255,p/=255;var u=Math.min(t,a,p),h=Math.max(t,a,p),l=h-u,d=0,v=h===0?0:l/h,f=h;return h!==u&&(h===t?d=(a-p)/l+(a<p?6:0):h===a?d=(p-t)/l+2:h===p&&(d=(t-a)/l+4),d/=6),c.hasOwnProperty("_h")?(c._h=d,c._s=v,c._v=f):(c.h=d,c.s=v,c.v=f),c};r.exports=o},75723:(r,o,t)=>{var a=t(62957),p=function(c,u,h,l,d){return l===void 0&&(l=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(c<<16)+(u<<8)+h).toString(16).slice(1,7):"0x"+a(l)+a(c)+a(u)+a(h)};r.exports=p},85386:(r,o,t)=>{var a=t(30976),p=t(40987),c=function(u,h){return u===void 0&&(u=0),h===void 0&&(h=255),new p(a(u,h),a(u,h),a(u,h))};r.exports=c},80333:(r,o,t)=>{var a=t(70238),p=t(30100),c=t(68957),u=t(87388),h=function(l){var d=typeof l;switch(d){case"string":return l.substr(0,3).toLowerCase()==="rgb"?u(l):a(l);case"number":return p(l);case"object":return c(l)}};r.exports=h},3956:(r,o,t)=>{var a=t(40987);a.ColorSpectrum=t(92728),a.ColorToRGBA=t(91588),a.ComponentToHex=t(62957),a.GetColor=t(37589),a.GetColor32=t(1e3),a.HexStringToColor=t(70238),a.HSLToColor=t(62183),a.HSVColorWheel=t(27939),a.HSVToRGB=t(7537),a.HueToComponent=t(89528),a.IntegerToColor=t(30100),a.IntegerToRGB=t(90664),a.Interpolate=t(13699),a.ObjectToColor=t(68957),a.RandomRGB=t(85386),a.RGBStringToColor=t(87388),a.RGBToHSV=t(87837),a.RGBToString=t(75723),a.ValueToColor=t(80333),r.exports=a},27460:(r,o,t)=>{r.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(r,o,t)=>{var a=t(83419),p=t(39429),c=new a({initialize:function(h,l,d,v,f,g){l||(l=h.sys.make.image({x:d,y:v,key:f,frame:g,add:!1})),this.bitmapMask=l,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(u){this.bitmapMask=u},preRenderWebGL:function(u,h,l){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,l)},postRenderWebGL:function(u,h,l){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,l)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(u,h,l,d,v){return new c(this.scene,u,h,l,d,v)}),r.exports=c},80661:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(c){return this.geometryMask=c,this},setInvertAlpha:function(c){return c===void 0&&(c=!0),this.invertAlpha=c,this},preRenderWebGL:function(c,u,h){var l=c.gl;c.flush(),c.maskStack.length===0&&(l.enable(l.STENCIL_TEST),l.clear(l.STENCIL_BUFFER_BIT),c.maskCount=0),c.currentCameraMask.mask!==this&&(c.currentMask.mask=this),c.maskStack.push({mask:this,camera:h}),this.applyStencil(c,h,!0),c.maskCount++},applyStencil:function(c,u,h){var l=c.gl,d=this.geometryMask,v=c.maskCount,f=255;l.colorMask(!1,!1,!1,!1),h?(l.stencilFunc(l.EQUAL,v,f),l.stencilOp(l.KEEP,l.KEEP,l.INCR),v++):(l.stencilFunc(l.EQUAL,v+1,f),l.stencilOp(l.KEEP,l.KEEP,l.DECR)),this.level=v,d.renderWebGL(c,d,u),c.flush(),l.colorMask(!0,!0,!0,!0),l.stencilOp(l.KEEP,l.KEEP,l.KEEP),this.invertAlpha?l.stencilFunc(l.NOTEQUAL,v,f):l.stencilFunc(l.EQUAL,v,f)},postRenderWebGL:function(c){var u=c.gl;c.maskStack.pop(),c.maskCount--,c.flush();var h=c.currentMask;if(c.maskStack.length===0)h.mask=null,u.disable(u.STENCIL_TEST);else{var l=c.maskStack[c.maskStack.length-1];l.mask.applyStencil(c,l.camera,!1),c.currentCameraMask.mask!==l.mask?(h.mask=l.mask,h.camera=l.camera):h.mask=null}},preRenderCanvas:function(c,u,h){var l=this.geometryMask;c.currentContext.save(),l.renderCanvas(c,l,h,null,null,!0),c.currentContext.clip()},postRenderCanvas:function(c){c.currentContext.restore()},destroy:function(){this.geometryMask=null}});r.exports=p},69781:(r,o,t)=>{r.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l,d){(!h||h==="")&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!l||l==="")&&(l=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=u,this.fragmentSrc=h,this.vertexSrc=l,this.uniforms=d}});r.exports=p},40366:r=>{var o=function(t,a){var p;if(a)typeof a=="string"?p=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(p=a);else if(t.parentElement||a===null)return t;return p||(p=document.body),p.appendChild(t),t};r.exports=o},83719:(r,o,t)=>{var a=t(40366),p=function(c){var u=c.config;if(!(!u.parent||!u.domCreateContainer)){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+c.scale.width+"px;","height: "+c.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+u.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),c.domContainer=h,a(h,u.parent)}};r.exports=p},57264:(r,o,t)=>{var a=t(25892),p=function(c){if(document.readyState==="complete"||document.readyState==="interactive"){c();return}var u=function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),c()};document.body?a.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)};r.exports=p},57811:r=>{var o=function(t){if(!t)return window.innerHeight;var a=Math.abs(window.orientation),p={w:0,h:0},c=document.createElement("div");return c.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(c),p.w=a===90?c.offsetHeight:window.innerWidth,p.h=a===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null,Math.abs(window.orientation)!==90?p.h:p.w};r.exports=o},45818:(r,o,t)=>{var a=t(13560),p=function(c,u){var h=window.screen,l=h?h.orientation||h.mozOrientation||h.msOrientation:!1;if(l&&typeof l.type=="string")return l.type;if(typeof l=="string")return l;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return u>c?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};r.exports=p},74403:r=>{var o=function(t){var a;return t!==""&&(typeof t=="string"?a=document.getElementById(t):t&&t.nodeType===1&&(a=t)),a||(a=document.body),a};r.exports=o},56836:r=>{var o=function(t){var a="";try{if(window.DOMParser){var p=new DOMParser;a=p.parseFromString(t,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(t)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};r.exports=o},35846:r=>{var o=function(t){t.parentNode&&t.parentNode.removeChild(t)};r.exports=o},43092:(r,o,t)=>{var a=t(83419),p=t(29747),c=new a({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function l(d){h.callback(d),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(l))},this.stepTimeout=function l(){h.isRunning&&(h.timeOutID=window.setTimeout(l,h.delay)),h.callback(window.performance.now())}},start:function(u,h,l){this.isRunning||(this.callback=u,this.isSetTimeOut=h,this.delay=l,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});r.exports=c},84902:(r,o,t)=>{var a={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};r.exports=a},47565:(r,o,t)=>{var a=t(83419),p=t(50792),c=t(37277),u=new a({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});c.register("EventEmitter",u,"events"),r.exports=u},93055:(r,o,t)=>{r.exports={EventEmitter:t(47565)}},20122:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d){d===void 0&&(d=1),p.call(this,c.BARREL,l),this.amount=d}});r.exports=u},32251:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g,m,x){v===void 0&&(v=1),f===void 0&&(f=1),g===void 0&&(g=1),m===void 0&&(m=1),x===void 0&&(x=4),p.call(this,c.BLOOM,l),this.steps=x,this.offsetX=v,this.offsetY=f,this.blurStrength=g,this.strength=m,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var l=this.glcolor;l[0]=(h>>16&255)/255,l[1]=(h>>8&255)/255,l[2]=(h&255)/255}}});r.exports=u},9047:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g,m,x){d===void 0&&(d=0),v===void 0&&(v=2),f===void 0&&(f=2),g===void 0&&(g=1),x===void 0&&(x=4),p.call(this,c.BLUR,l),this.quality=d,this.x=v,this.y=f,this.steps=x,this.strength=g,this.glcolor=[1,1,1],m!=null&&(this.color=m)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var l=this.glcolor;l[0]=(h>>16&255)/255,l[1]=(h>>8&255)/255,l[2]=(h&255)/255}}});r.exports=u},27885:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g,m,x,y){d===void 0&&(d=.5),v===void 0&&(v=1),f===void 0&&(f=.2),g===void 0&&(g=!1),m===void 0&&(m=1),x===void 0&&(x=1),y===void 0&&(y=1),p.call(this,c.BOKEH,l),this.radius=d,this.amount=v,this.contrast=f,this.isTiltShift=g,this.strength=y,this.blurX=m,this.blurY=x}});r.exports=u},12578:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g,m){d===void 0&&(d=8),g===void 0&&(g=1),m===void 0&&(m=.005),p.call(this,c.CIRCLE,l),this.scale=g,this.feather=m,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),f!=null&&(this.backgroundColor=f)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var l=this.glcolor;l[0]=(h>>16&255)/255,l[1]=(h>>8&255)/255,l[2]=(h&255)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var l=this.glcolor2;l[0]=(h>>16&255)/255,l[1]=(h>>8&255)/255,l[2]=(h&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(h){this.glcolor2[3]=h}}});r.exports=u},15802:(r,o,t)=>{var a=t(83419),p=t(89422),c=t(14811),u=new a({Extends:p,initialize:function(l){p.call(this),this.type=c.COLOR_MATRIX,this.gameObject=l,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});r.exports=u},72898:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h){this.type=u,this.gameObject=h,this.active=!0},setActive:function(c){return this.active=c,this},destroy:function(){this.gameObject=null,this.active=!1}});r.exports=p},44553:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f){d===void 0&&(d="__WHITE"),v===void 0&&(v=.005),f===void 0&&(f=.005),p.call(this,c.DISPLACEMENT,l),this.x=v,this.y=f,this.glTexture,this.setTexture(d)},setTexture:function(h){var l=this.gameObject.scene.sys.textures.getFrame(h);return l&&(this.glTexture=l.glTexture),this}});r.exports=u},68531:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g){v===void 0&&(v=4),f===void 0&&(f=0),g===void 0&&(g=!1),p.call(this,c.GLOW,l),this.outerStrength=v,this.innerStrength=f,this.knockout=g,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var l=this.glcolor;l[0]=(h>>16&255)/255,l[1]=(h>>8&255)/255,l[2]=(h&255)/255}}});r.exports=u},37102:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g,m,x,y,b){f===void 0&&(f=.2),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=1),b===void 0&&(b=0),p.call(this,c.GRADIENT,l),this.alpha=f,this.size=b,this.fromX=g,this.fromY=m,this.toX=x,this.toY=y,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),v!=null&&(this.color2=v)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var l=this.glcolor1;l[0]=h>>16&255,l[1]=h>>8&255,l[2]=h&255}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var l=this.glcolor2;l[0]=h>>16&255,l[1]=h>>8&255,l[2]=h&255}}});r.exports=u},86886:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d){d===void 0&&(d=1),p.call(this,c.PIXELATE,l),this.amount=d}});r.exports=u},92322:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g,m,x,y){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=.1),g===void 0&&(g=1),x===void 0&&(x=6),y===void 0&&(y=1),p.call(this,c.SHADOW,l),this.x=d,this.y=v,this.decay=f,this.power=g,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=y,m!==void 0&&(this.color=m)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var l=this.glcolor;l[0]=(h>>16&255)/255,l[1]=(h>>8&255)/255,l[2]=(h&255)/255}}});r.exports=u},39563:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g){d===void 0&&(d=.5),v===void 0&&(v=.5),f===void 0&&(f=3),g===void 0&&(g=!1),p.call(this,c.SHINE,l),this.speed=d,this.lineWidth=v,this.gradient=f,this.reveal=g}});r.exports=u},56448:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g){d===void 0&&(d=.5),v===void 0&&(v=.5),f===void 0&&(f=.5),g===void 0&&(g=.5),p.call(this,c.VIGNETTE,l),this.x=d,this.y=v,this.radius=f,this.strength=g}});r.exports=u},38433:(r,o,t)=>{var a=t(83419),p=t(72898),c=t(14811),u=new a({Extends:p,initialize:function(l,d,v,f,g){d===void 0&&(d=.1),v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=!1),p.call(this,c.WIPE,l),this.progress=0,this.wipeWidth=d,this.direction=v,this.axis=f,this.reveal=g}});r.exports=u},14811:r=>{var o={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};r.exports=o},66064:(r,o,t)=>{var a=t(79291),p=t(14811),c={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};c=a(!1,c,p),r.exports=c},25305:(r,o,t)=>{var a=t(10312),p=t(23568),c=function(u,h,l){h.x=p(l,"x",0),h.y=p(l,"y",0),h.depth=p(l,"depth",0),h.flipX=p(l,"flipX",!1),h.flipY=p(l,"flipY",!1);var d=p(l,"scale",null);typeof d=="number"?h.setScale(d):d!==null&&(h.scaleX=p(d,"x",1),h.scaleY=p(d,"y",1));var v=p(l,"scrollFactor",null);typeof v=="number"?h.setScrollFactor(v):v!==null&&(h.scrollFactorX=p(v,"x",1),h.scrollFactorY=p(v,"y",1)),h.rotation=p(l,"rotation",0);var f=p(l,"angle",null);f!==null&&(h.angle=f),h.alpha=p(l,"alpha",1);var g=p(l,"origin",null);if(typeof g=="number")h.setOrigin(g);else if(g!==null){var m=p(g,"x",.5),x=p(g,"y",.5);h.setOrigin(m,x)}h.blendMode=p(l,"blendMode",a.NORMAL),h.visible=p(l,"visible",!0);var y=p(l,"add",!0);return y&&u.sys.displayList.add(h),h.preUpdate&&u.sys.updateList.add(h),h};r.exports=c},13059:(r,o,t)=>{var a=t(23568),p=function(c,u){var h=a(u,"anims",null);if(h===null)return c;if(typeof h=="string")c.anims.play(h);else if(typeof h=="object"){var l=c.anims,d=a(h,"key",void 0);if(d){var v=a(h,"startFrame",void 0),f=a(h,"delay",0),g=a(h,"repeat",0),m=a(h,"repeatDelay",0),x=a(h,"yoyo",!1),y=a(h,"play",!1),b=a(h,"delayedPlay",0),M={key:d,delay:f,repeat:g,repeatDelay:m,yoyo:x,startFrame:v};y?l.play(M):b>0?l.playAfterDelay(M,b):l.load(M)}}return c};r.exports=p},8050:(r,o,t)=>{var a=t(83419),p=t(73162),c=t(37277),u=t(51708),h=t(44594),l=t(19186),d=new a({Extends:p,initialize:function(f){p.call(this,f),this.sortChildrenFlag=!1,this.scene=f,this.systems=f.sys,this.events=f.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(u.ADDED_TO_SCENE,v,this.scene),this.events.emit(h.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(u.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,v,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(l(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,f){return v._depth-f._depth},getChildren:function(){return this.list},shutdown:function(){for(var v=this.list,f=v.length;f--;)v[f].destroy(!0);v.length=0,this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});c.register("DisplayList",d,"displayList"),r.exports=d},95643:(r,o,t)=>{var a=t(83419),p=t(53774),c=t(45893),u=t(50792),h=t(51708),l=t(44594),d=new a({Extends:u,initialize:function(f,g){u.call(this),this.scene=f,this.displayList=null,this.type=g,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),f.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new c(this)),this},setData:function(v,f){return this.data||(this.data=new c(this)),this.data.set(v,f),this},incData:function(v,f){return this.data||(this.data=new c(this)),this.data.inc(v,f),this},toggleData:function(v){return this.data||(this.data=new c(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new c(this)),this.data.get(v)},setInteractive:function(v,f,g){return this.scene.sys.input.enable(this,v,f,g),this},disableInteractive:function(v){return v===void 0&&(v=!1),this.scene.sys.input.disable(this,v),this},removeInteractive:function(v){return v===void 0&&(v=!1),this.scene.sys.input.clear(this),v&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(v){var f=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!f||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,f=this.parentContainer,g=[];f&&(g.unshift(f.getIndex(v)),v=f,f.parentContainer);)f=f.parentContainer;return this.displayList?g.unshift(this.displayList.getIndex(v)):g.unshift(this.scene.sys.displayList.getIndex(v)),g},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),v.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,r.exports=d},44603:(r,o,t)=>{var a=t(83419),p=t(37277),c=t(44594),u=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(h,l){u.prototype.hasOwnProperty(h)||(u.prototype[h]=l)},u.remove=function(h){u.prototype.hasOwnProperty(h)&&delete u.prototype[h]},p.register("GameObjectCreator",u,"make"),r.exports=u},39429:(r,o,t)=>{var a=t(83419),p=t(37277),c=t(44594),u=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(h,l){u.prototype.hasOwnProperty(h)||(u.prototype[h]=l)},u.remove=function(h){u.prototype.hasOwnProperty(h)&&delete u.prototype[h]},p.register("GameObjectFactory",u,"add"),r.exports=u},91296:(r,o,t)=>{var a=t(61340),p=new a,c=new a,u=new a,h={camera:p,sprite:c,calc:u},l=function(d,v,f){var g=p,m=c,x=u;return m.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),g.copyFrom(v.matrix),f?(g.multiplyWithOffset(f,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),m.e=d.x,m.f=d.y):(m.e-=v.scrollX*d.scrollFactorX,m.f-=v.scrollY*d.scrollFactorY),g.multiply(m,x),h};r.exports=l},45027:(r,o,t)=>{var a=t(83419),p=t(25774),c=t(37277),u=t(44594),h=new a({Extends:p,initialize:function(d){p.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var l=this.systems.events;l.on(u.PRE_UPDATE,this.update,this),l.on(u.UPDATE,this.sceneUpdate,this),l.once(u.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(l,d){for(var v=this._active,f=v.length,g=0;g<f;g++){var m=v[g];m.active&&m.preUpdate.call(m,l,d)}},shutdown:function(){for(var l=this._active.length;l--;)this._active[l].destroy(!0);for(l=this._pending.length;l--;)this._pending[l].destroy(!0);for(l=this._destroy.length;l--;)this._destroy[l].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(u.PRE_UPDATE,this.update,this),d.off(u.UPDATE,this.sceneUpdate,this),d.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});c.register("UpdateList",h,"updateList"),r.exports=h},3217:r=>{var o=function(t,a,p,c,u,h,l,d,v,f,g,m,x,y,b){var M=p.x-a.displayOriginX+u,C=p.y-a.displayOriginY+h,w=M+p.w,S=C+p.h,I=l.a,T=l.b,k=l.c,E=l.d,A=l.e,L=l.f,D=M*I+C*k+A,R=M*T+C*E+L,N=M*I+S*k+A,P=M*T+S*E+L,O=w*I+S*k+A,W=w*T+S*E+L,G=w*I+C*k+A,H=w*T+C*E+L;d&&(D=Math.round(D),R=Math.round(R),N=Math.round(N),P=Math.round(P),O=Math.round(O),W=Math.round(W),G=Math.round(G),H=Math.round(H)),t.batchQuad(a,D,R,N,P,O,W,G,H,c.u0,c.v0,c.u1,c.v1,v,f,g,m,x,y,b)};r.exports=o},53048:r=>{var o=function(t,a,p,c){if(p===void 0&&(p=!1),c===void 0)return c={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},c;var u=t.text,h=u.length,l=t.maxWidth,d=t.wordWrapCharCode,v=Number.MAX_VALUE,f=Number.MAX_VALUE,g=0,m=0,x=t.fontData.chars,y=t.fontData.lineHeight,b=t.letterSpacing,M=t.lineSpacing,C=0,w=0,S=0,I=null,T=t._align,k=0,E=0,A=t.fontSize/t.fontData.size,L=A*t.scaleX,D=A*t.scaleY,R=null,N=0,P=[],O=Number.MAX_VALUE,W=0,G=0,H=0,V,B,j,U=[],X=[],Z=null,$=function(Pe,Ee){for(var We=0,ht=0;ht<Pe.length;ht++){var Ze=Pe.charCodeAt(ht),Je=Ee.chars[Ze];Je&&(We+=Je.xAdvance)}return We*L};if(l>0){j=u.split(`
`);var J=[];for(V=0;V<j.length;V++){var Q=j[V],_="",ae="",ce="",he="";for(B=0;B<Q.length;B++)if(S=Q.charCodeAt(B),_+=Q[B],S===d||B===Q.length-1){he=ce+_;var de=$(he,t.fontData);de<=l?ce=he:(ae=ae.slice(0,-1),ae+=(ae?`
`:"")+ce,ce=_),_=""}ae=ae.slice(0,-1),ae+=(ae?`
`:"")+ce,J.push(ae)}u=J.join(`
`),c.wrappedText=u,h=u.length}var Te=0;for(V=0;V<h;V++){if(S=u.charCodeAt(V),S===10){Z!==null&&(U.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*D,w:Z.w*L,h:Z.h*D}),Z=null),R=null,P[G]=H,H>W&&(W=H),H<O&&(O=H),G++,H=0,C=0,w=(y+M)*G;continue}if(I=x[S],!!I){if(k=C,E=w,R!==null){var Fe=I.kerning[N];k+=Fe!==void 0?Fe:0}v>k&&(v=k),f>E&&(f=E);var He=k+I.xAdvance,ue=E+y;g<He&&(g=He),m<ue&&(m=ue);var Ie=I.xOffset+I.xAdvance+(Fe!==void 0?Fe:0);S===d?Z!==null&&(U.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*D,w:Z.w*L,h:Z.h*D}),Z=null):(Z===null&&(Z={word:"",i:Te,x:C,y:w,w:0,h:y}),Z.word=Z.word.concat(u[V]),Z.w+=Ie),X.push({i:Te,idx:V,char:u[V],code:S,x:(I.xOffset+k)*A,y:(I.yOffset+w)*A,w:I.width*A,h:I.height*A,t:w*A,r:He*A,b:y*A,line:G,glyph:I}),C+=I.xAdvance+b+(Fe!==void 0?Fe:0),R=I,N=S,H=He*A,Te++}}if(Z!==null&&U.push({word:Z.word,i:Z.i,x:Z.x*L,y:Z.y*D,w:Z.w*L,h:Z.h*D}),P[G]=H,H>W&&(W=H),H<O&&(O=H),T>0)for(var Ve=0;Ve<X.length;Ve++){var je=X[Ve];if(T===1){var $e=(W-P[je.line])/2;je.x+=$e,je.r+=$e}else if(T===2){var Yt=W-P[je.line];je.x+=Yt,je.r+=Yt}}var oe=c.local,ie=c.global;return j=c.lines,oe.x=v*A,oe.y=f*A,oe.width=g*A,oe.height=m*A,ie.x=t.x-t._displayOriginX+v*L,ie.y=t.y-t._displayOriginY+f*D,ie.width=g*L,ie.height=m*D,j.shortest=O,j.longest=W,j.lengths=P,a&&(oe.x=Math.ceil(oe.x),oe.y=Math.ceil(oe.y),oe.width=Math.ceil(oe.width),oe.height=Math.ceil(oe.height),ie.x=Math.ceil(ie.x),ie.y=Math.ceil(ie.y),ie.width=Math.ceil(ie.width),ie.height=Math.ceil(ie.height),j.shortest=Math.ceil(O),j.longest=Math.ceil(W)),p&&(t._displayOriginX=t.originX*oe.width,t._displayOriginY=t.originY*oe.height,ie.x=t.x-t._displayOriginX*t.scaleX,ie.y=t.y-t._displayOriginY*t.scaleY,a&&(ie.x=Math.ceil(ie.x),ie.y=Math.ceil(ie.y))),c.words=U,c.characters=X,c.lines.height=y,c.scale=A,c.scaleX=t.scaleX,c.scaleY=t.scaleY,c};r.exports=o},61327:(r,o,t)=>{var a=t(21859),p=function(c,u,h,l,d,v,f){var g=c.sys.textures.get(h),m=g.get(l),x=c.sys.cache.xml.get(d);if(m&&x){var y=a(x,m,v,f,g);return c.sys.cache.bitmapFont.add(u,{data:y,texture:h,frame:l,fromAtlas:!0}),!0}else return!1};r.exports=p},6925:(r,o,t)=>{var a=t(35154),p=function(c,u){var h=u.width,l=u.height,d=Math.floor(h/2),v=Math.floor(l/2),f=a(u,"chars","");if(f!==""){var g=a(u,"image",""),m=c.sys.textures.getFrame(g),x=m.cutX,y=m.cutY,b=m.source.width,M=m.source.height,C=a(u,"offset.x",0),w=a(u,"offset.y",0),S=a(u,"spacing.x",0),I=a(u,"spacing.y",0),T=a(u,"lineSpacing",0),k=a(u,"charsPerRow",null);k===null&&(k=b/h,k>f.length&&(k=f.length));for(var E=C,A=w,L={retroFont:!0,font:g,size:h,lineHeight:l+T,chars:{}},D=0,R=0;R<f.length;R++){var N=f.charCodeAt(R),P=(x+E)/b,O=(y+A)/M,W=(x+E+h)/b,G=(y+A+l)/M;L.chars[N]={x:E,y:A,width:h,height:l,centerX:d,centerY:v,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:P,v0:O,u1:W,v1:G},D++,D===k?(D=0,E=C,A+=l+I):E+=h+S}var H={data:L,frame:null,texture:g};return H}};r.exports=p},21859:r=>{function o(a,p){return parseInt(a.getAttribute(p),10)}var t=function(a,p,c,u,h){c===void 0&&(c=0),u===void 0&&(u=0);var l=p.cutX,d=p.cutY,v=p.source.width,f=p.source.height,g=p.sourceIndex,m={},x=a.getElementsByTagName("info")[0],y=a.getElementsByTagName("common")[0];m.font=x.getAttribute("face"),m.size=o(x,"size"),m.lineHeight=o(y,"lineHeight")+u,m.chars={};var b=a.getElementsByTagName("char"),M=p!==void 0&&p.trimmed;if(M)var C=p.height,w=p.width;for(var S=0;S<b.length;S++){var I=b[S],T=o(I,"id"),k=String.fromCharCode(T),E=o(I,"x"),A=o(I,"y"),L=o(I,"width"),D=o(I,"height");M&&(E<w&&(w=E),A<C&&(C=A)),M&&C!==0&&w!==0&&(E-=p.x,A-=p.y);var R=(l+E)/v,N=(d+A)/f,P=(l+E+L)/v,O=(d+A+D)/f;if(m.chars[T]={x:E,y:A,width:L,height:D,centerX:Math.floor(L/2),centerY:Math.floor(D/2),xOffset:o(I,"xoffset"),yOffset:o(I,"yoffset"),xAdvance:o(I,"xadvance")+c,data:{},kerning:{},u0:R,v0:N,u1:P,v1:O},h&&L!==0&&D!==0){var W=h.add(k,g,E,A,L,D);W&&W.setUVs(L,D,R,N,P,O)}}var G=a.getElementsByTagName("kerning");for(S=0;S<G.length;S++){var H=G[S],V=o(H,"first"),B=o(H,"second"),j=o(H,"amount");m.chars[B].kerning[V]=j}return m};r.exports=t},196:(r,o,t)=>{var a=t(87662),p=t(79291),c={Parse:t(6925)};c=p(!1,c,a),r.exports=c},87662:r=>{var o={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};r.exports=o},2638:(r,o,t)=>{var a=t(22186),p=t(83419),c=t(12310),u=new p({Extends:a,Mixins:[c],initialize:function(l,d,v,f,g,m,x){a.call(this,l,d,v,f,g,m,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,l){return this.cropWidth=h,this.cropHeight=l,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});r.exports=u},86741:(r,o,t)=>{var a=t(20926),p=function(c,u,h,l){var d=u._text,v=d.length,f=c.currentContext;if(!(v===0||!a(c,f,u,h,l))){h.addToRenderList(u);var g=u.fromAtlas?u.frame:u.texture.frames.__BASE,m=u.displayCallback,x=u.callbackData,y=u.fontData.chars,b=u.fontData.lineHeight,M=u._letterSpacing,C=0,w=0,S=0,I=null,T=0,k=0,E=0,A=0,L=0,D=0,R=null,N=0,P=u.frame.source.image,O=g.cutX,W=g.cutY,G=0,H=0,V=u._fontSize/u.fontData.size,B=u._align,j=0,U=0;u.getTextBounds(!1);var X=u._bounds.lines;B===1?U=(X.longest-X.lengths[0])/2:B===2&&(U=X.longest-X.lengths[0]),f.translate(-u.displayOriginX,-u.displayOriginY);var Z=h.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(f.beginPath(),f.rect(0,0,u.cropWidth,u.cropHeight),f.clip());for(var $=0;$<v;$++){if(H=V,G=0,S=d.charCodeAt($),S===10){j++,B===1?U=(X.longest-X.lengths[j])/2:B===2&&(U=X.longest-X.lengths[j]),C=0,w+=b,R=null;continue}if(I=y[S],!!I){if(T=O+I.x,k=W+I.y,E=I.width,A=I.height,L=I.xOffset+C-u.scrollX,D=I.yOffset+w-u.scrollY,R!==null){var J=I.kerning[N];L+=J!==void 0?J:0}if(m){x.index=$,x.charCode=S,x.x=L,x.y=D,x.scale=H,x.rotation=G,x.data=I.data;var Q=m(x);L=Q.x,D=Q.y,H=Q.scale,G=Q.rotation}L*=H,D*=H,L+=U,C+=I.xAdvance+M+(J!==void 0?J:0),R=I,N=S,!(E===0||A===0||S===32)&&(Z&&(L=Math.round(L),D=Math.round(D)),f.save(),f.translate(L,D),f.rotate(G),f.scale(H,H),f.drawImage(P,T,k,E,A,0,0,E,A),f.restore())}}f.restore()}};r.exports=p},11164:(r,o,t)=>{var a=t(2638),p=t(25305),c=t(44603),u=t(23568);c.register("dynamicBitmapText",function(h,l){h===void 0&&(h={});var d=u(h,"font",""),v=u(h,"text",""),f=u(h,"size",!1),g=new a(this.scene,0,0,d,v,f);return l!==void 0&&(h.add=l),p(this.scene,g,h),g})},72566:(r,o,t)=>{var a=t(2638),p=t(39429);p.register("dynamicBitmapText",function(c,u,h,l,d){return this.displayList.add(new a(this.scene,c,u,h,l,d))})},12310:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(73482),c=t(86741),r.exports={renderWebGL:p,renderCanvas:c}},73482:(r,o,t)=>{var a=t(91296),p=t(61340),c=t(70554),u=new p,h=function(l,d,v,f){var g=d.text,m=g.length;if(m!==0){v.addToRenderList(d);var x=l.pipelines.set(d.pipeline,d),y=a(d,v,f);l.pipelines.preBatch(d);var b=y.sprite,M=y.calc,C=u,w=d.cropWidth>0||d.cropHeight>0;w&&(x.flush(),l.pushScissor(M.tx,M.ty,d.cropWidth*M.scaleX,d.cropHeight*M.scaleY));var S=d.frame,I=S.glTexture,T=d.tintFill,k=c.getTintAppendFloatAlpha(d.tintTopLeft,v.alpha*d._alphaTL),E=c.getTintAppendFloatAlpha(d.tintTopRight,v.alpha*d._alphaTR),A=c.getTintAppendFloatAlpha(d.tintBottomLeft,v.alpha*d._alphaBL),L=c.getTintAppendFloatAlpha(d.tintBottomRight,v.alpha*d._alphaBR),D=x.setGameObject(d),R=0,N=0,P=0,O=0,W=d.letterSpacing,G,H=0,V=0,B,j=d.scrollX,U=d.scrollY,X=d.fontData,Z=X.chars,$=X.lineHeight,J=d.fontSize/X.size,Q=0,_=d._align,ae=0,ce=0,he=d.getTextBounds(!1);d.maxWidth>0&&(g=he.wrappedText,m=g.length);var de=d._bounds.lines;_===1?ce=(de.longest-de.lengths[0])/2:_===2&&(ce=de.longest-de.lengths[0]);for(var Te=v.roundPixels,Fe=d.displayCallback,He=d.callbackData,ue=0;ue<m;ue++){if(P=g.charCodeAt(ue),P===10){ae++,_===1?ce=(de.longest-de.lengths[ae])/2:_===2&&(ce=de.longest-de.lengths[ae]),R=0,N+=$,B=null;continue}if(G=Z[P],!!G){H=G.width,V=G.height;var Ie=G.xOffset+R-j,Ve=G.yOffset+N-U;if(B!==null){var je=G.kerning[O]||0;Ie+=je,R+=je}if(R+=G.xAdvance+W,B=G,O=P,!(H===0||V===0||P===32)){if(J=d.fontSize/d.fontData.size,Q=0,Fe){He.color=0,He.tint.topLeft=k,He.tint.topRight=E,He.tint.bottomLeft=A,He.tint.bottomRight=L,He.index=ue,He.charCode=P,He.x=Ie,He.y=Ve,He.scale=J,He.rotation=Q,He.data=G.data;var $e=Fe(He);Ie=$e.x,Ve=$e.y,J=$e.scale,Q=$e.rotation,$e.color?(k=$e.color,E=$e.color,A=$e.color,L=$e.color):(k=$e.tint.topLeft,E=$e.tint.topRight,A=$e.tint.bottomLeft,L=$e.tint.bottomRight),k=c.getTintAppendFloatAlpha(k,v.alpha*d._alphaTL),E=c.getTintAppendFloatAlpha(E,v.alpha*d._alphaTR),A=c.getTintAppendFloatAlpha(A,v.alpha*d._alphaBL),L=c.getTintAppendFloatAlpha(L,v.alpha*d._alphaBR)}Ie*=J,Ve*=J,Ie-=d.displayOriginX,Ve-=d.displayOriginY,Ie+=ce,C.applyITRS(Ie,Ve,Q,J,J),M.multiply(C,b);var Yt=G.u0,oe=G.v0,ie=G.u1,Pe=G.v1,Ee=H,We=V,ht=b.e,Ze=b.f,Je=We*b.c+b.e,On=We*b.d+b.f,St=Ee*b.a+We*b.c+b.e,It=Ee*b.b+We*b.d+b.f,oi=Ee*b.a+b.e,Ft=Ee*b.b+b.f;Te&&(ht=Math.round(ht),Ze=Math.round(Ze),Je=Math.round(Je),On=Math.round(On),St=Math.round(St),It=Math.round(It),oi=Math.round(oi),Ft=Math.round(Ft)),x.shouldFlush(6)&&(x.flush(),D=x.setGameObject(d)),x.batchQuad(d,ht,Ze,Je,On,St,It,oi,Ft,Yt,oe,ie,Pe,k,E,A,L,T,I,D)}}}w&&(x.flush(),l.popScissor()),l.pipelines.postBatch(d)}};r.exports=h},22186:(r,o,t)=>{var a=t(83419),p=t(45319),c=t(31401),u=t(95643),h=t(53048),l=t(61327),d=t(21859),v=t(87841),f=t(18658),g=new a({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Tint,c.Transform,c.Visible,f],initialize:function(x,y,b,M,C,w,S){C===void 0&&(C=""),S===void 0&&(S=0),u.call(this,x,"BitmapText"),this.font=M;var I=this.scene.sys.cache.bitmapFont.get(M);if(!I)throw new Error("Invalid BitmapText key: "+M);this.fontData=I.data,this._text="",this._fontSize=w||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=S,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=I.fromAtlas,this.setTexture(I.texture,I.frame),this.setPosition(y,b),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(C)},setLeftAlign:function(){return this._align=g.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=g.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=g.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(m){return this._fontSize=m,this._dirty=!0,this},setLetterSpacing:function(m){return m===void 0&&(m=0),this._letterSpacing=m,this._dirty=!0,this},setLineSpacing:function(m){return m===void 0&&(m=0),this.lineSpacing=m,this},setText:function(m){return!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m!==this.text&&(this._text=m.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(m,x,y,b){return m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=0),b===void 0&&(b=.5),this.dropShadowX=m,this.dropShadowY=x,this.dropShadowColor=y,this.dropShadowAlpha=b,this},setCharacterTint:function(m,x,y,b,M,C,w){m===void 0&&(m=0),x===void 0&&(x=1),y===void 0&&(y=!1),b===void 0&&(b=-1),M===void 0&&(M=b,C=b,w=b);var S=this.text.length;x===-1&&(x=S),m<0&&(m=S+m),m=p(m,0,S-1);for(var I=p(m+x,m,S),T=this.charColors,k=m;k<I;k++){var E=T[k];if(b===-1)T[k]=null;else{var A=y?1:0;E?(E.tintEffect=A,E.tintTL=b,E.tintTR=M,E.tintBL=C,E.tintBR=w):T[k]={tintEffect:A,tintTL:b,tintTR:M,tintBL:C,tintBR:w}}}return this},setWordTint:function(m,x,y,b,M,C,w){x===void 0&&(x=1);for(var S=this.getTextBounds(),I=S.words,T=typeof m=="number",k=0,E=0;E<I.length;E++){var A=I[E];if((T&&E===m||!T&&A.word===m)&&(this.setCharacterTint(A.i,A.word.length,y,b,M,C,w),k++,k===x))return this}return this},getTextBounds:function(m){var x=this._bounds;return(this._dirty||m||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(h(this,m,!0,x),this._dirty=!1),x},getCharacterAt:function(m,x,y){for(var b=this.getLocalPoint(m,x,null,y),M=this.getTextBounds(),C=M.characters,w=new v,S=0;S<C.length;S++){var I=C[S];if(w.setTo(I.x,I.t,I.r-I.x,I.b),w.contains(b.x,b.y))return I}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(m,x,y){x===void 0&&(x=this._fontSize),y===void 0&&(y=this._align);var b=this.scene.sys.cache.bitmapFont.get(m);return b&&(this.font=m,this.fontData=b.data,this._fontSize=x,this._align=y,this.fromAtlas=b.fromAtlas===!0,this.setTexture(b.texture,b.frame),h(this,!1,!0,this._bounds)),this},setMaxWidth:function(m,x){return this._maxWidth=m,this._dirty=!0,x!==void 0&&(this.wordWrapCharCode=x),this},align:{set:function(m){this._align=m,this._dirty=!0},get:function(){return this._align}},text:{set:function(m){this.setText(m)},get:function(){return this._text}},fontSize:{set:function(m){this._fontSize=m,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(m){this._letterSpacing=m,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(m){this._lineSpacing=m,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(m){this._maxWidth=m,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var m=c.ToJSON(this),x={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return m.data=x,m},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});g.ALIGN_LEFT=0,g.ALIGN_CENTER=1,g.ALIGN_RIGHT=2,g.ParseFromAtlas=l,g.ParseXMLBitmapFont=d,r.exports=g},37289:(r,o,t)=>{var a=t(20926),p=function(c,u,h,l){var d=u._text,v=d.length,f=c.currentContext;if(!(v===0||!a(c,f,u,h,l))){h.addToRenderList(u);var g=u.fromAtlas?u.frame:u.texture.frames.__BASE,m=u.fontData.chars,x=u.fontData.lineHeight,y=u._letterSpacing,b=u._lineSpacing,M=0,C=0,w=0,S=null,I=0,T=0,k=0,E=0,A=0,L=0,D=null,R=0,N=g.source.image,P=g.cutX,O=g.cutY,W=u._fontSize/u.fontData.size,G=u._align,H=0,V=0,B=u.getTextBounds(!1);u.maxWidth>0&&(d=B.wrappedText,v=d.length);var j=u._bounds.lines;G===1?V=(j.longest-j.lengths[0])/2:G===2&&(V=j.longest-j.lengths[0]),f.translate(-u.displayOriginX,-u.displayOriginY);for(var U=h.roundPixels,X=0;X<v;X++){if(w=d.charCodeAt(X),w===10){H++,G===1?V=(j.longest-j.lengths[H])/2:G===2&&(V=j.longest-j.lengths[H]),M=0,C+=x+b,D=null;continue}if(S=m[w],!!S){if(I=P+S.x,T=O+S.y,k=S.width,E=S.height,A=S.xOffset+M,L=S.yOffset+C,D!==null){var Z=S.kerning[R];A+=Z!==void 0?Z:0}A*=W,L*=W,A+=V,M+=S.xAdvance+y+(Z!==void 0?Z:0),D=S,R=w,!(k===0||E===0||w===32)&&(U&&(A=Math.round(A),L=Math.round(L)),f.save(),f.translate(A,L),f.scale(W,W),f.drawImage(N,I,T,k,E,0,0,k,E),f.restore())}}f.restore()}};r.exports=p},57336:(r,o,t)=>{var a=t(22186),p=t(25305),c=t(44603),u=t(23568),h=t(35154);c.register("bitmapText",function(l,d){l===void 0&&(l={});var v=h(l,"font",""),f=u(l,"text",""),g=u(l,"size",!1),m=h(l,"align",0),x=new a(this.scene,0,0,v,f,g,m);return d!==void 0&&(l.add=d),p(this.scene,x,l),x})},34914:(r,o,t)=>{var a=t(22186),p=t(39429);p.register("bitmapText",function(c,u,h,l,d,v){return this.displayList.add(new a(this.scene,c,u,h,l,d,v))})},18658:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(33590),c=t(37289),r.exports={renderWebGL:p,renderCanvas:c}},33590:(r,o,t)=>{var a=t(3217),p=t(91296),c=t(70554),u=function(h,l,d,v){var f=l._text,g=f.length;if(g!==0){d.addToRenderList(l);var m=h.pipelines.set(l.pipeline,l),x=p(l,d,v).calc;h.pipelines.preBatch(l);var y=d.roundPixels,b=d.alpha,M=l.charColors,C=l.tintFill,w=c.getTintAppendFloatAlpha,S=w(l.tintTopLeft,b*l._alphaTL),I=w(l.tintTopRight,b*l._alphaTR),T=w(l.tintBottomLeft,b*l._alphaBL),k=w(l.tintBottomRight,b*l._alphaBR),E=l.frame.glTexture,A=m.setGameObject(l),L=l.getTextBounds(!1),D,R,N,P=L.characters,O=l.dropShadowX,W=l.dropShadowY,G=O!==0||W!==0;if(G){var H=l.dropShadowColor,V=l.dropShadowAlpha,B=w(H,b*V*l._alphaTL),j=w(H,b*V*l._alphaTR),U=w(H,b*V*l._alphaBL),X=w(H,b*V*l._alphaBR);for(D=0;D<P.length;D++)R=P[D],N=R.glyph,!(R.code===32||N.width===0||N.height===0)&&a(m,l,R,N,O,W,x,y,B,j,U,X,1,E,A)}for(D=0;D<P.length;D++)if(R=P[D],N=R.glyph,!(R.code===32||N.width===0||N.height===0))if(m.shouldFlush(6)&&(m.flush(),A=m.setGameObject(l)),M[R.i]){var Z=M[R.i],$=Z.tintEffect,J=w(Z.tintTL,b*l._alphaTL),Q=w(Z.tintTR,b*l._alphaTR),_=w(Z.tintBL,b*l._alphaBL),ae=w(Z.tintBR,b*l._alphaBR);a(m,l,R,N,0,0,x,y,J,Q,_,ae,$,E,A)}else a(m,l,R,N,0,0,x,y,S,I,T,k,C,E,A);h.pipelines.postBatch(l)}};r.exports=u},6107:(r,o,t)=>{var a=t(48011),p=t(46590),c=t(83419),u=t(31401),h=t(4327),l=t(95643),d=t(73162),v=new c({Extends:l,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,a],initialize:function(g,m,x,y,b){l.call(this,g,"Blitter"),this.setTexture(y,b),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(f,g,m,x,y){x===void 0&&(x=!0),y===void 0&&(y=this.children.length),m===void 0?m=this.frame:m instanceof h||(m=this.texture.get(m));var b=new p(this,f,g,m,x);return this.children.addAt(b,y,!1),this.dirty=!0,b},createFromCallback:function(f,g,m,x){for(var y=this.createMultiple(g,m,x),b=0;b<y.length;b++){var M=y[b];f.call(this,M,b)}return y},createMultiple:function(f,g,m){g===void 0&&(g=this.frame.name),m===void 0&&(m=!0),Array.isArray(g)||(g=[g]);var x=[],y=this;return g.forEach(function(b){for(var M=0;M<f;M++)x.push(y.create(0,0,b,m))}),x},childCanRender:function(f){return f.visible&&f.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});r.exports=v},72396:r=>{var o=function(t,a,p,c){var u=a.getRenderList();if(u.length!==0){var h=t.currentContext,l=p.alpha*a.alpha;if(l!==0){p.addToRenderList(a),h.globalCompositeOperation=t.blendModes[a.blendMode],h.imageSmoothingEnabled=!a.frame.source.scaleMode;var d=a.x-p.scrollX*a.scrollFactorX,v=a.y-p.scrollY*a.scrollFactorY;h.save(),c&&c.copyToContext(h);for(var f=p.roundPixels,g=0;g<u.length;g++){var m=u[g],x=m.flipX||m.flipY,y=m.frame,b=y.canvasData,M=y.x,C=y.y,w=1,S=1,I=m.alpha*l;I!==0&&(h.globalAlpha=I,x?(m.flipX&&(w=-1,M-=b.width),m.flipY&&(S=-1,C-=b.height),b.width>0&&b.height>0&&(h.save(),h.translate(m.x+d,m.y+v),h.scale(w,S),h.drawImage(y.source.image,b.x,b.y,b.width,b.height,M,C,b.width,b.height),h.restore())):(f&&(M=Math.round(M),C=Math.round(C)),b.width>0&&b.height>0&&h.drawImage(y.source.image,b.x,b.y,b.width,b.height,M+m.x+d,C+m.y+v,b.width,b.height)))}h.restore()}}};r.exports=o},9403:(r,o,t)=>{var a=t(6107),p=t(25305),c=t(44603),u=t(23568);c.register("blitter",function(h,l){h===void 0&&(h={});var d=u(h,"key",null),v=u(h,"frame",null),f=new a(this.scene,0,0,d,v);return l!==void 0&&(h.add=l),p(this.scene,f,h),f})},12709:(r,o,t)=>{var a=t(6107),p=t(39429);p.register("blitter",function(c,u,h,l){return this.displayList.add(new a(this.scene,c,u,h,l))})},48011:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(99485),c=t(72396),r.exports={renderWebGL:p,renderCanvas:c}},99485:(r,o,t)=>{var a=t(61340),p=t(70554),c=new a,u=function(h,l,d,v){var f=l.getRenderList(),g=d.alpha*l.alpha;if(!(f.length===0||g===0)){d.addToRenderList(l);var m=h.pipelines.set(this.pipeline,l),x=d.scrollX*l.scrollFactorX,y=d.scrollY*l.scrollFactorY,b=c.copyFrom(d.matrix);v&&(b.multiplyWithOffset(v,-x,-y),x=0,y=0);var M=l.x-x,C=l.y-y,w=-1,S=!1,I=d.roundPixels;h.pipelines.preBatch(l);for(var T=0;T<f.length;T++){var k=f[T],E=k.frame,A=k.alpha*g;if(A!==0){var L=E.width,D=E.height,R=M+k.x+E.x,N=C+k.y+E.y;k.flipX&&(L*=-1,R+=E.width),k.flipY&&(D*=-1,N+=E.height);var P=b.setQuad(R,N,R+L,N+D,I),O=p.getTintAppendFloatAlpha(k.tint,A);if(E.sourceIndex!==w){var W=m.setGameObject(l,E);w=E.sourceIndex}m.batchQuad(l,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],E.u0,E.v0,E.u1,E.v1,O,O,O,O,S,E.glTexture,W)&&(w=-1)}}h.pipelines.postBatch(l)}};r.exports=u},46590:(r,o,t)=>{var a=t(83419),p=t(4327),c=new a({initialize:function(h,l,d,v,f){this.parent=h,this.x=l,this.y=d,this.frame=v,this.data={},this.tint=16777215,this._visible=f,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(u){return u===void 0?this.frame=this.parent.frame:u instanceof p&&u.texture===this.parent.texture?this.frame=u:this.frame=this.parent.texture.get(u),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(u,h,l){return this.x=u,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,l&&this.setFrame(l),this},setPosition:function(u,h){return this.x=u,this.y=h,this},setFlipX:function(u){return this.flipX=u,this},setFlipY:function(u){return this.flipY=u,this},setFlip:function(u,h){return this.flipX=u,this.flipY=h,this},setVisible:function(u){return this.visible=u,this},setAlpha:function(u){return this.alpha=u,this},setTint:function(u){return this.tint=u,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(u){this.parent.dirty|=this._visible!==u,this._visible=u}},alpha:{get:function(){return this._alpha},set:function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u}}});r.exports=c},16005:(r,o,t)=>{var a=t(45319),p=2,c={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u,h,l,d){return u===void 0&&(u=1),h===void 0?this.alpha=u:(this._alphaTL=a(u,0,1),this._alphaTR=a(h,0,1),this._alphaBL=a(l,0,1),this._alphaBR=a(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(u){var h=a(u,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,h===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(u){var h=a(u,0,1);this._alphaTL=h,h!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(u){var h=a(u,0,1);this._alphaTR=h,h!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(u){var h=a(u,0,1);this._alphaBL=h,h!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(u){var h=a(u,0,1);this._alphaBR=h,h!==0&&(this.renderFlags|=p)}}};r.exports=c},88509:(r,o,t)=>{var a=t(45319),p=2,c={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u){return u===void 0&&(u=1),this.alpha=u,this},alpha:{get:function(){return this._alpha},set:function(u){var h=a(u,0,1);this._alpha=h,h===0?this.renderFlags&=~p:this.renderFlags|=p}}};r.exports=c},90065:(r,o,t)=>{var a=t(10312),p={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(c){typeof c=="string"&&(c=a[c]),c|=0,c>=-1&&(this._blendMode=c)}},setBlendMode:function(c){return this.blendMode=c,this}};r.exports=p},94215:r=>{var o={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};r.exports=o},61683:r=>{var o={texture:null,frame:null,isCropped:!1,setCrop:function(t,a,p,c){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,a,p,c,this.flipX,this.flipY);else{var u=t;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=o},89272:(r,o,t)=>{var a=t(37105),p={_depth:0,depth:{get:function(){return this._depth},set:function(c){this.displayList&&this.displayList.queueDepthSort(),this._depth=c}},setDepth:function(c){return c===void 0&&(c=0),this.depth=c,this},setToTop:function(){var c=this.getDisplayList();return c&&a.BringToTop(c,this),this},setToBack:function(){var c=this.getDisplayList();return c&&a.SendToBack(c,this),this},setAbove:function(c){var u=this.getDisplayList();return u&&c&&a.MoveAbove(u,this,c),this},setBelow:function(c){var u=this.getDisplayList();return u&&c&&a.MoveBelow(u,this,c),this}};r.exports=p},47059:(r,o,t)=>{var a=t(83419),p=t(66064),c=t(19133),u=new a({initialize:function(l,d){this.gameObject=l,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return h===void 0&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var l=this.gameObject.scene.sys.renderer;l&&l.pipelines?(this.gameObject.pipeline=l.pipelines.FX_PIPELINE,h!==void 0&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,l=0;l<h.length;l++)h[l].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var l;if(this.isPost){var d=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(d)||(d=[d]),l=0;l<d.length;l++){var v=d[l];if(v.controller===h){this.gameObject.removePostPipeline(v),h.destroy();break}}}else{var f=this.list;for(l=0;l<f.length;l++)f[l]===h&&(c(f,l),h.destroy())}return this.gameObject},disable:function(h){return h===void 0&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,l){if(this.isPost){var d=String(h.type);this.gameObject.setPostPipeline(d,l);var v=this.gameObject.getPostPipeline(d);if(v)return Array.isArray(v)&&(v=v.pop()),v&&(v.controller=h),h}else return this.enabled||this.enable(),this.list.push(h),h},addGlow:function(h,l,d,v,f,g){return this.add(new p.Glow(this.gameObject,h,l,d,v),{quality:f,distance:g})},addShadow:function(h,l,d,v,f,g,m){return this.add(new p.Shadow(this.gameObject,h,l,d,v,f,g,m))},addPixelate:function(h){return this.add(new p.Pixelate(this.gameObject,h))},addVignette:function(h,l,d,v){return this.add(new p.Vignette(this.gameObject,h,l,d,v))},addShine:function(h,l,d,v){return this.add(new p.Shine(this.gameObject,h,l,d,v))},addBlur:function(h,l,d,v,f,g){return this.add(new p.Blur(this.gameObject,h,l,d,v,f,g))},addGradient:function(h,l,d,v,f,g,m,x){return this.add(new p.Gradient(this.gameObject,h,l,d,v,f,g,m,x))},addBloom:function(h,l,d,v,f,g){return this.add(new p.Bloom(this.gameObject,h,l,d,v,f,g))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(h,l,d,v,f){return this.add(new p.Circle(this.gameObject,h,l,d,v,f))},addBarrel:function(h){return this.add(new p.Barrel(this.gameObject,h))},addDisplacement:function(h,l,d){return this.add(new p.Displacement(this.gameObject,h,l,d))},addWipe:function(h,l,d){return this.add(new p.Wipe(this.gameObject,h,l,d))},addReveal:function(h,l,d){return this.add(new p.Wipe(this.gameObject,h,l,d,!0))},addBokeh:function(h,l,d){return this.add(new p.Bokeh(this.gameObject,h,l,d))},addTiltShift:function(h,l,d,v,f,g){return this.add(new p.Bokeh(this.gameObject,h,l,d,!0,v,f,g))},destroy:function(){this.clear(),this.gameObject=null}});r.exports=u},54434:r=>{var o={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,a){return this.flipX=t,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};r.exports=o},8004:(r,o,t)=>{var a=t(87841),p=t(11520),c=t(26099),u={prepareBoundsOutput:function(h,l){if(l===void 0&&(l=!1),this.rotation!==0&&p(h,this.x,this.y,this.rotation),l&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(h.x,h.y,h)}return h},getCenter:function(h,l){return h===void 0&&(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,l)},getTopLeft:function(h,l){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,l)},getTopCenter:function(h,l){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,l)},getTopRight:function(h,l){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,l)},getLeftCenter:function(h,l){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,l)},getRightCenter:function(h,l){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,l)},getBottomLeft:function(h,l){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,l)},getBottomCenter:function(h,l){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,l)},getBottomRight:function(h,l){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,l)},getBounds:function(h){h===void 0&&(h=new a);var l,d,v,f,g,m,x,y;if(this.parentContainer){var b=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),b.transformPoint(h.x,h.y,h),l=h.x,d=h.y,this.getTopRight(h),b.transformPoint(h.x,h.y,h),v=h.x,f=h.y,this.getBottomLeft(h),b.transformPoint(h.x,h.y,h),g=h.x,m=h.y,this.getBottomRight(h),b.transformPoint(h.x,h.y,h),x=h.x,y=h.y}else this.getTopLeft(h),l=h.x,d=h.y,this.getTopRight(h),v=h.x,f=h.y,this.getBottomLeft(h),g=h.x,m=h.y,this.getBottomRight(h),x=h.x,y=h.y;return h.x=Math.min(l,v,g,x),h.y=Math.min(d,f,m,y),h.width=Math.max(l,v,g,x)-h.x,h.height=Math.max(d,f,m,y)-h.y,h}};r.exports=u},8573:(r,o,t)=>{var a=t(6858),p=t(80661),c={mask:null,setMask:function(u){return this.mask=u,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(u,h,l,d,v){return u===void 0&&(this.texture||this.shader||this.geom)&&(u=this),new a(this.scene,u,h,l,d,v)},createGeometryMask:function(u){return u===void 0&&(this.type==="Graphics"||this.geom)&&(u=this),new p(this.scene,u)}};r.exports=c},27387:r=>{var o={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,a){return t===void 0&&(t=.5),a===void 0&&(a=t),this.originX=t,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,a){return t===void 0&&(t=0),a===void 0&&(a=t),this.displayOriginX=t,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};r.exports=o},37640:(r,o,t)=>{var a=t(39506),p=t(57355),c=t(35154),u=t(86353),h=t(26099),l={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:function(d,v){v===void 0&&(v=this.pathConfig);var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this.path=d,v&&this.startFollow(v),this},setRotateToPath:function(d,v){return v===void 0&&(v=0),this.rotateToPath=d,this.pathRotationOffset=v,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,v){d===void 0&&(d={}),v===void 0&&(v=0);var f=this.pathTween;f&&f.isPlaying()&&f.stop(),typeof d=="number"&&(d={duration:d}),d.from=c(d,"from",0),d.to=c(d,"to",1);var g=p(d,"positionOnPath",!1);this.rotateToPath=p(d,"rotateToPath",!1),this.pathRotationOffset=c(d,"rotationOffset",0);var m=c(d,"startAt",v);if(m&&(d.onStart=function(y){var b=y.data[0];b.progress=m,b.elapsed=b.duration*m;var M=b.ease(b.progress);b.current=b.start+(b.end-b.start)*M,b.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),g&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var v=d.data[0],f=this.pathDelta,g=this.pathVector;if(f.copy(g).negate(),v.state===u.COMPLETE){this.path.getPoint(v.end,g),f.add(g),g.add(this.pathOffset),this.setPosition(g.x,g.y);return}else if(v.state!==u.PLAYING_FORWARD&&v.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),g),f.add(g),g.add(this.pathOffset);var m=this.x,x=this.y;this.setPosition(g.x,g.y);var y=this.x-m,b=this.y-x;if(y===0&&b===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(b,y)+a(this.pathRotationOffset))}}};r.exports=l},72699:(r,o,t)=>{var a=t(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(c){this.pipelineData={};var u=this.scene.sys.renderer;if(!u)return!1;var h=u.pipelines;if(h){c===void 0&&(c=h.default);var l=h.get(c);if(l)return this.defaultPipeline=l,this.pipeline=l,!0}return!1},setPipeline:function(c,u,h){var l=this.scene.sys.renderer;if(!l)return this;var d=l.pipelines;if(d){var v=d.get(c);v&&(this.pipeline=v),u&&(this.pipelineData=h?a(u):u)}return this},setPipelineData:function(c,u){var h=this.pipelineData;return u===void 0?delete h[c]:h[c]=u,this},resetPipeline:function(c){return c===void 0&&(c=!1),this.pipeline=this.defaultPipeline,c&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};r.exports=p},17581:(r,o,t)=>{var a=t(62644),p=t(47059),c=t(19133),u={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),h&&(this.preFX=new p(this,!1))},setPostPipeline:function(h,l,d){var v=this.scene.sys.renderer;if(!v)return this;var f=v.pipelines;if(f){Array.isArray(h)||(h=[h]);for(var g=0;g<h.length;g++){var m=f.getPostPipeline(h[g],this,l);m&&this.postPipelines.push(m)}l&&(this.postPipelineData=d?a(l):l)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,l){var d=this.postPipelineData;return l===void 0?delete d[h]:d[h]=l,this},getPostPipeline:function(h){for(var l=typeof h=="string",d=this.postPipelines,v=[],f=0;f<d.length;f++){var g=d[f];(l&&g.name===h||!l&&g instanceof h)&&v.push(g)}return v.length===1?v[0]:v},resetPostPipeline:function(h){h===void 0&&(h=!1);for(var l=this.postPipelines,d=0;d<l.length;d++)l[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var l=typeof h=="string",d=this.postPipelines,v=d.length-1;v>=0;v--){var f=d[v];(l&&f.name===h||!l&&f===h)&&(f.destroy(),c(d,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};r.exports=u},80227:r=>{var o={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,a){return a===void 0&&(a=t),this.scrollFactorX=t,this.scrollFactorY=a,this}};r.exports=o},16736:r=>{var o={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(t,a){return this.width=t,this.height=a,this},setDisplaySize:function(t,a){return this.displayWidth=t,this.displayHeight=a,this}};r.exports=o},37726:(r,o,t)=>{var a=t(4327),p=8,c={texture:null,frame:null,isCropped:!1,setTexture:function(u,h,l,d){return this.texture=this.scene.sys.textures.get(u),this.setFrame(h,l,d)},setFrame:function(u,h,l){return h===void 0&&(h=!0),l===void 0&&(l=!0),u instanceof a?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&l&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};r.exports=c},79812:(r,o,t)=>{var a=t(4327),p=8,c={texture:null,frame:null,isCropped:!1,setCrop:function(u,h,l,d){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,h,l,d,this.flipX,this.flipY);else{var v=u;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(u,h){return this.texture=this.scene.sys.textures.get(u),this.setFrame(h)},setFrame:function(u,h,l){return h===void 0&&(h=!0),l===void 0&&(l=!0),u instanceof a?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&l&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=c},27472:r=>{var o={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,a,p,c){return t===void 0&&(t=16777215),a===void 0&&(a=t,p=t,c=t),this.tintTopLeft=t,this.tintTopRight=a,this.tintBottomLeft=p,this.tintBottomRight=c,this.tintFill=!1,this},setTintFill:function(t,a,p,c){return this.setTint(t,a,p,c),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};r.exports=o},53774:r=>{var o=function(t){var a={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(a.textureKey=t.texture.key,a.frameKey=t.frame.name),a};r.exports=o},16901:(r,o,t)=>{var a=t(36383),p=t(61340),c=t(85955),u=t(86554),h=t(30954),l=t(26099),d=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(f){this._scaleX=f,this._scaleY=f,f===0?this.renderFlags&=~d:this.renderFlags|=d}},scaleX:{get:function(){return this._scaleX},set:function(f){this._scaleX=f,f===0?this.renderFlags&=~d:this._scaleY!==0&&(this.renderFlags|=d)}},scaleY:{get:function(){return this._scaleY},set:function(f){this._scaleY=f,f===0?this.renderFlags&=~d:this._scaleX!==0&&(this.renderFlags|=d)}},angle:{get:function(){return h(this._rotation*a.RAD_TO_DEG)},set:function(f){this.rotation=h(f)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=u(f)}},setPosition:function(f,g,m,x){return f===void 0&&(f=0),g===void 0&&(g=f),m===void 0&&(m=0),x===void 0&&(x=0),this.x=f,this.y=g,this.z=m,this.w=x,this},copyPosition:function(f){return f.x!==void 0&&(this.x=f.x),f.y!==void 0&&(this.y=f.y),f.z!==void 0&&(this.z=f.z),f.w!==void 0&&(this.w=f.w),this},setRandomPosition:function(f,g,m,x){return f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),this.x=f+Math.random()*m,this.y=g+Math.random()*x,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,this},setScale:function(f,g){return f===void 0&&(f=1),g===void 0&&(g=f),this.scaleX=f,this.scaleY=g,this},setX:function(f){return f===void 0&&(f=0),this.x=f,this},setY:function(f){return f===void 0&&(f=0),this.y=f,this},setZ:function(f){return f===void 0&&(f=0),this.z=f,this},setW:function(f){return f===void 0&&(f=0),this.w=f,this},getLocalTransformMatrix:function(f){return f===void 0&&(f=new p),f.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(f,g){f===void 0&&(f=new p);var m=this.parentContainer;if(!m)return this.getLocalTransformMatrix(f);var x=!1;for(g||(g=new p,x=!0),f.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);m;)g.applyITRS(m.x,m.y,m._rotation,m._scaleX,m._scaleY),g.multiply(f,f),m=m.parentContainer;return x&&g.destroy(),f},getLocalPoint:function(f,g,m,x){m||(m=new l),x||(x=this.scene.sys.cameras.main);var y=x.scrollX,b=x.scrollY,M=f+y*this.scrollFactorX-y,C=g+b*this.scrollFactorY-b;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(M,C,m):c(M,C,this.x,this.y,this.rotation,this.scaleX,this.scaleY,m),this._originComponent&&(m.x+=this._displayOriginX,m.y+=this._displayOriginY),m},getWorldPoint:function(f,g,m){f===void 0&&(f=new l);var x=this.parentContainer;if(!x)return f.x=this.x,f.y=this.y,f;var y=this.getWorldTransformMatrix(g,m);return f.x=y.tx,f.y=y.ty,f},getParentRotation:function(){for(var f=0,g=this.parentContainer;g;)f+=g.rotation,g=g.parentContainer;return f}};r.exports=v},61340:(r,o,t)=>{var a=t(83419),p=t(36383),c=t(26099),u=new a({initialize:function(l,d,v,f,g,m){l===void 0&&(l=1),d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=1),g===void 0&&(g=0),m===void 0&&(m=0),this.matrix=new Float32Array([l,d,v,f,g,m,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,l=h[0],d=h[1],v=h[2],f=h[3];return l||d?d>0?Math.acos(l/this.scaleX):-Math.acos(l/this.scaleX):v||f?p.TAU-(f>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,l){var d=this.matrix;return d[4]=d[0]*h+d[2]*l+d[4],d[5]=d[1]*h+d[3]*l+d[5],this},scale:function(h,l){var d=this.matrix;return d[0]*=h,d[1]*=h,d[2]*=l,d[3]*=l,this},rotate:function(h){var l=Math.sin(h),d=Math.cos(h),v=this.matrix,f=v[0],g=v[1],m=v[2],x=v[3];return v[0]=f*d+m*l,v[1]=g*d+x*l,v[2]=f*-l+m*d,v[3]=g*-l+x*d,this},multiply:function(h,l){var d=this.matrix,v=h.matrix,f=d[0],g=d[1],m=d[2],x=d[3],y=d[4],b=d[5],M=v[0],C=v[1],w=v[2],S=v[3],I=v[4],T=v[5],k=l===void 0?d:l.matrix;return k[0]=M*f+C*m,k[1]=M*g+C*x,k[2]=w*f+S*m,k[3]=w*g+S*x,k[4]=I*f+T*m+y,k[5]=I*g+T*x+b,k},multiplyWithOffset:function(h,l,d){var v=this.matrix,f=h.matrix,g=v[0],m=v[1],x=v[2],y=v[3],b=v[4],M=v[5],C=l*g+d*x+b,w=l*m+d*y+M,S=f[0],I=f[1],T=f[2],k=f[3],E=f[4],A=f[5];return v[0]=S*g+I*x,v[1]=S*m+I*y,v[2]=T*g+k*x,v[3]=T*m+k*y,v[4]=E*g+A*x+C,v[5]=E*m+A*y+w,this},transform:function(h,l,d,v,f,g){var m=this.matrix,x=m[0],y=m[1],b=m[2],M=m[3],C=m[4],w=m[5];return m[0]=h*x+l*b,m[1]=h*y+l*M,m[2]=d*x+v*b,m[3]=d*y+v*M,m[4]=f*x+g*b+C,m[5]=f*y+g*M+w,this},transformPoint:function(h,l,d){d===void 0&&(d={x:0,y:0});var v=this.matrix,f=v[0],g=v[1],m=v[2],x=v[3],y=v[4],b=v[5];return d.x=h*f+l*m+y,d.y=h*g+l*x+b,d},invert:function(){var h=this.matrix,l=h[0],d=h[1],v=h[2],f=h[3],g=h[4],m=h[5],x=l*f-d*v;return h[0]=f/x,h[1]=-d/x,h[2]=-v/x,h[3]=l/x,h[4]=(v*m-f*g)/x,h[5]=-(l*m-d*g)/x,this},copyFrom:function(h){var l=this.matrix;return l[0]=h.a,l[1]=h.b,l[2]=h.c,l[3]=h.d,l[4]=h.e,l[5]=h.f,this},copyFromArray:function(h){var l=this.matrix;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],this},copyToContext:function(h){var l=this.matrix;return h.transform(l[0],l[1],l[2],l[3],l[4],l[5]),h},setToContext:function(h){return h.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),h},copyToArray:function(h){var l=this.matrix;return h===void 0?h=[l[0],l[1],l[2],l[3],l[4],l[5]]:(h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5]),h},setTransform:function(h,l,d,v,f,g){var m=this.matrix;return m[0]=h,m[1]=l,m[2]=d,m[3]=v,m[4]=f,m[5]=g,this},decomposeMatrix:function(){var h=this.decomposedMatrix,l=this.matrix,d=l[0],v=l[1],f=l[2],g=l[3],m=d*g-v*f;if(h.translateX=l[4],h.translateY=l[5],d||v){var x=Math.sqrt(d*d+v*v);h.rotation=v>0?Math.acos(d/x):-Math.acos(d/x),h.scaleX=x,h.scaleY=m/x}else if(f||g){var y=Math.sqrt(f*f+g*g);h.rotation=Math.PI*.5-(g>0?Math.acos(-f/y):-Math.acos(f/y)),h.scaleX=m/y,h.scaleY=y}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,l,d,v,f){var g=this.matrix,m=Math.sin(d),x=Math.cos(d);return g[4]=h,g[5]=l,g[0]=x*v,g[1]=m*v,g[2]=-m*f,g[3]=x*f,this},applyInverse:function(h,l,d){d===void 0&&(d=new c);var v=this.matrix,f=v[0],g=v[1],m=v[2],x=v[3],y=v[4],b=v[5],M=1/(f*x+m*-g);return d.x=x*M*h+-m*M*l+(b*m-y*x)*M,d.y=f*M*l+-g*M*h+(-b*f+y*g)*M,d},setQuad:function(h,l,d,v,f,g){f===void 0&&(f=!1),g===void 0&&(g=this.quad);var m=this.matrix,x=m[0],y=m[1],b=m[2],M=m[3],C=m[4],w=m[5],S=h*x+l*b+C,I=h*y+l*M+w,T=h*x+v*b+C,k=h*y+v*M+w,E=d*x+v*b+C,A=d*y+v*M+w,L=d*x+l*b+C,D=d*y+l*M+w;if(f){var R=Math.floor(S+.5),N=Math.floor(I+.5),P=R-S,O=N-I;g[0]=R,g[1]=N,g[2]=T+P,g[3]=k+O,g[4]=E+P,g[5]=A+O,g[6]=L+P,g[7]=D+O}else g[0]=S,g[1]=I,g[2]=T,g[3]=k,g[4]=E,g[5]=A,g[6]=L,g[7]=D;return g},getX:function(h,l){return h*this.a+l*this.c+this.e},getY:function(h,l){return h*this.b+l*this.d+this.f},getXRound:function(h,l,d){var v=this.getX(h,l);return d&&(v=Math.floor(v+.5)),v},getYRound:function(h,l,d){var v=this.getY(h,l);return d&&(v=Math.floor(v+.5)),v},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});r.exports=u},59715:r=>{var o=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=o):(this._visible=!1,this.renderFlags&=~o)}},setVisible:function(a){return this.visible=a,this}};r.exports=t},31401:(r,o,t)=>{r.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(r,o,t)=>{var a=t(37105),p=t(10312),c=t(83419),u=t(31401),h=t(51708),l=t(95643),d=t(87841),v=t(29959),f=t(36899),g=t(26099),m=new u.TransformMatrix,x=new c({Extends:l,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.PostPipeline,u.Transform,u.Visible,v],initialize:function(b,M,C,w){l.call(this,b,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this._sortKey="",this._sysEvents=b.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(M,C),this.setBlendMode(p.SKIP_CHECK),w&&this.add(w)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(y){return y===void 0&&(y=!0),this.exclusive=y,this},getBounds:function(y){if(y===void 0&&(y=new d),y.setTo(this.x,this.y,0,0),this.parentContainer){var b=this.parentContainer.getBoundsTransformMatrix(),M=b.transformPoint(this.x,this.y);y.setTo(M.x,M.y,0,0)}if(this.list.length>0){var C=this.list,w=new d,S=!1;y.setEmpty();for(var I=0;I<C.length;I++){var T=C[I];T.getBounds&&(T.getBounds(w),S?f(w,y,y):(y.setTo(w.x,w.y,w.width,w.height),S=!0))}}return y},addHandler:function(y){y.once(h.DESTROY,this.onChildDestroyed,this),this.exclusive&&(y.parentContainer&&y.parentContainer.remove(y),y.parentContainer=this,y.removeFromDisplayList(),y.addedToScene())},removeHandler:function(y){y.off(h.DESTROY,this.remove,this),this.exclusive&&(y.parentContainer=null,y.removedFromScene(),y.addToDisplayList())},pointToContainer:function(y,b){b===void 0&&(b=new g),this.parentContainer?this.parentContainer.pointToContainer(y,b):(b.x=y.x,b.y=y.y);var M=m;return M.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),M.invert(),M.transformPoint(y.x,y.y,b),b},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(m,this.localTransform)},add:function(y){return a.Add(this.list,y,this.maxSize,this.addHandler,this),this},addAt:function(y,b){return a.AddAt(this.list,y,b,this.maxSize,this.addHandler,this),this},getAt:function(y){return this.list[y]},getIndex:function(y){return this.list.indexOf(y)},sort:function(y,b){return y?(b===void 0&&(b=function(M,C){return M[y]-C[y]}),a.StableSort(this.list,b),this):this},getByName:function(y){return a.GetFirst(this.list,"name",y)},getRandom:function(y,b){return a.GetRandom(this.list,y,b)},getFirst:function(y,b,M,C){return a.GetFirst(this.list,y,b,M,C)},getAll:function(y,b,M,C){return a.GetAll(this.list,y,b,M,C)},count:function(y,b,M,C){return a.CountAllMatching(this.list,y,b,M,C)},swap:function(y,b){return a.Swap(this.list,y,b),this},moveTo:function(y,b){return a.MoveTo(this.list,y,b),this},moveAbove:function(y,b){return a.MoveAbove(this.list,y,b),this},moveBelow:function(y,b){return a.MoveBelow(this.list,y,b),this},remove:function(y,b){var M=a.Remove(this.list,y,this.removeHandler,this);if(b&&M){Array.isArray(M)||(M=[M]);for(var C=0;C<M.length;C++)M[C].destroy()}return this},removeAt:function(y,b){var M=a.RemoveAt(this.list,y,this.removeHandler,this);return b&&M&&M.destroy(),this},removeBetween:function(y,b,M){var C=a.RemoveBetween(this.list,y,b,this.removeHandler,this);if(M)for(var w=0;w<C.length;w++)C[w].destroy();return this},removeAll:function(y){var b=this.list;if(y){for(var M=0;M<b.length;M++)b[M]&&b[M].scene&&(b[M].off(h.DESTROY,this.onChildDestroyed,this),b[M].destroy());this.list=[]}else a.RemoveBetween(b,0,b.length,this.removeHandler,this);return this},bringToTop:function(y){return a.BringToTop(this.list,y),this},sendToBack:function(y){return a.SendToBack(this.list,y),this},moveUp:function(y){return a.MoveUp(this.list,y),this},moveDown:function(y){return a.MoveDown(this.list,y),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(y,b,M){var C=a.Replace(this.list,y,b);return C&&(this.addHandler(b),this.removeHandler(y),M&&y.destroy()),this},exists:function(y){return this.list.indexOf(y)>-1},setAll:function(y,b,M,C){return a.SetAll(this.list,y,b,M,C),this},each:function(y,b){var M=[null],C,w=this.list.slice(),S=w.length;for(C=2;C<arguments.length;C++)M.push(arguments[C]);for(C=0;C<S;C++)M[0]=w[C],y.apply(b,M);return this},iterate:function(y,b){var M=[null],C;for(C=2;C<arguments.length;C++)M.push(arguments[C]);for(C=0;C<this.list.length;C++)M[0]=this.list[C],y.apply(b,M);return this},setScrollFactor:function(y,b,M){return b===void 0&&(b=y),M===void 0&&(M=!1),this.scrollFactorX=y,this.scrollFactorY=b,M&&(a.SetAll(this.list,"scrollFactorX",y),a.SetAll(this.list,"scrollFactorY",b)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(y){a.Remove(this.list,y),this.exclusive&&(y.parentContainer=null,y.removedFromScene())}});r.exports=x},53584:r=>{var o=function(t,a,p,c){p.addToRenderList(a);var u=a.list;if(u.length!==0){var h=a.localTransform;c?(h.loadIdentity(),h.multiply(c),h.translate(a.x,a.y),h.rotate(a.rotation),h.scale(a.scaleX,a.scaleY)):h.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var l=a.blendMode!==-1;l||t.setBlendMode(0);var d=a._alpha,v=a.scrollFactorX,f=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(t,null,p);for(var g=0;g<u.length;g++){var m=u[g];if(m.willRender(p)){var x=m.alpha,y=m.scrollFactorX,b=m.scrollFactorY;!l&&m.blendMode!==t.currentBlendMode&&t.setBlendMode(m.blendMode),m.setScrollFactor(y*v,b*f),m.setAlpha(x*d),m.renderCanvas(t,m,p,h),m.setAlpha(x),m.setScrollFactor(y,b)}}a.mask&&a.mask.postRenderCanvas(t)}};r.exports=o},77143:(r,o,t)=>{var a=t(25305),p=t(31559),c=t(44603),u=t(23568),h=t(95540);c.register("container",function(l,d){l===void 0&&(l={});var v=u(l,"x",0),f=u(l,"y",0),g=h(l,"children",null),m=new p(this.scene,v,f,g);return d!==void 0&&(l.add=d),a(this.scene,m,l),m})},24961:(r,o,t)=>{var a=t(31559),p=t(39429);p.register("container",function(c,u,h){return this.displayList.add(new a(this.scene,c,u,h))})},29959:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(72249),c=t(53584),r.exports={renderWebGL:p,renderCanvas:c}},72249:r=>{var o=function(t,a,p,c){p.addToRenderList(a);var u=a.list,h=u.length;if(h!==0){var l=a.localTransform;c?(l.loadIdentity(),l.multiply(c),l.translate(a.x,a.y),l.rotate(a.rotation),l.scale(a.scaleX,a.scaleY)):l.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),t.pipelines.preBatch(a);var d=a.blendMode!==-1;d||t.setBlendMode(0);for(var v=a.alpha,f=a.scrollFactorX,g=a.scrollFactorY,m=0;m<h;m++){var x=u[m];if(x.willRender(p)){var y,b,M,C;if(x.alphaTopLeft!==void 0)y=x.alphaTopLeft,b=x.alphaTopRight,M=x.alphaBottomLeft,C=x.alphaBottomRight;else{var w=x.alpha;y=w,b=w,M=w,C=w}var S=x.scrollFactorX,I=x.scrollFactorY;!d&&x.blendMode!==t.currentBlendMode&&t.setBlendMode(x.blendMode);var T=x.mask;T&&T.preRenderWebGL(t,x,p);var k=x.type;k!==t.currentType&&(t.newType=!0,t.currentType=k),t.nextTypeMatch=m<h-1?u[m+1].type===t.currentType:!1,x.setScrollFactor(S*f,I*g),x.setAlpha(y*v,b*v,M*v,C*v),x.renderWebGL(t,x,p,l,a),x.setAlpha(y,b,M,C),x.setScrollFactor(S,I),T&&T.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(a)}};r.exports=o},47407:r=>{r.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(441),u=t(95643),h=t(41212),l=t(35846),d=t(44594),v=t(61369),f=new a({Extends:u,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,c],initialize:function(m,x,y,b,M,C){u.call(this,m,"DOMElement"),this.parent=m.sys.game.domContainer,this.cache=m.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,y),typeof b=="string"?b[0]==="#"?this.setElement(b.substr(1),M,C):this.createElement(b,M,C):b&&this.setElement(b,M,C),m.sys.events.on(d.SLEEP,this.handleSceneEvent,this),m.sys.events.on(d.WAKE,this.handleSceneEvent,this),m.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(g){var m=this.node,x=m.style;m&&(x.display=g.settings.visible?"block":"none")},setSkew:function(g,m){return g===void 0&&(g=0),m===void 0&&(m=g),this.skewX=g,this.skewY=m,this},setPerspective:function(g){return this.parent.style.perspective=g+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(g){this.parent.style.perspective=g+"px"}},addListener:function(g){if(this.node){g=g.split(" ");for(var m=0;m<g.length;m++)this.node.addEventListener(g[m],this.handler,!1)}return this},removeListener:function(g){if(this.node){g=g.split(" ");for(var m=0;m<g.length;m++)this.node.removeEventListener(g[m],this.handler)}return this},dispatchNativeEvent:function(g){this.emit(g.type,g)},createElement:function(g,m,x){return this.setElement(document.createElement(g),m,x)},setElement:function(g,m,x){this.removeElement();var y;if(typeof g=="string"?(g[0]==="#"&&(g=g.substr(1)),y=document.getElementById(g)):typeof g=="object"&&g.nodeType===1&&(y=g),!y)return this;if(this.node=y,m&&h(m))for(var b in m)y.style[b]=m[b];else typeof m=="string"&&(y.style=m);return y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent&&this.parent.appendChild(y),x&&(y.innerText=x),this.updateSize()},createFromCache:function(g,m){var x=this.cache.get(g);return x&&this.createFromHTML(x,m),this},createFromHTML:function(g,m){m===void 0&&(m="div"),this.removeElement();var x=document.createElement(m);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),x.innerHTML=g,this.updateSize()},removeElement:function(){return this.node&&(l(this.node),this.node=null),this},updateSize:function(){var g=this.node;return this.width=g.clientWidth,this.height=g.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(g,m){if(this.node){for(var x=this.node.querySelectorAll("*"),y=0;y<x.length;y++)if(x[y][g]===m)return x[y]}return null},getChildByID:function(g){return this.getChildByProperty("id",g)},getChildByName:function(g){return this.getChildByProperty("name",g)},setClassName:function(g){return this.node&&(this.node.className=g,this.updateSize()),this},setText:function(g){return this.node&&(this.node.innerText=g,this.updateSize()),this},setHTML:function(g){return this.node&&(this.node.innerHTML=g,this.updateSize()),this},preRender:function(){var g=this.parentContainer,m=this.node;m&&g&&!g.willRender()&&(m.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});r.exports=f},49381:(r,o,t)=>{var a=t(47407),p=t(95643),c=t(61340),u=new c,h=new c,l=new c,d=function(v,f,g,m){if(f.node){var x=f.node.style,y=f.scene.sys.settings;if(!x||!y.visible||p.RENDER_MASK!==f.renderFlags||f.cameraFilter!==0&&f.cameraFilter&g.id||f.parentContainer&&!f.parentContainer.willRender()){x.display="none";return}var b=f.parentContainer,M=g.alpha*f.alpha;b&&(M*=b.alpha);var C=u,w=h,S=l,I=0,T=0,k="0%",E="0%";m?(I=f.width*f.scaleX*f.originX,T=f.height*f.scaleY*f.originY,w.applyITRS(f.x-I,f.y-T,f.rotation,f.scaleX,f.scaleY),C.copyFrom(g.matrix),C.multiplyWithOffset(m,-g.scrollX*f.scrollFactorX,-g.scrollY*f.scrollFactorY),w.e=f.x-I,w.f=f.y-T,C.multiply(w,S)):(I=f.width*f.originX,T=f.height*f.originY,w.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),C.copyFrom(g.matrix),k=100*f.originX+"%",E=100*f.originY+"%",w.e-=g.scrollX*f.scrollFactorX,w.f-=g.scrollY*f.scrollFactorY,C.multiply(w,S),S.e-=I,S.f-=T),f.transformOnly||(x.display="block",x.opacity=M,x.zIndex=f._depth,x.pointerEvents=f.pointerEvents,x.mixBlendMode=a[f._blendMode]),x.transform=S.getCSSMatrix()+" skew("+f.skewX+"rad, "+f.skewY+"rad) rotate3d("+f.rotate3d.x+","+f.rotate3d.y+","+f.rotate3d.z+","+f.rotate3d.w+f.rotate3dAngle+")",x.transformOrigin=k+" "+E}};r.exports=d},2611:(r,o,t)=>{var a=t(3069),p=t(39429);p.register("dom",function(c,u,h,l,d){var v=new a(this.scene,c,u,h,l,d);return this.displayList.add(v),v})},441:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(49381),c=t(49381),r.exports={renderWebGL:p,renderCanvas:c}},62980:r=>{r.exports="addedtoscene"},41337:r=>{r.exports="destroy"},44947:r=>{r.exports="removedfromscene"},49358:r=>{r.exports="complete"},35163:r=>{r.exports="created"},97249:r=>{r.exports="error"},19483:r=>{r.exports="locked"},56059:r=>{r.exports="loop"},26772:r=>{r.exports="metadata"},64437:r=>{r.exports="playing"},83411:r=>{r.exports="play"},75780:r=>{r.exports="seeked"},67799:r=>{r.exports="seeking"},63500:r=>{r.exports="stalled"},55541:r=>{r.exports="stop"},53208:r=>{r.exports="textureready"},4992:r=>{r.exports="unlocked"},12:r=>{r.exports="unsupported"},51708:(r,o,t)=>{r.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(95643),u=t(64993),h=new a({Extends:c,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,u],initialize:function(d){c.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});r.exports=h},70217:()=>{},56315:(r,o,t)=>{var a=t(42421),p=t(39429);p.register("extern",function(){var c=new a(this.scene);return this.displayList.add(c),c})},64993:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(80287),c=t(70217),r.exports={renderWebGL:p,renderCanvas:c}},80287:(r,o,t)=>{var a=t(91296),p=function(c,u,h,l){c.pipelines.clear();var d=a(u,h,l).calc;u.render.call(u,c,h,d),c.pipelines.rebind()};r.exports=p},85592:r=>{r.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(r,o,t)=>{var a=t(71911),p=t(83419),c=t(85592),u=t(31401),h=t(8497),l=t(95643),d=t(95540),v=t(35154),f=t(36383),g=t(84503),m=new p({Extends:l,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,g],initialize:function(y,b){var M=v(b,"x",0),C=v(b,"y",0);l.call(this,y,"Graphics"),this.setPosition(M,C),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(b)},setDefaultStyles:function(x){return v(x,"lineStyle",null)&&(this.defaultStrokeWidth=v(x,"lineStyle.width",1),this.defaultStrokeColor=v(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(x,"fillStyle",null)&&(this.defaultFillColor=v(x,"fillStyle.color",16777215),this.defaultFillAlpha=v(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,y,b){return b===void 0&&(b=1),this.commandBuffer.push(c.LINE_STYLE,x,y,b),this._lineWidth=x,this},fillStyle:function(x,y){return y===void 0&&(y=1),this.commandBuffer.push(c.FILL_STYLE,x,y),this},fillGradientStyle:function(x,y,b,M,C,w,S,I){return C===void 0&&(C=1),w===void 0&&(w=C),S===void 0&&(S=C),I===void 0&&(I=C),this.commandBuffer.push(c.GRADIENT_FILL_STYLE,C,w,S,I,x,y,b,M),this},lineGradientStyle:function(x,y,b,M,C,w){return w===void 0&&(w=1),this.commandBuffer.push(c.GRADIENT_LINE_STYLE,x,w,y,b,M,C),this},beginPath:function(){return this.commandBuffer.push(c.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(c.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(c.FILL_PATH),this},fill:function(){return this.commandBuffer.push(c.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(c.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(c.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,y,b){return this.beginPath(),this.arc(x,y,b,0,f.PI2),this.fillPath(),this},strokeCircle:function(x,y,b){return this.beginPath(),this.arc(x,y,b,0,f.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,y,b,M){return this.commandBuffer.push(c.FILL_RECT,x,y,b,M),this},strokeRect:function(x,y,b,M){var C=this._lineWidth/2,w=x-C,S=x+C;return this.beginPath(),this.moveTo(x,y),this.lineTo(x,y+M),this.strokePath(),this.beginPath(),this.moveTo(x+b,y),this.lineTo(x+b,y+M),this.strokePath(),this.beginPath(),this.moveTo(w,y),this.lineTo(S+b,y),this.strokePath(),this.beginPath(),this.moveTo(w,y+M),this.lineTo(S+b,y+M),this.strokePath(),this},fillRoundedRect:function(x,y,b,M,C){C===void 0&&(C=20);var w=C,S=C,I=C,T=C;typeof C!="number"&&(w=d(C,"tl",20),S=d(C,"tr",20),I=d(C,"bl",20),T=d(C,"br",20));var k=w>=0,E=S>=0,A=I>=0,L=T>=0;return w=Math.abs(w),S=Math.abs(S),I=Math.abs(I),T=Math.abs(T),this.beginPath(),this.moveTo(x+w,y),this.lineTo(x+b-S,y),E?this.arc(x+b-S,y+S,S,-f.TAU,0):this.arc(x+b,y,S,Math.PI,f.TAU,!0),this.lineTo(x+b,y+M-T),L?this.arc(x+b-T,y+M-T,T,0,f.TAU):this.arc(x+b,y+M,T,-f.TAU,Math.PI,!0),this.lineTo(x+I,y+M),A?this.arc(x+I,y+M-I,I,f.TAU,Math.PI):this.arc(x,y+M,I,0,-f.TAU,!0),this.lineTo(x,y+w),k?this.arc(x+w,y+w,w,-Math.PI,-f.TAU):this.arc(x,y,w,f.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,y,b,M,C){C===void 0&&(C=20);var w=C,S=C,I=C,T=C,k=Math.min(b,M)/2;typeof C!="number"&&(w=d(C,"tl",20),S=d(C,"tr",20),I=d(C,"bl",20),T=d(C,"br",20));var E=w>=0,A=S>=0,L=I>=0,D=T>=0;return w=Math.min(Math.abs(w),k),S=Math.min(Math.abs(S),k),I=Math.min(Math.abs(I),k),T=Math.min(Math.abs(T),k),this.beginPath(),this.moveTo(x+w,y),this.lineTo(x+b-S,y),this.moveTo(x+b-S,y),A?this.arc(x+b-S,y+S,S,-f.TAU,0):this.arc(x+b,y,S,Math.PI,f.TAU,!0),this.lineTo(x+b,y+M-T),this.moveTo(x+b,y+M-T),D?this.arc(x+b-T,y+M-T,T,0,f.TAU):this.arc(x+b,y+M,T,-f.TAU,Math.PI,!0),this.lineTo(x+I,y+M),this.moveTo(x+I,y+M),L?this.arc(x+I,y+M-I,I,f.TAU,Math.PI):this.arc(x,y+M,I,0,-f.TAU,!0),this.lineTo(x,y+w),this.moveTo(x,y+w),E?this.arc(x+w,y+w,w,-Math.PI,-f.TAU):this.arc(x,y,w,f.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,y){return this.fillPoint(x.x,x.y,y)},fillPoint:function(x,y,b){return!b||b<1?b=1:(x-=b/2,y-=b/2),this.commandBuffer.push(c.FILL_RECT,x,y,b,b),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,y,b,M,C,w){return this.commandBuffer.push(c.FILL_TRIANGLE,x,y,b,M,C,w),this},strokeTriangle:function(x,y,b,M,C,w){return this.commandBuffer.push(c.STROKE_TRIANGLE,x,y,b,M,C,w),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,y,b,M){return this.beginPath(),this.moveTo(x,y),this.lineTo(b,M),this.strokePath(),this},lineTo:function(x,y){return this.commandBuffer.push(c.LINE_TO,x,y),this},moveTo:function(x,y){return this.commandBuffer.push(c.MOVE_TO,x,y),this},strokePoints:function(x,y,b,M){y===void 0&&(y=!1),b===void 0&&(b=!1),M===void 0&&(M=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var C=1;C<M;C++)this.lineTo(x[C].x,x[C].y);return y&&this.lineTo(x[0].x,x[0].y),b&&this.closePath(),this.strokePath(),this},fillPoints:function(x,y,b,M){y===void 0&&(y=!1),b===void 0&&(b=!1),M===void 0&&(M=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var C=1;C<M;C++)this.lineTo(x[C].x,x[C].y);return y&&this.lineTo(x[0].x,x[0].y),b&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,y){y===void 0&&(y=32);var b=x.getPoints(y);return this.strokePoints(b,!0)},strokeEllipse:function(x,y,b,M,C){C===void 0&&(C=32);var w=new h(x,y,b,M),S=w.getPoints(C);return this.strokePoints(S,!0)},fillEllipseShape:function(x,y){y===void 0&&(y=32);var b=x.getPoints(y);return this.fillPoints(b,!0)},fillEllipse:function(x,y,b,M,C){C===void 0&&(C=32);var w=new h(x,y,b,M),S=w.getPoints(C);return this.fillPoints(S,!0)},arc:function(x,y,b,M,C,w,S){return w===void 0&&(w=!1),S===void 0&&(S=0),this.commandBuffer.push(c.ARC,x,y,b,M,C,w,S),this},slice:function(x,y,b,M,C,w,S){return w===void 0&&(w=!1),S===void 0&&(S=0),this.commandBuffer.push(c.BEGIN_PATH),this.commandBuffer.push(c.MOVE_TO,x,y),this.commandBuffer.push(c.ARC,x,y,b,M,C,w,S),this.commandBuffer.push(c.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(c.SAVE),this},restore:function(){return this.commandBuffer.push(c.RESTORE),this},translateCanvas:function(x,y){return this.commandBuffer.push(c.TRANSLATE,x,y),this},scaleCanvas:function(x,y){return this.commandBuffer.push(c.SCALE,x,y),this},rotateCanvas:function(x){return this.commandBuffer.push(c.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,y,b){var M=this.scene.sys,C=M.game.renderer;y===void 0&&(y=M.scale.width),b===void 0&&(b=M.scale.height),m.TargetCamera.setScene(this.scene),m.TargetCamera.setViewport(0,0,y,b),m.TargetCamera.scrollX=this.x,m.TargetCamera.scrollY=this.y;var w,S,I={willReadFrequently:!0};if(typeof x=="string")if(M.textures.exists(x)){w=M.textures.get(x);var T=w.getSourceImage();T instanceof HTMLCanvasElement&&(S=T.getContext("2d",I))}else w=M.textures.createCanvas(x,y,b),S=w.getSourceImage().getContext("2d",I);else x instanceof HTMLCanvasElement&&(S=x.getContext("2d",I));return S&&(this.renderCanvas(C,this,m.TargetCamera,null,S,!1),w&&w.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});m.TargetCamera=new a,r.exports=m},32768:(r,o,t)=>{var a=t(85592),p=t(20926),c=function(u,h,l,d,v,f){var g=h.commandBuffer,m=g.length,x=v||u.currentContext;if(!(m===0||!p(u,x,h,l,d))){l.addToRenderList(h);var y=1,b=1,M=0,C=0,w=1,S=0,I=0,T=0;x.beginPath();for(var k=0;k<m;++k){var E=g[k];switch(E){case a.ARC:x.arc(g[k+1],g[k+2],g[k+3],g[k+4],g[k+5],g[k+6]),k+=7;break;case a.LINE_STYLE:w=g[k+1],M=g[k+2],y=g[k+3],S=(M&16711680)>>>16,I=(M&65280)>>>8,T=M&255,x.strokeStyle="rgba("+S+","+I+","+T+","+y+")",x.lineWidth=w,k+=3;break;case a.FILL_STYLE:C=g[k+1],b=g[k+2],S=(C&16711680)>>>16,I=(C&65280)>>>8,T=C&255,x.fillStyle="rgba("+S+","+I+","+T+","+b+")",k+=2;break;case a.BEGIN_PATH:x.beginPath();break;case a.CLOSE_PATH:x.closePath();break;case a.FILL_PATH:f||x.fill();break;case a.STROKE_PATH:f||x.stroke();break;case a.FILL_RECT:f?x.rect(g[k+1],g[k+2],g[k+3],g[k+4]):x.fillRect(g[k+1],g[k+2],g[k+3],g[k+4]),k+=4;break;case a.FILL_TRIANGLE:x.beginPath(),x.moveTo(g[k+1],g[k+2]),x.lineTo(g[k+3],g[k+4]),x.lineTo(g[k+5],g[k+6]),x.closePath(),f||x.fill(),k+=6;break;case a.STROKE_TRIANGLE:x.beginPath(),x.moveTo(g[k+1],g[k+2]),x.lineTo(g[k+3],g[k+4]),x.lineTo(g[k+5],g[k+6]),x.closePath(),f||x.stroke(),k+=6;break;case a.LINE_TO:x.lineTo(g[k+1],g[k+2]),k+=2;break;case a.MOVE_TO:x.moveTo(g[k+1],g[k+2]),k+=2;break;case a.LINE_FX_TO:x.lineTo(g[k+1],g[k+2]),k+=5;break;case a.MOVE_FX_TO:x.moveTo(g[k+1],g[k+2]),k+=5;break;case a.SAVE:x.save();break;case a.RESTORE:x.restore();break;case a.TRANSLATE:x.translate(g[k+1],g[k+2]),k+=2;break;case a.SCALE:x.scale(g[k+1],g[k+2]),k+=2;break;case a.ROTATE:x.rotate(g[k+1]),k+=1;break;case a.GRADIENT_FILL_STYLE:k+=5;break;case a.GRADIENT_LINE_STYLE:k+=6;break}}x.restore()}};r.exports=c},87079:(r,o,t)=>{var a=t(44603),p=t(43831);a.register("graphics",function(c,u){c===void 0&&(c={}),u!==void 0&&(c.add=u);var h=new p(this.scene,c);return c.add&&this.scene.sys.displayList.add(h),h})},1201:(r,o,t)=>{var a=t(43831),p=t(39429);p.register("graphics",function(c){return this.displayList.add(new a(this.scene,c))})},84503:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(77545),c=t(32768),c=t(32768),r.exports={renderWebGL:p,renderCanvas:c}},77545:(r,o,t)=>{var a=t(85592),p=t(91296),c=t(61340),u=t(70554),h=function(g,m,x){this.x=g,this.y=m,this.width=x},l=function(g,m,x){this.points=[],this.pointsLength=1,this.points[0]=new h(g,m,x)},d=[],v=new c,f=function(g,m,x,y){if(m.commandBuffer.length!==0){x.addToRenderList(m);var b=g.pipelines.set(m.pipeline,m);g.pipelines.preBatch(m);for(var M=p(m,x,y).calc,C=v.loadIdentity(),w=m.commandBuffer,S=x.alpha*m.alpha,I=1,T=b.fillTint,k=b.strokeTint,E=0,A=0,L=0,D=.01,R=Math.PI*2,N,P=[],O=0,W=!0,G=null,H=u.getTintAppendFloatAlpha,V=0;V<w.length;V++)switch(N=w[V],N){case a.BEGIN_PATH:{P.length=0,G=null,W=!0;break}case a.CLOSE_PATH:{W=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case a.FILL_PATH:{for(O=0;O<P.length;O++)b.batchFillPath(P[O].points,C,M);break}case a.STROKE_PATH:{for(O=0;O<P.length;O++)b.batchStrokePath(P[O].points,I,W,C,M);break}case a.LINE_STYLE:{I=w[++V];var B=w[++V],j=w[++V]*S,U=H(B,j);k.TL=U,k.TR=U,k.BL=U,k.BR=U;break}case a.FILL_STYLE:{var X=w[++V],Z=w[++V]*S,$=H(X,Z);T.TL=$,T.TR=$,T.BL=$,T.BR=$;break}case a.GRADIENT_FILL_STYLE:{var J=w[++V]*S,Q=w[++V]*S,_=w[++V]*S,ae=w[++V]*S;T.TL=H(w[++V],J),T.TR=H(w[++V],Q),T.BL=H(w[++V],_),T.BR=H(w[++V],ae);break}case a.GRADIENT_LINE_STYLE:{I=w[++V];var ce=w[++V]*S;k.TL=H(w[++V],ce),k.TR=H(w[++V],ce),k.BL=H(w[++V],ce),k.BR=H(w[++V],ce);break}case a.ARC:{var he=0,de=w[++V],Te=w[++V],Fe=w[++V],He=w[++V],ue=w[++V],Ie=w[++V],Ve=w[++V];for(ue-=He,Ie?ue<-R?ue=-R:ue>0&&(ue=-R+ue%R):ue>R?ue=R:ue<0&&(ue=R+ue%R),G===null&&(G=new l(de+Math.cos(He)*Fe,Te+Math.sin(He)*Fe,I),P.push(G),he+=D);he<1+Ve;)L=ue*he+He,E=de+Math.cos(L)*Fe,A=Te+Math.sin(L)*Fe,G.points.push(new h(E,A,I)),he+=D;L=ue+He,E=de+Math.cos(L)*Fe,A=Te+Math.sin(L)*Fe,G.points.push(new h(E,A,I));break}case a.FILL_RECT:{b.batchFillRect(w[++V],w[++V],w[++V],w[++V],C,M);break}case a.FILL_TRIANGLE:{b.batchFillTriangle(w[++V],w[++V],w[++V],w[++V],w[++V],w[++V],C,M);break}case a.STROKE_TRIANGLE:{b.batchStrokeTriangle(w[++V],w[++V],w[++V],w[++V],w[++V],w[++V],I,C,M);break}case a.LINE_TO:{G!==null?G.points.push(new h(w[++V],w[++V],I)):(G=new l(w[++V],w[++V],I),P.push(G));break}case a.MOVE_TO:{G=new l(w[++V],w[++V],I),P.push(G);break}case a.SAVE:{d.push(C.copyToArray());break}case a.RESTORE:{C.copyFromArray(d.pop());break}case a.TRANSLATE:{de=w[++V],Te=w[++V],C.translate(de,Te);break}case a.SCALE:{de=w[++V],Te=w[++V],C.scale(de,Te);break}case a.ROTATE:{C.rotate(w[++V]);break}}g.pipelines.postBatch(m)}};r.exports=f},26479:(r,o,t)=>{var a=t(61061),p=t(83419),c=t(51708),u=t(50792),h=t(46710),l=t(95540),d=t(35154),v=t(97022),f=t(41212),g=t(88492),m=t(35072),x=t(68287),y=new p({Extends:u,initialize:function(M,C,w){u.call(this),w?C&&!Array.isArray(C)&&(C=[C]):Array.isArray(C)?f(C[0])&&(w=C,C=null):f(C)&&(w=C,C=null),this.scene=M,this.children=new m,this.isParent=!0,this.type="Group",this.classType=l(w,"classType",x),this.name=l(w,"name",""),this.active=l(w,"active",!0),this.maxSize=l(w,"maxSize",-1),this.defaultKey=l(w,"defaultKey",null),this.defaultFrame=l(w,"defaultFrame",null),this.runChildUpdate=l(w,"runChildUpdate",!1),this.createCallback=l(w,"createCallback",null),this.removeCallback=l(w,"removeCallback",null),this.createMultipleCallback=l(w,"createMultipleCallback",null),this.internalCreateCallback=l(w,"internalCreateCallback",null),this.internalRemoveCallback=l(w,"internalRemoveCallback",null),C&&this.addMultiple(C),w&&this.createMultiple(w),this.on(c.ADDED_TO_SCENE,this.addedToScene,this),this.on(c.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(b,M,C,w,S,I){if(b===void 0&&(b=0),M===void 0&&(M=0),C===void 0&&(C=this.defaultKey),w===void 0&&(w=this.defaultFrame),S===void 0&&(S=!0),I===void 0&&(I=!0),this.isFull())return null;var T=new this.classType(this.scene,b,M,C,w);return T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList(),T.visible=S,T.setActive(I),this.add(T),T},createMultiple:function(b){if(this.isFull())return[];Array.isArray(b)||(b=[b]);var M=[];if(b[0].key)for(var C=0;C<b.length;C++){var w=this.createFromConfig(b[C]);M=M.concat(w)}return M},createFromConfig:function(b){if(this.isFull())return[];this.classType=l(b,"classType",this.classType);var M=l(b,"key",void 0),C=l(b,"frame",null),w=l(b,"visible",!0),S=l(b,"active",!0),I=[];if(M===void 0)return I;Array.isArray(M)||(M=[M]),Array.isArray(C)||(C=[C]);var T=l(b,"repeat",0),k=l(b,"randomKey",!1),E=l(b,"randomFrame",!1),A=l(b,"yoyo",!1),L=l(b,"quantity",!1),D=l(b,"frameQuantity",1),R=l(b,"max",0),N=g(M,C,{max:R,qty:L||D,random:k,randomB:E,repeat:T,yoyo:A});b.createCallback&&(this.createCallback=b.createCallback),b.removeCallback&&(this.removeCallback=b.removeCallback),b.internalCreateCallback&&(this.internalCreateCallback=b.internalCreateCallback),b.internalRemoveCallback&&(this.internalRemoveCallback=b.internalRemoveCallback);for(var P=0;P<N.length;P++){var O=this.create(0,0,N[P].a,N[P].b,w,S);if(!O)break;I.push(O)}if(v(b,"setXY")){var W=d(b,"setXY.x",0),G=d(b,"setXY.y",0),H=d(b,"setXY.stepX",0),V=d(b,"setXY.stepY",0);a.SetXY(I,W,G,H,V)}if(v(b,"setRotation")){var B=d(b,"setRotation.value",0),j=d(b,"setRotation.step",0);a.SetRotation(I,B,j)}if(v(b,"setScale")){var U=d(b,"setScale.x",1),X=d(b,"setScale.y",U),Z=d(b,"setScale.stepX",0),$=d(b,"setScale.stepY",0);a.SetScale(I,U,X,Z,$)}if(v(b,"setOrigin")){var J=d(b,"setOrigin.x",.5),Q=d(b,"setOrigin.y",J),_=d(b,"setOrigin.stepX",0),ae=d(b,"setOrigin.stepY",0);a.SetOrigin(I,J,Q,_,ae)}if(v(b,"setAlpha")){var ce=d(b,"setAlpha.value",1),he=d(b,"setAlpha.step",0);a.SetAlpha(I,ce,he)}if(v(b,"setDepth")){var de=d(b,"setDepth.value",0),Te=d(b,"setDepth.step",0);a.SetDepth(I,de,Te)}if(v(b,"setScrollFactor")){var Fe=d(b,"setScrollFactor.x",1),He=d(b,"setScrollFactor.y",Fe),ue=d(b,"setScrollFactor.stepX",0),Ie=d(b,"setScrollFactor.stepY",0);a.SetScrollFactor(I,Fe,He,ue,Ie)}var Ve=l(b,"hitArea",null),je=l(b,"hitAreaCallback",null);Ve&&a.SetHitArea(I,Ve,je);var $e=l(b,"gridAlign",!1);return $e&&a.GridAlign(I,$e),this.createMultipleCallback&&this.createMultipleCallback.call(this,I),I},preUpdate:function(b,M){if(!(!this.runChildUpdate||this.children.size===0))for(var C=this.children.entries.slice(),w=0;w<C.length;w++){var S=C[w];S.active&&S.update(b,M)}},add:function(b,M){return M===void 0&&(M=!1),this.isFull()?this:(this.children.set(b),this.internalCreateCallback&&this.internalCreateCallback.call(this,b),this.createCallback&&this.createCallback.call(this,b),M&&(b.addToDisplayList(this.scene.sys.displayList),b.addToUpdateList()),b.on(c.DESTROY,this.remove,this),this)},addMultiple:function(b,M){if(M===void 0&&(M=!1),Array.isArray(b))for(var C=0;C<b.length;C++)this.add(b[C],M);return this},remove:function(b,M,C){return M===void 0&&(M=!1),C===void 0&&(C=!1),this.children.contains(b)?(this.children.delete(b),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,b),this.removeCallback&&this.removeCallback.call(this,b),b.off(c.DESTROY,this.remove,this),C?b.destroy():M&&(b.removeFromDisplayList(),b.removeFromUpdateList()),this):this},clear:function(b,M){b===void 0&&(b=!1),M===void 0&&(M=!1);for(var C=this.children,w=0;w<C.size;w++){var S=C.entries[w];S.off(c.DESTROY,this.remove,this),M?S.destroy():b&&(S.removeFromDisplayList(),S.removeFromUpdateList())}return this.children.clear(),this},contains:function(b){return this.children.contains(b)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(b,M,C,w){return h(this.children.entries,b,M,C,w)},getFirst:function(b,M,C,w,S,I,T){return this.getHandler(!0,1,b,M,C,w,S,I,T)},getFirstNth:function(b,M,C,w,S,I,T,k){return this.getHandler(!0,b,M,C,w,S,I,T,k)},getLast:function(b,M,C,w,S,I,T){return this.getHandler(!1,1,b,M,C,w,S,I,T)},getLastNth:function(b,M,C,w,S,I,T,k){return this.getHandler(!1,b,M,C,w,S,I,T,k)},getHandler:function(b,M,C,w,S,I,T,k,E){C===void 0&&(C=!1),w===void 0&&(w=!1);var A,L,D=0,R=this.children.entries;if(b)for(L=0;L<R.length;L++)if(A=R[L],A.active===C){if(D++,D===M)break}else A=null;else for(L=R.length-1;L>=0;L--)if(A=R[L],A.active===C){if(D++,D===M)break}else A=null;return A?(typeof S=="number"&&(A.x=S),typeof I=="number"&&(A.y=I),A):w?this.create(S,I,T,k,E):null},get:function(b,M,C,w,S){return this.getFirst(!1,!0,b,M,C,w,S)},getFirstAlive:function(b,M,C,w,S,I){return this.getFirst(!0,b,M,C,w,S,I)},getFirstDead:function(b,M,C,w,S,I){return this.getFirst(!1,b,M,C,w,S,I)},playAnimation:function(b,M){return a.PlayAnimation(this.children.entries,b,M),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(b){b===void 0&&(b=!0);for(var M=0,C=0;C<this.children.size;C++)this.children.entries[C].active===b&&M++;return M},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var b=this.getTotalUsed(),M=this.maxSize===-1?999999999999:this.maxSize;return M-b},setActive:function(b){return this.active=b,this},setName:function(b){return this.name=b,this},propertyValueSet:function(b,M,C,w,S){return a.PropertyValueSet(this.children.entries,b,M,C,w,S),this},propertyValueInc:function(b,M,C,w,S){return a.PropertyValueInc(this.children.entries,b,M,C,w,S),this},setX:function(b,M){return a.SetX(this.children.entries,b,M),this},setY:function(b,M){return a.SetY(this.children.entries,b,M),this},setXY:function(b,M,C,w){return a.SetXY(this.children.entries,b,M,C,w),this},incX:function(b,M){return a.IncX(this.children.entries,b,M),this},incY:function(b,M){return a.IncY(this.children.entries,b,M),this},incXY:function(b,M,C,w){return a.IncXY(this.children.entries,b,M,C,w),this},shiftPosition:function(b,M,C){return a.ShiftPosition(this.children.entries,b,M,C),this},angle:function(b,M){return a.Angle(this.children.entries,b,M),this},rotate:function(b,M){return a.Rotate(this.children.entries,b,M),this},rotateAround:function(b,M){return a.RotateAround(this.children.entries,b,M),this},rotateAroundDistance:function(b,M,C){return a.RotateAroundDistance(this.children.entries,b,M,C),this},setAlpha:function(b,M){return a.SetAlpha(this.children.entries,b,M),this},setTint:function(b,M,C,w){return a.SetTint(this.children.entries,b,M,C,w),this},setOrigin:function(b,M,C,w){return a.SetOrigin(this.children.entries,b,M,C,w),this},scaleX:function(b,M){return a.ScaleX(this.children.entries,b,M),this},scaleY:function(b,M){return a.ScaleY(this.children.entries,b,M),this},scaleXY:function(b,M,C,w){return a.ScaleXY(this.children.entries,b,M,C,w),this},setDepth:function(b,M){return a.SetDepth(this.children.entries,b,M),this},setBlendMode:function(b){return a.SetBlendMode(this.children.entries,b),this},setHitArea:function(b,M){return a.SetHitArea(this.children.entries,b,M),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(b){this.children.contains(b)&&b.setActive(!1)},killAndHide:function(b){this.children.contains(b)&&(b.setActive(!1),b.setVisible(!1))},setVisible:function(b,M,C){return a.SetVisible(this.children.entries,b,M,C),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(b,M){b===void 0&&(b=!1),M===void 0&&(M=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(c.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(M,b),this.scene=void 0,this.children=void 0)}});r.exports=y},94975:(r,o,t)=>{var a=t(44603),p=t(26479);a.register("group",function(c){return new p(this.scene,null,c)})},3385:(r,o,t)=>{var a=t(26479),p=t(39429);p.register("group",function(c,u){return this.updateList.add(new a(this.scene,c,u))})},88571:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(95643),u=t(59819),h=new a({Extends:c,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,u],initialize:function(d,v,f,g,m){c.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,m),this.setPosition(v,f),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=h},40652:r=>{var o=function(t,a,p,c){p.addToRenderList(a),t.batchSprite(a,a.frame,p,c)};r.exports=o},82459:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(88571);p.register("image",function(h,l){h===void 0&&(h={});var d=c(h,"key",null),v=c(h,"frame",null),f=new u(this.scene,0,0,d,v);return l!==void 0&&(h.add=l),a(this.scene,f,h),f})},2117:(r,o,t)=>{var a=t(88571),p=t(39429);p.register("image",function(c,u,h,l){return this.displayList.add(new a(this.scene,c,u,h,l))})},59819:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(99517),c=t(40652),r.exports={renderWebGL:p,renderCanvas:c}},99517:r=>{var o=function(t,a,p,c){p.addToRenderList(a),this.pipeline.batchSprite(a,p,c)};r.exports=o},77856:(r,o,t)=>{var a={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};a.Shader=t(20071),a.Mesh=t(4703),a.NineSlice=t(28103),a.PointLight=t(80321),a.Plane=t(33663),a.Factories.Shader=t(74177),a.Factories.Mesh=t(9225),a.Factories.NineSlice=t(47521),a.Factories.PointLight=t(71255),a.Factories.Plane=t(30985),a.Creators.Shader=t(54935),a.Creators.Mesh=t(20527),a.Creators.NineSlice=t(28279),a.Creators.PointLight=t(39829),a.Creators.Plane=t(56015),a.Light=t(41432),a.LightsManager=t(61356),a.LightsPlugin=t(88992),r.exports=a},93595:(r,o,t)=>{var a=t(10312),p=t(83419),c=t(31401),u=t(53774),h=t(45893),l=t(50792),d=t(51708),v=t(73162),f=t(33963),g=t(44594),m=t(19186),x=new p({Extends:v,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.PostPipeline,c.Visible,l,f],initialize:function(b,M){v.call(this,b),l.call(this),this.scene=b,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=b.sys,this.events=b.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),M&&this.add(M),b.sys.queueDepthSort()},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},setState:function(y){return this.state=y,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(y,b){return this.data||(this.data=new h(this)),this.data.set(y,b),this},incData:function(y,b){return this.data||(this.data=new h(this)),this.data.inc(y,b),this},toggleData:function(y){return this.data||(this.data=new h(this)),this.data.toggle(y),this},getData:function(y){return this.data||(this.data=new h(this)),this.data.get(y)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(y){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&y.id)},getIndexList:function(){for(var y=this,b=this.parentContainer,M=[];b&&(M.unshift(b.getIndex(y)),y=b,b.parentContainer);)b=b.parentContainer;return M.unshift(this.displayList.getIndex(y)),M},addChildCallback:function(y){var b=y.displayList;b&&b!==this&&y.removeFromDisplayList(),y.displayList||(this.queueDepthSort(),y.displayList=this,y.emit(d.ADDED_TO_SCENE,y,this.scene),this.events.emit(g.ADDED_TO_SCENE,y,this.scene))},removeChildCallback:function(y){this.queueDepthSort(),y.displayList=null,y.emit(d.REMOVED_FROM_SCENE,y,this.scene),this.events.emit(g.REMOVED_FROM_SCENE,y,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(m(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(y,b){return y._depth-b._depth},getChildren:function(){return this.list},addToDisplayList:function(y){return y===void 0&&(y=this.scene.sys.displayList),this.displayList&&this.displayList!==y&&this.removeFromDisplayList(),y.exists(this)||(this.displayList=y,y.add(this,!0),y.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),y.events.emit(g.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var y=this.displayList||this.scene.sys.displayList;return y.exists(this)&&(y.remove(this,!0),y.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),y.events.emit(g.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var y=null;return this.parentContainer?y=this.parentContainer.list:this.displayList&&(y=this.displayList.list),y},destroy:function(y){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var b=this.list;b.length;)b[0].destroy(y);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});r.exports=x},2956:r=>{var o=function(t,a,p){var c=a.list;if(c.length!==0){a.depthSort();var u=a.blendMode!==-1;u||t.setBlendMode(0);var h=a._alpha;a.mask&&a.mask.preRenderCanvas(t,null,p);for(var l=0;l<c.length;l++){var d=c[l];if(d.willRender(p)){var v=d.alpha;!u&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode),d.setAlpha(v*h),d.renderCanvas(t,d,p),d.setAlpha(v)}}a.mask&&a.mask.postRenderCanvas(t)}};r.exports=o},25179:(r,o,t)=>{var a=t(25305),p=t(93595),c=t(44603),u=t(23568);c.register("layer",function(h,l){h===void 0&&(h={});var d=u(h,"children",null),v=new p(this.scene,d);return l!==void 0&&(h.add=l),a(this.scene,v,h),v})},20005:(r,o,t)=>{var a=t(93595),p=t(39429);p.register("layer",function(c){return this.displayList.add(new a(this.scene,c))})},33963:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(15869),c=t(2956),r.exports={renderWebGL:p,renderCanvas:c}},15869:r=>{var o=function(t,a,p){var c=a.list,u=c.length;if(u!==0){a.depthSort(),t.pipelines.preBatch(a);var h=a.blendMode!==-1;h||t.setBlendMode(0);for(var l=a.alpha,d=0;d<u;d++){var v=c[d];if(v.willRender(p)){var f,g,m,x;if(v.alphaTopLeft!==void 0)f=v.alphaTopLeft,g=v.alphaTopRight,m=v.alphaBottomLeft,x=v.alphaBottomRight;else{var y=v.alpha;f=y,g=y,m=y,x=y}!h&&v.blendMode!==t.currentBlendMode&&t.setBlendMode(v.blendMode);var b=v.mask;b&&b.preRenderWebGL(t,v,p);var M=v.type;M!==t.currentType&&(t.newType=!0,t.currentType=M),t.nextTypeMatch=d<u-1?c[d+1].type===t.currentType:!1,v.setAlpha(f*l,g*l,m*l,x*l),v.renderWebGL(t,v,p),v.setAlpha(f,g,m,x),b&&b.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(a)}};r.exports=o},41432:(r,o,t)=>{var a=t(96503),p=t(83419),c=t(31401),u=t(51767),h=t(70554),l=new p({Extends:a,Mixins:[c.Origin,c.ScrollFactor,c.Visible],initialize:function(v,f,g,m,x,y,b){a.call(this,v,f,g),this.color=new u(m,x,y),this.intensity=b,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(g)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setColor:function(d){var v=h.getFloatsFromUintRGB(d);return this.color.set(v[0],v[1],v[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});l.RENDER_MASK=15,r.exports=l},61356:(r,o,t)=>{var a=t(81491),p=t(83419),c=t(20339),u=t(41432),h=t(80321),l=t(51767),d=t(19133),v=t(19186),f=t(70554),g=new p({initialize:function(){this.lights=[],this.ambientColor=new l(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(m,x,y,b,M,C){return this.systems.displayList.add(new h(this.scene,m,x,y,b,M,C))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(m){for(var x=this.lights,y=m.worldView,b=[],M=0;M<x.length;M++){var C=x[M];C.willRender(m)&&a(C,y)&&b.push({light:C,distance:c(C.x,C.y,y.centerX,y.centerY)})}return b.length>this.maxLights&&(v(b,this.sortByDistance),b=b.slice(0,this.maxLights)),this.visibleLights=b.length,b},sortByDistance:function(m,x){return m.distance>=x.distance},setAmbientColor:function(m){var x=f.getFloatsFromUintRGB(m);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(m,x,y,b,M){m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=128),b===void 0&&(b=16777215),M===void 0&&(M=1);var C=f.getFloatsFromUintRGB(b),w=new u(m,x,y,C[0],C[1],C[2],M);return this.lights.push(w),w},removeLight:function(m){var x=this.lights.indexOf(m);return x>=0&&d(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});r.exports=g},88992:(r,o,t)=>{var a=t(83419),p=t(61356),c=t(37277),u=t(44594),h=new a({Extends:p,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(u.BOOT,this.boot,this),p.call(this)},boot:function(){var l=this.systems.events;l.on(u.SHUTDOWN,this.shutdown,this),l.on(u.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});c.register("LightsPlugin",h,"lights"),r.exports=h},4703:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(39506),u=t(83997),h=t(95643),l=t(34684),d=t(92515),v=t(91296),f=t(37867),g=t(29807),m=t(43396),x=t(19186),y=t(25836),b=t(39318),M=new a({Extends:h,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,g],initialize:function(w,S,I,T,k,E,A,L,D,R,N,P){S===void 0&&(S=0),I===void 0&&(I=0),T===void 0&&(T="__WHITE"),h.call(this,w,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new y,this.modelScale=new y(1,1,1),this.modelRotation=new y,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new f,this.viewPosition=new y,this.viewMatrix=new f,this.projectionMatrix=new f,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var O=w.sys.renderer;this.setPosition(S,I),this.setTexture(T,k),this.setSize(O.width,O.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(O.width,O.height),E&&this.addVertices(E,A,L,D,R,N,P)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(C){return this.viewPosition.addScale(y.LEFT,C),this.dirtyCache[10]=1,this},panY:function(C){return this.viewPosition.y+=y.DOWN.y*C,this.dirtyCache[10]=1,this},panZ:function(C){return this.viewPosition.z+=C,this.dirtyCache[10]=1,this},setPerspective:function(C,w,S,I,T){return S===void 0&&(S=45),I===void 0&&(I=.01),T===void 0&&(T=1e3),this.fov=S,this.projectionMatrix.perspective(c(S),C/w,I,T),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(C,w,S,I){return C===void 0&&(C=this.scene.sys.renderer.getAspectRatio()),w===void 0&&(w=1),S===void 0&&(S=-1e3),I===void 0&&(I=1e3),this.fov=0,this.projectionMatrix.ortho(-C,C,-w,w,S,I),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(C){C.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(C,w,S,I,T,k,E,A,L){var D=this.scene.sys.cache.obj.get(C),R;return D&&(R=l(D,this,w,S,I,T,k,E,A,L)),(!R||R.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",C),this},sortByDepth:function(C,w){return C.depth-w.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(C,w,S,I,T,k,E){var A=new b(C,w,S,I,T,k,E);return this.vertices.push(A),A},addFace:function(C,w,S){var I=new u(C,w,S);return this.faces.push(I),this.dirtyCache[9]=-1,I},addVertices:function(C,w,S,I,T,k,E){var A=d(C,w,S,I,T,k,E);return A?(this.faces=this.faces.concat(A.faces),this.vertices=this.vertices.concat(A.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(C){return this.faces[C]},hasFaceAt:function(C,w,S){S===void 0&&(S=this.scene.sys.cameras.main);for(var I=v(this,S).calc,T=this.faces,k=0;k<T.length;k++){var E=T[k];if(E.contains(C,w,I))return!0}return!1},getFaceAt:function(C,w,S){S===void 0&&(S=this.scene.sys.cameras.main);for(var I=v(this,S).calc,T=this.faces,k=[],E=0;E<T.length;E++){var A=T[E];A.contains(C,w,I)&&k.push(A)}return x(k,this.sortByDepth)},setDebug:function(C,w){return this.debugGraphic=C,!C&&!w?this.debugCallback=null:w?this.debugCallback=w:this.debugCallback=this.renderDebug,this},isDirty:function(){var C=this.modelPosition,w=this.modelRotation,S=this.modelScale,I=this.dirtyCache,T=C.x,k=C.y,E=C.z,A=w.x,L=w.y,D=w.z,R=S.x,N=S.y,P=S.z,O=this.getFaceCount(),W=I[0],G=I[1],H=I[2],V=I[3],B=I[4],j=I[5],U=I[6],X=I[7],Z=I[8],$=I[9];return I[0]=T,I[1]=k,I[2]=E,I[3]=A,I[4]=L,I[5]=D,I[6]=R,I[7]=N,I[8]=P,I[9]=O,W!==T||G!==k||H!==E||V!==A||B!==L||j!==D||U!==R||X!==N||Z!==P||$!==O},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var C=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!C[10]&&!this.isDirty())){var w=this.width,S=this.height,I=this.viewMatrix,T=this.viewPosition;C[10]&&(I.identity(),I.translate(T),I.invert(),C[10]=0);var k=this.transformMatrix;k.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var E=T.z,A=this.faces,L=0;L<A.length;L++)A[L].transformCoordinatesLocal(k,w,S,E);this.depthSort()}},renderDebug:function(C,w){for(var S=C.debugGraphic,I=0;I<w.length;I++){var T=w[I],k=T.vertex1.tx,E=T.vertex1.ty,A=T.vertex2.tx,L=T.vertex2.ty,D=T.vertex3.tx,R=T.vertex3.ty;S.strokeTriangle(k,E,A,L,D,R)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(C){C===void 0&&(C={});var w=function(S,I,T){for(var k=this.faces,E=0;E<k.length;E++){var A=k[E];if(A.contains(I,T))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,C,w),this},setTint:function(C){C===void 0&&(C=16777215);for(var w=this.vertices,S=0;S<w.length;S++)w[S].color=C;return this},uvScroll:function(C,w){for(var S=this.faces,I=0;I<S.length;I++)S[I].scrollUV(C,w);return this},uvScale:function(C,w){for(var S=this.faces,I=0;I<S.length;I++)S[I].scaleUV(C,w);return this},tint:{set:function(C){this.setTint(C)}},rotateX:{get:function(){return m(this.modelRotation.x)},set:function(C){this.modelRotation.x=c(C)}},rotateY:{get:function(){return m(this.modelRotation.y)},set:function(C){this.modelRotation.y=c(C)}},rotateZ:{get:function(){return m(this.modelRotation.z)},set:function(C){this.modelRotation.z=c(C)}}});r.exports=M},36488:r=>{var o=function(){};r.exports=o},20527:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(35154),h=t(4703);p.register("mesh",function(l,d){l===void 0&&(l={});var v=c(l,"key",null),f=c(l,"frame",null),g=u(l,"vertices",[]),m=u(l,"uvs",[]),x=u(l,"indicies",[]),y=u(l,"containsZ",!1),b=u(l,"normals",[]),M=u(l,"colors",16777215),C=u(l,"alphas",1),w=new h(this.scene,0,0,v,f,g,m,x,y,b,M,C);return d!==void 0&&(l.add=d),a(this.scene,w,l),w})},9225:(r,o,t)=>{var a=t(4703),p=t(39429);p.register("mesh",function(c,u,h,l,d,v,f,g,m,x,y){return this.displayList.add(new a(this.scene,c,u,h,l,d,v,f,g,m,x,y))})},29807:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(48833),c=t(36488),r.exports={renderWebGL:p,renderCanvas:c}},48833:(r,o,t)=>{var a=t(91296),p=function(c,u,h,l){var d=u.faces,v=d.length;if(v!==0){h.addToRenderList(u);var f=c.pipelines.set(u.pipeline,u),g=a(u,h,l).calc;c.pipelines.preBatch(u);for(var m=f.setGameObject(u),x=f.vertexViewF32,y=f.vertexViewU32,b=f.vertexCount*f.currentShader.vertexComponentCount-1,M=u.tintFill,C=[],w=u.debugCallback,S=g.a,I=g.b,T=g.c,k=g.d,E=g.e,A=g.f,L=u.viewPosition.z,D=u.hideCCW,R=h.roundPixels,N=h.alpha*u.alpha,P=0,O=0;O<v;O++){var W=d[O];W.isInView(h,D,L,N,S,I,T,k,E,A,R)&&(f.shouldFlush(3)&&(f.flush(),m=f.setGameObject(u),b=f.vertexCount*f.currentShader.vertexComponentCount-1),b=W.load(x,y,b,m,M),P++,f.vertexCount+=3,f.currentBatch.count=f.vertexCount-f.currentBatch.start,w&&C.push(W))}u.totalFrame+=P,w&&w.call(u,u,C),c.pipelines.postBatch(u)}};r.exports=p},28103:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(95643),u=t(78023),h=t(39318),l=new a({Extends:c,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,u],initialize:function(v,f,g,m,x,y,b,M,C,w,S){c.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var I=v.textures.getFrame(m,x);this.is3Slice=!w&&!S,I&&I.scale9&&(this.is3Slice=I.is3Slice);for(var T=this.is3Slice?18:54,k=0;k<T;k++)this.vertices.push(new h);this.setPosition(f,g),this.setTexture(m,x),this.setSlices(y,b,M,C,w,S,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,v,f,g,m,x,y){f===void 0&&(f=10),g===void 0&&(g=10),m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=!1);var b=this.frame,M=!1;if(this.is3Slice&&y&&m!==0&&x!==0&&(M=!0),M)console.warn("Cannot change 9 slice to 3 slice");else{if(b&&b.scale9&&!y){var C=b.data.scale9Borders,w=C.x,S=C.y;f=w,g=b.width-C.w-w,m=S,x=b.height-C.h-S,d===void 0&&(d=b.width),v===void 0&&(v=b.height)}else d===void 0&&(d=256),v===void 0&&(v=256);this._width=d,this._height=v,this.leftWidth=f,this.rightWidth=g,this.topHeight=m,this.bottomHeight=x,this.is3Slice&&(v=b.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,v=this.rightWidth,f=this.topHeight,g=this.bottomHeight,m=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,d/m,f/x),this.updateQuadUVs(6,d/m,0,1-v/m,f/x),this.updateQuadUVs(12,1-v/m,0,1,f/x),this.is3Slice||(this.updateQuadUVs(18,0,f/x,d/m,1-g/x),this.updateQuadUVs(24,d/m,f/x,1-v/m,1-g/x),this.updateQuadUVs(30,1-v/m,f/x,1,1-g/x),this.updateQuadUVs(36,0,1-g/x,d/m,1),this.updateQuadUVs(42,d/m,1-g/x,1-v/m,1),this.updateQuadUVs(48,1-v/m,1-g/x,1,1))},updateVertices:function(){var d=this.leftWidth,v=this.rightWidth,f=this.topHeight,g=this.bottomHeight,m=this.width,x=this.height;this.updateQuad(0,-.5,.5,-.5+d/m,.5-f/x),this.updateQuad(6,-.5+d/m,.5,.5-v/m,.5-f/x),this.updateQuad(12,.5-v/m,.5,.5,.5-f/x),this.is3Slice||(this.updateQuad(18,-.5,.5-f/x,-.5+d/m,-.5+g/x),this.updateQuad(24,-.5+d/m,.5-f/x,.5-v/m,-.5+g/x),this.updateQuad(30,.5-v/m,.5-f/x,.5,-.5+g/x),this.updateQuad(36,-.5,-.5+g/x,-.5+d/m,-.5),this.updateQuad(42,-.5+d/m,-.5+g/x,.5-v/m,-.5),this.updateQuad(48,.5-v/m,-.5+g/x,.5,-.5))},updateQuad:function(d,v,f,g,m){var x=this.width,y=this.height,b=this.originX,M=this.originY,C=this.vertices;C[d+0].resize(v,f,x,y,b,M),C[d+1].resize(v,m,x,y,b,M),C[d+2].resize(g,f,x,y,b,M),C[d+3].resize(v,m,x,y,b,M),C[d+4].resize(g,m,x,y,b,M),C[d+5].resize(g,f,x,y,b,M)},updateQuadUVs:function(d,v,f,g,m){var x=this.vertices,y=this.frame,b=y.u0,M=y.v0,C=y.u1,w=y.v1;if(b!==0||C!==1){var S=C-b;v=b+v*S,g=b+g*S}if(M!==0||w!==1){var I=w-M;f=M+f*I,m=M+m*I}x[d+0].setUVs(v,f),x[d+1].setUVs(v,m),x[d+2].setUVs(g,f),x[d+3].setUVs(v,m),x[d+4].setUVs(g,m),x[d+5].setUVs(g,f)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,v){this.width=d,this.height=v,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},setDisplaySize:function(d,v){return this.displayWidth=d,this.displayHeight=v,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,v){return d===void 0&&(d=.5),v===void 0&&(v=d),this._originX=d,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});r.exports=l},28279:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(35154),h=t(28103);p.register("nineslice",function(l,d){l===void 0&&(l={});var v=c(l,"key",null),f=c(l,"frame",null),g=u(l,"width",256),m=u(l,"height",256),x=u(l,"leftWidth",10),y=u(l,"rightWidth",10),b=u(l,"topHeight",0),M=u(l,"bottomHeight",0),C=new h(this.scene,0,0,v,f,g,m,x,y,b,M);return d!==void 0&&(l.add=d),a(this.scene,C,l),C})},47521:(r,o,t)=>{var a=t(28103),p=t(39429);p.register("nineslice",function(c,u,h,l,d,v,f,g,m,x){return this.displayList.add(new a(this.scene,c,u,h,l,d,v,f,g,m,x))})},78023:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(52230),r.exports={renderWebGL:p,renderCanvas:c}},52230:(r,o,t)=>{var a=t(91296),p=t(70554),c=function(u,h,l,d){var v=h.vertices,f=v.length;if(f!==0){l.addToRenderList(h);var g=u.pipelines.set(h.pipeline,h),m=a(h,l,d,!1).calc;u.pipelines.preBatch(h);var x=g.setGameObject(h),y=g.vertexViewF32,b=g.vertexViewU32,M=g.vertexCount*g.currentShader.vertexComponentCount-1,C=l.roundPixels,w=h.tintFill,S=l.alpha*h.alpha,I=p.getTintAppendFloatAlpha(h.tint,S),T=g.vertexAvailable(),k=-1;T<f&&(k=T);for(var E=0;E<f;E++){var A=v[E];E===k&&(g.flush(),x=g.setGameObject(h),M=0),y[++M]=m.getXRound(A.vx,A.vy,C),y[++M]=m.getYRound(A.vx,A.vy,C),y[++M]=A.u,y[++M]=A.v,y[++M]=x,y[++M]=w,b[++M]=I,g.vertexCount++,g.currentBatch.count=g.vertexCount-g.currentBatch.start}u.pipelines.postBatch(h)}};r.exports=c},76472:(r,o,t)=>{var a=t(83419),p=t(44777),c=t(37589),u=t(6113),h=t(91389),l=t(90664),d=new a({Extends:p,initialize:function(f){p.call(this,f,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var v=this.propertyValue,f=v,g=this.defaultEmit,m=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=u("Linear"),this.interpolation=h("linear"),g=this.easedValueEmit,m=this.easeValueUpdate,f=v[0],this.active=!0;for(var x=0;x<v.length;x++){var y=l(v[x]);this.r.push(y.r),this.g.push(y.g),this.b.push(y.b)}}return this.onEmit=g,this.onUpdate=m,this.current=f,this},setEase:function(v){this.easeName=v,this.ease=u(v)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(v,f,g){var m=this.ease(g),x=this.interpolation(this.r,m),y=this.interpolation(this.g,m),b=this.interpolation(this.b,m),M=c(x,y,b);return this.current=M,M}});r.exports=d},44777:(r,o,t)=>{var a=t(30976),p=t(45319),c=t(83419),u=t(99472),h=t(6113),l=t(95540),d=t(91389),v=t(77720),f=t(15994),g=new c({initialize:function(x,y,b){b===void 0&&(b=!1),this.propertyKey=x,this.propertyValue=y,this.defaultValue=y,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=b,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(m,x){m===void 0&&(m={}),x&&(this.propertyKey=x),this.propertyValue=l(m,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(m){var x;switch(this.method){case 1:case 3:case 8:x=m;break;case 2:this.propertyValue.indexOf(m)>=0&&(x=m);break;case 4:var y=(this.end-this.start)/this.steps;x=v(m,y),this.counter=x;break;case 5:case 6:case 7:x=p(m,this.start,this.end);break;case 9:x=this.start[0];break}return this.current=x,this},getMethod:function(){var m=this.propertyValue;if(m===null)return 0;var x=typeof m;if(x==="number")return 1;if(Array.isArray(m))return 2;if(x==="function")return 3;if(x==="object"){if(this.hasBoth(m,"start","end"))return this.has(m,"steps")?4:5;if(this.hasBoth(m,"min","max"))return 6;if(this.has(m,"random"))return 7;if(this.hasEither(m,"onEmit","onUpdate"))return 8;if(this.hasEither(m,"values","interpolation"))return 9}return 0},setMethods:function(){var m=this.propertyValue,x=m,y=this.defaultEmit,b=this.defaultUpdate;switch(this.method){case 1:y=this.staticValueEmit;break;case 2:y=this.randomStaticValueEmit,x=m[0];break;case 3:this._onEmit=m,y=this.proxyEmit,x=this.defaultValue;break;case 4:this.start=m.start,this.end=m.end,this.steps=m.steps,this.counter=this.start,this.yoyo=this.has(m,"yoyo")?m.yoyo:!1,this.direction=0,y=this.steppedEmit,x=this.start;break;case 5:this.start=m.start,this.end=m.end;var M=this.has(m,"ease")?m.ease:"Linear";this.ease=h(M,m.easeParams),y=this.has(m,"random")&&m.random?this.randomRangedValueEmit:this.easedValueEmit,b=this.easeValueUpdate,x=this.start;break;case 6:this.start=m.min,this.end=m.max,y=this.has(m,"int")&&m.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var C=m.random;Array.isArray(C)&&(this.start=C[0],this.end=C[1]),y=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(m,"onEmit")?m.onEmit:this.defaultEmit,this._onUpdate=this.has(m,"onUpdate")?m.onUpdate:this.defaultUpdate,y=this.proxyEmit,b=this.proxyUpdate,x=this.defaultValue;break;case 9:this.start=m.values;var w=this.has(m,"ease")?m.ease:"Linear";this.ease=h(w,m.easeParams),this.interpolation=d(m.interpolation),y=this.easedValueEmit,b=this.easeValueUpdate,x=this.start[0];break}return this.onEmit=y,this.onUpdate=b,this.current=x,this},has:function(m,x){return m.hasOwnProperty(x)},hasBoth:function(m,x,y){return m.hasOwnProperty(x)&&m.hasOwnProperty(y)},hasEither:function(m,x,y){return m.hasOwnProperty(x)||m.hasOwnProperty(y)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(m,x,y,b){return b},proxyEmit:function(m,x,y){var b=this._onEmit(m,x,y);return this.current=b,b},proxyUpdate:function(m,x,y,b){var M=this._onUpdate(m,x,y,b);return this.current=M,M},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var m=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[m],this.current},randomRangedValueEmit:function(m,x){var y=u(this.start,this.end);return m&&m.data[x]&&(m.data[x].min=y,m.data[x].max=this.end),this.current=y,y},randomRangedIntEmit:function(m,x){var y=a(this.start,this.end);return m&&m.data[x]&&(m.data[x].min=y,m.data[x].max=this.end),this.current=y,y},steppedEmit:function(){var m=this.counter,x=m,y=(this.end-this.start)/this.steps;if(this.yoyo){var b;this.direction===0?(x+=y,x>=this.end&&(b=x-this.end,x=this.end-b,this.direction=1)):(x-=y,x<=this.start&&(b=this.start-x,x=this.start+b,this.direction=0)),this.counter=x}else this.counter=f(x+y,this.start,this.end);return this.current=m,m},easedValueEmit:function(m,x){if(m&&m.data[x]){var y=m.data[x];y.min=this.start,y.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(m,x,y){var b=m.data[x],M,C=this.ease(y);return this.interpolation?M=this.interpolation(this.start,C):M=(b.max-b.min)*C+b.min,this.current=M,M},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});r.exports=g},24502:(r,o,t)=>{var a=t(83419),p=t(95540),c=t(20286),u=new a({Extends:c,initialize:function(l,d,v,f,g){if(typeof l=="object"){var m=l;l=p(m,"x",0),d=p(m,"y",0),v=p(m,"power",0),f=p(m,"epsilon",100),g=p(m,"gravity",50)}else l===void 0&&(l=0),d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=100),g===void 0&&(g=50);c.call(this,l,d,!0),this._gravity=g,this._power=v*g,this._epsilon=f*f},update:function(h,l){var d=this.x-h.x,v=this.y-h.y,f=d*d+v*v;if(f!==0){var g=Math.sqrt(f);f<this._epsilon&&(f=this._epsilon);var m=this._power*l/(f*g)*100;h.velocityX+=d*m,h.velocityY+=v*m}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var l=this.power;this._gravity=h,this.power=l}}});r.exports=u},56480:(r,o,t)=>{var a=t(9674),p=t(45319),c=t(83419),u=t(39506),h=t(87841),l=t(11520),d=t(26099),v=new c({initialize:function(g){this.emitter=g,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=g.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new a(this)),this.bounds=new h},emit:function(f,g,m,x,y,b){return this.emitter.emit(f,g,m,x,y,b)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(f,g){f===void 0&&(f=0),g===void 0&&(g=0),this.x=f,this.y=g},fire:function(f,g){var m=this.emitter,x=m.ops,y=m.getAnim();if(y?this.anims.play(y):(this.frame=m.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(m.getEmitZone(this),f===void 0?this.x+=x.x.onEmit(this,"x"):x.x.steps>0?this.x+=f+x.x.onEmit(this,"x"):this.x+=f,g===void 0?this.y+=x.y.onEmit(this,"y"):x.y.steps>0?this.y+=g+x.y.onEmit(this,"y"):this.y+=g,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),m.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&m.getDeathZone(this))return this.lifeCurrent=0,!1;var b=x.speedX.onEmit(this,"speedX"),M=x.speedY.active?x.speedY.onEmit(this,"speedY"):b;if(m.radial){var C=u(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(C)*Math.abs(b),this.velocityY=Math.sin(C)*Math.abs(M)}else if(m.moveTo){var w=x.moveToX.onEmit(this,"moveToX"),S=x.moveToY.onEmit(this,"moveToY"),I=this.life/1e3;this.velocityX=(w-this.x)/I,this.velocityY=(S-this.y)/I}else this.velocityX=b,this.velocityY=M;return m.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),x.color.active?this.tint=x.color.onEmit(this,"tint"):this.tint=x.tint.onEmit(this,"tint"),!0},update:function(f,g,m){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=f,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=f,!1;this.anims&&this.anims.update(0,f);var x=this.emitter,y=x.ops,b=1-this.lifeCurrent/this.life;if(this.lifeT=b,this.x=y.x.onUpdate(this,"x",b,this.x),this.y=y.y.onUpdate(this,"y",b,this.y),x.moveTo){var M=y.moveToX.onUpdate(this,"moveToX",b,x.moveToX),C=y.moveToY.onUpdate(this,"moveToY",b,x.moveToY),w=this.lifeCurrent/1e3;this.velocityX=(M-this.x)/w,this.velocityY=(C-this.y)/w}return this.computeVelocity(x,f,g,m,b),this.scaleX=y.scaleX.onUpdate(this,"scaleX",b,this.scaleX),y.scaleY.active?this.scaleY=y.scaleY.onUpdate(this,"scaleY",b,this.scaleY):this.scaleY=this.scaleX,this.angle=y.rotate.onUpdate(this,"rotate",b,this.angle),this.rotation=u(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(y.alpha.onUpdate(this,"alpha",b,this.alpha),0,1),y.color.active?this.tint=y.color.onUpdate(this,"color",b,this.tint):this.tint=y.tint.onUpdate(this,"tint",b,this.tint),this.lifeCurrent-=f,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(f,g,m,x,y){var b=f.ops,M=this.velocityX,C=this.velocityY,w=b.accelerationX.onUpdate(this,"accelerationX",y,this.accelerationX),S=b.accelerationY.onUpdate(this,"accelerationY",y,this.accelerationY),I=b.maxVelocityX.onUpdate(this,"maxVelocityX",y,this.maxVelocityX),T=b.maxVelocityY.onUpdate(this,"maxVelocityY",y,this.maxVelocityY);this.bounce=b.bounce.onUpdate(this,"bounce",y,this.bounce),M+=f.gravityX*m+w*m,C+=f.gravityY*m+S*m,M=p(M,-I,I),C=p(C,-T,T),this.velocityX=M,this.velocityY=C,this.x+=M*m,this.y+=C*m,f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var k=0;k<x.length;k++){var E=x[k];E.active&&E.update(this,g,m,y)}},setSizeToFrame:function(){},getBounds:function(f){f===void 0&&(f=this.emitter.getWorldTransformMatrix());var g=Math.abs(f.scaleX)*this.scaleX,m=Math.abs(f.scaleY)*this.scaleY,x=this.x,y=this.y,b=this.rotation,M=this.frame.width*g/2,C=this.frame.height*m/2,w=this.bounds,S=new d(x-M,y-C),I=new d(x+M,y-C),T=new d(x-M,y+C),k=new d(x+M,y+C);return b!==0&&(l(S,x,y,b),l(I,x,y,b),l(T,x,y,b),l(k,x,y,b)),f.transformPoint(S.x,S.y,S),f.transformPoint(I.x,I.y,I),f.transformPoint(T.x,T.y,T),f.transformPoint(k.x,k.y,k),w.x=Math.min(S.x,I.x,T.x,k.x),w.y=Math.min(S.y,I.y,T.y,k.y),w.width=Math.max(S.x,I.x,T.x,k.x)-w.x,w.height=Math.max(S.y,I.y,T.y,k.y)-w.y,w},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});r.exports=v},69601:(r,o,t)=>{var a=t(83419),p=t(20286),c=t(87841),u=new a({Extends:p,initialize:function(l,d,v,f,g,m,x,y){g===void 0&&(g=!0),m===void 0&&(m=!0),x===void 0&&(x=!0),y===void 0&&(y=!0),p.call(this,l,d,!0),this.bounds=new c(l,d,v,f),this.collideLeft=g,this.collideRight=m,this.collideTop=x,this.collideBottom=y},update:function(h){var l=this.bounds,d=-h.bounce,v=h.worldPosition;v.x<l.x&&this.collideLeft?(h.x+=l.x-v.x,h.velocityX*=d):v.x>l.right&&this.collideRight&&(h.x-=v.x-l.right,h.velocityX*=d),v.y<l.y&&this.collideTop?(h.y+=l.y-v.y,h.velocityY*=d):v.y>l.bottom&&this.collideBottom&&(h.y-=v.y-l.bottom,h.velocityY*=d)}});r.exports=u},31600:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(53774),u=t(43459),h=t(26388),l=t(19909),d=t(76472),v=t(44777),f=t(20696),g=t(95643),m=t(95540),x=t(26546),y=t(24502),b=t(1985),M=t(97022),C=t(86091),w=t(73162),S=t(20074),I=t(269),T=t(56480),k=t(69601),E=t(68875),A=t(87841),L=t(59996),D=t(72905),R=t(90668),N=t(19186),P=t(61340),O=t(26099),W=t(15994),G=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],H=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new a({Extends:g,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,R],initialize:function(j,U,X,Z,$){g.call(this,j,"ParticleEmitter"),this.particleClass=T,this.config=null,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new d("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new O,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new P,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new w(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(U,X),this.setTexture(Z),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(B){if(!B)return this;this.config=B;var j=0,U="",X=this.ops;for(j=0;j<H.length;j++)U=H[j],X[U].loadConfig(B);for(j=0;j<G.length;j++)U=G[j],M(B,U)&&(this[U]=m(B,U));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,M(B,"speed")&&(X.speedX.loadConfig(B,"speed"),X.speedY.active=!1),(b(B,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),M(B,"scale")&&(X.scaleX.loadConfig(B,"scale"),X.scaleY.active=!1),M(B,"callbackScope")){var Z=m(B,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(M(B,"emitZone")&&this.addEmitZone(B.emitZone),M(B,"deathZone")&&this.addDeathZone(B.deathZone),M(B,"bounds")){var $=this.addParticleBounds(B.bounds);$.collideLeft=m(B,"collideLeft",!0),$.collideRight=m(B,"collideRight",!0),$.collideTop=m(B,"collideTop",!0),$.collideBottom=m(B,"collideBottom",!0)}return M(B,"followOffset")&&this.followOffset.setFromObject(m(B,"followOffset",0)),M(B,"texture")&&this.setTexture(B.texture),M(B,"frame")?this.setEmitterFrame(B.frame):M(B,"anim")&&this.setAnim(B.anim),M(B,"reserve")&&this.reserve(B.reserve),M(B,"advance")&&this.fastForward(B.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(f.START,this),this},updateConfig:function(B){return B&&(this.config?this.setConfig(I(this.config,B)):this.setConfig(B)),this},toJSON:function(){var B=c(this),j=0,U="";for(j=0;j<G.length;j++)U=G[j],B[U]=this[U];var X=this.ops;for(j=0;j<H.length;j++)U=H[j],X[U]&&(B[U]=X[U].toJSON());return X.speedY.active||(delete B.speedX,B.speed=X.speedX.toJSON()),this.scaleX===this.scaleY&&(delete B.scaleX,delete B.scaleY,B.scale=X.scaleX.toJSON()),B},resetCounters:function(B,j){var U=this.counters;U.fill(0),U[0]=B,j&&(U[5]=1)},startFollow:function(B,j,U,X){return j===void 0&&(j=0),U===void 0&&(U=0),X===void 0&&(X=!1),this.follow=B,this.followOffset.set(j,U),this.trackVisible=X,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var B=this.frames,j=B.length,U;return j===1?U=B[0]:this.randomFrame?U=x(B):(U=B[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===j&&(this.currentFrame=0))),this.texture.get(U)},setEmitterFrame:function(B,j,U){j===void 0&&(j=!0),U===void 0&&(U=1),this.randomFrame=j,this.frameQuantity=U,this.currentFrame=0;var X=typeof B;if(this.frames.length=0,Array.isArray(B))this.frames=this.frames.concat(B);else if(X==="string"||X==="number")this.frames.push(B);else if(X==="object"){var Z=B;B=m(Z,"frames",null),B&&(this.frames=this.frames.concat(B));var $=m(Z,"cycle",!1);this.randomFrame=!$,this.frameQuantity=m(Z,"quantity",U)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var B=this.anims,j=B.length;if(j===0)return null;if(j===1)return B[0];if(this.randomAnim)return x(B);var U=B[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=W(this.currentAnim+1,0,j)),U},setAnim:function(B,j,U){j===void 0&&(j=!0),U===void 0&&(U=1),this.randomAnim=j,this.animQuantity=U,this.currentAnim=0;var X=typeof B;if(this.anims.length=0,Array.isArray(B))this.anims=this.anims.concat(B);else if(X==="string")this.anims.push(B);else if(X==="object"){var Z=B;B=m(Z,"anims",null),B&&(this.anims=this.anims.concat(B));var $=m(Z,"cycle",!1);this.randomAnim=!$,this.animQuantity=m(Z,"quantity",U)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(B){return B===void 0&&(B=!0),this.radial=B,this},addParticleBounds:function(B,j,U,X,Z,$,J,Q){if(typeof B=="object"){var _=B;B=_.x,j=_.y,U=M(_,"w")?_.w:_.width,X=M(_,"h")?_.h:_.height}return this.addParticleProcessor(new k(B,j,U,X,Z,$,J,Q))},setParticleSpeed:function(B,j){return j===void 0&&(j=B),this.ops.speedX.onChange(B),B===j?this.ops.speedY.active=!1:this.ops.speedY.onChange(j),this.radial=!0,this},setParticleScale:function(B,j){return B===void 0&&(B=1),j===void 0&&(j=B),this.ops.scaleX.onChange(B),this.ops.scaleY.onChange(j),this},setParticleGravity:function(B,j){return this.gravityX=B,this.gravityY=j,this},setParticleAlpha:function(B){return this.ops.alpha.onChange(B),this},setParticleTint:function(B){return this.ops.tint.onChange(B),this},setEmitterAngle:function(B){return this.ops.angle.onChange(B),this},setParticleLifespan:function(B){return this.ops.lifespan.onChange(B),this},setQuantity:function(B){return this.quantity=B,this},setFrequency:function(B,j){return this.frequency=B,this.flowCounter=B>0?B:0,j&&(this.quantity=j),this},addDeathZone:function(B){Array.isArray(B)||(B=[B]);for(var j,U=[],X=0;X<B.length;X++)if(j=B[X],j instanceof h)U.push(j);else if(typeof j.contains=="function")j=new h(j,!0),U.push(j);else{var Z=m(j,"type","onEnter"),$=m(j,"source",null);if($&&typeof $.contains=="function"){var J=Z==="onEnter";j=new h($,J),U.push(j)}}return this.deathZones=this.deathZones.concat(U),U},removeDeathZone:function(B){return D(this.deathZones,B),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(B){Array.isArray(B)||(B=[B]);for(var j,U=[],X=0;X<B.length;X++)if(j=B[X],j instanceof E||j instanceof l)U.push(j);else{var Z=m(j,"source",null);if(Z){var $=m(j,"type","random");if($==="random"&&typeof Z.getRandomPoint=="function")j=new E(Z),U.push(j);else if($==="edge"&&typeof Z.getPoints=="function"){var J=m(j,"quantity",1),Q=m(j,"stepRate",0),_=m(j,"yoyo",!1),ae=m(j,"seamless",!0),ce=m(j,"total",-1);j=new l(Z,J,Q,_,ae,ce),U.push(j)}}}return this.emitZones=this.emitZones.concat(U),U},removeEmitZone:function(B){return D(this.emitZones,B),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(B){var j=this.emitZones,U=j.length;if(U!==0){var X=j[this.zoneIndex];X.getPoint(B),X.total>-1&&(this.zoneTotal++,this.zoneTotal===X.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===U&&(this.zoneIndex=0)))}},getDeathZone:function(B){for(var j=this.deathZones,U=0;U<j.length;U++){var X=j[U];if(X.willKill(B))return this.emit(f.DEATH_ZONE,this,B,X),!0}return!1},setEmitZone:function(B){var j;return isFinite(B)?j=B:j=this.emitZones.indexOf(B),j>=0&&(this.zoneIndex=j),this},addParticleProcessor:function(B){return this.processors.exists(B)||(B.emitter&&B.emitter.removeParticleProcessor(B),this.processors.add(B),B.emitter=this),B},removeParticleProcessor:function(B){return this.processors.exists(B)&&(this.processors.remove(B,!0),B.emitter=null),B},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(B){return this.addParticleProcessor(new y(B))},reserve:function(B){var j=this.dead;if(this.maxParticles>0){var U=this.getParticleCount();U+B>this.maxParticles&&(B=this.maxParticles-(U+B))}for(var X=0;X<B;X++)j.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(B,j){return B===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof B=="function"&&(this.emitCallback=B,j&&(this.emitCallbackScope=j)),this},onParticleDeath:function(B,j){return B===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof B=="function"&&(this.deathCallback=B,j&&(this.deathCallbackScope=j)),this},killAll:function(){for(var B=this.dead,j=this.alive;j.length>0;)B.push(j.pop());return this},forEachAlive:function(B,j){for(var U=this.alive,X=U.length,Z=0;Z<X;Z++)B.call(j,U[Z],this);return this},forEachDead:function(B,j){for(var U=this.dead,X=U.length,Z=0;Z<X;Z++)B.call(j,U[Z],this);return this},start:function(B,j){return B===void 0&&(B=0),this.emitting||(B>0&&this.fastForward(B),this.emitting=!0,this.resetCounters(this.frequency,!0),j!==void 0&&(this.duration=Math.abs(j)),this.emit(f.START,this)),this},stop:function(B){return B===void 0&&(B=!1),this.emitting&&(this.emitting=!1,B&&this.killAll(),this.emit(f.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(B,j){return B===void 0&&(B=""),j===void 0&&(j=this.true),this.sortProperty=B,this.sortOrderAsc=j,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(B){return this.sortProperty!==""?B=this.depthSortCallback:B=null,this.sortCallback=B,this},depthSort:function(){return N(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(B,j){var U=this.sortProperty;return this.sortOrderAsc?B[U]-j[U]:j[U]-B[U]},flow:function(B,j,U){return j===void 0&&(j=1),this.emitting=!1,this.frequency=B,this.quantity=j,U!==void 0&&(this.stopAfter=U),this.start()},explode:function(B,j,U){this.frequency=-1,this.resetCounters(-1,!0);var X=this.emitParticle(B,j,U);return this.emit(f.EXPLODE,this,X),X},emitParticleAt:function(B,j,U){return this.emitParticle(U,B,j)},emitParticle:function(B,j,U){if(!this.atLimit()){B===void 0&&(B=this.ops.quantity.onEmit());for(var X=this.dead,Z=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:j,J=this.follow?this.follow.y+this.followOffset.y:U,Q=0;Q<B;Q++){var _=X.pop();if(_||(_=new this.particleClass(this)),_.fire($,J)?(this.particleBringToTop?this.alive.push(_):this.alive.unshift(_),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,_,this)):this.dead.push(_),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return _}},fastForward:function(B,j){j===void 0&&(j=1e3/60);var U=0;for(this.skipping=!0;U<Math.abs(B);)this.preUpdate(0,j),U+=j;return this.skipping=!1,this},preUpdate:function(B,j){j*=this.timeScale;var U=j/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var X=this.getProcessors(),Z=this.alive,$=this.dead,J=0,Q=[],_=Z.length;for(J=0;J<_;J++){var ae=Z[J];ae.update(j,U,X)&&Q.push({index:J,particle:ae})}if(_=Q.length,_>0){var ce=this.deathCallback,he=this.deathCallbackScope;for(J=_-1;J>=0;J--){var de=Q[J];Z.splice(de.index,1),$.push(de.particle),ce&&ce.call(he,de.particle),de.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(f.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=j;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=j,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(B){for(var j=this.getWorldTransformMatrix(),U=this.alive,X=U.length,Z=[],$=0;$<X;$++){var J=U[$];L(B,J.getBounds(j))&&Z.push(J)}return Z},getBounds:function(B,j,U,X){B===void 0&&(B=0),j===void 0&&(j=0),U===void 0&&(U=1e3/60),X===void 0&&(X=new A);var Z=this.getWorldTransformMatrix(),$,J,Q=this.alive,_=!1;if(X.setTo(0,0,0,0),j>0){var ae=0;for(this.skipping=!0;ae<Math.abs(j);){for(this.preUpdate(0,U),$=0;$<Q.length;$++)J=Q[$].getBounds(Z),_?S(X,J):(_=!0,u(J,X));ae+=U}this.skipping=!1}else for($=0;$<Q.length;$++)J=Q[$].getBounds(Z),_?S(X,J):(_=!0,u(J,X));return B>0&&C(X,B,B),X},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(B){this.ops.x.onChange(B)}},particleY:{get:function(){return this.ops.y.current},set:function(B){this.ops.y.onChange(B)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(B){this.ops.accelerationX.onChange(B)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(B){this.ops.accelerationY.onChange(B)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(B){this.ops.maxVelocityX.onChange(B)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(B){this.ops.maxVelocityY.onChange(B)}},speed:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B),this.ops.speedY.onChange(B)}},speedX:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B)}},speedY:{get:function(){return this.ops.speedY.current},set:function(B){this.ops.speedY.onChange(B)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(B){this.ops.moveToX.onChange(B)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(B){this.ops.moveToY.onChange(B)}},bounce:{get:function(){return this.ops.bounce.current},set:function(B){this.ops.bounce.onChange(B)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(B){this.ops.scaleX.onChange(B)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(B){this.ops.scaleY.onChange(B)}},particleColor:{get:function(){return this.ops.color.current},set:function(B){this.ops.color.onChange(B)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(B){this.ops.color.setEase(B)}},particleTint:{get:function(){return this.ops.tint.current},set:function(B){this.ops.tint.onChange(B)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(B){this.ops.alpha.onChange(B)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(B){this.ops.lifespan.onChange(B)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(B){this.ops.angle.onChange(B)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(B){this.ops.rotate.onChange(B)}},quantity:{get:function(){return this.ops.quantity.current},set:function(B){this.ops.quantity.onChange(B)}},delay:{get:function(){return this.ops.delay.current},set:function(B){this.ops.delay.onChange(B)}},hold:{get:function(){return this.ops.hold.current},set:function(B){this.ops.hold.onChange(B)}},flowCounter:{get:function(){return this.counters[0]},set:function(B){this.counters[0]=B}},frameCounter:{get:function(){return this.counters[1]},set:function(B){this.counters[1]=B}},animCounter:{get:function(){return this.counters[2]},set:function(B){this.counters[2]=B}},elapsed:{get:function(){return this.counters[3]},set:function(B){this.counters[3]=B}},stopCounter:{get:function(){return this.counters[4]},set:function(B){this.counters[4]=B}},completeFlag:{get:function(){return this.counters[5]},set:function(B){this.counters[5]=B}},zoneIndex:{get:function(){return this.counters[6]},set:function(B){this.counters[6]=B}},zoneTotal:{get:function(){return this.counters[7]},set:function(B){this.counters[7]=B}},currentFrame:{get:function(){return this.counters[8]},set:function(B){this.counters[8]=B}},currentAnim:{get:function(){return this.counters[9]},set:function(B){this.counters[9]=B}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var B,j=this.ops;for(B=0;B<H.length;B++){var U=H[B];j[U].destroy()}for(B=0;B<this.alive.length;B++)this.alive[B].destroy();for(B=0;B<this.dead.length;B++)this.dead[B].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});r.exports=V},9871:(r,o,t)=>{var a=t(59996),p=t(61340),c=new p,u=new p,h=new p,l=new p,d=function(v,f,g,m){var x=c,y=u,b=h,M=l;m?(M.loadIdentity(),M.multiply(m),M.translate(f.x,f.y),M.rotate(f.rotation),M.scale(f.scaleX,f.scaleY)):M.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var C=v.currentContext,w=g.roundPixels,S=g.alpha,I=f.alpha,T=f.alive,k=T.length,E=f.viewBounds;if(!(!f.visible||k===0||E&&!a(E,g.worldView))){f.sortCallback&&f.depthSort(),g.addToRenderList(f);var A=f.scrollFactorX,L=f.scrollFactorY;C.save(),C.globalCompositeOperation=v.blendModes[f.blendMode];for(var D=0;D<k;D++){var R=T[D],N=R.alpha*I*S;if(!(N<=0||R.scaleX===0||R.scaleY===0)){b.applyITRS(R.x,R.y,R.rotation,R.scaleX,R.scaleY),x.copyFrom(g.matrix),x.multiplyWithOffset(M,-g.scrollX*A,-g.scrollY*L),b.e=R.x,b.f=R.y,x.multiply(b,y);var P=R.frame,O=P.canvasData;if(O.width>0&&O.height>0){var W=-P.halfWidth,G=-P.halfHeight;C.globalAlpha=N,C.save(),y.setToContext(C),w&&(W=Math.round(W),G=Math.round(G)),C.imageSmoothingEnabled=!P.source.scaleMode,C.drawImage(P.source.image,O.x,O.y,O.width,O.height,W,G,O.width,O.height),C.restore()}}}C.restore()}};r.exports=d},92730:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(95540),h=t(31600);p.register("particles",function(l,d){l===void 0&&(l={});var v=c(l,"key",null),f=u(l,"config",null),g=new h(this.scene,0,0,v);return d!==void 0&&(l.add=d),a(this.scene,g,l),f&&g.setConfig(f),g})},676:(r,o,t)=>{var a=t(39429),p=t(31600);a.register("particles",function(c,u,h,l){return c!==void 0&&typeof c=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,c,u,h,l))})},90668:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(21188),c=t(9871),r.exports={renderWebGL:p,renderCanvas:c}},21188:(r,o,t)=>{var a=t(59996),p=t(61340),c=t(70554),u=new p,h=new p,l=new p,d=new p,v=function(f,g,m,x){var y=f.pipelines.set(g.pipeline),b=u,M=h,C=l,w=d;x?(w.loadIdentity(),w.multiply(x),w.translate(g.x,g.y),w.rotate(g.rotation),w.scale(g.scaleX,g.scaleY)):w.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY);var S=c.getTintAppendFloatAlpha,I=m.alpha,T=g.alpha;f.pipelines.preBatch(g);var k=g.alive,E=k.length,A=g.viewBounds;if(!(E===0||A&&!a(A,m.worldView))){g.sortCallback&&g.depthSort(),m.addToRenderList(g),b.copyFrom(m.matrix),b.multiplyWithOffset(w,-m.scrollX*g.scrollFactorX,-m.scrollY*g.scrollFactorY),f.setBlendMode(g.blendMode),g.mask&&(g.mask.preRenderWebGL(f,g,m),f.pipelines.set(g.pipeline));for(var L=g.tintFill,D,R,N=0;N<E;N++){var P=k[N],O=P.alpha*T*I;if(!(O<=0||P.scaleX===0||P.scaleY===0)){C.applyITRS(P.x,P.y,P.rotation,P.scaleX,P.scaleY),C.e=P.x,C.f=P.y,b.multiply(C,M);var W=P.frame;W.glTexture!==R&&(R=W.glTexture,D=y.setGameObject(g,W));var G=-W.halfWidth,H=-W.halfHeight,V=M.setQuad(G,H,G+W.width,H+W.height),B=S(P.tint,O);y.shouldFlush(6)&&(y.flush(),D=y.setGameObject(g,W)),y.batchQuad(g,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],W.u0,W.v0,W.u1,W.v1,B,B,B,B,L,R,D)}}g.mask&&g.mask.postRenderWebGL(f,m),f.pipelines.postBatch(g)}};r.exports=v},20286:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l){u===void 0&&(u=0),h===void 0&&(h=0),l===void 0&&(l=!0),this.emitter,this.x=u,this.y=h,this.active=l},update:function(){},destroy:function(){this.emitter=null}});r.exports=p},9774:r=>{r.exports="complete"},812:r=>{r.exports="deathzone"},30522:r=>{r.exports="explode"},96695:r=>{r.exports="start"},18677:r=>{r.exports="stop"},20696:(r,o,t)=>{r.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(r,o,t)=>{r.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h){this.source=u,this.killOnEnter=h},willKill:function(c){var u=c.worldPosition,h=this.source.contains(u.x,u.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});r.exports=p},19909:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l,d,v,f){d===void 0&&(d=!1),v===void 0&&(v=!0),f===void 0&&(f=-1),this.source=u,this.points=[],this.quantity=h,this.stepRate=l,this.yoyo=d,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=f,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var c=this.points[0],u=this.points[this.points.length-1];c.x===u.x&&c.y===u.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(c){return this.source=c,this.updateSource()},getPoint:function(c){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(c.x=u.x,c.y=u.y)}});r.exports=p},68875:(r,o,t)=>{var a=t(83419),p=t(26099),c=new a({initialize:function(h){this.source=h,this._tempVec=new p,this.total=-1},getPoint:function(u){var h=this._tempVec;this.source.getRandomPoint(h),u.x=h.x,u.y=h.y}});r.exports=c},21024:(r,o,t)=>{r.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(68287),u=new a({Extends:c,Mixins:[p.PathFollower],initialize:function(l,d,v,f,g,m){c.call(this,l,v,f,g,m),this.path=d},preUpdate:function(h,l){this.anims.update(h,l),this.pathUpdate(h)}});r.exports=u},90145:(r,o,t)=>{var a=t(39429),p=t(1159);a.register("follower",function(c,u,h,l,d){var v=new p(this.scene,c,u,h,l,d);return this.displayList.add(v),this.updateList.add(v),v})},33663:(r,o,t)=>{var a=t(9674),p=t(83419),c=t(48803),u=t(90664),h=t(4703),l=t(45650),d=new p({Extends:h,initialize:function(f,g,m,x,y,b,M,C){x||(x="__DEFAULT"),h.call(this,f,g,m,x,y),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(b,M,C),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(v,f,g){v===void 0&&(v=8),f===void 0&&(f=8),g===void 0&&(g=!1);var m=!1;return g&&(m=!0),this.gridWidth=v,this.gridHeight=f,this.isTiled=g,this.clear(),c({mesh:this,widthSegments:v,heightSegments:f,isOrtho:!1,tile:g,flipY:m}),this},setSizeToFrame:function(v){v===void 0&&(v=!0);var f=this.frame;if(this.setPerspective(this.width/f.width,this.height/f.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var g=this.gridWidth,m=this.gridHeight,x=this.vertices,y=f.u0,b=f.u1,M=f.v0,C=f.v1,w,S,I=0;if(this.isTiled)for(M=f.v1,C=f.v0,S=0;S<m;S++)for(w=0;w<g;w++)x[I++].setUVs(y,C),x[I++].setUVs(y,M),x[I++].setUVs(b,C),x[I++].setUVs(y,M),x[I++].setUVs(b,M),x[I++].setUVs(b,C);else{var T=g+1,k=m+1,E=b-y,A=C-M,L=[];for(S=0;S<k;S++)for(w=0;w<T;w++){var D=y+E*(w/g),R=M+A*(S/m);L.push(D,R)}for(S=0;S<m;S++)for(w=0;w<g;w++){var N=(w+T*S)*2,P=(w+T*(S+1))*2,O=(w+1+T*(S+1))*2,W=(w+1+T*S)*2;x[I++].setUVs(L[N],L[N+1]),x[I++].setUVs(L[P],L[P+1]),x[I++].setUVs(L[W],L[W+1]),x[I++].setUVs(L[P],L[P+1]),x[I++].setUVs(L[O],L[O+1]),x[I++].setUVs(L[W],L[W+1])}}return this},setViewHeight:function(v){v===void 0&&(v=this.frame.height);var f=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(f/2),this.dirtyCache[10]=1},createCheckerboard:function(v,f,g,m,x){v===void 0&&(v=16777215),f===void 0&&(f=255),g===void 0&&(g=255),m===void 0&&(m=255),x===void 0&&(x=128);for(var y=u(v),b=u(f),M=[],C=0;C<16;C++)for(var w=0;w<16;w++)C<8&&w<8||C>7&&w>7?M.push(y.r,y.g,y.b,g):M.push(b.r,b.g,b.b,m);var S=this.scene.sys.textures.addUint8Array(l(),new Uint8Array(M),16,16);return this.removeCheckerboard(),this.setTexture(S),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(v,f){return this.anims.play(v,f)},playReverse:function(v,f){return this.anims.playReverse(v,f)},playAfterDelay:function(v,f){return this.anims.playAfterDelay(v,f)},playAfterRepeat:function(v,f){return this.anims.playAfterRepeat(v,f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(v){return this.anims.stopAfterDelay(v)},stopAfterRepeat:function(v){return this.anims.stopAfterRepeat(v)},stopOnFrame:function(v){return this.anims.stopOnFrame(v)},preUpdate:function(v,f){h.prototype.preUpdate.call(this,v,f),this.anims.update(v,f)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});r.exports=d},56015:(r,o,t)=>{var a=t(25305),p=t(13059),c=t(44603),u=t(23568),h=t(35154),l=t(33663);c.register("plane",function(d,v){d===void 0&&(d={});var f=u(d,"key",null),g=u(d,"frame",null),m=h(d,"width",8),x=h(d,"height",8),y=h(d,"tile",!1),b=new l(this.scene,0,0,f,g,m,x,y);v!==void 0&&(d.add=v);var M=h(d,"checkerboard",null);if(M){var C=h(M,"color1",16777215),w=h(M,"color2",255),S=h(M,"alpha1",255),I=h(M,"alpha2",255),T=h(M,"height",128);b.createCheckerboard(C,w,S,I,T)}return a(this.scene,b,d),p(b,d),b})},30985:(r,o,t)=>{var a=t(33663),p=t(39429);p.register("plane",function(c,u,h,l,d,v,f){return this.displayList.add(new a(this.scene,c,u,h,l,d,v,f))})},80321:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(95643),u=t(30100),h=t(36060),l=t(67277),d=new a({Extends:c,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,l],initialize:function(f,g,m,x,y,b,M){x===void 0&&(x=16777215),y===void 0&&(y=128),b===void 0&&(b=1),M===void 0&&(M=.1),c.call(this,f,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(g,m),this.color=u(x),this.intensity=b,this.attenuation=M,this.width=y*2,this.height=y*2,this._radius=y},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this.width=v*2,this.height=v*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});r.exports=d},39829:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(80321);p.register("pointlight",function(h,l){h===void 0&&(h={});var d=c(h,"color",16777215),v=c(h,"radius",128),f=c(h,"intensity",1),g=c(h,"attenuation",.1),m=new u(this.scene,0,0,d,v,f,g);return l!==void 0&&(h.add=l),a(this.scene,m,h),m})},71255:(r,o,t)=>{var a=t(39429),p=t(80321);a.register("pointlight",function(c,u,h,l,d,v){return this.displayList.add(new p(this.scene,c,u,h,l,d,v))})},67277:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(57787),r.exports={renderWebGL:p,renderCanvas:c}},57787:(r,o,t)=>{var a=t(91296),p=function(c,u,h,l){h.addToRenderList(u);var d=c.pipelines.set(u.pipeline),v=a(u,h,l).calc,f=u.width,g=u.height,m=-u._radius,x=-u._radius,y=m+f,b=x+g,M=v.getX(0,0),C=v.getY(0,0),w=v.getX(m,x),S=v.getY(m,x),I=v.getX(m,b),T=v.getY(m,b),k=v.getX(y,b),E=v.getY(y,b),A=v.getX(y,x),L=v.getY(y,x);c.pipelines.preBatch(u),d.batchPointLight(u,h,w,S,I,T,k,E,A,L,M,C),c.pipelines.postBatch(u)};r.exports=p},591:(r,o,t)=>{var a=t(83419),p=t(81320),c=t(88571),u=new a({Extends:c,initialize:function(l,d,v,f,g,m){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=32),g===void 0&&(g=32),m===void 0&&(m=!0);var x=new p(l.sys.textures,"",f,g,m);c.call(this,l,d,v,x),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,l){this.width=h,this.height=l,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=h,d.hitArea.height=l),this},resize:function(h,l,d){return this.texture.setSize(h,l,d),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(h){var l=this.texture;return l.key=h,l.manager.addDynamicTexture(l)&&(this._saved=!0),l},fill:function(h,l,d,v,f,g){return this.texture.fill(h,l,d,v,f,g),this},clear:function(){return this.texture.clear(),this},stamp:function(h,l,d,v,f){return this.texture.stamp(h,l,d,v,f),this},erase:function(h,l,d){return this.texture.erase(h,l,d),this},draw:function(h,l,d,v,f){return this.texture.draw(h,l,d,v,f),this},drawFrame:function(h,l,d,v,f,g){return this.texture.drawFrame(h,l,d,v,f,g),this},repeat:function(h,l,d,v,f,g,m,x,y){return this.texture.repeat(h,l,d,v,f,g,m,x,y),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,l,d,v,f){return this.texture.batchDraw(h,l,d,v,f),this},batchDrawFrame:function(h,l,d,v,f,g){return this.texture.batchDrawFrame(h,l,d,v,f,g),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,l,d,v,f,g,m){return this.texture.snapshotArea(h,l,d,v,f,g,m),this},snapshot:function(h,l,d){return this.snapshotArea(0,0,this.width,this.height,h,l,d)},snapshotPixel:function(h,l,d){return this.snapshotArea(h,l,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});r.exports=u},34495:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(591);p.register("renderTexture",function(h,l){h===void 0&&(h={});var d=c(h,"x",0),v=c(h,"y",0),f=c(h,"width",32),g=c(h,"height",32),m=new u(this.scene,d,v,f,g);return l!==void 0&&(h.add=l),a(this.scene,m,h),m})},60505:(r,o,t)=>{var a=t(39429),p=t(591);a.register("renderTexture",function(c,u,h,l){return this.displayList.add(new p(this.scene,c,u,h,l))})},77757:(r,o,t)=>{var a=t(9674),p=t(83419),c=t(31401),u=t(95643),h=t(36060),l=t(38745),d=t(26099),v=new p({Extends:u,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Flip,c.Mask,c.Pipeline,c.PostPipeline,c.Size,c.Texture,c.Transform,c.Visible,c.ScrollFactor,l],initialize:function(g,m,x,y,b,M,C,w,S){y===void 0&&(y="__DEFAULT"),M===void 0&&(M=2),C===void 0&&(C=!0),u.call(this,g,"Rope"),this.anims=new a(this),this.points=M,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=y==="__DEFAULT",this.dirty=!1,this.horizontal=C,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(y,b),this.setPosition(m,x),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(M)&&this.resizeArrays(M.length),this.setPoints(M,w,S),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,g){var m=this.anims.currentFrame;this.anims.update(f,g),this.anims.currentFrame!==m&&(this.updateUVs(),this.updateVertices())},play:function(f,g,m){return this.anims.play(f,g,m),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(f,g,m){return f===void 0&&(f=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(f,g,m))},setVertical:function(f,g,m){return f===void 0&&(f=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(f,g,m)):this},setTintFill:function(f){return f===void 0&&(f=!1),this.tintFill=f,this},setAlphas:function(f,g){var m=this.points.length;if(m<1)return this;var x=this.alphas;f===void 0?f=[1]:!Array.isArray(f)&&g===void 0&&(f=[f]);var y,b=0;if(g!==void 0)for(y=0;y<m;y++)b=y*2,x[b]=f,x[b+1]=g;else if(f.length===m)for(y=0;y<m;y++)b=y*2,x[b]=f[y],x[b+1]=f[y];else{var M=f[0];for(y=0;y<m;y++)b=y*2,f.length>b&&(M=f[b]),x[b]=M,f.length>b+1&&(M=f[b+1]),x[b+1]=M}return this},setColors:function(f){var g=this.points.length;if(g<1)return this;var m=this.colors;f===void 0?f=[16777215]:Array.isArray(f)||(f=[f]);var x,y=0;if(f.length===g)for(x=0;x<g;x++)y=x*2,m[y]=f[x],m[y+1]=f[x];else{var b=f[0];for(x=0;x<g;x++)y=x*2,f.length>y&&(b=f[y]),m[y]=b,f.length>y+1&&(b=f[y+1]),m[y+1]=b}return this},setPoints:function(f,g,m){if(f===void 0&&(f=2),typeof f=="number"){var x=f;x<2&&(x=2),f=[];var y,b,M;if(this.horizontal)for(M=-this.frame.halfWidth,b=this.frame.width/(x-1),y=0;y<x;y++)f.push({x:M+y*b,y:0});else for(M=-this.frame.halfHeight,b=this.frame.height/(x-1),y=0;y<x;y++)f.push({x:0,y:M+y*b})}var C=f.length,w=this.points.length;return C<1?(console.warn("Rope: Not enough points given"),this):(C===1&&(f.unshift({x:0,y:0}),C++),w!==C&&this.resizeArrays(C),this.dirty=!0,this.points=f,this.updateUVs(),g!=null&&this.setColors(g),m!=null&&this.setAlphas(m),this)},updateUVs:function(){for(var f=this.uv,g=this.points.length,m=this.frame.u0,x=this.frame.v0,y=this.frame.u1,b=this.frame.v1,M=(y-m)/(g-1),C=(b-x)/(g-1),w=0;w<g;w++){var S=w*4,I,T,k,E;this.horizontal?(this._flipX?(I=y-w*M,k=y-w*M):(I=m+w*M,k=m+w*M),this._flipY?(T=b,E=x):(T=x,E=b)):(this._flipX?(I=m,k=y):(I=y,k=m),this._flipY?(T=b-w*C,E=b-w*C):(T=x+w*C,E=x+w*C)),f[S+0]=I,f[S+1]=T,f[S+2]=k,f[S+3]=E}return this},resizeArrays:function(f){var g=this.colors,m=this.alphas;this.vertices=new Float32Array(f*4),this.uv=new Float32Array(f*4),g=new Uint32Array(f*2),m=new Float32Array(f*2);for(var x=0;x<f*2;x++)g[x]=16777215,m[x]=1;return this.colors=g,this.alphas=m,this.dirty=!0,this},updateVertices:function(){var f=this._perp,g=this.points,m=this.vertices,x=g.length;if(this.dirty=!1,!(x<1)){for(var y,b=g[0],M=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,C=0;C<x;C++){var w=g[C],S=C*4;C<x-1?y=g[C+1]:y=w,f.x=y.y-b.y,f.y=-(y.x-b.x);var I=f.length();f.x/=I,f.y/=I,f.x*=M,f.y*=M,m[S]=w.x+f.x,m[S+1]=w.y+f.y,m[S+2]=w.x-f.x,m[S+3]=w.y-f.y,b=w}return this}},setDebug:function(f,g){return this.debugGraphic=f,!f&&!g?this.debugCallback=null:g?this.debugCallback=g:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(f,g,m){var x=f.debugGraphic,y=m[0],b=m[1],M=m[2],C=m[3];x.lineBetween(y,b,M,C);for(var w=4;w<g;w+=4){var S=m[w+0],I=m[w+1],T=m[w+2],k=m[w+3];x.lineBetween(y,b,S,I),x.lineBetween(M,C,T,k),x.lineBetween(M,C,S,I),x.lineBetween(S,I,T,k),y=S,b=I,M=T,C=k}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(f){return this._flipX=f,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(f){return this._flipY=f,this.updateUVs()}}});r.exports=v},95262:r=>{var o=function(){};r.exports=o},26209:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(35154),h=t(77757);p.register("rope",function(l,d){l===void 0&&(l={});var v=c(l,"key",null),f=c(l,"frame",null),g=c(l,"horizontal",!0),m=u(l,"points",void 0),x=u(l,"colors",void 0),y=u(l,"alphas",void 0),b=new h(this.scene,0,0,v,f,m,g,x,y);return d!==void 0&&(l.add=d),a(this.scene,b,l),b})},96819:(r,o,t)=>{var a=t(77757),p=t(39429);p.register("rope",function(c,u,h,l,d,v,f,g){return this.displayList.add(new a(this.scene,c,u,h,l,d,v,f,g))})},38745:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(20439),c=t(95262),r.exports={renderWebGL:p,renderCanvas:c}},20439:(r,o,t)=>{var a=t(91296),p=t(70554),c=function(u,h,l,d){l.addToRenderList(h);var v=u.pipelines.set(h.pipeline,h),f=a(h,l,d).calc,g=h.vertices,m=h.uv,x=h.colors,y=h.alphas,b=h.alpha,M=p.getTintAppendFloatAlpha,C=l.roundPixels,w=g.length,S=Math.floor(w*.5);v.flush(),u.pipelines.preBatch(h);var I=v.setGameObject(h),T=v.vertexViewF32,k=v.vertexViewU32,E=v.vertexCount*v.currentShader.vertexComponentCount-1,A=0,L=h.tintFill;h.dirty&&h.updateVertices();for(var D=h.debugCallback,R=[],N=0;N<w;N+=2){var P=g[N+0],O=g[N+1],W=P*f.a+O*f.c+f.e,G=P*f.b+O*f.d+f.f;C&&(W=Math.round(W),G=Math.round(G)),T[++E]=W,T[++E]=G,T[++E]=m[N+0],T[++E]=m[N+1],T[++E]=I,T[++E]=L,k[++E]=M(x[A],l.alpha*(y[A]*b)),A++,D&&(R[N+0]=W,R[N+1]=G)}D&&D.call(h,h,w,R),v.vertexCount+=S,v.currentBatch.count=v.vertexCount-v.currentBatch.start,u.pipelines.postBatch(h)};r.exports=c},20071:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(95643),u=t(95540),h=t(79291),l=t(61622),d=t(25479),v=t(61340),f=t(95428),g=t(92503),m=new a({Extends:c,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,d],initialize:function(y,b,M,C,w,S,I,T){M===void 0&&(M=0),C===void 0&&(C=0),w===void 0&&(w=128),S===void 0&&(S=128),c.call(this,y,"Shader"),this.blendMode=-1,this.shader;var k=y.sys.renderer;this.renderer=k,this.gl=k.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=k.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=k.width,this._rendererHeight=k.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(M,C),this.setSize(w,S),this.setOrigin(.5,.5),this.setShader(b,I,T),this.renderer.on(g.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return this.renderToTexture?!0:!(c.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&x.id)},setRenderToTexture:function(x,y){if(y===void 0&&(y=!1),!this.renderToTexture){var b=this.width,M=this.height,C=this.renderer;this.glTexture=C.createTextureFromSource(null,b,M,0),this.framebuffer=C.createFramebuffer(b,M,this.glTexture,!1),this._rendererWidth=b,this._rendererHeight=M,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(C.pipelines.clear(),this.load(),this.flush(),C.pipelines.rebind()),this},setShader:function(x,y,b){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:y,textureData:b},this;if(y===void 0&&(y=[]),typeof x=="string"){var M=this.scene.sys.cache.shader;if(!M.has(x))return console.warn("Shader missing: "+x),this;this.shader=M.get(x)}else this.shader=x;var C=this.gl,w=this.renderer;this.program&&w.deleteProgram(this.program);var S=w.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);C.uniformMatrix4fv(C.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),C.uniformMatrix4fv(C.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height),this.program=S;var I=new Date,T={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[I.getFullYear(),I.getMonth(),I.getDate(),I.getHours()*60*60+I.getMinutes()*60+I.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=h(!0,{},this.shader.uniforms,T):this.uniforms=T;for(var k=0;k<4;k++)y[k]&&this.setSampler2D("iChannel"+k,y[k],k,b);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,y,b,M){if(this.renderer.contextLost){this._deferProjOrtho={left:x,right:y,bottom:b,top:M};return}var C=-1e3,w=1e3,S=1/(x-y),I=1/(b-M),T=1/(C-w),k=this.projectionMatrix;k[0]=-2*S,k[5]=-2*I,k[10]=2*T,k[12]=(x+y)*S,k[13]=(M+b)*I,k[14]=(w+C)*T;var E=this.program,A=this.gl,L=this.renderer;L.setProgram(E),A.uniformMatrix4fv(A.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=y,this._rendererHeight=b},initUniforms:function(){var x=this.renderer.glFuncMap,y=this.program;this._textureCount=0;for(var b in this.uniforms){var M=this.uniforms[b],C=M.type,w=x[C];M.uniformLocation=this.renderer.createUniformLocation(y,b),C!=="sampler2D"&&(M.glMatrix=w.matrix,M.glValueLength=w.length,M.glFunc=w.func)}},setSampler2DBuffer:function(x,y,b,M,C,w){C===void 0&&(C=0),w===void 0&&(w={});var S=this.uniforms[x];return S.value=y,w.width=b,w.height=M,S.textureData=w,this._textureCount=C,this.initSampler2D(S),this},setSampler2D:function(x,y,b,M){b===void 0&&(b=0);var C=this.scene.sys.textures;if(C.exists(y)){var w=C.getFrame(y);if(w.glTexture&&w.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,w.glTexture,w.width,w.height,b,M);var S=this.uniforms[x],I=w.source;S.textureKey=y,S.source=I.image,S.value=w.glTexture,I.isGLTexture&&(M||(M={}),M.width=I.width,M.height=I.height),M&&(S.textureData=M),this._textureCount=b,this.initSampler2D(S)}return this},setUniform:function(x,y){return l(this.uniforms,x,y),this},getUniform:function(x){return u(this.uniforms,x,null)},setChannel0:function(x,y){return this.setSampler2D("iChannel0",x,0,y)},setChannel1:function(x,y){return this.setSampler2D("iChannel1",x,1,y)},setChannel2:function(x,y){return this.setSampler2D("iChannel2",x,2,y)},setChannel3:function(x,y){return this.setSampler2D("iChannel3",x,3,y)},initSampler2D:function(x){if(x.value){var y=x.textureData;if(y&&!x.value.isRenderTexture){var b=this.gl,M=x.value,C=b[u(y,"magFilter","linear").toUpperCase()],w=b[u(y,"minFilter","linear").toUpperCase()],S=b[u(y,"wrapS","repeat").toUpperCase()],I=b[u(y,"wrapT","repeat").toUpperCase()],T=b[u(y,"format","rgba").toUpperCase()],k=u(y,"flipY",!1),E=u(y,"width",M.width),A=u(y,"height",M.height),L=u(y,"source",M.pixels);y.repeat&&(S=b.REPEAT,I=b.REPEAT),y.width&&(L=null),M.update(L,E,A,k,S,I,w,C,T)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var x=this.gl,y=this.uniforms,b,M,C,w,S,I=0;for(var T in y)b=y[T],C=b.glFunc,M=b.glValueLength,w=b.uniformLocation,S=b.value,S!==null&&(M===1?b.glMatrix?C.call(x,w.webGLUniformLocation,b.transpose,S):C.call(x,w.webGLUniformLocation,S):M===2?C.call(x,w.webGLUniformLocation,S.x,S.y):M===3?C.call(x,w.webGLUniformLocation,S.x,S.y,S.z):M===4?C.call(x,w.webGLUniformLocation,S.x,S.y,S.z,S.w):b.type==="sampler2D"&&(x.activeTexture(x.TEXTURE0+I),x.bindTexture(x.TEXTURE_2D,S.webGLTexture),x.uniform1i(w.webGLUniformLocation,I),I++))},load:function(x){var y=this.gl,b=this.width,M=this.height,C=this.renderer,w=this.program,S=this.viewMatrix;if(!this.renderToTexture){var I=-this._displayOriginX,T=-this._displayOriginY;S[0]=x[0],S[1]=x[1],S[4]=x[2],S[5]=x[3],S[8]=x[4],S[9]=x[5],S[12]=S[0]*I+S[4]*T,S[13]=S[1]*I+S[5]*T}y.useProgram(w.webGLProgram),y.uniformMatrix4fv(y.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,S),y.uniformMatrix4fv(y.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height);var k=this.uniforms,E=k.resolution;E.value.x=b,E.value.y=M,k.time.value=C.game.loop.getDuration();var A=this.pointer;if(A){var L=k.mouse,D=A.x/b,R=1-A.y/M;L.value.x=D.toFixed(2),L.value.y=R.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,y=this.height,b=this.program,M=this.gl,C=this.vertexBuffer,w=this.renderer,S=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(w.setFramebuffer(this.framebuffer),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT)),M.bindBuffer(M.ARRAY_BUFFER,C.webGLBuffer);var I=M.getAttribLocation(b.webGLProgram,"inPosition");I!==-1&&(M.enableVertexAttribArray(I),M.vertexAttribPointer(I,2,M.FLOAT,!1,S,0));var T=this.vertexViewF32;T[3]=y,T[4]=x,T[5]=y,T[8]=x,T[9]=y,T[10]=x;var k=6;M.bufferSubData(M.ARRAY_BUFFER,0,this.bytes.subarray(0,k*S)),M.drawArrays(M.TRIANGLES,0,k),this.renderToTexture&&w.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var x=this._deferSetShader.key,y=this._deferSetShader.textures,b=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,y,b)}if(this._deferProjOrtho!==null){var M=this._deferProjOrtho.left,C=this._deferProjOrtho.right,w=this._deferProjOrtho.bottom,S=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(M,C,w,S)}},preDestroy:function(){var x=this.renderer;x.off(g.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),f(this.uniforms,function(y){x.deleteUniformLocation(y.uniformLocation),y.uniformLocation=null})}});r.exports=m},80464:r=>{var o=function(){};r.exports=o},54935:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(20071);p.register("shader",function(h,l){h===void 0&&(h={});var d=c(h,"key",null),v=c(h,"x",0),f=c(h,"y",0),g=c(h,"width",128),m=c(h,"height",128),x=new u(this.scene,d,v,f,g,m);return l!==void 0&&(h.add=l),a(this.scene,x,h),x})},74177:(r,o,t)=>{var a=t(20071),p=t(39429);p.register("shader",function(c,u,h,l,d,v,f){return this.displayList.add(new a(this.scene,c,u,h,l,d,v,f))})},25479:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(19257),c=t(80464),r.exports={renderWebGL:p,renderCanvas:c}},19257:(r,o,t)=>{var a=t(91296),p=function(c,u,h,l){if(u.shader){if(h.addToRenderList(u),c.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var d=a(u,h,l).calc;(c.width!==u._rendererWidth||c.height!==u._rendererHeight)&&u.projOrtho(0,c.width,c.height,0),u.load(d.matrix),u.flush()}c.pipelines.rebind()}};r.exports=p},10441:(r,o,t)=>{var a=t(70554),p=function(c,u,h,l,d,v){for(var f=a.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*l),g=h.pathData,m=h.pathIndexes,x=0;x<m.length;x+=3){var y=m[x]*2,b=m[x+1]*2,M=m[x+2]*2,C=g[y+0]-d,w=g[y+1]-v,S=g[b+0]-d,I=g[b+1]-v,T=g[M+0]-d,k=g[M+1]-v,E=u.getX(C,w),A=u.getY(C,w),L=u.getX(S,I),D=u.getY(S,I),R=u.getX(T,k),N=u.getY(T,k);c.batchTri(h,E,A,L,D,R,N,0,0,1,1,f,f,f,2)}};r.exports=p},65960:r=>{var o=function(t,a,p,c){var u=p||a.fillColor,h=c||a.fillAlpha,l=(u&16711680)>>>16,d=(u&65280)>>>8,v=u&255;t.fillStyle="rgba("+l+","+d+","+v+","+h+")"};r.exports=o},75177:r=>{var o=function(t,a,p,c){var u=p||a.strokeColor,h=c||a.strokeAlpha,l=(u&16711680)>>>16,d=(u&65280)>>>8,v=u&255;t.strokeStyle="rgba("+l+","+d+","+v+","+h+")",t.lineWidth=a.lineWidth};r.exports=o},17803:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(95643),u=t(23031),h=new a({Extends:c,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(d,v,f){v===void 0&&(v="Shape"),c.call(this,d,v),this.geom=f,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(l,d){return d===void 0&&(d=1),l===void 0?this.isFilled=!1:(this.fillColor=l,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(l,d,v){return v===void 0&&(v=1),l===void 0?this.isStroked=!1:(this.lineWidth=l,this.strokeColor=d,this.strokeAlpha=v,this.isStroked=!0),this},setClosePath:function(l){return this.closePath=l,this},setSize:function(l,d){return this.width=l,this.height=d,this},setDisplaySize:function(l,d){return this.displayWidth=l,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}}});r.exports=h},34682:(r,o,t)=>{var a=t(70554),p=function(c,u,h,l,d){var v=c.strokeTint,f=a.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*h);v.TL=f,v.TR=f,v.BL=f,v.BR=f;var g=u.pathData,m=g.length-1,x=u.lineWidth,y=x/2,b=g[0]-l,M=g[1]-d;u.closePath||(m-=2);for(var C=2;C<m;C+=2){var w=g[C]-l,S=g[C+1]-d;c.batchLine(b,M,w,S,y,y,x,C-2,u.closePath?C===m-1:!1),b=w,M=S}};r.exports=p},23629:(r,o,t)=>{var a=t(13609),p=t(83419),c=t(39506),u=t(94811),h=t(96503),l=t(36383),d=t(17803),v=new p({Extends:d,Mixins:[a],initialize:function(g,m,x,y,b,M,C,w,S){m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=128),b===void 0&&(b=0),M===void 0&&(M=360),C===void 0&&(C=!1),d.call(this,g,"Arc",new h(0,0,y)),this._startAngle=b,this._endAngle=M,this._anticlockwise=C,this._iterations=.01,this.setPosition(m,x);var I=this.geom.radius*2;this.setSize(I,I),w!==void 0&&this.setFillStyle(w,S),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(f){this._iterations=f,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(f){this.geom.radius=f;var g=f*2;this.setSize(g,g),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(f){this._startAngle=f,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(f){this._endAngle=f,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(f){this._anticlockwise=f,this.updateData()}},setRadius:function(f){return this.radius=f,this},setIterations:function(f){return f===void 0&&(f=.01),this.iterations=f,this},setStartAngle:function(f,g){return this._startAngle=f,g!==void 0&&(this._anticlockwise=g),this.updateData()},setEndAngle:function(f,g){return this._endAngle=f,g!==void 0&&(this._anticlockwise=g),this.updateData()},updateData:function(){var f=this._iterations,g=f,m=this.geom.radius,x=c(this._startAngle),y=c(this._endAngle),b=this._anticlockwise,M=m,C=m;y-=x,b?y<-l.PI2?y=-l.PI2:y>0&&(y=-l.PI2+y%l.PI2):y>l.PI2?y=l.PI2:y<0&&(y=l.PI2+y%l.PI2);for(var w=[M+Math.cos(x)*m,C+Math.sin(x)*m],S;g<1;)S=y*g+x,w.push(M+Math.cos(S)*m,C+Math.sin(S)*m),g+=f;return S=y+x,w.push(M+Math.cos(S)*m,C+Math.sin(S)*m),w.push(M+Math.cos(x)*m,C+Math.sin(x)*m),this.pathIndexes=u(w),this.pathData=w,this}});r.exports=v},42542:(r,o,t)=>{var a=t(39506),p=t(65960),c=t(75177),u=t(20926),h=function(l,d,v,f){v.addToRenderList(d);var g=l.currentContext;if(u(l,g,d,v,f)){var m=d.radius;g.beginPath(),g.arc(m-d.originX*(m*2),m-d.originY*(m*2),m,a(d._startAngle),a(d._endAngle),d.anticlockwise),d.closePath&&g.closePath(),d.isFilled&&(p(g,d),g.fill()),d.isStroked&&(c(g,d),g.stroke()),g.restore()}};r.exports=h},42563:(r,o,t)=>{var a=t(23629),p=t(39429);p.register("arc",function(c,u,h,l,d,v,f,g){return this.displayList.add(new a(this.scene,c,u,h,l,d,v,f,g))}),p.register("circle",function(c,u,h,l,d){return this.displayList.add(new a(this.scene,c,u,h,0,360,!1,l,d))})},13609:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(41447),c=t(42542),r.exports={renderWebGL:p,renderCanvas:c}},41447:(r,o,t)=>{var a=t(91296),p=t(10441),c=t(34682),u=function(h,l,d,v){d.addToRenderList(l);var f=h.pipelines.set(l.pipeline),g=a(l,d,v),m=f.calcMatrix.copyFrom(g.calc),x=l._displayOriginX,y=l._displayOriginY,b=d.alpha*l.alpha;h.pipelines.preBatch(l),l.isFilled&&p(f,m,l,b,x,y),l.isStroked&&c(f,l,b,x,y),h.pipelines.postBatch(l)};r.exports=u},89:(r,o,t)=>{var a=t(83419),p=t(33141),c=t(94811),u=t(87841),h=t(17803),l=new a({Extends:h,Mixins:[p],initialize:function(v,f,g,m,x,y){f===void 0&&(f=0),g===void 0&&(g=0),h.call(this,v,"Curve",m),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(f,g),x!==void 0&&this.setFillStyle(x,y),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,v=this._smoothness;this.geom.getBounds(d,v),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var f=[],g=this.geom.getPoints(v),m=0;m<g.length;m++)f.push(g[m].x,g[m].y);return f.push(g[0].x,g[0].y),this.pathIndexes=c(f),this.pathData=f,this}});r.exports=l},3170:(r,o,t)=>{var a=t(65960),p=t(75177),c=t(20926),u=function(h,l,d,v){d.addToRenderList(l);var f=h.currentContext;if(c(h,f,l,d,v)){var g=l._displayOriginX+l._curveBounds.x,m=l._displayOriginY+l._curveBounds.y,x=l.pathData,y=x.length-1,b=x[0]-g,M=x[1]-m;f.beginPath(),f.moveTo(b,M),l.closePath||(y-=2);for(var C=2;C<y;C+=2){var w=x[C]-g,S=x[C+1]-m;f.lineTo(w,S)}l.closePath&&f.closePath(),l.isFilled&&(a(f,l),f.fill()),l.isStroked&&(p(f,l),f.stroke()),f.restore()}};r.exports=u},40511:(r,o,t)=>{var a=t(39429),p=t(89);a.register("curve",function(c,u,h,l,d){return this.displayList.add(new p(this.scene,c,u,h,l,d))})},33141:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(53987),c=t(3170),r.exports={renderWebGL:p,renderCanvas:c}},53987:(r,o,t)=>{var a=t(10441),p=t(91296),c=t(34682),u=function(h,l,d,v){d.addToRenderList(l);var f=h.pipelines.set(l.pipeline),g=p(l,d,v),m=f.calcMatrix.copyFrom(g.calc),x=l._displayOriginX+l._curveBounds.x,y=l._displayOriginY+l._curveBounds.y,b=d.alpha*l.alpha;h.pipelines.preBatch(l),l.isFilled&&a(f,m,l,b,x,y),l.isStroked&&c(f,l,b,x,y),h.pipelines.postBatch(l)};r.exports=u},19921:(r,o,t)=>{var a=t(83419),p=t(94811),c=t(54205),u=t(8497),h=t(17803),l=new a({Extends:h,Mixins:[c],initialize:function(v,f,g,m,x,y,b){f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=128),x===void 0&&(x=128),h.call(this,v,"Ellipse",new u(m/2,x/2,m,x)),this._smoothness=64,this.setPosition(f,g),this.width=m,this.height=x,y!==void 0&&this.setFillStyle(y,b),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,v){return this.width=d,this.height=v,this.geom.setPosition(d/2,v/2),this.geom.setSize(d,v),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],v=this.geom.getPoints(this._smoothness),f=0;f<v.length;f++)d.push(v[f].x,v[f].y);return d.push(v[0].x,v[0].y),this.pathIndexes=p(d),this.pathData=d,this}});r.exports=l},7930:(r,o,t)=>{var a=t(65960),p=t(75177),c=t(20926),u=function(h,l,d,v){d.addToRenderList(l);var f=h.currentContext;if(c(h,f,l,d,v)){var g=l._displayOriginX,m=l._displayOriginY,x=l.pathData,y=x.length-1,b=x[0]-g,M=x[1]-m;f.beginPath(),f.moveTo(b,M),l.closePath||(y-=2);for(var C=2;C<y;C+=2){var w=x[C]-g,S=x[C+1]-m;f.lineTo(w,S)}f.closePath(),l.isFilled&&(a(f,l),f.fill()),l.isStroked&&(p(f,l),f.stroke()),f.restore()}};r.exports=u},1543:(r,o,t)=>{var a=t(19921),p=t(39429);p.register("ellipse",function(c,u,h,l,d,v){return this.displayList.add(new a(this.scene,c,u,h,l,d,v))})},54205:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(19467),c=t(7930),r.exports={renderWebGL:p,renderCanvas:c}},19467:(r,o,t)=>{var a=t(10441),p=t(91296),c=t(34682),u=function(h,l,d,v){d.addToRenderList(l);var f=h.pipelines.set(l.pipeline),g=p(l,d,v),m=f.calcMatrix.copyFrom(g.calc),x=l._displayOriginX,y=l._displayOriginY,b=d.alpha*l.alpha;h.pipelines.preBatch(l),l.isFilled&&a(f,m,l,b,x,y),l.isStroked&&c(f,l,b,x,y),h.pipelines.postBatch(l)};r.exports=u},30479:(r,o,t)=>{var a=t(83419),p=t(17803),c=t(26015),u=new a({Extends:p,Mixins:[c],initialize:function(l,d,v,f,g,m,x,y,b,M,C){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=128),g===void 0&&(g=128),m===void 0&&(m=32),x===void 0&&(x=32),p.call(this,l,"Grid",null),this.cellWidth=m,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,v),this.setSize(f,g),this.setFillStyle(y,b),M!==void 0&&this.setOutlineStyle(M,C),this.updateDisplayOrigin()},setFillStyle:function(h,l){return l===void 0&&(l=1),h===void 0?this.showCells=!1:(this.fillColor=h,this.fillAlpha=l,this.showCells=!0),this},setAltFillStyle:function(h,l){return l===void 0&&(l=1),h===void 0?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=l,this.showAltCells=!0),this},setOutlineStyle:function(h,l){return l===void 0&&(l=1),h===void 0?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=l,this.showOutline=!0),this}});r.exports=u},49912:(r,o,t)=>{var a=t(65960),p=t(75177),c=t(20926),u=function(h,l,d,v){d.addToRenderList(l);var f=h.currentContext;if(c(h,f,l,d,v)){var g=-l._displayOriginX,m=-l._displayOriginY,x=d.alpha*l.alpha,y=l.width,b=l.height,M=l.cellWidth,C=l.cellHeight,w=Math.ceil(y/M),S=Math.ceil(b/C),I=M,T=C,k=M-(w*M-y),E=C-(S*C-b),A=l.showCells,L=l.showAltCells,D=l.showOutline,R=0,N=0,P=0,O=0,W=0;if(D&&(I--,T--,k===M&&k--,E===C&&E--),A&&l.fillAlpha>0)for(a(f,l),N=0;N<S;N++)for(L&&(P=N%2),R=0;R<w;R++){if(L&&P){P=0;continue}P++,O=R<w-1?I:k,W=N<S-1?T:E,f.fillRect(g+R*M,m+N*C,O,W)}if(L&&l.altFillAlpha>0)for(a(f,l,l.altFillColor,l.altFillAlpha*x),N=0;N<S;N++)for(L&&(P=N%2),R=0;R<w;R++){if(L&&!P){P=1;continue}P=0,O=R<w-1?I:k,W=N<S-1?T:E,f.fillRect(g+R*M,m+N*C,O,W)}if(D&&l.outlineFillAlpha>0){for(p(f,l,l.outlineFillColor,l.outlineFillAlpha*x),R=1;R<w;R++){var G=R*M;f.beginPath(),f.moveTo(G+g,m),f.lineTo(G+g,b+m),f.stroke()}for(N=1;N<S;N++){var H=N*C;f.beginPath(),f.moveTo(g,H+m),f.lineTo(g+y,H+m),f.stroke()}}f.restore()}};r.exports=u},34137:(r,o,t)=>{var a=t(39429),p=t(30479);a.register("grid",function(c,u,h,l,d,v,f,g,m,x){return this.displayList.add(new p(this.scene,c,u,h,l,d,v,f,g,m,x))})},26015:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(46161),c=t(49912),r.exports={renderWebGL:p,renderCanvas:c}},46161:(r,o,t)=>{var a=t(91296),p=t(70554),c=function(u,h,l,d){l.addToRenderList(h);var v=u.pipelines.set(h.pipeline),f=a(h,l,d),g=v.calcMatrix.copyFrom(f.calc);g.translate(-h._displayOriginX,-h._displayOriginY);var m=l.alpha*h.alpha,x=h.width,y=h.height,b=h.cellWidth,M=h.cellHeight,C=Math.ceil(x/b),w=Math.ceil(y/M),S=b,I=M,T=b-(C*b-x),k=M-(w*M-y),E,A,L=h.showCells,D=h.showAltCells,R=h.showOutline,N=0,P=0,O=0,W=0,G=0;if(R&&(S--,I--,T===b&&T--,k===M&&k--),u.pipelines.preBatch(h),L&&h.fillAlpha>0)for(E=v.fillTint,A=p.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*m),E.TL=A,E.TR=A,E.BL=A,E.BR=A,P=0;P<w;P++)for(D&&(O=P%2),N=0;N<C;N++){if(D&&O){O=0;continue}O++,W=N<C-1?S:T,G=P<w-1?I:k,v.batchFillRect(N*b,P*M,W,G)}if(D&&h.altFillAlpha>0)for(E=v.fillTint,A=p.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*m),E.TL=A,E.TR=A,E.BL=A,E.BR=A,P=0;P<w;P++)for(D&&(O=P%2),N=0;N<C;N++){if(D&&!O){O=1;continue}O=0,W=N<C-1?S:T,G=P<w-1?I:k,v.batchFillRect(N*b,P*M,W,G)}if(R&&h.outlineFillAlpha>0){var H=v.strokeTint,V=p.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*m);for(H.TL=V,H.TR=V,H.BL=V,H.BR=V,N=1;N<C;N++){var B=N*b;v.batchLine(B,0,B,y,1,1,1,0,!1)}for(P=1;P<w;P++){var j=P*M;v.batchLine(0,j,x,j,1,1,1,0,!1)}}u.pipelines.postBatch(h)};r.exports=c},61475:(r,o,t)=>{var a=t(99651),p=t(83419),c=t(17803),u=new p({Extends:c,Mixins:[a],initialize:function(l,d,v,f,g,m,x,y){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=48),g===void 0&&(g=32),m===void 0&&(m=15658734),x===void 0&&(x=10066329),y===void 0&&(y=13421772),c.call(this,l,"IsoBox",null),this.projection=4,this.fillTop=m,this.fillLeft=x,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,v),this.setSize(f,g),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,l,d){return h===void 0&&(h=!0),l===void 0&&(l=!0),d===void 0&&(d=!0),this.showTop=h,this.showLeft=l,this.showRight=d,this},setFillStyle:function(h,l,d){return this.fillTop=h,this.fillLeft=l,this.fillRight=d,this.isFilled=!0,this}});r.exports=u},11508:(r,o,t)=>{var a=t(65960),p=t(20926),c=function(u,h,l,d){l.addToRenderList(h);var v=u.currentContext;if(p(u,v,h,l,d)&&h.isFilled){var f=h.width,g=h.height,m=f/2,x=f/h.projection;h.showTop&&(a(v,h,h.fillTop),v.beginPath(),v.moveTo(-m,-g),v.lineTo(0,-x-g),v.lineTo(m,-g),v.lineTo(m,-1),v.lineTo(0,x-1),v.lineTo(-m,-1),v.lineTo(-m,-g),v.fill()),h.showLeft&&(a(v,h,h.fillLeft),v.beginPath(),v.moveTo(-m,0),v.lineTo(0,x),v.lineTo(0,x-g),v.lineTo(-m,-g),v.lineTo(-m,0),v.fill()),h.showRight&&(a(v,h,h.fillRight),v.beginPath(),v.moveTo(m,0),v.lineTo(0,x),v.lineTo(0,x-g),v.lineTo(m,-g),v.lineTo(m,0),v.fill()),v.restore()}};r.exports=c},3933:(r,o,t)=>{var a=t(39429),p=t(61475);a.register("isobox",function(c,u,h,l,d,v,f){return this.displayList.add(new p(this.scene,c,u,h,l,d,v,f))})},99651:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(68149),c=t(11508),r.exports={renderWebGL:p,renderCanvas:c}},68149:(r,o,t)=>{var a=t(91296),p=t(70554),c=function(u,h,l,d){l.addToRenderList(h);var v=u.pipelines.set(h.pipeline),f=a(h,l,d),g=v.calcMatrix.copyFrom(f.calc),m=h.width,x=h.height,y=m/2,b=m/h.projection,M=l.alpha*h.alpha;if(h.isFilled){var C,w,S,I,T,k,E,A,L;u.pipelines.preBatch(h),h.showTop&&(C=p.getTintAppendFloatAlpha(h.fillTop,M),w=g.getX(-y,-x),S=g.getY(-y,-x),I=g.getX(0,-b-x),T=g.getY(0,-b-x),k=g.getX(y,-x),E=g.getY(y,-x),A=g.getX(0,b-x),L=g.getY(0,b-x),v.batchQuad(h,w,S,I,T,k,E,A,L,0,0,1,1,C,C,C,C,2)),h.showLeft&&(C=p.getTintAppendFloatAlpha(h.fillLeft,M),w=g.getX(-y,0),S=g.getY(-y,0),I=g.getX(0,b),T=g.getY(0,b),k=g.getX(0,b-x),E=g.getY(0,b-x),A=g.getX(-y,-x),L=g.getY(-y,-x),v.batchQuad(h,w,S,I,T,k,E,A,L,0,0,1,1,C,C,C,C,2)),h.showRight&&(C=p.getTintAppendFloatAlpha(h.fillRight,M),w=g.getX(y,0),S=g.getY(y,0),I=g.getX(0,b),T=g.getY(0,b),k=g.getX(0,b-x),E=g.getY(0,b-x),A=g.getX(y,-x),L=g.getY(y,-x),v.batchQuad(h,w,S,I,T,k,E,A,L,0,0,1,1,C,C,C,C,2)),u.pipelines.postBatch(h)}};r.exports=c},16933:(r,o,t)=>{var a=t(83419),p=t(60561),c=t(17803),u=new a({Extends:c,Mixins:[p],initialize:function(l,d,v,f,g,m,x,y,b){d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f=48),g===void 0&&(g=32),m===void 0&&(m=!1),x===void 0&&(x=15658734),y===void 0&&(y=10066329),b===void 0&&(b=13421772),c.call(this,l,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=y,this.fillRight=b,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=m,this.isFilled=!0,this.setPosition(d,v),this.setSize(f,g),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,l,d){return h===void 0&&(h=!0),l===void 0&&(l=!0),d===void 0&&(d=!0),this.showTop=h,this.showLeft=l,this.showRight=d,this},setFillStyle:function(h,l,d){return this.fillTop=h,this.fillLeft=l,this.fillRight=d,this.isFilled=!0,this}});r.exports=u},79590:(r,o,t)=>{var a=t(65960),p=t(20926),c=function(u,h,l,d){l.addToRenderList(h);var v=u.currentContext;if(p(u,v,h,l,d)&&h.isFilled){var f=h.width,g=h.height,m=f/2,x=f/h.projection,y=h.isReversed;h.showTop&&y&&(a(v,h,h.fillTop),v.beginPath(),v.moveTo(-m,-g),v.lineTo(0,-x-g),v.lineTo(m,-g),v.lineTo(0,x-g),v.fill()),h.showLeft&&(a(v,h,h.fillLeft),v.beginPath(),y?(v.moveTo(-m,-g),v.lineTo(0,x),v.lineTo(0,x-g)):(v.moveTo(-m,0),v.lineTo(0,x),v.lineTo(0,x-g)),v.fill()),h.showRight&&(a(v,h,h.fillRight),v.beginPath(),y?(v.moveTo(m,-g),v.lineTo(0,x),v.lineTo(0,x-g)):(v.moveTo(m,0),v.lineTo(0,x),v.lineTo(0,x-g)),v.fill()),v.restore()}};r.exports=c},49803:(r,o,t)=>{var a=t(39429),p=t(16933);a.register("isotriangle",function(c,u,h,l,d,v,f,g){return this.displayList.add(new p(this.scene,c,u,h,l,d,v,f,g))})},60561:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(51503),c=t(79590),r.exports={renderWebGL:p,renderCanvas:c}},51503:(r,o,t)=>{var a=t(91296),p=t(70554),c=function(u,h,l,d){l.addToRenderList(h);var v=u.pipelines.set(h.pipeline),f=a(h,l,d),g=v.calcMatrix.copyFrom(f.calc),m=h.width,x=h.height,y=m/2,b=m/h.projection,M=h.isReversed,C=l.alpha*h.alpha;if(h.isFilled){u.pipelines.preBatch(h);var w,S,I,T,k,E,A;if(h.showTop&&M){w=p.getTintAppendFloatAlpha(h.fillTop,C),S=g.getX(-y,-x),I=g.getY(-y,-x),T=g.getX(0,-b-x),k=g.getY(0,-b-x),E=g.getX(y,-x),A=g.getY(y,-x);var L=g.getX(0,b-x),D=g.getY(0,b-x);v.batchQuad(h,S,I,T,k,E,A,L,D,0,0,1,1,w,w,w,w,2)}h.showLeft&&(w=p.getTintAppendFloatAlpha(h.fillLeft,C),M?(S=g.getX(-y,-x),I=g.getY(-y,-x),T=g.getX(0,b),k=g.getY(0,b),E=g.getX(0,b-x),A=g.getY(0,b-x)):(S=g.getX(-y,0),I=g.getY(-y,0),T=g.getX(0,b),k=g.getY(0,b),E=g.getX(0,b-x),A=g.getY(0,b-x)),v.batchTri(h,S,I,T,k,E,A,0,0,1,1,w,w,w,2)),h.showRight&&(w=p.getTintAppendFloatAlpha(h.fillRight,C),M?(S=g.getX(y,-x),I=g.getY(y,-x),T=g.getX(0,b),k=g.getY(0,b),E=g.getX(0,b-x),A=g.getY(0,b-x)):(S=g.getX(y,0),I=g.getY(y,0),T=g.getX(0,b),k=g.getY(0,b),E=g.getX(0,b-x),A=g.getY(0,b-x)),v.batchTri(h,S,I,T,k,E,A,0,0,1,1,w,w,w,2)),u.pipelines.postBatch(h)}};r.exports=c},57847:(r,o,t)=>{var a=t(83419),p=t(17803),c=t(23031),u=t(36823),h=new a({Extends:p,Mixins:[u],initialize:function(d,v,f,g,m,x,y,b,M){v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=128),y===void 0&&(y=0),p.call(this,d,"Line",new c(g,m,x,y));var C=Math.max(1,this.geom.right-this.geom.left),w=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,f),this.setSize(C,w),b!==void 0&&this.setStrokeStyle(1,b,M),this.updateDisplayOrigin()},setLineWidth:function(l,d){return d===void 0&&(d=l),this._startWidth=l,this._endWidth=d,this.lineWidth=l,this},setTo:function(l,d,v,f){return this.geom.setTo(l,d,v,f),this}});r.exports=h},17440:(r,o,t)=>{var a=t(75177),p=t(20926),c=function(u,h,l,d){l.addToRenderList(h);var v=u.currentContext;if(p(u,v,h,l,d)){var f=h._displayOriginX,g=h._displayOriginY;h.isStroked&&(a(v,h),v.beginPath(),v.moveTo(h.geom.x1-f,h.geom.y1-g),v.lineTo(h.geom.x2-f,h.geom.y2-g),v.stroke()),v.restore()}};r.exports=c},2481:(r,o,t)=>{var a=t(39429),p=t(57847);a.register("line",function(c,u,h,l,d,v,f,g){return this.displayList.add(new p(this.scene,c,u,h,l,d,v,f,g))})},36823:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(77385),c=t(17440),r.exports={renderWebGL:p,renderCanvas:c}},77385:(r,o,t)=>{var a=t(91296),p=t(70554),c=function(u,h,l,d){l.addToRenderList(h);var v=u.pipelines.set(h.pipeline),f=a(h,l,d);v.calcMatrix.copyFrom(f.calc);var g=h._displayOriginX,m=h._displayOriginY,x=l.alpha*h.alpha;if(u.pipelines.preBatch(h),h.isStroked){var y=v.strokeTint,b=p.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*x);y.TL=b,y.TR=b,y.BL=b,y.BR=b,v.batchLine(h.geom.x1-g,h.geom.y1-m,h.geom.x2-g,h.geom.y2-m,h._startWidth/2,h._endWidth/2,1,0,!1,f.sprite,f.camera)}u.pipelines.postBatch(h)};r.exports=c},24949:(r,o,t)=>{var a=t(90273),p=t(83419),c=t(94811),u=t(13829),h=t(25717),l=t(17803),d=t(5469),v=new p({Extends:l,Mixins:[a],initialize:function(g,m,x,y,b,M){m===void 0&&(m=0),x===void 0&&(x=0),l.call(this,g,"Polygon",new h(y));var C=u(this.geom);this.setPosition(m,x),this.setSize(C.width,C.height),b!==void 0&&this.setFillStyle(b,M),this.updateDisplayOrigin(),this.updateData()},smooth:function(f){f===void 0&&(f=1);for(var g=0;g<f;g++)d(this.geom);return this.updateData()},setTo:function(f){this.geom.setTo(f);var g=u(this.geom);return this.setSize(g.width,g.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var f=[],g=this.geom.points,m=0;m<g.length;m++)f.push(g[m].x,g[m].y);return f.push(g[0].x,g[0].y),this.pathIndexes=c(f),this.pathData=f,this}});r.exports=v},38710:(r,o,t)=>{var a=t(65960),p=t(75177),c=t(20926),u=function(h,l,d,v){d.addToRenderList(l);var f=h.currentContext;if(c(h,f,l,d,v)){var g=l._displayOriginX,m=l._displayOriginY,x=l.pathData,y=x.length-1,b=x[0]-g,M=x[1]-m;f.beginPath(),f.moveTo(b,M),l.closePath||(y-=2);for(var C=2;C<y;C+=2){var w=x[C]-g,S=x[C+1]-m;f.lineTo(w,S)}l.closePath&&f.closePath(),l.isFilled&&(a(f,l),f.fill()),l.isStroked&&(p(f,l),f.stroke()),f.restore()}};r.exports=u},64827:(r,o,t)=>{var a=t(39429),p=t(24949);a.register("polygon",function(c,u,h,l,d){return this.displayList.add(new p(this.scene,c,u,h,l,d))})},90273:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(73695),c=t(38710),r.exports={renderWebGL:p,renderCanvas:c}},73695:(r,o,t)=>{var a=t(10441),p=t(91296),c=t(34682),u=function(h,l,d,v){d.addToRenderList(l);var f=h.pipelines.set(l.pipeline),g=p(l,d,v),m=f.calcMatrix.copyFrom(g.calc),x=l._displayOriginX,y=l._displayOriginY,b=d.alpha*l.alpha;h.pipelines.preBatch(l),l.isFilled&&a(f,m,l,b,x,y),l.isStroked&&c(f,l,b,x,y),h.pipelines.postBatch(l)};r.exports=u},74561:(r,o,t)=>{var a=t(83419),p=t(87841),c=t(17803),u=t(95597),h=new a({Extends:c,Mixins:[u],initialize:function(d,v,f,g,m,x,y){v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=128),m===void 0&&(m=128),c.call(this,d,"Rectangle",new p(0,0,g,m)),this.setPosition(v,f),this.setSize(g,m),x!==void 0&&this.setFillStyle(x,y),this.updateDisplayOrigin(),this.updateData()},setSize:function(l,d){this.width=l,this.height=d,this.geom.setSize(l,d),this.updateData(),this.updateDisplayOrigin();var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=l,v.hitArea.height=d),this},updateData:function(){var l=[],d=this.geom,v=this._tempLine;return d.getLineA(v),l.push(v.x1,v.y1,v.x2,v.y2),d.getLineB(v),l.push(v.x2,v.y2),d.getLineC(v),l.push(v.x2,v.y2),d.getLineD(v),l.push(v.x2,v.y2),this.pathData=l,this}});r.exports=h},48682:(r,o,t)=>{var a=t(65960),p=t(75177),c=t(20926),u=function(h,l,d,v){d.addToRenderList(l);var f=h.currentContext;if(c(h,f,l,d,v)){var g=l._displayOriginX,m=l._displayOriginY;l.isFilled&&(a(f,l),f.fillRect(-g,-m,l.width,l.height)),l.isStroked&&(p(f,l),f.beginPath(),f.rect(-g,-m,l.width,l.height),f.stroke()),f.restore()}};r.exports=u},87959:(r,o,t)=>{var a=t(39429),p=t(74561);a.register("rectangle",function(c,u,h,l,d,v){return this.displayList.add(new p(this.scene,c,u,h,l,d,v))})},95597:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(52059),c=t(48682),r.exports={renderWebGL:p,renderCanvas:c}},52059:(r,o,t)=>{var a=t(91296),p=t(34682),c=t(70554),u=function(h,l,d,v){d.addToRenderList(l);var f=h.pipelines.set(l.pipeline),g=a(l,d,v);f.calcMatrix.copyFrom(g.calc);var m=l._displayOriginX,x=l._displayOriginY,y=d.alpha*l.alpha;if(h.pipelines.preBatch(l),l.isFilled){var b=f.fillTint,M=c.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*y);b.TL=M,b.TR=M,b.BL=M,b.BR=M,f.batchFillRect(-m,-x,l.width,l.height)}l.isStroked&&p(f,l,y,m,x),h.pipelines.postBatch(l)};r.exports=u},55911:(r,o,t)=>{var a=t(81991),p=t(83419),c=t(94811),u=t(17803),h=new p({Extends:u,Mixins:[a],initialize:function(d,v,f,g,m,x,y,b){v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=5),m===void 0&&(m=32),x===void 0&&(x=64),u.call(this,d,"Star",null),this._points=g,this._innerRadius=m,this._outerRadius=x,this.setPosition(v,f),this.setSize(x*2,x*2),y!==void 0&&this.setFillStyle(y,b),this.updateDisplayOrigin(),this.updateData()},setPoints:function(l){return this._points=l,this.updateData()},setInnerRadius:function(l){return this._innerRadius=l,this.updateData()},setOuterRadius:function(l){return this._outerRadius=l,this.updateData()},points:{get:function(){return this._points},set:function(l){this._points=l,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(l){this._innerRadius=l,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(l){this._outerRadius=l,this.updateData()}},updateData:function(){var l=[],d=this._points,v=this._innerRadius,f=this._outerRadius,g=Math.PI/2*3,m=Math.PI/d,x=f,y=f;l.push(x,y+-f);for(var b=0;b<d;b++)l.push(x+Math.cos(g)*f,y+Math.sin(g)*f),g+=m,l.push(x+Math.cos(g)*v,y+Math.sin(g)*v),g+=m;return l.push(x,y+-f),this.pathIndexes=c(l),this.pathData=l,this}});r.exports=h},64272:(r,o,t)=>{var a=t(65960),p=t(75177),c=t(20926),u=function(h,l,d,v){d.addToRenderList(l);var f=h.currentContext;if(c(h,f,l,d,v)){var g=l._displayOriginX,m=l._displayOriginY,x=l.pathData,y=x.length-1,b=x[0]-g,M=x[1]-m;f.beginPath(),f.moveTo(b,M),l.closePath||(y-=2);for(var C=2;C<y;C+=2){var w=x[C]-g,S=x[C+1]-m;f.lineTo(w,S)}f.closePath(),l.isFilled&&(a(f,l),f.fill()),l.isStroked&&(p(f,l),f.stroke()),f.restore()}};r.exports=u},93697:(r,o,t)=>{var a=t(55911),p=t(39429);p.register("star",function(c,u,h,l,d,v,f){return this.displayList.add(new a(this.scene,c,u,h,l,d,v,f))})},81991:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(57017),c=t(64272),r.exports={renderWebGL:p,renderCanvas:c}},57017:(r,o,t)=>{var a=t(10441),p=t(91296),c=t(34682),u=function(h,l,d,v){d.addToRenderList(l);var f=h.pipelines.set(l.pipeline),g=p(l,d,v),m=f.calcMatrix.copyFrom(g.calc),x=l._displayOriginX,y=l._displayOriginY,b=d.alpha*l.alpha;h.pipelines.preBatch(l),l.isFilled&&a(f,m,l,b,x,y),l.isStroked&&c(f,l,b,x,y),h.pipelines.postBatch(l)};r.exports=u},36931:(r,o,t)=>{var a=t(83419),p=t(17803),c=t(16483),u=t(96195),h=new a({Extends:p,Mixins:[u],initialize:function(d,v,f,g,m,x,y,b,M,C,w){v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=128),x===void 0&&(x=64),y===void 0&&(y=0),b===void 0&&(b=128),M===void 0&&(M=128),p.call(this,d,"Triangle",new c(g,m,x,y,b,M));var S=this.geom.right-this.geom.left,I=this.geom.bottom-this.geom.top;this.setPosition(v,f),this.setSize(S,I),C!==void 0&&this.setFillStyle(C,w),this.updateDisplayOrigin(),this.updateData()},setTo:function(l,d,v,f,g,m){return this.geom.setTo(l,d,v,f,g,m),this.updateData()},updateData:function(){var l=[],d=this.geom,v=this._tempLine;return d.getLineA(v),l.push(v.x1,v.y1,v.x2,v.y2),d.getLineB(v),l.push(v.x2,v.y2),d.getLineC(v),l.push(v.x2,v.y2),this.pathData=l,this}});r.exports=h},85172:(r,o,t)=>{var a=t(65960),p=t(75177),c=t(20926),u=function(h,l,d,v){d.addToRenderList(l);var f=h.currentContext;if(c(h,f,l,d,v)){var g=l._displayOriginX,m=l._displayOriginY,x=l.geom.x1-g,y=l.geom.y1-m,b=l.geom.x2-g,M=l.geom.y2-m,C=l.geom.x3-g,w=l.geom.y3-m;f.beginPath(),f.moveTo(x,y),f.lineTo(b,M),f.lineTo(C,w),f.closePath(),l.isFilled&&(a(f,l),f.fill()),l.isStroked&&(p(f,l),f.stroke()),f.restore()}};r.exports=u},45245:(r,o,t)=>{var a=t(39429),p=t(36931);a.register("triangle",function(c,u,h,l,d,v,f,g,m,x){return this.displayList.add(new p(this.scene,c,u,h,l,d,v,f,g,m,x))})},96195:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(83253),c=t(85172),r.exports={renderWebGL:p,renderCanvas:c}},83253:(r,o,t)=>{var a=t(91296),p=t(34682),c=t(70554),u=function(h,l,d,v){d.addToRenderList(l);var f=h.pipelines.set(l.pipeline),g=a(l,d,v);f.calcMatrix.copyFrom(g.calc);var m=l._displayOriginX,x=l._displayOriginY,y=d.alpha*l.alpha;if(h.pipelines.preBatch(l),l.isFilled){var b=f.fillTint,M=c.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*y);b.TL=M,b.TR=M,b.BL=M,b.BR=M;var C=l.geom.x1-m,w=l.geom.y1-x,S=l.geom.x2-m,I=l.geom.y2-x,T=l.geom.x3-m,k=l.geom.y3-x;f.batchFillTriangle(C,w,S,I,T,k,g.sprite,g.camera)}l.isStroked&&p(f,l,y,m,x),h.pipelines.postBatch(l)};r.exports=u},68287:(r,o,t)=>{var a=t(9674),p=t(83419),c=t(31401),u=t(95643),h=t(92751),l=new p({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,h],initialize:function(v,f,g,m,x){u.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(m,x),this.setPosition(f,g),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,v){this.anims.update(d,v)},play:function(d,v){return this.anims.play(d,v)},playReverse:function(d,v){return this.anims.playReverse(d,v)},playAfterDelay:function(d,v){return this.anims.playAfterDelay(d,v)},playAfterRepeat:function(d,v){return this.anims.playAfterRepeat(d,v)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return c.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});r.exports=l},76552:r=>{var o=function(t,a,p,c){p.addToRenderList(a),t.batchSprite(a,a.frame,p,c)};r.exports=o},15567:(r,o,t)=>{var a=t(25305),p=t(13059),c=t(44603),u=t(23568),h=t(68287);c.register("sprite",function(l,d){l===void 0&&(l={});var v=u(l,"key",null),f=u(l,"frame",null),g=new h(this.scene,0,0,v,f);return d!==void 0&&(l.add=d),a(this.scene,g,l),p(g,l),g})},46409:(r,o,t)=>{var a=t(39429),p=t(68287);a.register("sprite",function(c,u,h,l){return this.displayList.add(new p(this.scene,c,u,h,l))})},92751:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(9409),c=t(76552),r.exports={renderWebGL:p,renderCanvas:c}},9409:r=>{var o=function(t,a,p,c){p.addToRenderList(a),a.pipeline.batchSprite(a,p,c)};r.exports=o},14220:r=>{var o=function(t,a,p){var c=t.canvas,u=t.context,h=t.style,l=[],d=0,v=p.length;h.maxLines>0&&h.maxLines<p.length&&(v=h.maxLines),h.syncFont(c,u);for(var f=t.letterSpacing,g=0;g<v;g++){var m=h.strokeThickness;if(f===0)m+=u.measureText(p[g]).width;else{for(var x=p[g],y=0;y<x.length;y++)m+=u.measureText(x[y]).width;x.length>1&&(m+=f*(x.length-1))}h.wordWrap&&(m-=u.measureText(" ").width),l[g]=Math.ceil(m),d=Math.max(d,l[g])}var b=a.fontSize+h.strokeThickness,M=b*v,C=t.lineSpacing;return v>1&&(M+=C*(v-1)),{width:d,height:M,lines:v,lineWidths:l,lineSpacing:C,lineHeight:b}};r.exports=o},79557:(r,o,t)=>{var a=t(27919),p=function(c){var u=a.create(this),h=u.getContext("2d",{willReadFrequently:!0});c.syncFont(u,h);var l=h.measureText(c.testString);if("actualBoundingBoxAscent"in l){var d=l.actualBoundingBoxAscent,v=l.actualBoundingBoxDescent;return a.remove(u),{ascent:d,descent:v,fontSize:d+v}}var f=Math.ceil(l.width*c.baselineX),g=f,m=2*g;g=g*c.baselineY|0,u.width=f,u.height=m,h.fillStyle="#f00",h.fillRect(0,0,f,m),h.font=c._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(c.testString,0,g);var x={ascent:0,descent:0,fontSize:0},y=h.getImageData(0,0,f,m);if(!y)return x.ascent=g,x.descent=g+6,x.fontSize=x.ascent+x.descent,a.remove(u),x;var b=y.data,M=b.length,C=f*4,w,S,I=0,T=!1;for(w=0;w<g;w++){for(S=0;S<C;S+=4)if(b[I+S]!==255){T=!0;break}if(!T)I+=C;else break}for(x.ascent=g-w,I=M-C,T=!1,w=m;w>g;w--){for(S=0;S<C;S+=4)if(b[I+S]!==255){T=!0;break}if(!T)I-=C;else break}return x.descent=w-g,x.fontSize=x.ascent+x.descent,a.remove(u),x};r.exports=p},50171:(r,o,t)=>{var a=t(40366),p=t(27919),c=t(83419),u=t(31401),h=t(95643),l=t(14220),d=t(35154),v=t(35846),f=t(61771),g=t(35762),m=t(45650),x=new c({Extends:h,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,f],initialize:function(b,M,C,w,S){M===void 0&&(M=0),C===void 0&&(C=0),h.call(this,b,"Text"),this.renderer=b.sys.renderer,this.setPosition(M,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new g(this,S),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=m(),this.texture=b.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(w),S&&S.padding&&this.setPadding(S.padding),S&&S.lineSpacing&&this.setLineSpacing(S.lineSpacing),S&&S.letterSpacing&&this.setLetterSpacing(S.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(y){var b=this.style;if(b.wordWrapCallback){var M=b.wordWrapCallback.call(b.wordWrapCallbackScope,y,this);return Array.isArray(M)&&(M=M.join(`
`)),M}else return b.wordWrapWidth?b.wordWrapUseAdvanced?this.advancedWordWrap(y,this.context,this.style.wordWrapWidth):this.basicWordWrap(y,this.context,this.style.wordWrapWidth):y},advancedWordWrap:function(y,b,M){for(var C="",w=y.replace(/ +/gi," ").split(this.splitRegExp),S=w.length,I=0;I<S;I++){var T=w[I],k="";T=T.replace(/^ *|\s*$/gi,"");var E=T.length*this.letterSpacing,A=b.measureText(T).width+E;if(A<M){C+=T+`
`;continue}for(var L=M,D=T.split(" "),R=0;R<D.length;R++){var N=D[R],P=N+" ",O=P.length*this.letterSpacing,W=b.measureText(P).width+O;if(console.log(D.length,N),W>L){if(R===0){for(var G=P;G.length;){G=G.slice(0,-1);var H=G.length*this.letterSpacing;if(W=b.measureText(G).width+H,W<=L)break}if(!G.length)throw new Error("wordWrapWidth < a single character");var V=N.substr(G.length);D[R]=V,k+=G}var B=D[R].length?R:R+1,j=D.slice(B).join(" ").replace(/[ \n]*$/gi,"");w.splice(I+1,0,j),S=w.length;break}else k+=P,L-=W}C+=k.replace(/[ \n]*$/gi,"")+`
`}return C=C.replace(/[\s|\n]*$/gi,""),C},basicWordWrap:function(y,b,M){for(var C="",w=y.split(this.splitRegExp),S=w.length-1,I=b.measureText(" ").width,T=0;T<=S;T++){for(var k=M,E=w[T].split(" "),A=E.length-1,L=0;L<=A;L++){var D=E[L],R=D.length*this.letterSpacing,N=b.measureText(D).width+R,P=N;L<A&&(P+=I),P>k&&L>0&&(C+=`
`,k=M),C+=D,L<A?(C+=" ",k-=P):k-=N}T<S&&(C+=`
`)}return C},getWrappedText:function(y){y===void 0&&(y=this._text),this.style.syncFont(this.canvas,this.context);var b=this.runWordWrap(y);return b.split(this.splitRegExp)},setText:function(y){return!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y!==this._text&&(this._text=y.toString(),this.updateText()),this},appendText:function(y,b){b===void 0&&(b=!0),!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y=y.toString();var M=this._text.concat(b?`
`+y:y);return M!==this._text&&(this._text=M,this.updateText()),this},setStyle:function(y){return this.style.setStyle(y)},setFont:function(y){return this.style.setFont(y)},setFontFamily:function(y){return this.style.setFontFamily(y)},setFontSize:function(y){return this.style.setFontSize(y)},setFontStyle:function(y){return this.style.setFontStyle(y)},setFixedSize:function(y,b){return this.style.setFixedSize(y,b)},setBackgroundColor:function(y){return this.style.setBackgroundColor(y)},setFill:function(y){return this.style.setFill(y)},setColor:function(y){return this.style.setColor(y)},setStroke:function(y,b){return this.style.setStroke(y,b)},setShadow:function(y,b,M,C,w,S){return this.style.setShadow(y,b,M,C,w,S)},setShadowOffset:function(y,b){return this.style.setShadowOffset(y,b)},setShadowColor:function(y){return this.style.setShadowColor(y)},setShadowBlur:function(y){return this.style.setShadowBlur(y)},setShadowStroke:function(y){return this.style.setShadowStroke(y)},setShadowFill:function(y){return this.style.setShadowFill(y)},setWordWrapWidth:function(y,b){return this.style.setWordWrapWidth(y,b)},setWordWrapCallback:function(y,b){return this.style.setWordWrapCallback(y,b)},setAlign:function(y){return this.style.setAlign(y)},setResolution:function(y){return this.style.setResolution(y)},setLineSpacing:function(y){return this.lineSpacing=y,this.updateText()},setLetterSpacing:function(y){return this.letterSpacing=y,this.updateText()},setPadding:function(y,b,M,C){if(typeof y=="object"){var w=y,S=d(w,"x",null);S!==null?(y=S,M=S):(y=d(w,"left",0),M=d(w,"right",y));var I=d(w,"y",null);I!==null?(b=I,C=I):(b=d(w,"top",0),C=d(w,"bottom",b))}else y===void 0&&(y=0),b===void 0&&(b=y),M===void 0&&(M=y),C===void 0&&(C=b);return this.padding.left=y,this.padding.top=b,this.padding.right=M,this.padding.bottom=C,this.updateText()},setMaxLines:function(y){return this.style.setMaxLines(y)},setRTL:function(y){y===void 0&&(y=!0);var b=this.style;return b.rtl===y?this:(b.rtl=y,y?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),b.align==="left"?b.align="right":b.align==="right"&&(b.align="left"),this)},updateText:function(){var y=this.canvas,b=this.context,M=this.style,C=M.resolution,w=M.metrics;M.syncFont(y,b);var S=this._text;(M.wordWrapWidth||M.wordWrapCallback)&&(S=this.runWordWrap(this._text));var I=S.split(this.splitRegExp),T=l(this,w,I),k=this.padding,E;M.fixedWidth===0?(this.width=T.width+k.left+k.right,E=T.width):(this.width=M.fixedWidth,E=this.width-k.left-k.right,E<T.width&&(E=T.width)),M.fixedHeight===0?this.height=T.height+k.top+k.bottom:this.height=M.fixedHeight;var A=this.width,L=this.height;this.updateDisplayOrigin(),A*=C,L*=C,A=Math.max(A,1),L=Math.max(L,1),y.width!==A||y.height!==L?(y.width=A,y.height=L,this.frame.setSize(A,L),M.syncFont(y,b),M.rtl&&(b.direction="rtl")):b.clearRect(0,0,A,L),b.save(),b.scale(C,C),M.backgroundColor&&(b.fillStyle=M.backgroundColor,b.fillRect(0,0,A,L)),M.syncStyle(y,b),b.translate(k.left,k.top);for(var D,R,N=0;N<T.lines;N++){if(D=M.strokeThickness/2,R=M.strokeThickness/2+N*T.lineHeight+w.ascent,N>0&&(R+=T.lineSpacing*N),M.rtl)D=A-D-k.left-k.right;else if(M.align==="right")D+=E-T.lineWidths[N];else if(M.align==="center")D+=(E-T.lineWidths[N])/2;else if(M.align==="justify"){var P=.85;if(T.lineWidths[N]/T.width>=P){var O=T.width-T.lineWidths[N],W=b.measureText(" ").width,G=I[N].trim(),H=G.split(" ");O+=(I[N].length-G.length)*W;for(var V=Math.floor(O/W),B=0;V>0;)H[B]+=" ",B=(B+1)%(H.length-1||1),--V;I[N]=H.join(" ")}}this.autoRound&&(D=Math.round(D),R=Math.round(R));var j=this.letterSpacing;if(M.strokeThickness&&j===0&&(M.syncShadow(b,M.shadowStroke),b.strokeText(I[N],D,R)),M.color)if(M.syncShadow(b,M.shadowFill),j!==0)for(var U=0,X=I[N].split(""),Z=0;Z<X.length;Z++)M.strokeThickness&&(M.syncShadow(b,M.shadowStroke),b.strokeText(X[Z],D+U,R),M.syncShadow(b,M.shadowFill)),b.fillText(X[Z],D+U,R),U+=b.measureText(X[Z]).width+j;else b.fillText(I[N],D,R)}b.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(y,this.frame.source.glTexture,!0));var $=this.input;return $&&!$.customHitArea&&($.hitArea.width=this.width,$.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(y){this.setText(y)}},toJSON:function(){var y=u.ToJSON(this),b={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return y.data=b,y},preDestroy:function(){v(this.canvas),p.remove(this.canvas);var y=this.texture;y&&y.destroy()}});r.exports=x},79724:r=>{var o=function(t,a,p,c){a.width===0||a.height===0||(p.addToRenderList(a),t.batchSprite(a,a.frame,p,c))};r.exports=o},71259:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(50171);p.register("text",function(h,l){h===void 0&&(h={});var d=c(h,"text",""),v=c(h,"style",null),f=c(h,"padding",null);f!==null&&(v.padding=f);var g=new u(this.scene,0,0,d,v);return l!==void 0&&(h.add=l),a(this.scene,g,h),g.autoRound=c(h,"autoRound",!0),g.resolution=c(h,"resolution",1),g})},68005:(r,o,t)=>{var a=t(50171),p=t(39429);p.register("text",function(c,u,h,l){return this.displayList.add(new a(this.scene,c,u,h,l))})},61771:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(34397),c=t(79724),r.exports={renderWebGL:p,renderCanvas:c}},35762:(r,o,t)=>{var a=t(83419),p=t(23568),c=t(35154),u=t(79557),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},l=new a({initialize:function(v,f){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(f,!1,!0)},setStyle:function(d,v,f){v===void 0&&(v=!0),f===void 0&&(f=!1);for(var g in h){var m=f?h[g][1]:this[g];g==="wordWrapCallback"||g==="wordWrapCallbackScope"?this[g]=c(d,h[g][0],m):d&&g==="fontSize"&&typeof d.fontSize=="number"?this[g]=d.fontSize.toString()+"px":this[g]=p(d,h[g][0],m)}var x=c(d,"font",null);x!==null&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var y=c(d,"fill",null);y!==null&&(this.color=y);var b=c(d,"metrics",!1);return b?this.metrics={ascent:c(b,"ascent",0),descent:c(b,"descent",0),fontSize:c(b,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=u(this)),v?this.parent.updateText():this.parent},syncFont:function(d,v){v.font=this._font},syncStyle:function(d,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},syncShadow:function(d,v){v?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},setFont:function(d,v){v===void 0&&(v=!0);var f=d,g="",m="";if(typeof d!="string")f=c(d,"fontFamily","Courier"),g=c(d,"fontSize","16px"),m=c(d,"fontStyle","");else{var x=d.split(" "),y=0;m=x.length>2?x[y++]:"",g=x[y++]||"16px",f=x[y++]||"Courier"}return(f!==this.fontFamily||g!==this.fontSize||m!==this.fontStyle)&&(this.fontFamily=f,this.fontSize=g,this.fontStyle=m,v&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,v){return this.fixedWidth=d,this.fixedHeight=v,d&&(this.parent.width=d),v&&(this.parent.height=v),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,v){return v===void 0&&(v=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==v)&&(this.stroke=d,this.strokeThickness=v,this.update(!0)),this.parent},setShadow:function(d,v,f,g,m,x){return d===void 0&&(d=0),v===void 0&&(v=0),f===void 0&&(f="#000"),g===void 0&&(g=0),m===void 0&&(m=!1),x===void 0&&(x=!0),this.shadowOffsetX=d,this.shadowOffsetY=v,this.shadowColor=f,this.shadowBlur=g,this.shadowStroke=m,this.shadowFill=x,this.update(!1)},setShadowOffset:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this.shadowOffsetX=d,this.shadowOffsetY=v,this.update(!1)},setShadowColor:function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,v){return v===void 0&&(v=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=v,this.update(!1)},setWordWrapCallback:function(d,v){return v===void 0&&(v=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=v,this.update(!1)},setAlign:function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var v in h)d[v]=this[v];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});r.exports=l},34397:(r,o,t)=>{var a=t(70554),p=function(c,u,h,l){if(!(u.width===0||u.height===0)){h.addToRenderList(u);var d=u.frame,v=d.width,f=d.height,g=a.getTintAppendFloatAlpha,m=c.pipelines.set(u.pipeline,u),x=m.setTexture2D(d.glTexture,u);m.batchTexture(u,d.glTexture,v,f,u.x,u.y,v/u.style.resolution,f/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,v,f,g(u.tintTopLeft,h.alpha*u._alphaTL),g(u.tintTopRight,h.alpha*u._alphaTR),g(u.tintBottomLeft,h.alpha*u._alphaBL),g(u.tintBottomRight,h.alpha*u._alphaBR),u.tintFill,0,0,h,l,!1,x)}};r.exports=p},20839:(r,o,t)=>{var a=t(27919),p=t(83419),c=t(31401),u=t(95643),h=t(98439),l=t(68703),d=t(56295),v=t(45650),f=t(26099),g=8,m=new p({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,d],initialize:function(y,b,M,C,w,S,I){var T=y.sys.renderer;u.call(this,y,"TileSprite");var k=y.sys.textures.get(S),E=k.get(I);E.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),k=y.sys.textures.get("__MISSING"),E=k.get()),k.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),k=y.sys.textures.get("__MISSING"),E=k.get()),!C||!w?(C=C||E.width,w=w||E.height):(C=Math.floor(C),w=Math.floor(w)),this._tilePosition=new f,this._tileScale=new f(1,1),this.dirty=!1,this.renderer=T,this.canvas=a.create(this,C,w),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=k,this.displayFrame=E,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=h(E.width),this.potHeight=h(E.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(b,M),this.setSize(C,w),this.setFrame(I),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,y){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(y)},setFrame:function(x){var y=this.displayTexture.get(x);return this.potWidth=h(y.width),this.potHeight=h(y.height),this.canvas.width=0,!y.cutWidth||!y.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this.displayFrame=y,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,y){return x!==void 0&&(this.tilePositionX=x),y!==void 0&&(this.tilePositionY=y),this},setTileScale:function(x,y){return x===void 0&&(x=this.tileScaleX),y===void 0&&(y=x),this.tileScaleX=x,this.tileScaleY=y,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var y=this.fillContext,b=this.fillCanvas,M=this.potWidth,C=this.potHeight;(!this.renderer||!this.renderer.gl)&&(M=x.cutWidth,C=x.cutHeight),y.clearRect(0,0,M,C),b.width=M,b.height=C,y.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,M,C),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(b,this.fillPattern):this.fillPattern=y.createPattern(b,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var y=this.context;this.scene.sys.game.config.antialias||l.disable(y);var b=this._tileScale.x,M=this._tileScale.y,C=this._tilePosition.x,w=this._tilePosition.y;y.clearRect(0,0,this.width,this.height),y.save(),y.scale(b,M),y.translate(-C,-w),y.fillStyle=this.fillPattern,y.fillRect(C,w,this.width/b,this.height/M),y.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});r.exports=m},46992:r=>{var o=function(t,a,p,c){a.updateCanvas(),p.addToRenderList(a),t.batchSprite(a,a.frame,p,c)};r.exports=o},14167:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(20839);p.register("tileSprite",function(h,l){h===void 0&&(h={});var d=c(h,"x",0),v=c(h,"y",0),f=c(h,"width",512),g=c(h,"height",512),m=c(h,"key",""),x=c(h,"frame",""),y=new u(this.scene,d,v,f,g,m,x);return l!==void 0&&(h.add=l),a(this.scene,y,h),y})},91681:(r,o,t)=>{var a=t(20839),p=t(39429);p.register("tileSprite",function(c,u,h,l,d,v){return this.displayList.add(new a(this.scene,c,u,h,l,d,v))})},56295:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(18553),c=t(46992),r.exports={renderWebGL:p,renderCanvas:c}},18553:(r,o,t)=>{var a=t(70554),p=function(c,u,h,l){u.updateCanvas();var d=u.width,v=u.height;if(!(d===0||v===0)){h.addToRenderList(u);var f=a.getTintAppendFloatAlpha,g=c.pipelines.set(u.pipeline,u),m=g.setTexture2D(u.fillPattern,u);g.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,d,v,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*d,u.originY*v,0,0,d,v,f(u.tintTopLeft,h.alpha*u._alphaTL),f(u.tintTopRight,h.alpha*u._alphaTR),f(u.tintBottomLeft,h.alpha*u._alphaBL),f(u.tintBottomRight,h.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,h,l,!1,m)}};r.exports=p},18471:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(31401),u=t(51708),h=t(8443),l=t(95643),d=t(36383),v=t(14463),f=t(45650),g=t(10247),m=new p({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.TextureCrop,c.Tint,c.Transform,c.Visible,g],initialize:function(y,b,M,C){l.call(this,y,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=f(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var w=y.sys.game;this._device=w.device.video,this.setPosition(b,M),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),w.events.on(h.PAUSE,this.globalPause,this),w.events.on(h.RESUME,this.globalResume,this);var S=y.sys.sound;S&&S.on(v.GLOBAL_MUTE,this.globalMute,this),C&&this.load(C)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var y=this.scene.sys.cache.video.get(x);return y?(this.cacheKey=x,this.loadHandler(y.url,y.noAudio,y.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,y,b,M,C){y===void 0&&(y=!0),b===void 0&&(b=!1),this.cacheKey!==x&&(this.load(x),y&&this.play(b,M,C))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,y,b){y===void 0&&(y=!1);var M=this._device.getVideoURL(x);return M?(this.cacheKey="",this.loadHandler(M.url,y,b)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,y,b){return this.loadHandler(null,y,b,x)},loadHandler:function(x,y,b,M){y||(y=!1);var C=this.video;if(C?(this.removeLoadEventHandlers(),this.stop()):(C=document.createElement("video"),C.controls=!1,C.setAttribute("playsinline","playsinline"),C.setAttribute("preload","auto"),C.setAttribute("disablePictureInPicture","true")),y?(C.muted=!0,C.defaultMuted=!0,C.setAttribute("autoplay","autoplay")):(C.muted=!1,C.defaultMuted=!1,C.removeAttribute("autoplay")),b?C.setAttribute("crossorigin",b):C.removeAttribute("crossorigin"),M)if("srcObject"in C)try{C.srcObject=M}catch(S){if(S.name!=="TypeError")throw S;C.src=URL.createObjectURL(M)}else C.src=URL.createObjectURL(M);else C.src=x;this.retry=0,this.video=C,this._playCalled=!1,C.load(),this.addLoadEventHandlers();var w=this.scene.sys.textures.get(this._key);return this.setTexture(w),this},requestVideoFrame:function(x,y){var b=this.video;if(b){var M=y.width,C=y.height,w=this.videoTexture,S=this.videoTextureSource,I=!w||S.source!==b;I?(this._codePaused=b.paused,this._codeMuted=b.muted,w?(S.source=b,S.width=M,S.height=C,w.get().setSize(M,C)):(w=this.scene.sys.textures.create(this._key,b,M,C),w.add("__BASE",0,0,0,M,C),this.setTexture(w),this.videoTexture=w,this.videoTextureSource=w.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(u.VIDEO_TEXTURE,this,w)),this.setSizeToFrame(),this.updateDisplayOrigin()):S.update(),this.isStalled=!1,this.metadata=y;var T=y.mediaTime;I&&(this._lastUpdate=T,this.emit(u.VIDEO_CREATED,this,M,C),this.frameReady||(this.frameReady=!0,this.emit(u.VIDEO_PLAY,this))),this._playingMarker?T>=this._markerOut&&(b.loop?(b.currentTime=this._markerIn,this.emit(u.VIDEO_LOOP,this)):(this.stop(!1),this.emit(u.VIDEO_COMPLETE,this))):T<this._lastUpdate&&this.emit(u.VIDEO_LOOP,this),this._lastUpdate=T,this._getFrame?(this.removeEventHandlers(),b.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,y,b){y===void 0&&(y=-1),b===void 0&&(b=d.MAX_SAFE_INTEGER);var M=this.video;return!M||this.isPlaying()?(M||console.warn("Video not loaded"),this):(x===void 0&&(x=M.loop),M.loop=x,this._markerIn=y,this._markerOut=b,this._playingMarker=y>-1&&b>y&&b<d.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=M.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var y=this._callbacks;for(var b in y)x.addEventListener(b,y[b])}},removeEventHandlers:function(){var x=this.video;if(x){var y=this._callbacks;for(var b in y)x.removeEventListener(b,y[b])}},createPlayPromise:function(x){x===void 0&&(x=!0);var y=this.video,b=y.play();if(b!==void 0){var M=this.playSuccess.bind(this),C=this.playError.bind(this);if(!x){var w=this;C=function(){w.failedPlayAttempts++}}b.then(M).catch(C)}else y.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,y,b){return!isNaN(y)&&y>=0&&!isNaN(b)&&b>y&&(this.markers[x]=[y,b]),this},playMarker:function(x,y){var b=this.markers[x];return b&&this.play(y,b[0],b[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,y){return x===void 0&&(x=this.width),y===void 0&&(y=this.height),this.snapshotArea(0,0,this.width,this.height,x,y)},snapshotArea:function(x,y,b,M,C,w){x===void 0&&(x=0),y===void 0&&(y=0),b===void 0&&(b=this.width),M===void 0&&(M=this.height),C===void 0&&(C=b),w===void 0&&(w=M);var S=this.video,I=this.snapshotTexture;return I?(I.setSize(C,w),S&&I.context.drawImage(S,x,y,b,M,0,0,C,w)):(I=this.scene.sys.textures.createCanvas(f(),C,w),this.snapshotTexture=I,S&&I.context.drawImage(S,x,y,b,M,0,0,C,w)),I.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(u.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var y=x.name;y==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(u.VIDEO_LOCKED,this)):y==="NotSupportedError"?(this.stop(!1),this.emit(u.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(u.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(u.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(u.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(u.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(u.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(u.VIDEO_COMPLETE,this)},preUpdate:function(x,y){var b=this.video;!b||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=y,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var y=this.video;if(y){var b=y.duration;if(b!==1/0&&!isNaN(b)){var M=b*x;this.setCurrentTime(M)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var y=this.video;if(y){if(typeof x=="string"){var b=x[0],M=parseFloat(x.substr(1));b==="+"?x=y.currentTime+M:b==="-"&&(x=y.currentTime-M)}y.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(u.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var y=x.duration;if(y!==1/0&&!isNaN(y))return x.currentTime/y}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){x===void 0&&(x=!0),this._codeMuted=x;var y=this.video;return y&&(y.muted=this._systemMuted?!0:x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,y){this._systemMuted=y;var b=this.video;b&&(b.muted=this._codeMuted?!0:y)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){x===void 0&&(x=!0);var y=this.video;return this._codePaused=x,y&&!y.ended&&(x?y.paused||(this.removeEventHandlers(),y.pause()):x||(this._playCalled?y.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return x===void 0&&(x=1),this.video&&(this.video.volume=a(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(x){return x===void 0&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,y){return y===void 0&&(y=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(y)),this._key=x,this.flipY=y,!!this.videoTexture},stop:function(x){x===void 0&&(x=!0);var y=this.video;return y&&(this.removeEventHandlers(),y.cancelVideoFrameCallback(this._rfvCallbackId),y.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(u.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(h.PAUSE,this.globalPause,this),x.off(h.RESUME,this.globalResume,this);var y=this.scene.sys.sound;y&&y.off(v.GLOBAL_MUTE,this.globalMute,this)}});r.exports=m},58352:r=>{var o=function(t,a,p,c){a.videoTexture&&(p.addToRenderList(a),t.batchSprite(a,a.frame,p,c))};r.exports=o},11511:(r,o,t)=>{var a=t(25305),p=t(44603),c=t(23568),u=t(18471);p.register("video",function(h,l){h===void 0&&(h={});var d=c(h,"key",null),v=new u(this.scene,0,0,d);return l!==void 0&&(h.add=l),a(this.scene,v,h),v})},89025:(r,o,t)=>{var a=t(18471),p=t(39429);p.register("video",function(c,u,h){return this.displayList.add(new a(this.scene,c,u,h))})},10247:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(29849),c=t(58352),r.exports={renderWebGL:p,renderCanvas:c}},29849:r=>{var o=function(t,a,p,c){a.videoTexture&&(p.addToRenderList(a),a.pipeline.batchSprite(a,p,c))};r.exports=o},41481:(r,o,t)=>{var a=t(10312),p=t(96503),c=t(87902),u=t(83419),h=t(31401),l=t(95643),d=t(87841),v=t(37303),f=new u({Extends:l,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(m,x,y,b,M){b===void 0&&(b=1),M===void 0&&(M=b),l.call(this,m,"Zone"),this.setPosition(x,y),this.width=b,this.height=M,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(g){this.scaleX=g/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(g){this.scaleY=g/this.height}},setSize:function(g,m,x){x===void 0&&(x=!0),this.width=g,this.height=m,this.updateDisplayOrigin();var y=this.input;return x&&y&&!y.customHitArea&&(y.hitArea.width=g,y.hitArea.height=m),this},setDisplaySize:function(g,m){return this.displayWidth=g,this.displayHeight=m,this},setCircleDropZone:function(g){return this.setDropZone(new p(0,0,g),c)},setRectangleDropZone:function(g,m){return this.setDropZone(new d(0,0,g,m),v)},setDropZone:function(g,m){return this.input||this.setInteractive(g,m,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(g,m,x){x.addToRenderList(m)},renderWebGL:function(g,m,x){x.addToRenderList(m)}});r.exports=f},95261:(r,o,t)=>{var a=t(44603),p=t(23568),c=t(41481);a.register("zone",function(u){var h=p(u,"x",0),l=p(u,"y",0),d=p(u,"width",1),v=p(u,"height",d);return new c(this.scene,h,l,d,v)})},84175:(r,o,t)=>{var a=t(41481),p=t(39429);p.register("zone",function(c,u,h,l){return this.displayList.add(new a(this.scene,c,u,h,l))})},95166:r=>{var o=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};r.exports=o},96503:(r,o,t)=>{var a=t(83419),p=t(87902),c=t(26241),u=t(79124),h=t(23777),l=t(28176),d=new a({initialize:function(f,g,m){f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=h.CIRCLE,this.x=f,this.y=g,this._radius=m,this._diameter=m*2},contains:function(v,f){return p(this,v,f)},getPoint:function(v,f){return c(this,v,f)},getPoints:function(v,f,g){return u(this,v,f,g)},getRandomPoint:function(v){return l(this,v)},setTo:function(v,f,g){return this.x=v,this.y=f,this._radius=g,this._diameter=g*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(v,f){return f===void 0&&(f=v),this.x=v,this.y=f,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this._diameter=v*2}},diameter:{get:function(){return this._diameter},set:function(v){this._diameter=v,this._radius=v*.5}},left:{get:function(){return this.x-this._radius},set:function(v){this.x=v+this._radius}},right:{get:function(){return this.x+this._radius},set:function(v){this.x=v-this._radius}},top:{get:function(){return this.y-this._radius},set:function(v){this.y=v+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(v){this.y=v-this._radius}}});r.exports=d},71562:r=>{var o=function(t){return 2*(Math.PI*t.radius)};r.exports=o},92110:(r,o,t)=>{var a=t(2141),p=function(c,u,h){return h===void 0&&(h=new a),h.x=c.x+c.radius*Math.cos(u),h.y=c.y+c.radius*Math.sin(u),h};r.exports=p},42250:(r,o,t)=>{var a=t(96503),p=function(c){return new a(c.x,c.y,c.radius)};r.exports=p},87902:r=>{var o=function(t,a,p){if(t.radius>0&&a>=t.left&&a<=t.right&&p>=t.top&&p<=t.bottom){var c=(t.x-a)*(t.x-a),u=(t.y-p)*(t.y-p);return c+u<=t.radius*t.radius}else return!1};r.exports=o},5698:(r,o,t)=>{var a=t(87902),p=function(c,u){return a(c,u.x,u.y)};r.exports=p},70588:(r,o,t)=>{var a=t(87902),p=function(c,u){return a(c,u.x,u.y)&&a(c,u.right,u.y)&&a(c,u.x,u.bottom)&&a(c,u.right,u.bottom)};r.exports=p},26394:r=>{var o=function(t,a){return a.setTo(t.x,t.y,t.radius)};r.exports=o},76278:r=>{var o=function(t,a){return t.x===a.x&&t.y===a.y&&t.radius===a.radius};r.exports=o},2074:(r,o,t)=>{var a=t(87841),p=function(c,u){return u===void 0&&(u=new a),u.x=c.left,u.y=c.top,u.width=c.diameter,u.height=c.diameter,u};r.exports=p},26241:(r,o,t)=>{var a=t(92110),p=t(62945),c=t(36383),u=t(2141),h=function(l,d,v){v===void 0&&(v=new u);var f=p(d,0,c.PI2);return a(l,f,v)};r.exports=h},79124:(r,o,t)=>{var a=t(71562),p=t(92110),c=t(62945),u=t(36383),h=function(l,d,v,f){f===void 0&&(f=[]),!d&&v>0&&(d=a(l)/v);for(var g=0;g<d;g++){var m=c(g/d,0,u.PI2);f.push(p(l,m))}return f};r.exports=h},50884:r=>{var o=function(t,a,p){return t.x+=a,t.y+=p,t};r.exports=o},39212:r=>{var o=function(t,a){return t.x+=a.x,t.y+=a.y,t};r.exports=o},28176:(r,o,t)=>{var a=t(2141),p=function(c,u){u===void 0&&(u=new a);var h=2*Math.PI*Math.random(),l=Math.random()+Math.random(),d=l>1?2-l:l,v=d*Math.cos(h),f=d*Math.sin(h);return u.x=c.x+v*c.radius,u.y=c.y+f*c.radius,u};r.exports=p},88911:(r,o,t)=>{var a=t(96503);a.Area=t(95166),a.Circumference=t(71562),a.CircumferencePoint=t(92110),a.Clone=t(42250),a.Contains=t(87902),a.ContainsPoint=t(5698),a.ContainsRect=t(70588),a.CopyFrom=t(26394),a.Equals=t(76278),a.GetBounds=t(2074),a.GetPoint=t(26241),a.GetPoints=t(79124),a.Offset=t(50884),a.OffsetPoint=t(39212),a.Random=t(28176),r.exports=a},23777:r=>{var o={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};r.exports=o},78874:r=>{var o=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};r.exports=o},92990:r=>{var o=function(t){var a=t.width/2,p=t.height/2,c=Math.pow(a-p,2)/Math.pow(a+p,2);return Math.PI*(a+p)*(1+3*c/(10+Math.sqrt(4-3*c)))};r.exports=o},79522:(r,o,t)=>{var a=t(2141),p=function(c,u,h){h===void 0&&(h=new a);var l=c.width/2,d=c.height/2;return h.x=c.x+l*Math.cos(u),h.y=c.y+d*Math.sin(u),h};r.exports=p},58102:(r,o,t)=>{var a=t(8497),p=function(c){return new a(c.x,c.y,c.width,c.height)};r.exports=p},81154:r=>{var o=function(t,a,p){if(t.width<=0||t.height<=0)return!1;var c=(a-t.x)/t.width,u=(p-t.y)/t.height;return c*=c,u*=u,c+u<.25};r.exports=o},46662:(r,o,t)=>{var a=t(81154),p=function(c,u){return a(c,u.x,u.y)};r.exports=p},1632:(r,o,t)=>{var a=t(81154),p=function(c,u){return a(c,u.x,u.y)&&a(c,u.right,u.y)&&a(c,u.x,u.bottom)&&a(c,u.right,u.bottom)};r.exports=p},65534:r=>{var o=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};r.exports=o},8497:(r,o,t)=>{var a=t(83419),p=t(81154),c=t(90549),u=t(48320),h=t(23777),l=t(24820),d=new a({initialize:function(f,g,m,x){f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=h.ELLIPSE,this.x=f,this.y=g,this.width=m,this.height=x},contains:function(v,f){return p(this,v,f)},getPoint:function(v,f){return c(this,v,f)},getPoints:function(v,f,g){return u(this,v,f,g)},getRandomPoint:function(v){return l(this,v)},setTo:function(v,f,g,m){return this.x=v,this.y=f,this.width=g,this.height=m,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(v,f){return f===void 0&&(f=v),this.x=v,this.y=f,this},setSize:function(v,f){return f===void 0&&(f=v),this.width=v,this.height=f,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(v){this.x=v+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(v){this.x=v-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(v){this.y=v+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(v){this.y=v-this.height/2}}});r.exports=d},36146:r=>{var o=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};r.exports=o},23694:(r,o,t)=>{var a=t(87841),p=function(c,u){return u===void 0&&(u=new a),u.x=c.left,u.y=c.top,u.width=c.width,u.height=c.height,u};r.exports=p},90549:(r,o,t)=>{var a=t(79522),p=t(62945),c=t(36383),u=t(2141),h=function(l,d,v){v===void 0&&(v=new u);var f=p(d,0,c.PI2);return a(l,f,v)};r.exports=h},48320:(r,o,t)=>{var a=t(92990),p=t(79522),c=t(62945),u=t(36383),h=function(l,d,v,f){f===void 0&&(f=[]),!d&&v>0&&(d=a(l)/v);for(var g=0;g<d;g++){var m=c(g/d,0,u.PI2);f.push(p(l,m))}return f};r.exports=h},73424:r=>{var o=function(t,a,p){return t.x+=a,t.y+=p,t};r.exports=o},44808:r=>{var o=function(t,a){return t.x+=a.x,t.y+=a.y,t};r.exports=o},24820:(r,o,t)=>{var a=t(2141),p=function(c,u){u===void 0&&(u=new a);var h=Math.random()*Math.PI*2,l=Math.sqrt(Math.random());return u.x=c.x+l*Math.cos(h)*c.width/2,u.y=c.y+l*Math.sin(h)*c.height/2,u};r.exports=p},49203:(r,o,t)=>{var a=t(8497);a.Area=t(78874),a.Circumference=t(92990),a.CircumferencePoint=t(79522),a.Clone=t(58102),a.Contains=t(81154),a.ContainsPoint=t(46662),a.ContainsRect=t(1632),a.CopyFrom=t(65534),a.Equals=t(36146),a.GetBounds=t(23694),a.GetPoint=t(90549),a.GetPoints=t(48320),a.Offset=t(73424),a.OffsetPoint=t(44808),a.Random=t(24820),r.exports=a},55738:(r,o,t)=>{var a=t(23777),p=t(79291),c={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};c=p(!1,c,a),r.exports=c},2044:(r,o,t)=>{var a=t(20339),p=function(c,u){return a(c.x,c.y,u.x,u.y)<=c.radius+u.radius};r.exports=p},81491:r=>{var o=function(t,a){var p=a.width/2,c=a.height/2,u=Math.abs(t.x-a.x-p),h=Math.abs(t.y-a.y-c),l=p+t.radius,d=c+t.radius;if(u>l||h>d)return!1;if(u<=p||h<=c)return!0;var v=u-p,f=h-c,g=v*v,m=f*f,x=t.radius*t.radius;return g+m<=x};r.exports=o},63376:(r,o,t)=>{var a=t(2141),p=t(2044),c=function(u,h,l){if(l===void 0&&(l=[]),p(u,h)){var d=u.x,v=u.y,f=u.radius,g=h.x,m=h.y,x=h.radius,y,b,M,C,w;if(v===m)w=(x*x-f*f-g*g+d*d)/(2*(d-g)),y=1,b=-2*m,M=g*g+w*w-2*g*w+m*m-x*x,C=b*b-4*y*M,C===0?l.push(new a(w,-b/(2*y))):C>0&&(l.push(new a(w,(-b+Math.sqrt(C))/(2*y))),l.push(new a(w,(-b-Math.sqrt(C))/(2*y))));else{var S=(d-g)/(v-m),I=(x*x-f*f-g*g+d*d-m*m+v*v)/(2*(v-m));y=S*S+1,b=2*v*S-2*I*S-2*d,M=d*d+v*v+I*I-f*f-2*v*I,C=b*b-4*y*M,C===0?(w=-b/(2*y),l.push(new a(w,I-w*S))):C>0&&(w=(-b+Math.sqrt(C))/(2*y),l.push(new a(w,I-w*S)),w=(-b-Math.sqrt(C))/(2*y),l.push(new a(w,I-w*S)))}}return l};r.exports=c},97439:(r,o,t)=>{var a=t(4042),p=t(81491),c=function(u,h,l){if(l===void 0&&(l=[]),p(u,h)){var d=h.getLineA(),v=h.getLineB(),f=h.getLineC(),g=h.getLineD();a(d,u,l),a(v,u,l),a(f,u,l),a(g,u,l)}return l};r.exports=c},4042:(r,o,t)=>{var a=t(2141),p=t(80462),c=function(u,h,l){if(l===void 0&&(l=[]),p(u,h)){var d=u.x1,v=u.y1,f=u.x2,g=u.y2,m=h.x,x=h.y,y=h.radius,b=f-d,M=g-v,C=d-m,w=v-x,S=b*b+M*M,I=2*(b*C+M*w),T=C*C+w*w-y*y,k=I*I-4*S*T,E,A;if(k===0){var L=-I/(2*S);E=d+L*b,A=v+L*M,L>=0&&L<=1&&l.push(new a(E,A))}else if(k>0){var D=(-I-Math.sqrt(k))/(2*S);E=d+D*b,A=v+D*M,D>=0&&D<=1&&l.push(new a(E,A));var R=(-I+Math.sqrt(k))/(2*S);E=d+R*b,A=v+R*M,R>=0&&R<=1&&l.push(new a(E,A))}}return l};r.exports=c},36100:(r,o,t)=>{var a=t(25836),p=function(c,u,h,l){h===void 0&&(h=!1);var d=c.x1,v=c.y1,f=c.x2,g=c.y2,m=u.x1,x=u.y1,y=u.x2,b=u.y2,M=f-d,C=g-v,w=y-m,S=b-x,I=M*S-C*w;if(I===0)return null;var T,k,E;if(h){if(T=(M*(x-v)+C*(d-m))/(w*C-S*M),M!==0)k=(m+w*T-d)/M;else if(C!==0)k=(x+S*T-v)/C;else return null;if(k<0||T<0||T>1)return null;E=k}else{if(T=((m-d)*S-(x-v)*w)/I,k=((v-x)*M-(d-m)*C)/I,T<0||T>1||k<0||k>1)return null;E=T}return l===void 0&&(l=new a),l.set(d+M*E,v+C*E,E)};r.exports=p},3073:(r,o,t)=>{var a=t(36100),p=t(23031),c=t(25836),u=new p,h=new c,l=function(d,v,f,g){f===void 0&&(f=!1),g===void 0&&(g=new c);var m=!1;g.set(),h.set();for(var x=v[v.length-1],y=0;y<v.length;y++){var b=v[y];u.setTo(x.x,x.y,b.x,b.y),x=b,a(d,u,f,h)&&(!m||h.z<g.z)&&(g.copy(h),m=!0)}return m?g:null};r.exports=l},56362:(r,o,t)=>{var a=t(25836),p=t(61369),c=t(3073),u=new a,h=function(l,d,v,f){f===void 0&&(f=new p),Array.isArray(d)||(d=[d]);var g=!1;f.set(),u.set();for(var m=0;m<d.length;m++)c(l,d[m].points,v,u)&&(!g||u.z<f.z)&&(f.set(u.x,u.y,u.z,m),g=!0);return g?f:null};r.exports=h},60646:(r,o,t)=>{var a=t(2141),p=t(76112),c=t(92773),u=function(h,l,d){if(d===void 0&&(d=[]),c(h,l))for(var v=l.getLineA(),f=l.getLineB(),g=l.getLineC(),m=l.getLineD(),x=[new a,new a,new a,new a],y=[p(v,h,x[0]),p(f,h,x[1]),p(g,h,x[2]),p(m,h,x[3])],b=0;b<4;b++)y[b]&&d.push(x[b]);return d};r.exports=u},71147:(r,o,t)=>{var a=t(61369),p=t(56362),c=t(23031),u=new c;function h(v,f,g,m,x){var y=Math.cos(v),b=Math.sin(v);u.setTo(f,g,f+y,g+b);var M=p(u,m,!0);M&&x.push(new a(M.x,M.y,v,M.w))}function l(v,f){return v.z-f.z}var d=function(v,f,g){Array.isArray(g)||(g=[g]);for(var m=[],x=[],y=0;y<g.length;y++)for(var b=g[y].points,M=0;M<b.length;M++){var C=Math.atan2(b[M].y-f,b[M].x-v);x.indexOf(C)===-1&&(h(C,v,f,g,m),h(C-1e-5,v,f,g,m),h(C+1e-5,v,f,g,m),x.push(C))}return m.sort(l)};r.exports=d},68389:(r,o,t)=>{var a=t(87841),p=t(59996),c=function(u,h,l){return l===void 0&&(l=new a),p(u,h)&&(l.x=Math.max(u.x,h.x),l.y=Math.max(u.y,h.y),l.width=Math.min(u.right,h.right)-l.x,l.height=Math.min(u.bottom,h.bottom)-l.y),l};r.exports=c},52784:(r,o,t)=>{var a=t(60646),p=t(59996),c=function(u,h,l){if(l===void 0&&(l=[]),p(u,h)){var d=u.getLineA(),v=u.getLineB(),f=u.getLineC(),g=u.getLineD();a(d,h,l),a(v,h,l),a(f,h,l),a(g,h,l)}return l};r.exports=c},26341:(r,o,t)=>{var a=t(89265),p=t(60646),c=function(u,h,l){if(l===void 0&&(l=[]),a(u,h)){var d=h.getLineA(),v=h.getLineB(),f=h.getLineC();p(d,u,l),p(v,u,l),p(f,u,l)}return l};r.exports=c},38720:(r,o,t)=>{var a=t(4042),p=t(67636),c=function(u,h,l){if(l===void 0&&(l=[]),p(u,h)){var d=u.getLineA(),v=u.getLineB(),f=u.getLineC();a(d,h,l),a(v,h,l),a(f,h,l)}return l};r.exports=c},13882:(r,o,t)=>{var a=t(2141),p=t(2822),c=t(76112),u=function(h,l,d){if(d===void 0&&(d=[]),p(h,l))for(var v=h.getLineA(),f=h.getLineB(),g=h.getLineC(),m=[new a,new a,new a],x=[c(v,l,m[0]),c(f,l,m[1]),c(g,l,m[2])],y=0;y<3;y++)x[y]&&d.push(m[y]);return d};r.exports=u},75636:(r,o,t)=>{var a=t(82944),p=t(13882),c=function(u,h,l){if(l===void 0&&(l=[]),a(u,h)){var d=h.getLineA(),v=h.getLineB(),f=h.getLineC();p(u,d,l),p(u,v,l),p(u,f,l)}return l};r.exports=c},80462:(r,o,t)=>{var a=t(87902),p=t(2141),c=new p,u=function(h,l,d){if(d===void 0&&(d=c),a(l,h.x1,h.y1))return d.x=h.x1,d.y=h.y1,!0;if(a(l,h.x2,h.y2))return d.x=h.x2,d.y=h.y2,!0;var v=h.x2-h.x1,f=h.y2-h.y1,g=l.x-h.x1,m=l.y-h.y1,x=v*v+f*f,y=v,b=f;if(x>0){var M=(g*v+m*f)/x;y*=M,b*=M}d.x=h.x1+y,d.y=h.y1+b;var C=y*y+b*b;return C<=x&&y*v+b*f>=0&&a(l,d.x,d.y)};r.exports=u},76112:r=>{var o=function(t,a,p){var c=t.x1,u=t.y1,h=t.x2,l=t.y2,d=a.x1,v=a.y1,f=a.x2,g=a.y2;if(c===h&&u===l||d===f&&v===g)return!1;var m=(g-v)*(h-c)-(f-d)*(l-u);if(m===0)return!1;var x=((f-d)*(u-v)-(g-v)*(c-d))/m,y=((h-c)*(u-v)-(l-u)*(c-d))/m;return x<0||x>1||y<0||y>1?!1:(p&&(p.x=c+x*(h-c),p.y=u+x*(l-u)),!0)};r.exports=o},92773:r=>{var o=function(t,a){var p=t.x1,c=t.y1,u=t.x2,h=t.y2,l=a.x,d=a.y,v=a.right,f=a.bottom,g=0;if(p>=l&&p<=v&&c>=d&&c<=f||u>=l&&u<=v&&h>=d&&h<=f)return!0;if(p<l&&u>=l){if(g=c+(h-c)*(l-p)/(u-p),g>d&&g<=f)return!0}else if(p>v&&u<=v&&(g=c+(h-c)*(v-p)/(u-p),g>=d&&g<=f))return!0;if(c<d&&h>=d){if(g=p+(u-p)*(d-c)/(h-c),g>=l&&g<=v)return!0}else if(c>f&&h<=f&&(g=p+(u-p)*(f-c)/(h-c),g>=l&&g<=v))return!0;return!1};r.exports=o},16204:r=>{var o=function(t,a,p){p===void 0&&(p=1);var c=a.x1,u=a.y1,h=a.x2,l=a.y2,d=t.x,v=t.y,f=(h-c)*(h-c)+(l-u)*(l-u);if(f===0)return!1;var g=((d-c)*(h-c)+(v-u)*(l-u))/f;if(g<0)return Math.sqrt((c-d)*(c-d)+(u-v)*(u-v))<=p;if(g>=0&&g<=1){var m=((u-v)*(h-c)-(c-d)*(l-u))/f;return Math.abs(m)*Math.sqrt(f)<=p}else return Math.sqrt((h-d)*(h-d)+(l-v)*(l-v))<=p};r.exports=o},14199:(r,o,t)=>{var a=t(16204),p=function(c,u){if(!a(c,u))return!1;var h=Math.min(u.x1,u.x2),l=Math.max(u.x1,u.x2),d=Math.min(u.y1,u.y2),v=Math.max(u.y1,u.y2);return c.x>=h&&c.x<=l&&c.y>=d&&c.y<=v};r.exports=p},59996:r=>{var o=function(t,a){return t.width<=0||t.height<=0||a.width<=0||a.height<=0?!1:!(t.right<a.x||t.bottom<a.y||t.x>a.right||t.y>a.bottom)};r.exports=o},89265:(r,o,t)=>{var a=t(76112),p=t(37303),c=t(48653),u=t(77493),h=function(l,d){if(d.left>l.right||d.right<l.left||d.top>l.bottom||d.bottom<l.top)return!1;var v=d.getLineA(),f=d.getLineB(),g=d.getLineC();if(p(l,v.x1,v.y1)||p(l,v.x2,v.y2)||p(l,f.x1,f.y1)||p(l,f.x2,f.y2)||p(l,g.x1,g.y1)||p(l,g.x2,g.y2))return!0;var m=l.getLineA(),x=l.getLineB(),y=l.getLineC(),b=l.getLineD();if(a(v,m)||a(v,x)||a(v,y)||a(v,b)||a(f,m)||a(f,x)||a(f,y)||a(f,b)||a(g,m)||a(g,x)||a(g,y)||a(g,b))return!0;var M=u(l),C=c(d,M,!0);return C.length>0};r.exports=h},84411:r=>{var o=function(t,a,p,c,u,h){return h===void 0&&(h=0),!(a>t.right+h||p<t.left-h||c>t.bottom+h||u<t.top-h)};r.exports=o},67636:(r,o,t)=>{var a=t(80462),p=t(10690),c=function(u,h){return u.left>h.right||u.right<h.left||u.top>h.bottom||u.bottom<h.top?!1:!!(p(u,h.x,h.y)||a(u.getLineA(),h)||a(u.getLineB(),h)||a(u.getLineC(),h))};r.exports=c},2822:(r,o,t)=>{var a=t(76112),p=function(c,u){return!!(c.contains(u.x1,u.y1)||c.contains(u.x2,u.y2)||a(c.getLineA(),u)||a(c.getLineB(),u)||a(c.getLineC(),u))};r.exports=p},82944:(r,o,t)=>{var a=t(48653),p=t(71694),c=t(76112),u=function(h,l){if(h.left>l.right||h.right<l.left||h.top>l.bottom||h.bottom<l.top)return!1;var d=h.getLineA(),v=h.getLineB(),f=h.getLineC(),g=l.getLineA(),m=l.getLineB(),x=l.getLineC();if(c(d,g)||c(d,m)||c(d,x)||c(v,g)||c(v,m)||c(v,x)||c(f,g)||c(f,m)||c(f,x))return!0;var y=p(h),b=a(l,y,!0);return b.length>0||(y=p(l),b=a(h,y,!0),b.length>0)};r.exports=u},91865:(r,o,t)=>{r.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:r=>{var o=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};r.exports=o},84993:r=>{var o=function(t,a,p){a===void 0&&(a=1),p===void 0&&(p=[]);var c=Math.round(t.x1),u=Math.round(t.y1),h=Math.round(t.x2),l=Math.round(t.y2),d=Math.abs(h-c),v=Math.abs(l-u),f=c<h?1:-1,g=u<l?1:-1,m=d-v;p.push({x:c,y:u});for(var x=1;!(c===h&&u===l);){var y=m<<1;y>-v&&(m-=v,c+=f),y<d&&(m+=d,u+=g),x%a===0&&p.push({x:c,y:u}),x++}return p};r.exports=o},36469:r=>{var o=function(t,a,p){var c=a-(t.x1+t.x2)/2,u=p-(t.y1+t.y2)/2;return t.x1+=c,t.y1+=u,t.x2+=c,t.y2+=u,t};r.exports=o},31116:(r,o,t)=>{var a=t(23031),p=function(c){return new a(c.x1,c.y1,c.x2,c.y2)};r.exports=p},59944:r=>{var o=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2)};r.exports=o},59220:r=>{var o=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2};r.exports=o},78177:(r,o,t)=>{var a=t(35001),p=function(c,u,h){h===void 0&&(h=u);var l=a(c),d=c.x2-c.x1,v=c.y2-c.y1;return u&&(c.x1=c.x1-d/l*u,c.y1=c.y1-v/l*u),h&&(c.x2=c.x2+d/l*h,c.y2=c.y2+v/l*h),c};r.exports=p},26708:(r,o,t)=>{var a=t(52816),p=t(6113),c=t(2141),u=function(h,l,d,v,f){v===void 0&&(v=0),f===void 0&&(f=[]);var g=[],m=h.x1,x=h.y1,y=h.x2-m,b=h.y2-x,M=p(l,f),C,w,S=d-1;for(C=0;C<S;C++)w=M(C/S),g.push(new c(m+y*w,x+b*w));if(w=M(1),g.push(new c(m+y*w,x+b*w)),v>0){var I=g[0],T=[I];for(C=1;C<g.length-1;C++){var k=g[C];a(I,k)>=v&&(T.push(k),I=k)}var E=g[g.length-1];return a(I,E)<v&&T.pop(),T.push(E),T}else return g};r.exports=u},32125:(r,o,t)=>{var a=t(2141),p=function(c,u){return u===void 0&&(u=new a),u.x=(c.x1+c.x2)/2,u.y=(c.y1+c.y2)/2,u};r.exports=p},99569:(r,o,t)=>{var a=t(2141),p=function(c,u,h){h===void 0&&(h=new a);var l=c.x1,d=c.y1,v=c.x2,f=c.y2,g=(v-l)*(v-l)+(f-d)*(f-d);if(g===0)return h;var m=((u.x-l)*(v-l)+(u.y-d)*(f-d))/g;return h.x=l+m*(v-l),h.y=d+m*(f-d),h};r.exports=p},34638:(r,o,t)=>{var a=t(36383),p=t(91938),c=t(2141),u=function(h,l){l===void 0&&(l=new c);var d=p(h)-a.TAU;return l.x=Math.cos(d),l.y=Math.sin(d),l};r.exports=u},13151:(r,o,t)=>{var a=t(2141),p=function(c,u,h){return h===void 0&&(h=new a),h.x=c.x1+(c.x2-c.x1)*u,h.y=c.y1+(c.y2-c.y1)*u,h};r.exports=p},15258:(r,o,t)=>{var a=t(35001),p=t(2141),c=function(u,h,l,d){d===void 0&&(d=[]),!h&&l>0&&(h=a(u)/l);for(var v=u.x1,f=u.y1,g=u.x2,m=u.y2,x=0;x<h;x++){var y=x/h,b=v+(g-v)*y,M=f+(m-f)*y;d.push(new p(b,M))}return d};r.exports=c},26408:r=>{var o=function(t,a){var p=t.x1,c=t.y1,u=t.x2,h=t.y2,l=(u-p)*(u-p)+(h-c)*(h-c);if(l===0)return!1;var d=((c-a.y)*(u-p)-(p-a.x)*(h-c))/l;return Math.abs(d)*Math.sqrt(l)};r.exports=o},98770:r=>{var o=function(t){return Math.abs(t.y1-t.y2)};r.exports=o},35001:r=>{var o=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};r.exports=o},23031:(r,o,t)=>{var a=t(83419),p=t(13151),c=t(15258),u=t(23777),h=t(65822),l=t(26099),d=new a({initialize:function(f,g,m,x){f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=u.LINE,this.x1=f,this.y1=g,this.x2=m,this.y2=x},getPoint:function(v,f){return p(this,v,f)},getPoints:function(v,f,g){return c(this,v,f,g)},getRandomPoint:function(v){return h(this,v)},setTo:function(v,f,g,m){return v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=0),this.x1=v,this.y1=f,this.x2=g,this.y2=m,this},setFromObjects:function(v,f){return this.x1=v.x,this.y1=v.y,this.x2=f.x,this.y2=f.y,this},getPointA:function(v){return v===void 0&&(v=new l),v.set(this.x1,this.y1),v},getPointB:function(v){return v===void 0&&(v=new l),v.set(this.x2,this.y2),v},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(v){this.x1<=this.x2?this.x1=v:this.x2=v}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(v){this.x1>this.x2?this.x1=v:this.x2=v}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(v){this.y1<=this.y2?this.y1=v:this.y2=v}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(v){this.y1>this.y2?this.y1=v:this.y2=v}}});r.exports=d},64795:(r,o,t)=>{var a=t(36383),p=t(15994),c=t(91938),u=function(h){var l=c(h)-a.TAU;return p(l,-Math.PI,Math.PI)};r.exports=u},52616:(r,o,t)=>{var a=t(36383),p=t(91938),c=function(u){return Math.cos(p(u)-a.TAU)};r.exports=c},87231:(r,o,t)=>{var a=t(36383),p=t(91938),c=function(u){return Math.sin(p(u)-a.TAU)};r.exports=c},89662:r=>{var o=function(t,a,p){return t.x1+=a,t.y1+=p,t.x2+=a,t.y2+=p,t};r.exports=o},71165:r=>{var o=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};r.exports=o},65822:(r,o,t)=>{var a=t(2141),p=function(c,u){u===void 0&&(u=new a);var h=Math.random();return u.x=c.x1+h*(c.x2-c.x1),u.y=c.y1+h*(c.y2-c.y1),u};r.exports=p},69777:(r,o,t)=>{var a=t(91938),p=t(64795),c=function(u,h){return 2*p(h)-Math.PI-a(u)};r.exports=c},39706:(r,o,t)=>{var a=t(64400),p=function(c,u){var h=(c.x1+c.x2)/2,l=(c.y1+c.y2)/2;return a(c,h,l,u)};r.exports=p},82585:(r,o,t)=>{var a=t(64400),p=function(c,u,h){return a(c,u.x,u.y,h)};r.exports=p},64400:r=>{var o=function(t,a,p,c){var u=Math.cos(c),h=Math.sin(c),l=t.x1-a,d=t.y1-p;return t.x1=l*u-d*h+a,t.y1=l*h+d*u+p,l=t.x2-a,d=t.y2-p,t.x2=l*u-d*h+a,t.y2=l*h+d*u+p,t};r.exports=o},62377:r=>{var o=function(t,a,p,c,u){return t.x1=a,t.y1=p,t.x2=a+Math.cos(c)*u,t.y2=p+Math.sin(c)*u,t};r.exports=o},71366:r=>{var o=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};r.exports=o},10809:r=>{var o=function(t){return Math.abs(t.x1-t.x2)};r.exports=o},2529:(r,o,t)=>{var a=t(23031);a.Angle=t(91938),a.BresenhamPoints=t(84993),a.CenterOn=t(36469),a.Clone=t(31116),a.CopyFrom=t(59944),a.Equals=t(59220),a.Extend=t(78177),a.GetEasedPoints=t(26708),a.GetMidPoint=t(32125),a.GetNearestPoint=t(99569),a.GetNormal=t(34638),a.GetPoint=t(13151),a.GetPoints=t(15258),a.GetShortestDistance=t(26408),a.Height=t(98770),a.Length=t(35001),a.NormalAngle=t(64795),a.NormalX=t(52616),a.NormalY=t(87231),a.Offset=t(89662),a.PerpSlope=t(71165),a.Random=t(65822),a.ReflectAngle=t(69777),a.Rotate=t(39706),a.RotateAroundPoint=t(82585),a.RotateAroundXY=t(64400),a.SetToAngle=t(62377),a.Slope=t(71366),a.Width=t(10809),r.exports=a},83997:(r,o,t)=>{var a=t(83419),p=t(87841),c=t(26099);function u(l,d,v,f){var g=l-v,m=d-f,x=g*g+m*m;return Math.sqrt(x)}var h=new a({initialize:function(d,v,f){this.vertex1=d,this.vertex2=v,this.vertex3=f,this.bounds=new p,this._inCenter=new c},getInCenter:function(l){l===void 0&&(l=!0);var d=this.vertex1,v=this.vertex2,f=this.vertex3,g,m,x,y,b,M;l?(g=d.x,m=d.y,x=v.x,y=v.y,b=f.x,M=f.y):(g=d.vx,m=d.vy,x=v.vx,y=v.vy,b=f.vx,M=f.vy);var C=u(b,M,x,y),w=u(g,m,b,M),S=u(x,y,g,m),I=C+w+S;return this._inCenter.set((g*C+x*w+b*S)/I,(m*C+y*w+M*S)/I)},contains:function(l,d,v){var f=this.vertex1,g=this.vertex2,m=this.vertex3,x=f.vx,y=f.vy,b=g.vx,M=g.vy,C=m.vx,w=m.vy;if(v){var S=v.a,I=v.b,T=v.c,k=v.d,E=v.e,A=v.f;x=f.vx*S+f.vy*T+E,y=f.vx*I+f.vy*k+A,b=g.vx*S+g.vy*T+E,M=g.vx*I+g.vy*k+A,C=m.vx*S+m.vy*T+E,w=m.vx*I+m.vy*k+A}var L=C-x,D=w-y,R=b-x,N=M-y,P=l-x,O=d-y,W=L*L+D*D,G=L*R+D*N,H=L*P+D*O,V=R*R+N*N,B=R*P+N*O,j=W*V-G*G,U=j===0?0:1/j,X=(V*H-G*B)*U,Z=(W*B-G*H)*U;return X>=0&&Z>=0&&X+Z<1},isCounterClockwise:function(l){var d=this.vertex1,v=this.vertex2,f=this.vertex3,g=(v.vx-d.vx)*(f.vy-d.vy)-(v.vy-d.vy)*(f.vx-d.vx);return l<=0?g>=0:g<0},load:function(l,d,v,f,g){return v=this.vertex1.load(l,d,v,f,g),v=this.vertex2.load(l,d,v,f,g),v=this.vertex3.load(l,d,v,f,g),v},transformCoordinatesLocal:function(l,d,v,f){return this.vertex1.transformCoordinatesLocal(l,d,v,f),this.vertex2.transformCoordinatesLocal(l,d,v,f),this.vertex3.transformCoordinatesLocal(l,d,v,f),this},updateBounds:function(){var l=this.vertex1,d=this.vertex2,v=this.vertex3,f=this.bounds;return f.x=Math.min(l.vx,d.vx,v.vx),f.y=Math.min(l.vy,d.vy,v.vy),f.width=Math.max(l.vx,d.vx,v.vx)-f.x,f.height=Math.max(l.vy,d.vy,v.vy)-f.y,this},isInView:function(l,d,v,f,g,m,x,y,b,M,C){this.update(f,g,m,x,y,b,M,C);var w=this.vertex1,S=this.vertex2,I=this.vertex3;if(w.ta<=0&&S.ta<=0&&I.ta<=0||d&&!this.isCounterClockwise(v))return!1;var T=this.bounds;T.x=Math.min(w.tx,S.tx,I.tx),T.y=Math.min(w.ty,S.ty,I.ty),T.width=Math.max(w.tx,S.tx,I.tx)-T.x,T.height=Math.max(w.ty,S.ty,I.ty)-T.y;var k=l.x+l.width,E=l.y+l.height;return T.width<=0||T.height<=0||l.width<=0||l.height<=0?!1:!(T.right<l.x||T.bottom<l.y||T.x>k||T.y>E)},scrollUV:function(l,d){return this.vertex1.scrollUV(l,d),this.vertex2.scrollUV(l,d),this.vertex3.scrollUV(l,d),this},scaleUV:function(l,d){return this.vertex1.scaleUV(l,d),this.vertex2.scaleUV(l,d),this.vertex3.scaleUV(l,d),this},setColor:function(l){return this.vertex1.color=l,this.vertex2.color=l,this.vertex3.color=l,this},update:function(l,d,v,f,g,m,x,y){return this.vertex1.update(d,v,f,g,m,x,y,l),this.vertex2.update(d,v,f,g,m,x,y,l),this.vertex3.update(d,v,f,g,m,x,y,l),this},translate:function(l,d){d===void 0&&(d=0);var v=this.vertex1,f=this.vertex2,g=this.vertex3;return v.x+=l,v.y+=d,f.x+=l,f.y+=d,g.x+=l,g.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(l){var d=this.getInCenter();this.translate(l-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(l){var d=this.getInCenter();this.translate(0,l-d.y)}},alpha:{get:function(){var l=this.vertex1,d=this.vertex2,v=this.vertex3;return(l.alpha+d.alpha+v.alpha)/3},set:function(l){this.vertex1.alpha=l,this.vertex2.alpha=l,this.vertex3.alpha=l}},depth:{get:function(){var l=this.vertex1,d=this.vertex2,v=this.vertex3;return(l.vz+d.vz+v.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});r.exports=h},48803:(r,o,t)=>{var a=t(83997),p=t(95540),c=t(37867),u=t(25836),h=t(39318),l=new u,d=new u,v=new c,f=function(g){var m=p(g,"mesh"),x=p(g,"texture",null),y=p(g,"frame"),b=p(g,"width",1),M=p(g,"height",b),C=p(g,"widthSegments",1),w=p(g,"heightSegments",C),S=p(g,"x",0),I=p(g,"y",0),T=p(g,"z",0),k=p(g,"rotateX",0),E=p(g,"rotateY",0),A=p(g,"rotateZ",0),L=p(g,"zIsUp",!0),D=p(g,"isOrtho",m?m.dirtyCache[11]:!1),R=p(g,"colors",[16777215]),N=p(g,"alphas",[1]),P=p(g,"tile",!1),O=p(g,"flipY",!1),W=p(g,"width",null),G={faces:[],verts:[]};l.set(S,I,T),d.set(k,E,A),v.fromRotationXYTranslation(d,l,L);var H;if(!x&&m)x=m.texture,y||(H=m.frame);else if(m&&typeof x=="string")x=m.scene.sys.textures.get(x);else if(!x)return G;H||(H=x.get(y)),!W&&D&&x&&m&&(b=H.width/m.height,M=H.height/m.height);var V=b/2,B=M/2,j=Math.floor(C),U=Math.floor(w),X=j+1,Z=U+1,$=b/j,J=M/U,Q=[],_=[],ae,ce,he=0,de=1,Te=0,Fe=1;H&&(he=H.u0,de=H.u1,O?(Te=H.v1,Fe=H.v0):(Te=H.v0,Fe=H.v1));var He=de-he,ue=Fe-Te;for(ce=0;ce<Z;ce++){var Ie=ce*J-B;for(ae=0;ae<X;ae++){var Ve=ae*$-V;_.push(Ve,-Ie);var je=he+He*(ae/j),$e=Te+ue*(ce/U);Q.push(je,$e)}}Array.isArray(R)||(R=[R]),Array.isArray(N)||(N=[N]);var Yt=0,oe=0;for(ce=0;ce<U;ce++)for(ae=0;ae<j;ae++){var ie=(ae+X*ce)*2,Pe=(ae+X*(ce+1))*2,Ee=(ae+1+X*(ce+1))*2,We=(ae+1+X*ce)*2,ht=R[oe],Ze=N[Yt],Je=new h(_[ie],_[ie+1],0,Q[ie],Q[ie+1],ht,Ze).transformMat4(v),On=new h(_[Pe],_[Pe+1],0,Q[Pe],Q[Pe+1],ht,Ze).transformMat4(v),St=new h(_[We],_[We+1],0,Q[We],Q[We+1],ht,Ze).transformMat4(v),It=new h(_[Pe],_[Pe+1],0,Q[Pe],Q[Pe+1],ht,Ze).transformMat4(v),oi=new h(_[Ee],_[Ee+1],0,Q[Ee],Q[Ee+1],ht,Ze).transformMat4(v),Ft=new h(_[We],_[We+1],0,Q[We],Q[We+1],ht,Ze).transformMat4(v);P&&(Je.setUVs(he,Fe),On.setUVs(he,Te),St.setUVs(de,Fe),It.setUVs(he,Te),oi.setUVs(de,Te),Ft.setUVs(de,Fe)),oe++,oe===R.length&&(oe=0),Yt++,Yt===N.length&&(Yt=0),G.verts.push(Je,On,St,It,oi,Ft),G.faces.push(new a(Je,On,St),new a(It,oi,Ft))}return m&&(m.faces=m.faces.concat(G.faces),m.vertices=m.vertices.concat(G.verts)),G};r.exports=f},34684:(r,o,t)=>{var a=t(83997),p=t(37867),c=t(25836),u=t(39318),h=new c,l=new c,d=new p,v=function(f,g,m,x,y,b,M,C,w,S){m===void 0&&(m=1),x===void 0&&(x=0),y===void 0&&(y=0),b===void 0&&(b=0),M===void 0&&(M=0),C===void 0&&(C=0),w===void 0&&(w=0),S===void 0&&(S=!0);var I={faces:[],verts:[]},T=f.materials;h.set(x,y,b),l.set(M,C,w),d.fromRotationXYTranslation(l,h,S);for(var k=0;k<f.models.length;k++)for(var E=f.models[k],A=E.vertices,L=E.textureCoords,D=E.faces,R=0;R<D.length;R++){var N=D[R],P=N.vertices[0],O=N.vertices[1],W=N.vertices[2],G=A[P.vertexIndex],H=A[O.vertexIndex],V=A[W.vertexIndex],B=P.textureCoordsIndex,j=O.textureCoordsIndex,U=W.textureCoordsIndex,X=B===-1?{u:0,v:1}:L[B],Z=j===-1?{u:0,v:0}:L[j],$=U===-1?{u:1,v:1}:L[U],J=16777215;N.material!==""&&T[N.material]&&(J=T[N.material]);var Q=new u(G.x*m,G.y*m,G.z*m,X.u,X.v,J).transformMat4(d),_=new u(H.x*m,H.y*m,H.z*m,Z.u,Z.v,J).transformMat4(d),ae=new u(V.x*m,V.y*m,V.z*m,$.u,$.v,J).transformMat4(d);I.verts.push(Q,_,ae),I.faces.push(new a(Q,_,ae))}return g&&(g.faces=g.faces.concat(I.faces),g.vertices=g.vertices.concat(I.verts)),I};r.exports=v},92515:(r,o,t)=>{var a=t(83997),p=t(39318),c=function(u,h,l,d,v,f,g,m){if(d===void 0&&(d=!1),f===void 0&&(f=16777215),g===void 0&&(g=1),m===void 0&&(m=!1),u.length!==h.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var x={faces:[],vertices:[]},y,b,M,C,w,S,I,T,k,E,A,L=d?3:2,D=Array.isArray(f),R=Array.isArray(g);if(Array.isArray(l)&&l.length>0)for(y=0;y<l.length;y++){var N=l[y],P=l[y]*2,O=l[y]*L;b=u[O],M=u[O+1],C=d?u[O+2]:0,w=h[P],S=h[P+1],m&&(S=1-S),I=D?f[N]:f,T=R?g[N]:g,k=0,E=0,A=0,v&&(k=v[O],E=v[O+1],A=d?v[O+2]:0),x.vertices.push(new p(b,M,C,w,S,I,T,k,E,A))}else{var W=0,G=0;for(y=0;y<u.length;y+=L)b=u[y],M=u[y+1],C=d?u[y+2]:0,w=h[W],S=h[W+1],I=D?f[G]:f,T=R?g[G]:g,k=0,E=0,A=0,v&&(k=v[y],E=v[y+1],A=d?v[y+2]:0),x.vertices.push(new p(b,M,C,w,S,I,T,k,E,A)),W+=2,G++}for(y=0;y<x.vertices.length;y+=3){var H=x.vertices[y],V=x.vertices[y+1],B=x.vertices[y+2];x.faces.push(new a(H,V,B))}return x};r.exports=c},85048:r=>{var o=!0,t="untitled",a="",p="";function c(b){var M=b.indexOf("#");return M>-1?b.substring(0,M):b}function u(b){return b.models.length===0&&b.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),a="",b.models[b.models.length-1]}function h(b,M){var C=b.length>=2?b[1]:t;M.models.push({faces:[],name:C,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function l(b){b.length===2&&(a=b[1])}function d(b,M){var C=b.length,w=C>=2?parseFloat(b[1]):0,S=C>=3?parseFloat(b[2]):0,I=C>=4?parseFloat(b[3]):0;u(M).vertices.push({x:w,y:S,z:I})}function v(b,M){var C=b.length,w=C>=2?parseFloat(b[1]):0,S=C>=3?parseFloat(b[2]):0,I=C>=4?parseFloat(b[3]):0;isNaN(w)&&(w=0),isNaN(S)&&(S=0),isNaN(I)&&(I=0),o&&(S=1-S),u(M).textureCoords.push({u:w,v:S,w:I})}function f(b,M){var C=b.length,w=C>=2?parseFloat(b[1]):0,S=C>=3?parseFloat(b[2]):0,I=C>=4?parseFloat(b[3]):0;u(M).vertexNormals.push({x:w,y:S,z:I})}function g(b,M){var C=b.length-1;if(!(C<3)){for(var w={group:a,material:p,vertices:[]},S=0;S<C;S++){var I=b[S+1],T=I.split("/"),k=T.length;if(!(k<1||k>3)){var E=0,A=0,L=0;E=parseInt(T[0],10),k>1&&T[1]!==""&&(A=parseInt(T[1],10)),k>2&&(L=parseInt(T[2],10)),E!==0&&(E<0&&(E=u(M).vertices.length+1+E),A-=1,E-=1,L-=1,w.vertices.push({textureCoordsIndex:A,vertexIndex:E,vertexNormalIndex:L}))}}u(M).faces.push(w)}}function m(b,M){b.length>=2&&M.materialLibraries.push(b[1])}function x(b){b.length>=2&&(p=b[1])}var y=function(b,M){M===void 0&&(M=!0),o=M;var C={materials:{},materialLibraries:[],models:[]};a="",p="";for(var w=b.split(`
`),S=0;S<w.length;S++){var I=c(w[S]),T=I.replace(/\s\s+/g," ").trim().split(" ");switch(T[0].toLowerCase()){case"o":h(T,C);break;case"g":l(T);break;case"v":d(T,C);break;case"vt":v(T,C);break;case"vn":f(T,C);break;case"f":g(T,C);break;case"mtllib":m(T,C);break;case"usemtl":x(T);break}}return C};r.exports=y},61485:(r,o,t)=>{var a=t(37589),p=function(c){for(var u={},h=c.split(`
`),l="",d=0;d<h.length;d++){var v=h[d].trim();if(!(v.indexOf("#")===0||v==="")){var f=v.replace(/\s\s+/g," ").trim().split(" ");switch(f[0].toLowerCase()){case"newmtl":{l=f[1];break}case"kd":{var g=Math.floor(f[1]*255),m=f.length>=2?Math.floor(f[2]*255):g,x=f.length>=3?Math.floor(f[3]*255):g;u[l]=a(g,m,x);break}}}}return u};r.exports=p},92570:r=>{var o=function(t,a,p,c){var u,h;if(p===void 0&&c===void 0){var l=t.getInCenter();u=l.x,h=l.y}var d=Math.cos(a),v=Math.sin(a),f=t.vertex1,g=t.vertex2,m=t.vertex3,x=f.x-u,y=f.y-h;f.set(x*d-y*v+u,x*v+y*d+h),x=g.x-u,y=g.y-h,g.set(x*d-y*v+u,x*v+y*d+h),x=m.x-u,y=m.y-h,m.set(x*d-y*v+u,x*v+y*d+h)};r.exports=o},39318:(r,o,t)=>{var a=t(83419),p=t(70554),c=t(25836),u=new a({Extends:c,initialize:function(l,d,v,f,g,m,x,y,b,M){m===void 0&&(m=16777215),x===void 0&&(x=1),y===void 0&&(y=0),b===void 0&&(b=0),M===void 0&&(M=0),c.call(this,l,d,v),this.vx=0,this.vy=0,this.vz=0,this.nx=y,this.ny=b,this.nz=M,this.u=f,this.v=g,this.color=m,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=f,this.tv=g},setUVs:function(h,l){return this.u=h,this.v=l,this.tu=h,this.tv=l,this},scrollUV:function(h,l){return this.tu+=h,this.tv+=l,this},scaleUV:function(h,l){return this.tu=this.u*h,this.tv=this.v*l,this},transformCoordinatesLocal:function(h,l,d,v){var f=this.x,g=this.y,m=this.z,x=h.val,y=f*x[0]+g*x[4]+m*x[8]+x[12],b=f*x[1]+g*x[5]+m*x[9]+x[13],M=f*x[2]+g*x[6]+m*x[10]+x[14],C=f*x[3]+g*x[7]+m*x[11]+x[15];this.vx=y/C*l,this.vy=-(b/C)*d,v<=0?this.vz=M/C:this.vz=-(M/C)},resize:function(h,l,d,v,f,g){return this.x=h,this.y=l,this.vx=this.x*d,this.vy=-this.y*v,this.vz=0,f<.5?this.vx+=d*(.5-f):f>.5&&(this.vx-=d*(f-.5)),g<.5?this.vy+=v*(.5-g):g>.5&&(this.vy-=v*(g-.5)),this},update:function(h,l,d,v,f,g,m,x){var y=this.vx*h+this.vy*d+f,b=this.vx*l+this.vy*v+g;return m&&(y=Math.round(y),b=Math.round(b)),this.tx=y,this.ty=b,this.ta=this.alpha*x,this},load:function(h,l,d,v,f){return h[++d]=this.tx,h[++d]=this.ty,h[++d]=this.tu,h[++d]=this.tv,h[++d]=v,h[++d]=f,l[++d]=p.getTintAppendFloatAlpha(this.color,this.ta),d}});r.exports=u},73090:(r,o,t)=>{var a={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};r.exports=a},96550:r=>{var o=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};r.exports=o},99706:(r,o,t)=>{var a=t(2141),p=function(c){return new a(c.x,c.y)};r.exports=p},68010:r=>{var o=function(t,a){return a.setTo(t.x,t.y)};r.exports=o},27814:r=>{var o=function(t,a){return t.x===a.x&&t.y===a.y};r.exports=o},73565:r=>{var o=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};r.exports=o},87555:(r,o,t)=>{var a=t(2141),p=function(c,u){if(u===void 0&&(u=new a),!Array.isArray(c))throw new Error("GetCentroid points argument must be an array");var h=c.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(h===1)u.x=c[0].x,u.y=c[0].y;else{for(var l=0;l<h;l++)u.x+=c[l].x,u.y+=c[l].y;u.x/=h,u.y/=h}return u};r.exports=p},28793:r=>{var o=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};r.exports=o},44405:r=>{var o=function(t){return t.x*t.x+t.y*t.y};r.exports=o},20873:(r,o,t)=>{var a=t(87841),p=function(c,u){u===void 0&&(u=new a);for(var h=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,f=0;f<c.length;f++){var g=c[f];g.x>h&&(h=g.x),g.x<l&&(l=g.x),g.y>d&&(d=g.y),g.y<v&&(v=g.y)}return u.x=l,u.y=v,u.width=h-l,u.height=d-v,u};r.exports=p},26152:(r,o,t)=>{var a=t(2141),p=function(c,u,h,l){return h===void 0&&(h=0),l===void 0&&(l=new a),l.x=c.x+(u.x-c.x)*h,l.y=c.y+(u.y-c.y)*h,l};r.exports=p},55767:r=>{var o=function(t){return t.setTo(t.y,t.x)};r.exports=o},79432:(r,o,t)=>{var a=t(2141),p=function(c,u){return u===void 0&&(u=new a),u.setTo(-c.x,-c.y)};r.exports=p},2141:(r,o,t)=>{var a=t(83419),p=t(23777),c=new a({initialize:function(h,l){h===void 0&&(h=0),l===void 0&&(l=h),this.type=p.POINT,this.x=h,this.y=l},setTo:function(u,h){return u===void 0&&(u=0),h===void 0&&(h=u),this.x=u,this.y=h,this}});r.exports=c},72930:(r,o,t)=>{var a=t(2141),p=t(44405),c=function(u,h,l){l===void 0&&(l=new a);var d=u.x*h.x+u.y*h.y,v=d/p(h);return v!==0&&(l.x=v*h.x,l.y=v*h.y),l};r.exports=c},62880:(r,o,t)=>{var a=t(2141),p=function(c,u,h){h===void 0&&(h=new a);var l=c.x*u.x+c.y*u.y;return l!==0&&(h.x=l*u.x,h.y=l*u.y),h};r.exports=p},15093:(r,o,t)=>{var a=t(28793),p=function(c,u){if(c.x!==0||c.y!==0){var h=a(c);c.x/=h,c.y/=h}return c.x*=u,c.y*=u,c};r.exports=p},43711:(r,o,t)=>{var a=t(2141);a.Ceil=t(96550),a.Clone=t(99706),a.CopyFrom=t(68010),a.Equals=t(27814),a.Floor=t(73565),a.GetCentroid=t(87555),a.GetMagnitude=t(28793),a.GetMagnitudeSq=t(44405),a.GetRectangleFromPoints=t(20873),a.Interpolate=t(26152),a.Invert=t(55767),a.Negative=t(79432),a.Project=t(72930),a.ProjectUnit=t(62880),a.SetMagnitude=t(15093),r.exports=a},12306:(r,o,t)=>{var a=t(25717),p=function(c){return new a(c.points)};r.exports=p},63814:r=>{var o=function(t,a,p){for(var c=!1,u=-1,h=t.points.length-1;++u<t.points.length;h=u){var l=t.points[u].x,d=t.points[u].y,v=t.points[h].x,f=t.points[h].y;(d<=p&&p<f||f<=p&&p<d)&&a<(v-l)*(p-d)/(f-d)+l&&(c=!c)}return c};r.exports=o},99338:(r,o,t)=>{var a=t(63814),p=function(c,u){return a(c,u.x,u.y)};r.exports=p},94811:r=>{"use strict";function o(G,H,V){V=V||2;var B=H&&H.length,j=B?H[0]*V:G.length,U=t(G,0,j,V,!0),X=[];if(!U||U.next===U.prev)return X;var Z,$,J,Q,_,ae,ce;if(B&&(U=d(G,H,U,V)),G.length>80*V){Z=J=G[0],$=Q=G[1];for(var he=V;he<j;he+=V)_=G[he],ae=G[he+1],_<Z&&(Z=_),ae<$&&($=ae),_>J&&(J=_),ae>Q&&(Q=ae);ce=Math.max(J-Z,Q-$),ce=ce!==0?32767/ce:0}return p(U,X,V,Z,$,ce,0),X}function t(G,H,V,B,j){var U,X;if(j===W(G,H,V,B)>0)for(U=H;U<V;U+=B)X=N(U,G[U],G[U+1],X);else for(U=V-B;U>=H;U-=B)X=N(U,G[U],G[U+1],X);return X&&I(X,X.next)&&(P(X),X=X.next),X}function a(G,H){if(!G)return G;H||(H=G);var V=G,B;do if(B=!1,!V.steiner&&(I(V,V.next)||S(V.prev,V,V.next)===0)){if(P(V),V=H=V.prev,V===V.next)break;B=!0}else V=V.next;while(B||V!==H);return H}function p(G,H,V,B,j,U,X){if(G){!X&&U&&x(G,B,j,U);for(var Z=G,$,J;G.prev!==G.next;){if($=G.prev,J=G.next,U?u(G,B,j,U):c(G)){H.push($.i/V|0),H.push(G.i/V|0),H.push(J.i/V|0),P(G),G=J.next,Z=J.next;continue}if(G=J,G===Z){X?X===1?(G=h(a(G),H,V),p(G,H,V,B,j,U,2)):X===2&&l(G,H,V,B,j,U):p(a(G),H,V,B,j,U,1);break}}}}function c(G){var H=G.prev,V=G,B=G.next;if(S(H,V,B)>=0)return!1;for(var j=H.x,U=V.x,X=B.x,Z=H.y,$=V.y,J=B.y,Q=j<U?j<X?j:X:U<X?U:X,_=Z<$?Z<J?Z:J:$<J?$:J,ae=j>U?j>X?j:X:U>X?U:X,ce=Z>$?Z>J?Z:J:$>J?$:J,he=B.next;he!==H;){if(he.x>=Q&&he.x<=ae&&he.y>=_&&he.y<=ce&&C(j,Z,U,$,X,J,he.x,he.y)&&S(he.prev,he,he.next)>=0)return!1;he=he.next}return!0}function u(G,H,V,B){var j=G.prev,U=G,X=G.next;if(S(j,U,X)>=0)return!1;for(var Z=j.x,$=U.x,J=X.x,Q=j.y,_=U.y,ae=X.y,ce=Z<$?Z<J?Z:J:$<J?$:J,he=Q<_?Q<ae?Q:ae:_<ae?_:ae,de=Z>$?Z>J?Z:J:$>J?$:J,Te=Q>_?Q>ae?Q:ae:_>ae?_:ae,Fe=b(ce,he,H,V,B),He=b(de,Te,H,V,B),ue=G.prevZ,Ie=G.nextZ;ue&&ue.z>=Fe&&Ie&&Ie.z<=He;){if(ue.x>=ce&&ue.x<=de&&ue.y>=he&&ue.y<=Te&&ue!==j&&ue!==X&&C(Z,Q,$,_,J,ae,ue.x,ue.y)&&S(ue.prev,ue,ue.next)>=0||(ue=ue.prevZ,Ie.x>=ce&&Ie.x<=de&&Ie.y>=he&&Ie.y<=Te&&Ie!==j&&Ie!==X&&C(Z,Q,$,_,J,ae,Ie.x,Ie.y)&&S(Ie.prev,Ie,Ie.next)>=0))return!1;Ie=Ie.nextZ}for(;ue&&ue.z>=Fe;){if(ue.x>=ce&&ue.x<=de&&ue.y>=he&&ue.y<=Te&&ue!==j&&ue!==X&&C(Z,Q,$,_,J,ae,ue.x,ue.y)&&S(ue.prev,ue,ue.next)>=0)return!1;ue=ue.prevZ}for(;Ie&&Ie.z<=He;){if(Ie.x>=ce&&Ie.x<=de&&Ie.y>=he&&Ie.y<=Te&&Ie!==j&&Ie!==X&&C(Z,Q,$,_,J,ae,Ie.x,Ie.y)&&S(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.nextZ}return!0}function h(G,H,V){var B=G;do{var j=B.prev,U=B.next.next;!I(j,U)&&T(j,B,B.next,U)&&L(j,U)&&L(U,j)&&(H.push(j.i/V|0),H.push(B.i/V|0),H.push(U.i/V|0),P(B),P(B.next),B=G=U),B=B.next}while(B!==G);return a(B)}function l(G,H,V,B,j,U){var X=G;do{for(var Z=X.next.next;Z!==X.prev;){if(X.i!==Z.i&&w(X,Z)){var $=R(X,Z);X=a(X,X.next),$=a($,$.next),p(X,H,V,B,j,U,0),p($,H,V,B,j,U,0);return}Z=Z.next}X=X.next}while(X!==G)}function d(G,H,V,B){var j=[],U,X,Z,$,J;for(U=0,X=H.length;U<X;U++)Z=H[U]*B,$=U<X-1?H[U+1]*B:G.length,J=t(G,Z,$,B,!1),J===J.next&&(J.steiner=!0),j.push(M(J));for(j.sort(v),U=0;U<j.length;U++)V=f(j[U],V);return V}function v(G,H){return G.x-H.x}function f(G,H){var V=g(G,H);if(!V)return H;var B=R(V,G);return a(B,B.next),a(V,V.next)}function g(G,H){var V=H,B=G.x,j=G.y,U=-1/0,X;do{if(j<=V.y&&j>=V.next.y&&V.next.y!==V.y){var Z=V.x+(j-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Z<=B&&Z>U&&(U=Z,X=V.x<V.next.x?V:V.next,Z===B))return X}V=V.next}while(V!==H);if(!X)return null;var $=X,J=X.x,Q=X.y,_=1/0,ae;V=X;do B>=V.x&&V.x>=J&&B!==V.x&&C(j<Q?B:U,j,J,Q,j<Q?U:B,j,V.x,V.y)&&(ae=Math.abs(j-V.y)/(B-V.x),L(V,G)&&(ae<_||ae===_&&(V.x>X.x||V.x===X.x&&m(X,V)))&&(X=V,_=ae)),V=V.next;while(V!==$);return X}function m(G,H){return S(G.prev,G,H.prev)<0&&S(H.next,G,G.next)<0}function x(G,H,V,B){var j=G;do j.z===0&&(j.z=b(j.x,j.y,H,V,B)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==G);j.prevZ.nextZ=null,j.prevZ=null,y(j)}function y(G){var H,V,B,j,U,X,Z,$,J=1;do{for(V=G,G=null,U=null,X=0;V;){for(X++,B=V,Z=0,H=0;H<J&&(Z++,B=B.nextZ,!!B);H++);for($=J;Z>0||$>0&&B;)Z!==0&&($===0||!B||V.z<=B.z)?(j=V,V=V.nextZ,Z--):(j=B,B=B.nextZ,$--),U?U.nextZ=j:G=j,j.prevZ=U,U=j;V=B}U.nextZ=null,J*=2}while(X>1);return G}function b(G,H,V,B,j){return G=(G-V)*j|0,H=(H-B)*j|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,G|H<<1}function M(G){var H=G,V=G;do(H.x<V.x||H.x===V.x&&H.y<V.y)&&(V=H),H=H.next;while(H!==G);return V}function C(G,H,V,B,j,U,X,Z){return(j-X)*(H-Z)>=(G-X)*(U-Z)&&(G-X)*(B-Z)>=(V-X)*(H-Z)&&(V-X)*(U-Z)>=(j-X)*(B-Z)}function w(G,H){return G.next.i!==H.i&&G.prev.i!==H.i&&!A(G,H)&&(L(G,H)&&L(H,G)&&D(G,H)&&(S(G.prev,G,H.prev)||S(G,H.prev,H))||I(G,H)&&S(G.prev,G,G.next)>0&&S(H.prev,H,H.next)>0)}function S(G,H,V){return(H.y-G.y)*(V.x-H.x)-(H.x-G.x)*(V.y-H.y)}function I(G,H){return G.x===H.x&&G.y===H.y}function T(G,H,V,B){var j=E(S(G,H,V)),U=E(S(G,H,B)),X=E(S(V,B,G)),Z=E(S(V,B,H));return!!(j!==U&&X!==Z||j===0&&k(G,V,H)||U===0&&k(G,B,H)||X===0&&k(V,G,B)||Z===0&&k(V,H,B))}function k(G,H,V){return H.x<=Math.max(G.x,V.x)&&H.x>=Math.min(G.x,V.x)&&H.y<=Math.max(G.y,V.y)&&H.y>=Math.min(G.y,V.y)}function E(G){return G>0?1:G<0?-1:0}function A(G,H){var V=G;do{if(V.i!==G.i&&V.next.i!==G.i&&V.i!==H.i&&V.next.i!==H.i&&T(V,V.next,G,H))return!0;V=V.next}while(V!==G);return!1}function L(G,H){return S(G.prev,G,G.next)<0?S(G,H,G.next)>=0&&S(G,G.prev,H)>=0:S(G,H,G.prev)<0||S(G,G.next,H)<0}function D(G,H){var V=G,B=!1,j=(G.x+H.x)/2,U=(G.y+H.y)/2;do V.y>U!=V.next.y>U&&V.next.y!==V.y&&j<(V.next.x-V.x)*(U-V.y)/(V.next.y-V.y)+V.x&&(B=!B),V=V.next;while(V!==G);return B}function R(G,H){var V=new O(G.i,G.x,G.y),B=new O(H.i,H.x,H.y),j=G.next,U=H.prev;return G.next=H,H.prev=G,V.next=j,j.prev=V,B.next=V,V.prev=B,U.next=B,B.prev=U,B}function N(G,H,V,B){var j=new O(G,H,V);return B?(j.next=B.next,j.prev=B,B.next.prev=j,B.next=j):(j.prev=j,j.next=j),j}function P(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function O(G,H,V){this.i=G,this.x=H,this.y=V,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}o.deviation=function(G,H,V,B){var j=H&&H.length,U=j?H[0]*V:G.length,X=Math.abs(W(G,0,U,V));if(j)for(var Z=0,$=H.length;Z<$;Z++){var J=H[Z]*V,Q=Z<$-1?H[Z+1]*V:G.length;X-=Math.abs(W(G,J,Q,V))}var _=0;for(Z=0;Z<B.length;Z+=3){var ae=B[Z]*V,ce=B[Z+1]*V,he=B[Z+2]*V;_+=Math.abs((G[ae]-G[he])*(G[ce+1]-G[ae+1])-(G[ae]-G[ce])*(G[he+1]-G[ae+1]))}return X===0&&_===0?0:Math.abs((_-X)/X)};function W(G,H,V,B){for(var j=0,U=H,X=V-B;U<V;U+=B)j+=(G[X]-G[U])*(G[U+1]+G[X+1]),X=U;return j}o.flatten=function(G){for(var H=G[0][0].length,V={vertices:[],holes:[],dimensions:H},B=0,j=0;j<G.length;j++){for(var U=0;U<G[j].length;U++)for(var X=0;X<H;X++)V.vertices.push(G[j][U][X]);j>0&&(B+=G[j-1].length,V.holes.push(B))}return V},r.exports=o},13829:(r,o,t)=>{var a=t(87841),p=function(c,u){u===void 0&&(u=new a);for(var h=1/0,l=1/0,d=-h,v=-l,f,g=0;g<c.points.length;g++)f=c.points[g],h=Math.min(h,f.x),l=Math.min(l,f.y),d=Math.max(d,f.x),v=Math.max(v,f.y);return u.x=h,u.y=l,u.width=d-h,u.height=v-l,u};r.exports=p},26173:r=>{var o=function(t,a){a===void 0&&(a=[]);for(var p=0;p<t.points.length;p++)a.push(t.points[p].x),a.push(t.points[p].y);return a};r.exports=o},9564:(r,o,t)=>{var a=t(35001),p=t(23031),c=t(30052),u=function(h,l,d,v){v===void 0&&(v=[]);var f=h.points,g=c(h);!l&&d>0&&(l=g/d);for(var m=0;m<l;m++)for(var x=g*(m/l),y=0,b=0;b<f.length;b++){var M=f[b],C=f[(b+1)%f.length],w=new p(M.x,M.y,C.x,C.y),S=a(w);if(x<y||x>y+S){y+=S;continue}var I=w.getPoint((x-y)/S);v.push(I);break}return v};r.exports=u},30052:(r,o,t)=>{var a=t(35001),p=t(23031),c=function(u){for(var h=u.points,l=0,d=0;d<h.length;d++){var v=h[d],f=h[(d+1)%h.length],g=new p(v.x,v.y,f.x,f.y);l+=a(g)}return l};r.exports=c},25717:(r,o,t)=>{var a=t(83419),p=t(63814),c=t(9564),u=t(23777),h=new a({initialize:function(d){this.type=u.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(l,d){return p(this,l,d)},setTo:function(l){if(this.area=0,this.points=[],typeof l=="string"&&(l=l.split(" ")),!Array.isArray(l))return this;for(var d,v=0;v<l.length;v++)d={x:0,y:0},typeof l[v]=="number"||typeof l[v]=="string"?(d.x=parseFloat(l[v]),d.y=parseFloat(l[v+1]),v++):Array.isArray(l[v])?(d.x=l[v][0],d.y=l[v][1]):(d.x=l[v].x,d.y=l[v].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var l=0,d,v,f=0;f<this.points.length-1;f++)d=this.points[f],v=this.points[f+1],l+=(v.x-d.x)*(d.y+v.y);return d=this.points[0],v=this.points[this.points.length-1],l+=(d.x-v.x)*(v.y+d.y),this.area=-l*.5,this.area},getPoints:function(l,d,v){return c(this,l,d,v)}});r.exports=h},8133:r=>{var o=function(t){return t.points.reverse(),t};r.exports=o},29524:r=>{function o(h,l){var d=h.x-l.x,v=h.y-l.y;return d*d+v*v}function t(h,l,d){var v=l.x,f=l.y,g=d.x-v,m=d.y-f;if(g!==0||m!==0){var x=((h.x-v)*g+(h.y-f)*m)/(g*g+m*m);x>1?(v=d.x,f=d.y):x>0&&(v+=g*x,f+=m*x)}return g=h.x-v,m=h.y-f,g*g+m*m}function a(h,l){for(var d=h[0],v=[d],f,g=1,m=h.length;g<m;g++)f=h[g],o(f,d)>l&&(v.push(f),d=f);return d!==f&&v.push(f),v}function p(h,l,d,v,f){for(var g=v,m,x=l+1;x<d;x++){var y=t(h[x],h[l],h[d]);y>g&&(m=x,g=y)}g>v&&(m-l>1&&p(h,l,m,v,f),f.push(h[m]),d-m>1&&p(h,m,d,v,f))}function c(h,l){var d=h.length-1,v=[h[0]];return p(h,0,d,l,v),v.push(h[d]),v}var u=function(h,l,d){l===void 0&&(l=1),d===void 0&&(d=!1);var v=h.points;if(v.length>2){var f=l*l;d||(v=a(v,f)),h.setTo(c(v,f))}return h};r.exports=u},5469:r=>{var o=function(a,p){return a[0]=p[0],a[1]=p[1],a},t=function(a){var p,c=[],u=a.points;for(p=0;p<u.length;p++)c.push([u[p].x,u[p].y]);var h=[];for(c.length>0&&h.push(o([0,0],c[0])),p=0;p<c.length-1;p++){var l=c[p],d=c[p+1],v=l[0],f=l[1],g=d[0],m=d[1];h.push([.85*v+.15*g,.85*f+.15*m]),h.push([.15*v+.85*g,.15*f+.85*m])}return c.length>1&&h.push(o([0,0],c[c.length-1])),a.setTo(h)};r.exports=t},24709:r=>{var o=function(t,a,p){for(var c=t.points,u=0;u<c.length;u++)c[u].x+=a,c[u].y+=p;return t};r.exports=o},58423:(r,o,t)=>{var a=t(25717);a.Clone=t(12306),a.Contains=t(63814),a.ContainsPoint=t(99338),a.Earcut=t(94811),a.GetAABB=t(13829),a.GetNumberArray=t(26173),a.GetPoints=t(9564),a.Perimeter=t(30052),a.Reverse=t(8133),a.Simplify=t(29524),a.Smooth=t(5469),a.Translate=t(24709),r.exports=a},62224:r=>{var o=function(t){return t.width*t.height};r.exports=o},98615:r=>{var o=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};r.exports=o},31688:r=>{var o=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};r.exports=o},67502:r=>{var o=function(t,a,p){return t.x=a-t.width/2,t.y=p-t.height/2,t};r.exports=o},65085:(r,o,t)=>{var a=t(87841),p=function(c){return new a(c.x,c.y,c.width,c.height)};r.exports=p},37303:r=>{var o=function(t,a,p){return t.width<=0||t.height<=0?!1:t.x<=a&&t.x+t.width>=a&&t.y<=p&&t.y+t.height>=p};r.exports=o},96553:(r,o,t)=>{var a=t(37303),p=function(c,u){return a(c,u.x,u.y)};r.exports=p},70273:r=>{var o=function(t,a){return a.width*a.height>t.width*t.height?!1:a.x>t.x&&a.x<t.right&&a.right>t.x&&a.right<t.right&&a.y>t.y&&a.y<t.bottom&&a.bottom>t.y&&a.bottom<t.bottom};r.exports=o},43459:r=>{var o=function(t,a){return a.setTo(t.x,t.y,t.width,t.height)};r.exports=o},77493:r=>{var o=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x,y:t.y}),a.push({x:t.right,y:t.y}),a.push({x:t.right,y:t.bottom}),a.push({x:t.x,y:t.bottom}),a};r.exports=o},9219:r=>{var o=function(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height};r.exports=o},53751:(r,o,t)=>{var a=t(8249),p=function(c,u){var h=a(c);return h<a(u)?c.setSize(u.height*h,u.height):c.setSize(u.width,u.width/h),c.setPosition(u.centerX-c.width/2,u.centerY-c.height/2)};r.exports=p},16088:(r,o,t)=>{var a=t(8249),p=function(c,u){var h=a(c);return h>a(u)?c.setSize(u.height*h,u.height):c.setSize(u.width,u.width/h),c.setPosition(u.centerX-c.width/2,u.centerY-c.height/2)};r.exports=p},80774:r=>{var o=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};r.exports=o},83859:r=>{var o=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};r.exports=o},19217:(r,o,t)=>{var a=t(87841),p=t(36383),c=function(u,h){if(h===void 0&&(h=new a),u.length===0)return h;for(var l=Number.MAX_VALUE,d=Number.MAX_VALUE,v=p.MIN_SAFE_INTEGER,f=p.MIN_SAFE_INTEGER,g,m,x,y=0;y<u.length;y++)g=u[y],Array.isArray(g)?(m=g[0],x=g[1]):(m=g.x,x=g.y),l=Math.min(l,m),d=Math.min(d,x),v=Math.max(v,m),f=Math.max(f,x);return h.x=l,h.y=d,h.width=v-l,h.height=f-d,h};r.exports=c},9477:(r,o,t)=>{var a=t(87841),p=function(c,u,h,l,d){return d===void 0&&(d=new a),d.setTo(Math.min(c,h),Math.min(u,l),Math.abs(c-h),Math.abs(u-l))};r.exports=p},8249:r=>{var o=function(t){return t.height===0?NaN:t.width/t.height};r.exports=o},27165:(r,o,t)=>{var a=t(2141),p=function(c,u){return u===void 0&&(u=new a),u.x=c.centerX,u.y=c.centerY,u};r.exports=p},20812:(r,o,t)=>{var a=t(13019),p=t(2141),c=function(u,h,l){if(l===void 0&&(l=new p),h<=0||h>=1)return l.x=u.x,l.y=u.y,l;var d=a(u)*h;return h>.5?(d-=u.width+u.height,d<=u.width?(l.x=u.right-d,l.y=u.bottom):(l.x=u.x,l.y=u.bottom-(d-u.width))):d<=u.width?(l.x=u.x+d,l.y=u.y):(l.x=u.right,l.y=u.y+(d-u.width)),l};r.exports=c},34819:(r,o,t)=>{var a=t(20812),p=t(13019),c=function(u,h,l,d){d===void 0&&(d=[]),!h&&l>0&&(h=p(u)/l);for(var v=0;v<h;v++){var f=v/h;d.push(a(u,f))}return d};r.exports=c},51313:(r,o,t)=>{var a=t(2141),p=function(c,u){return u===void 0&&(u=new a),u.x=c.width,u.y=c.height,u};r.exports=p},86091:(r,o,t)=>{var a=t(67502),p=function(c,u,h){var l=c.centerX,d=c.centerY;return c.setSize(c.width+u*2,c.height+h*2),a(c,l,d)};r.exports=p},53951:(r,o,t)=>{var a=t(87841),p=t(59996),c=function(u,h,l){return l===void 0&&(l=new a),p(u,h)?(l.x=Math.max(u.x,h.x),l.y=Math.max(u.y,h.y),l.width=Math.min(u.right,h.right)-l.x,l.height=Math.min(u.bottom,h.bottom)-l.y):l.setEmpty(),l};r.exports=c},14649:(r,o,t)=>{var a=t(13019),p=t(2141),c=function(u,h,l,d){if(d===void 0&&(d=[]),!h&&!l)return d;h?l=Math.round(a(u)/h):h=a(u)/l;for(var v=u.x,f=u.y,g=0,m=0;m<l;m++)switch(d.push(new p(v,f)),g){case 0:v+=h,v>=u.right&&(g=1,f+=v-u.right,v=u.right);break;case 1:f+=h,f>=u.bottom&&(g=2,v-=f-u.bottom,f=u.bottom);break;case 2:v-=h,v<=u.left&&(g=3,f-=u.left-v,v=u.left);break;case 3:f-=h,f<=u.top&&(g=0,f=u.top);break}return d};r.exports=c},33595:r=>{var o=function(t,a){for(var p=t.x,c=t.right,u=t.y,h=t.bottom,l=0;l<a.length;l++)p=Math.min(p,a[l].x),c=Math.max(c,a[l].x),u=Math.min(u,a[l].y),h=Math.max(h,a[l].y);return t.x=p,t.y=u,t.width=c-p,t.height=h-u,t};r.exports=o},20074:r=>{var o=function(t,a){var p=Math.min(t.x,a.x),c=Math.max(t.right,a.right);t.x=p,t.width=c-p;var u=Math.min(t.y,a.y),h=Math.max(t.bottom,a.bottom);return t.y=u,t.height=h-u,t};r.exports=o},92171:r=>{var o=function(t,a,p){var c=Math.min(t.x,a),u=Math.max(t.right,a);t.x=c,t.width=u-c;var h=Math.min(t.y,p),l=Math.max(t.bottom,p);return t.y=h,t.height=l-h,t};r.exports=o},42981:r=>{var o=function(t,a,p){return t.x+=a,t.y+=p,t};r.exports=o},46907:r=>{var o=function(t,a){return t.x+=a.x,t.y+=a.y,t};r.exports=o},60170:r=>{var o=function(t,a){return t.x<a.right&&t.right>a.x&&t.y<a.bottom&&t.bottom>a.y};r.exports=o},13019:r=>{var o=function(t){return 2*(t.width+t.height)};r.exports=o},85133:(r,o,t)=>{var a=t(2141),p=t(39506),c=function(u,h,l){l===void 0&&(l=new a),h=p(h);var d=Math.sin(h),v=Math.cos(h),f=v>0?u.width/2:u.width/-2,g=d>0?u.height/2:u.height/-2;return Math.abs(f*d)<Math.abs(g*v)?g=f*d/v:f=g*v/d,l.x=f+u.centerX,l.y=g+u.centerY,l};r.exports=c},26597:(r,o,t)=>{var a=t(2141),p=function(c,u){return u===void 0&&(u=new a),u.x=c.x+Math.random()*c.width,u.y=c.y+Math.random()*c.height,u};r.exports=p},86470:(r,o,t)=>{var a=t(30976),p=t(70273),c=t(2141),u=function(h,l,d){if(d===void 0&&(d=new c),p(h,l))switch(a(0,3)){case 0:d.x=h.x+Math.random()*(l.right-h.x),d.y=h.y+Math.random()*(l.top-h.y);break;case 1:d.x=l.x+Math.random()*(h.right-l.x),d.y=l.bottom+Math.random()*(h.bottom-l.bottom);break;case 2:d.x=h.x+Math.random()*(l.x-h.x),d.y=l.y+Math.random()*(h.bottom-l.y);break;case 3:d.x=l.right+Math.random()*(h.right-l.right),d.y=h.y+Math.random()*(l.bottom-h.y);break}return d};r.exports=u},87841:(r,o,t)=>{var a=t(83419),p=t(37303),c=t(20812),u=t(34819),h=t(23777),l=t(23031),d=t(26597),v=new a({initialize:function(g,m,x,y){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=0),this.type=h.RECTANGLE,this.x=g,this.y=m,this.width=x,this.height=y},contains:function(f,g){return p(this,f,g)},getPoint:function(f,g){return c(this,f,g)},getPoints:function(f,g,m){return u(this,f,g,m)},getRandomPoint:function(f){return d(this,f)},setTo:function(f,g,m,x){return this.x=f,this.y=g,this.width=m,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(f,g){return g===void 0&&(g=f),this.x=f,this.y=g,this},setSize:function(f,g){return g===void 0&&(g=f),this.width=f,this.height=g,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(f){return f===void 0&&(f=new l),f.setTo(this.x,this.y,this.right,this.y),f},getLineB:function(f){return f===void 0&&(f=new l),f.setTo(this.right,this.y,this.right,this.bottom),f},getLineC:function(f){return f===void 0&&(f=new l),f.setTo(this.right,this.bottom,this.x,this.bottom),f},getLineD:function(f){return f===void 0&&(f=new l),f.setTo(this.x,this.bottom,this.x,this.y),f},left:{get:function(){return this.x},set:function(f){f>=this.right?this.width=0:this.width=this.right-f,this.x=f}},right:{get:function(){return this.x+this.width},set:function(f){f<=this.x?this.width=0:this.width=f-this.x}},top:{get:function(){return this.y},set:function(f){f>=this.bottom?this.height=0:this.height=this.bottom-f,this.y=f}},bottom:{get:function(){return this.y+this.height},set:function(f){f<=this.y?this.height=0:this.height=f-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});r.exports=v},94845:r=>{var o=function(t,a){return t.width===a.width&&t.height===a.height};r.exports=o},31730:r=>{var o=function(t,a,p){return p===void 0&&(p=a),t.width*=a,t.height*=p,t};r.exports=o},36899:(r,o,t)=>{var a=t(87841),p=function(c,u,h){h===void 0&&(h=new a);var l=Math.min(c.x,u.x),d=Math.min(c.y,u.y),v=Math.max(c.right,u.right)-l,f=Math.max(c.bottom,u.bottom)-d;return h.setTo(l,d,v,f)};r.exports=p},93232:(r,o,t)=>{var a=t(87841);a.Area=t(62224),a.Ceil=t(98615),a.CeilAll=t(31688),a.CenterOn=t(67502),a.Clone=t(65085),a.Contains=t(37303),a.ContainsPoint=t(96553),a.ContainsRect=t(70273),a.CopyFrom=t(43459),a.Decompose=t(77493),a.Equals=t(9219),a.FitInside=t(53751),a.FitOutside=t(16088),a.Floor=t(80774),a.FloorAll=t(83859),a.FromPoints=t(19217),a.FromXY=t(9477),a.GetAspectRatio=t(8249),a.GetCenter=t(27165),a.GetPoint=t(20812),a.GetPoints=t(34819),a.GetSize=t(51313),a.Inflate=t(86091),a.Intersection=t(53951),a.MarchingAnts=t(14649),a.MergePoints=t(33595),a.MergeRect=t(20074),a.MergeXY=t(92171),a.Offset=t(42981),a.OffsetPoint=t(46907),a.Overlaps=t(60170),a.Perimeter=t(13019),a.PerimeterPoint=t(85133),a.Random=t(26597),a.RandomOutside=t(86470),a.SameDimensions=t(94845),a.Scale=t(31730),a.Union=t(36899),r.exports=a},41658:r=>{var o=function(t){var a=t.x1,p=t.y1,c=t.x2,u=t.y2,h=t.x3,l=t.y3;return Math.abs(((h-a)*(u-p)-(c-a)*(l-p))/2)};r.exports=o},39208:(r,o,t)=>{var a=t(16483),p=function(c,u,h){var l=h*(Math.sqrt(3)/2),d=c,v=u,f=c+h/2,g=u+l,m=c-h/2,x=u+l;return new a(d,v,f,g,m,x)};r.exports=p},39545:(r,o,t)=>{var a=t(94811),p=t(16483),c=function(u,h,l,d,v){h===void 0&&(h=null),l===void 0&&(l=1),d===void 0&&(d=1),v===void 0&&(v=[]);for(var f=a(u,h),g,m,x,y,b,M,C,w,S,I=0;I<f.length;I+=3)g=f[I],m=f[I+1],x=f[I+2],y=u[g*2]*l,b=u[g*2+1]*d,M=u[m*2]*l,C=u[m*2+1]*d,w=u[x*2]*l,S=u[x*2+1]*d,v.push(new p(y,b,M,C,w,S));return v};r.exports=c},90301:(r,o,t)=>{var a=t(16483),p=function(c,u,h,l){l===void 0&&(l=h);var d=c,v=u,f=c,g=u-l,m=c+h,x=u;return new a(d,v,f,g,m,x)};r.exports=p},23707:(r,o,t)=>{var a=t(97523),p=t(13584),c=function(u,h,l,d){d===void 0&&(d=a);var v=d(u),f=h-v.x,g=l-v.y;return p(u,f,g)};r.exports=c},97523:(r,o,t)=>{var a=t(2141),p=function(c,u){return u===void 0&&(u=new a),u.x=(c.x1+c.x2+c.x3)/3,u.y=(c.y1+c.y2+c.y3)/3,u};r.exports=p},24951:(r,o,t)=>{var a=t(26099);function p(u,h,l,d){return u*d-h*l}var c=function(u,h){h===void 0&&(h=new a);var l=u.x3,d=u.y3,v=u.x1-l,f=u.y1-d,g=u.x2-l,m=u.y2-d,x=2*p(v,f,g,m),y=p(f,v*v+f*f,m,g*g+m*m),b=p(v,v*v+f*f,g,g*g+m*m);return h.x=l-y/x,h.y=d+b/x,h};r.exports=c},85614:(r,o,t)=>{var a=t(96503),p=function(c,u){u===void 0&&(u=new a);var h=c.x1,l=c.y1,d=c.x2,v=c.y2,f=c.x3,g=c.y3,m=d-h,x=v-l,y=f-h,b=g-l,M=m*(h+d)+x*(l+v),C=y*(h+f)+b*(l+g),w=2*(m*(g-v)-x*(f-d)),S,I;if(Math.abs(w)<1e-6){var T=Math.min(h,d,f),k=Math.min(l,v,g);S=(Math.max(h,d,f)-T)*.5,I=(Math.max(l,v,g)-k)*.5,u.x=T+S,u.y=k+I,u.radius=Math.sqrt(S*S+I*I)}else u.x=(b*M-x*C)/w,u.y=(m*C-y*M)/w,S=u.x-h,I=u.y-l,u.radius=Math.sqrt(S*S+I*I);return u};r.exports=p},74422:(r,o,t)=>{var a=t(16483),p=function(c){return new a(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)};r.exports=p},10690:r=>{var o=function(t,a,p){var c=t.x3-t.x1,u=t.y3-t.y1,h=t.x2-t.x1,l=t.y2-t.y1,d=a-t.x1,v=p-t.y1,f=c*c+u*u,g=c*h+u*l,m=c*d+u*v,x=h*h+l*l,y=h*d+l*v,b=f*x-g*g,M=b===0?0:1/b,C=(x*m-g*y)*M,w=(f*y-g*m)*M;return C>=0&&w>=0&&C+w<1};r.exports=o},48653:r=>{var o=function(t,a,p,c){p===void 0&&(p=!1),c===void 0&&(c=[]);for(var u=t.x3-t.x1,h=t.y3-t.y1,l=t.x2-t.x1,d=t.y2-t.y1,v=u*u+h*h,f=u*l+h*d,g=l*l+d*d,m=v*g-f*f,x=m===0?0:1/m,y,b,M,C,w,S,I=t.x1,T=t.y1,k=0;k<a.length&&(M=a[k].x-I,C=a[k].y-T,w=u*M+h*C,S=l*M+d*C,y=(g*w-f*S)*x,b=(v*S-f*w)*x,!(y>=0&&b>=0&&y+b<1&&(c.push({x:a[k].x,y:a[k].y}),p)));k++);return c};r.exports=o},96006:(r,o,t)=>{var a=t(10690),p=function(c,u){return a(c,u.x,u.y)};r.exports=p},71326:r=>{var o=function(t,a){return a.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};r.exports=o},71694:r=>{var o=function(t,a){return a===void 0&&(a=[]),a.push({x:t.x1,y:t.y1}),a.push({x:t.x2,y:t.y2}),a.push({x:t.x3,y:t.y3}),a};r.exports=o},33522:r=>{var o=function(t,a){return t.x1===a.x1&&t.y1===a.y1&&t.x2===a.x2&&t.y2===a.y2&&t.x3===a.x3&&t.y3===a.y3};r.exports=o},20437:(r,o,t)=>{var a=t(2141),p=t(35001),c=function(u,h,l){l===void 0&&(l=new a);var d=u.getLineA(),v=u.getLineB(),f=u.getLineC();if(h<=0||h>=1)return l.x=d.x1,l.y=d.y1,l;var g=p(d),m=p(v),x=p(f),y=g+m+x,b=y*h,M=0;return b<g?(M=b/g,l.x=d.x1+(d.x2-d.x1)*M,l.y=d.y1+(d.y2-d.y1)*M):b>g+m?(b-=g+m,M=b/x,l.x=f.x1+(f.x2-f.x1)*M,l.y=f.y1+(f.y2-f.y1)*M):(b-=g,M=b/m,l.x=v.x1+(v.x2-v.x1)*M,l.y=v.y1+(v.y2-v.y1)*M),l};r.exports=c},80672:(r,o,t)=>{var a=t(35001),p=t(2141),c=function(u,h,l,d){d===void 0&&(d=[]);var v=u.getLineA(),f=u.getLineB(),g=u.getLineC(),m=a(v),x=a(f),y=a(g),b=m+x+y;!h&&l>0&&(h=b/l);for(var M=0;M<h;M++){var C=b*(M/h),w=0,S=new p;C<m?(w=C/m,S.x=v.x1+(v.x2-v.x1)*w,S.y=v.y1+(v.y2-v.y1)*w):C>m+x?(C-=m+x,w=C/y,S.x=g.x1+(g.x2-g.x1)*w,S.y=g.y1+(g.y2-g.y1)*w):(C-=m,w=C/x,S.x=f.x1+(f.x2-f.x1)*w,S.y=f.y1+(f.y2-f.y1)*w),d.push(S)}return d};r.exports=c},39757:(r,o,t)=>{var a=t(2141);function p(u,h,l,d){var v=u-l,f=h-d,g=v*v+f*f;return Math.sqrt(g)}var c=function(u,h){h===void 0&&(h=new a);var l=u.x1,d=u.y1,v=u.x2,f=u.y2,g=u.x3,m=u.y3,x=p(g,m,v,f),y=p(l,d,g,m),b=p(v,f,l,d),M=x+y+b;return h.x=(l*x+v*y+g*b)/M,h.y=(d*x+f*y+m*b)/M,h};r.exports=c},13584:r=>{var o=function(t,a,p){return t.x1+=a,t.y1+=p,t.x2+=a,t.y2+=p,t.x3+=a,t.y3+=p,t};r.exports=o},1376:(r,o,t)=>{var a=t(35001),p=function(c){var u=c.getLineA(),h=c.getLineB(),l=c.getLineC();return a(u)+a(h)+a(l)};r.exports=p},90260:(r,o,t)=>{var a=t(2141),p=function(c,u){u===void 0&&(u=new a);var h=c.x2-c.x1,l=c.y2-c.y1,d=c.x3-c.x1,v=c.y3-c.y1,f=Math.random(),g=Math.random();return f+g>=1&&(f=1-f,g=1-g),u.x=c.x1+(h*f+d*g),u.y=c.y1+(l*f+v*g),u};r.exports=p},52172:(r,o,t)=>{var a=t(99614),p=t(39757),c=function(u,h){var l=p(u);return a(u,l.x,l.y,h)};r.exports=c},49907:(r,o,t)=>{var a=t(99614),p=function(c,u,h){return a(c,u.x,u.y,h)};r.exports=p},99614:r=>{var o=function(t,a,p,c){var u=Math.cos(c),h=Math.sin(c),l=t.x1-a,d=t.y1-p;return t.x1=l*u-d*h+a,t.y1=l*h+d*u+p,l=t.x2-a,d=t.y2-p,t.x2=l*u-d*h+a,t.y2=l*h+d*u+p,l=t.x3-a,d=t.y3-p,t.x3=l*u-d*h+a,t.y3=l*h+d*u+p,t};r.exports=o},16483:(r,o,t)=>{var a=t(83419),p=t(10690),c=t(20437),u=t(80672),h=t(23777),l=t(23031),d=t(90260),v=new a({initialize:function(g,m,x,y,b,M){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=0),b===void 0&&(b=0),M===void 0&&(M=0),this.type=h.TRIANGLE,this.x1=g,this.y1=m,this.x2=x,this.y2=y,this.x3=b,this.y3=M},contains:function(f,g){return p(this,f,g)},getPoint:function(f,g){return c(this,f,g)},getPoints:function(f,g,m){return u(this,f,g,m)},getRandomPoint:function(f){return d(this,f)},setTo:function(f,g,m,x,y,b){return f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=0),b===void 0&&(b=0),this.x1=f,this.y1=g,this.x2=m,this.y2=x,this.x3=y,this.y3=b,this},getLineA:function(f){return f===void 0&&(f=new l),f.setTo(this.x1,this.y1,this.x2,this.y2),f},getLineB:function(f){return f===void 0&&(f=new l),f.setTo(this.x2,this.y2,this.x3,this.y3),f},getLineC:function(f){return f===void 0&&(f=new l),f.setTo(this.x3,this.y3,this.x1,this.y1),f},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(f){var g=0;this.x1<=this.x2&&this.x1<=this.x3?g=this.x1-f:this.x2<=this.x1&&this.x2<=this.x3?g=this.x2-f:g=this.x3-f,this.x1-=g,this.x2-=g,this.x3-=g}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(f){var g=0;this.x1>=this.x2&&this.x1>=this.x3?g=this.x1-f:this.x2>=this.x1&&this.x2>=this.x3?g=this.x2-f:g=this.x3-f,this.x1-=g,this.x2-=g,this.x3-=g}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(f){var g=0;this.y1<=this.y2&&this.y1<=this.y3?g=this.y1-f:this.y2<=this.y1&&this.y2<=this.y3?g=this.y2-f:g=this.y3-f,this.y1-=g,this.y2-=g,this.y3-=g}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(f){var g=0;this.y1>=this.y2&&this.y1>=this.y3?g=this.y1-f:this.y2>=this.y1&&this.y2>=this.y3?g=this.y2-f:g=this.y3-f,this.y1-=g,this.y2-=g,this.y3-=g}}});r.exports=v},84435:(r,o,t)=>{var a=t(16483);a.Area=t(41658),a.BuildEquilateral=t(39208),a.BuildFromPolygon=t(39545),a.BuildRight=t(90301),a.CenterOn=t(23707),a.Centroid=t(97523),a.CircumCenter=t(24951),a.CircumCircle=t(85614),a.Clone=t(74422),a.Contains=t(10690),a.ContainsArray=t(48653),a.ContainsPoint=t(96006),a.CopyFrom=t(71326),a.Decompose=t(71694),a.Equals=t(33522),a.GetPoint=t(20437),a.GetPoints=t(80672),a.InCenter=t(39757),a.Perimeter=t(1376),a.Offset=t(13584),a.Random=t(90260),a.Rotate=t(52172),a.RotateAroundPoint=t(49907),a.RotateAroundXY=t(99614),r.exports=a},74457:r=>{var o=function(t,a,p){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};r.exports=o},84409:r=>{var o=function(t,a){return function(p,c,u,h){var l=t.getPixelAlpha(c,u,h.texture.key,h.frame.name);return l&&l>=a}};r.exports=o},7003:(r,o,t)=>{var a=t(83419),p=t(93301),c=t(50792),u=t(8214),h=t(8443),l=t(78970),d=t(85098),v=t(42515),f=t(36210),g=t(61340),m=t(85955),x=new a({initialize:function(b,M){this.game=b,this.scaleManager,this.canvas,this.config=M,this.enabled=!0,this.events=new c,this.isOver=!0,this.defaultCursor="",this.keyboard=M.inputKeyboard?new l(this):null,this.mouse=M.inputMouse?new d(this):null,this.touch=M.inputTouch?new f(this):null,this.pointers=[],this.pointersTotal=M.inputActivePointers;for(var C=0;C<=this.pointersTotal;C++){var w=new v(this,C);w.smoothFactor=M.inputSmoothFactor,this.pointers.push(w)}this.mousePointer=M.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new g,this._tempMatrix2=new g,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],b.events.once(h.BOOT,this.boot,this)},boot:function(){var y=this.game,b=y.events;this.canvas=y.canvas,this.scaleManager=y.scale,this.events.emit(u.MANAGER_BOOT),b.on(h.PRE_RENDER,this.preRender,this),b.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(y){this.isOver=!0,this.events.emit(u.GAME_OVER,y)},setCanvasOut:function(y){this.isOver=!1,this.events.emit(u.GAME_OUT,y)},preRender:function(){var y=this.game.loop.now,b=this.game.loop.delta,M=this.game.scene.getScenes(!0,!0);this.time=y,this.events.emit(u.MANAGER_UPDATE);for(var C=0;C<M.length;C++){var w=M[C];if(w.sys.input&&w.sys.input.updatePoll(y,b)&&this.globalTopOnly)return}},setDefaultCursor:function(y){this.defaultCursor=y,this.canvas.style.cursor!==y&&(this.canvas.style.cursor=y)},setCursor:function(y){y.cursor&&(this.canvas.style.cursor=y.cursor)},resetCursor:function(y,b){(b||y&&y.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(y){y===void 0&&(y=1);var b=[];this.pointersTotal+y>10&&(y=10-this.pointersTotal);for(var M=0;M<y;M++){var C=this.pointers.length,w=new v(this,C);w.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(w),this.pointersTotal++,b.push(w)}return b},updateInputPlugins:function(y,b){var M=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var C=0;C<M.length;C++){var w=M[C];if(w.sys.input){var S=w.sys.input.update(y,b);if(S&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(y){for(var b=this.pointers,M=[],C=0;C<y.changedTouches.length;C++)for(var w=y.changedTouches[C],S=1;S<b.length;S++){var I=b[S];if(!I.active){I.touchstart(w,y),this.activePointer=I,M.push(I);break}}this.updateInputPlugins(p.TOUCH_START,M)},onTouchMove:function(y){for(var b=this.pointers,M=[],C=0;C<y.changedTouches.length;C++)for(var w=y.changedTouches[C],S=1;S<b.length;S++){var I=b[S];if(I.active&&I.identifier===w.identifier){var T=document.elementFromPoint(w.clientX,w.clientY),k=T===this.canvas;!this.isOver&&k?this.setCanvasOver(y):this.isOver&&!k&&this.setCanvasOut(y),this.isOver&&(I.touchmove(w,y),this.activePointer=I,M.push(I));break}}this.updateInputPlugins(p.TOUCH_MOVE,M)},onTouchEnd:function(y){for(var b=this.pointers,M=[],C=0;C<y.changedTouches.length;C++)for(var w=y.changedTouches[C],S=1;S<b.length;S++){var I=b[S];if(I.active&&I.identifier===w.identifier){I.touchend(w,y),M.push(I);break}}this.updateInputPlugins(p.TOUCH_END,M)},onTouchCancel:function(y){for(var b=this.pointers,M=[],C=0;C<y.changedTouches.length;C++)for(var w=y.changedTouches[C],S=1;S<b.length;S++){var I=b[S];if(I.active&&I.identifier===w.identifier){I.touchcancel(w,y),M.push(I);break}}this.updateInputPlugins(p.TOUCH_CANCEL,M)},onMouseDown:function(y){var b=this.mousePointer;b.down(y),b.updateMotion(),this.activePointer=b,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(y){var b=this.mousePointer;b.move(y),b.updateMotion(),this.activePointer=b,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(y){var b=this.mousePointer;b.up(y),b.updateMotion(),this.activePointer=b,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(y){var b=this.mousePointer;b.wheel(y),this.activePointer=b,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(y){var b=this.mouse.locked;this.mousePointer.locked=b,this.events.emit(u.POINTERLOCK_CHANGE,y,b)},inputCandidate:function(y,b){var M=y.input;if(!M||!M.enabled||!y.willRender(b))return!1;var C=!0,w=y.parentContainer;if(w)do{if(!w.willRender(b)){C=!1;break}w=w.parentContainer}while(w);return C},hitTest:function(y,b,M,C){C===void 0&&(C=this._tempHitTest);var w=this._tempPoint,S=M.scrollX,I=M.scrollY;C.length=0;var T=y.x,k=y.y;M.getWorldPoint(T,k,w),y.worldX=w.x,y.worldY=w.y;for(var E={x:0,y:0},A=this._tempMatrix,L=this._tempMatrix2,D=0;D<b.length;D++){var R=b[D];if(this.inputCandidate(R,M)){var N=w.x+S*R.scrollFactorX-S,P=w.y+I*R.scrollFactorY-I;R.parentContainer?(R.getWorldTransformMatrix(A,L),A.applyInverse(N,P,E)):m(N,P,R.x,R.y,R.rotation,R.scaleX,R.scaleY,E),this.pointWithinHitArea(R,E.x,E.y)&&C.push(R)}}return C},pointWithinHitArea:function(y,b,M){b+=y.displayOriginX,M+=y.displayOriginY;var C=y.input;return C&&C.hitAreaCallback(C.hitArea,b,M,y)?(C.localX=b,C.localY=M,!0):!1},pointWithinInteractiveObject:function(y,b,M){return y.hitArea?(b+=y.gameObject.displayOriginX,M+=y.gameObject.displayOriginY,y.localX=b,y.localY=M,y.hitAreaCallback(y.hitArea,b,M,y)):!1},transformPointer:function(y,b,M,C){var w=y.position,S=y.prevPosition;S.x=w.x,S.y=w.y;var I=this.scaleManager.transformX(b),T=this.scaleManager.transformY(M),k=y.smoothFactor;!C||k===0?(w.x=I,w.y=T):(w.x=I*k+S.x*(1-k),w.y=T*k+S.y*(1-k))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var y=0;y<this.pointers.length;y++)this.pointers[y].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});r.exports=x},48205:(r,o,t)=>{var a=t(96503),p=t(87902),c=t(83419),u=t(93301),h=t(74457),l=t(84409),d=t(20339),v=t(8497),f=t(81154),g=t(8214),m=t(50792),x=t(95540),y=t(23777),b=t(89639),M=t(41212),C=t(37277),w=t(87841),S=t(37303),I=t(44594),T=t(16483),k=t(10690),E=new c({Extends:m,initialize:function(L){m.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new m,this.enabled=!0,this.displayList,this.cameras,b.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(I.BOOT,this.boot,this),L.sys.events.on(I.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(I.DESTROY,this.destroy,this),this.pluginEvents.emit(g.BOOT)},start:function(){var A=this.systems.events;A.on(I.TRANSITION_START,this.transitionIn,this),A.on(I.TRANSITION_OUT,this.transitionOut,this),A.on(I.TRANSITION_COMPLETE,this.transitionComplete,this),A.on(I.PRE_UPDATE,this.preUpdate,this),A.once(I.SHUTDOWN,this.shutdown,this),this.manager.events.on(g.GAME_OUT,this.onGameOut,this),this.manager.events.on(g.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(g.START)},onGameOver:function(A){this.isActive()&&this.emit(g.GAME_OVER,A.timeStamp,A)},onGameOut:function(A){this.isActive()&&this.emit(g.GAME_OUT,A.timeStamp,A)},preUpdate:function(){this.pluginEvents.emit(g.PRE_UPDATE);var A=this._pendingRemoval,L=this._pendingInsertion,D=A.length,R=L.length;if(!(D===0&&R===0)){for(var N=this._list,P=0;P<D;P++){var O=A[P],W=N.indexOf(O);W>-1&&(N.splice(W,1),this.clear(O,!0))}this._pendingRemoval.length=0,this._list=N.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(A){this.manager&&this.manager.setCursor(A)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(A,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(g.UPDATE,A,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,R=this.manager,N=R.pointers;for(D=0;D<N.length;D++)N[D].updateMotion();if(this._list.length===0)return!1;var P=this.pollRate;if(P===-1)return!1;if(P>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var O=!1;for(D=0;D<N.length;D++){var W=0,G=N[D];this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),W+=this.processOverOutEvents(G),this.getDragState(G)===2&&this.processDragThresholdEvent(G,A),W>0&&(O=!0)}return O},update:function(A,L){if(!this.isActive())return!1;for(var D=!1,R=0;R<L.length;R++){var N=0,P=L[R];switch(this._tempZones=[],this._temp=this.hitTestPointer(P),this.sortGameObjects(this._temp,P),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),A){case u.MOUSE_DOWN:N+=this.processDragDownEvent(P),N+=this.processDownEvents(P),N+=this.processOverOutEvents(P);break;case u.MOUSE_UP:N+=this.processDragUpEvent(P),N+=this.processUpEvents(P),N+=this.processOverOutEvents(P);break;case u.TOUCH_START:N+=this.processDragDownEvent(P),N+=this.processDownEvents(P),N+=this.processOverEvents(P);break;case u.TOUCH_END:case u.TOUCH_CANCEL:N+=this.processDragUpEvent(P),N+=this.processUpEvents(P),N+=this.processOutEvents(P);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:N+=this.processDragMoveEvent(P),N+=this.processMoveEvents(P),N+=this.processOverOutEvents(P);break;case u.MOUSE_WHEEL:N+=this.processWheelEvent(P);break}N>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(A,L){L===void 0&&(L=!1),this.disable(A);var D=A.input;D&&(this.removeDebug(A),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,A.input=null),L||this.queueForRemoval(A);var R=this._draggable.indexOf(A);return R>-1&&this._draggable.splice(R,1),A},disable:function(A,L){L===void 0&&(L=!1);var D=A.input;D&&(D.enabled=!1,D.dragState=0);for(var R=this._drag,N=this._over,P=this.manager,O=0,W;O<P.pointers.length;O++)W=R[O].indexOf(A),W>-1&&R[O].splice(W,1),W=N[O].indexOf(A),W>-1&&N[O].splice(W,1);return L&&this.resetCursor(),this},enable:function(A,L,D,R){return R===void 0&&(R=!1),A.input?A.input.enabled=!0:this.setHitArea(A,L,D),A.input&&R&&!A.input.dropZone&&(A.input.dropZone=R),this},hitTestPointer:function(A){for(var L=this.cameras.getCamerasBelowPointer(A),D=0;D<L.length;D++){for(var R=L[D],N=this.manager.hitTest(A,this._list,R),P=0;P<N.length;P++){var O=N[P];O.input.dropZone&&this._tempZones.push(O)}if(N.length>0)return A.camera=R,N}return A.camera=L[0],[]},processDownEvents:function(A){var L=0,D=this._temp,R=this._eventData,N=this._eventContainer;R.cancelled=!1;for(var P=0;P<D.length;P++){var O=D[P];if(!(!O.input||!O.input.enabled)&&(L++,O.emit(g.GAMEOBJECT_POINTER_DOWN,A,O.input.localX,O.input.localY,N),R.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(g.GAMEOBJECT_DOWN,A,O,N),R.cancelled||!this.isActive())))break}return!R.cancelled&&this.isActive()&&(A.downElement===this.manager.game.canvas?this.emit(g.POINTER_DOWN,A,D):this.emit(g.POINTER_DOWN_OUTSIDE,A)),L},getDragState:function(A){return this._dragState[A.id]},setDragState:function(A,L){this._dragState[A.id]=L},processDragThresholdEvent:function(A,L){var D=!1,R=this.dragTimeThreshold,N=this.dragDistanceThreshold;if((N>0&&d(A.x,A.y,A.downX,A.downY)>=N||R>0&&L>=A.downTime+R)&&(D=!0),D)return this.setDragState(A,3),this.processDragStartList(A)},processDragStartList:function(A){if(this.getDragState(A)!==3)return 0;var L=this._drag[A.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var R=L[D],N=R.input;N.dragState=2,N.dragStartX=R.x,N.dragStartY=R.y,N.dragStartXGlobal=A.worldX,N.dragStartYGlobal=A.worldY,N.dragStartCamera=A.camera,N.dragX=N.dragStartXGlobal-N.dragStartX,N.dragY=N.dragStartYGlobal-N.dragStartY,R.emit(g.GAMEOBJECT_DRAG_START,A,N.dragX,N.dragY),this.emit(g.DRAG_START,A,R)}return this.setDragState(A,4),L.length},processDragDownEvent:function(A){var L=this._temp;if(this._draggable.length===0||L.length===0||!A.primaryDown||this.getDragState(A)!==0)return 0;this.setDragState(A,1);for(var D=[],R=0;R<L.length;R++){var N=L[R];N.input.draggable&&N.input.dragState===0&&D.push(N)}return D.length===0?(this.setDragState(A,0),0):(D.length>1&&(this.sortGameObjects(D,A),this.topOnly&&D.splice(1)),this._drag[A.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(A,3),this.processDragStartList(A)):(this.setDragState(A,2),0))},processDragMoveEvent:function(A){if(this.getDragState(A)===2&&this.processDragThresholdEvent(A,this.manager.game.loop.now),this.getDragState(A)!==4)return 0;var L=this._tempZones,D=this._drag[A.id];D.length>1&&(D=D.slice(0));for(var R=0;R<D.length;R++){var N=D[R],P=N.input,O=P.target;if(O){var W=L.indexOf(O);W===0?(N.emit(g.GAMEOBJECT_DRAG_OVER,A,O),this.emit(g.DRAG_OVER,A,N,O)):W>0?(N.emit(g.GAMEOBJECT_DRAG_LEAVE,A,O),this.emit(g.DRAG_LEAVE,A,N,O),P.target=L[0],O=P.target,N.emit(g.GAMEOBJECT_DRAG_ENTER,A,O),this.emit(g.DRAG_ENTER,A,N,O)):(N.emit(g.GAMEOBJECT_DRAG_LEAVE,A,O),this.emit(g.DRAG_LEAVE,A,N,O),L[0]?(P.target=L[0],O=P.target,N.emit(g.GAMEOBJECT_DRAG_ENTER,A,O),this.emit(g.DRAG_ENTER,A,N,O)):P.target=null)}else!O&&L[0]&&(P.target=L[0],O=P.target,N.emit(g.GAMEOBJECT_DRAG_ENTER,A,O),this.emit(g.DRAG_ENTER,A,N,O));var G,H,V=A.positionToCamera(P.dragStartCamera);if(!N.parentContainer)G=V.x-P.dragX,H=V.y-P.dragY;else{var B=V.x-P.dragStartXGlobal,j=V.y-P.dragStartYGlobal,U=N.getParentRotation(),X=B*Math.cos(U)+j*Math.sin(U),Z=j*Math.cos(U)-B*Math.sin(U);X*=1/N.parentContainer.scaleX,Z*=1/N.parentContainer.scaleY,G=X+P.dragStartX,H=Z+P.dragStartY}N.emit(g.GAMEOBJECT_DRAG,A,G,H),this.emit(g.DRAG,A,N,G,H)}return D.length},processDragUpEvent:function(A){var L=this._drag[A.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var R=L[D],N=R.input;if(N&&N.dragState===2){N.dragState=0,N.dragX=N.localX-R.displayOriginX,N.dragY=N.localY-R.displayOriginY,N.dragStartCamera=null;var P=!1,O=N.target;O&&(R.emit(g.GAMEOBJECT_DROP,A,O),this.emit(g.DROP,A,R,O),N.target=null,P=!0),R.input&&R.input.enabled&&(R.emit(g.GAMEOBJECT_DRAG_END,A,N.dragX,N.dragY,P),this.emit(g.DRAG_END,A,R,P))}}return this.setDragState(A,0),L.splice(0),0},processMoveEvents:function(A){var L=0,D=this._temp,R=this._eventData,N=this._eventContainer;R.cancelled=!1;for(var P=0;P<D.length;P++){var O=D[P];if(!(!O.input||!O.input.enabled)&&(L++,O.emit(g.GAMEOBJECT_POINTER_MOVE,A,O.input.localX,O.input.localY,N),R.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(g.GAMEOBJECT_MOVE,A,O,N),R.cancelled||!this.isActive()||this.topOnly)))break}return!R.cancelled&&this.isActive()&&this.emit(g.POINTER_MOVE,A,D),L},processWheelEvent:function(A){var L=0,D=this._temp,R=this._eventData,N=this._eventContainer;R.cancelled=!1;for(var P=A.deltaX,O=A.deltaY,W=A.deltaZ,G=0;G<D.length;G++){var H=D[G];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(g.GAMEOBJECT_POINTER_WHEEL,A,P,O,W,N),R.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(g.GAMEOBJECT_WHEEL,A,H,P,O,W,N),R.cancelled||!this.isActive())))break}return!R.cancelled&&this.isActive()&&this.emit(g.POINTER_WHEEL,A,D,P,O,W),L},processOverEvents:function(A){var L=this._temp,D=0,R=L.length,N=[];if(R>0){var P=this.manager,O=this._eventData,W=this._eventContainer;O.cancelled=!1;for(var G=0;G<R;G++){var H=L[G];if(!(!H.input||!H.input.enabled)&&(N.push(H),P.setCursor(H.input),H.emit(g.GAMEOBJECT_POINTER_OVER,A,H.input.localX,H.input.localY,W),D++,O.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(g.GAMEOBJECT_OVER,A,H,W),O.cancelled||!this.isActive())))break}!O.cancelled&&this.isActive()&&this.emit(g.POINTER_OVER,A,N)}return this._over[A.id]=N,D},processOutEvents:function(A){var L=this._over[A.id],D=0,R=L.length;if(R>0){var N=this.manager,P=this._eventData,O=this._eventContainer;P.cancelled=!1,this.sortGameObjects(L,A);for(var W=0;W<R;W++){var G=L[W];if(G=L[W],!(!G.input||!G.input.enabled)&&(N.resetCursor(G.input),G.emit(g.GAMEOBJECT_POINTER_OUT,A,O),D++,P.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(g.GAMEOBJECT_OUT,A,G,O),P.cancelled||!this.isActive())))break}!P.cancelled&&this.isActive()&&this.emit(g.POINTER_OUT,A,L),this._over[A.id]=[]}return D},processOverOutEvents:function(A){var L=this._temp,D,R,N=[],P=[],O=[],W=this._over[A.id],G=this._drag[A.id],H=this.manager;for(D=0;D<W.length;D++)R=W[D],L.indexOf(R)===-1&&G.indexOf(R)===-1?N.push(R):O.push(R);for(D=0;D<L.length;D++)R=L[D],W.indexOf(R)===-1&&P.push(R);var V=N.length,B=0,j=this._eventData,U=this._eventContainer;if(j.cancelled=!1,V>0){for(this.sortGameObjects(N,A),D=0;D<V&&(R=N[D],!(!(!R.input||!R.input.enabled)&&(H.resetCursor(R.input),R.emit(g.GAMEOBJECT_POINTER_OUT,A,U),B++,j.cancelled||!this.isActive()||R.input&&R.input.enabled&&(this.emit(g.GAMEOBJECT_OUT,A,R,U),j.cancelled||!this.isActive()))));D++);(!j.cancelled||this.isActive())&&this.emit(g.POINTER_OUT,A,N)}if(V=P.length,j.cancelled=!1,V>0){for(this.sortGameObjects(P,A),D=0;D<V&&(R=P[D],!(!(!R.input||!R.input.enabled)&&(H.setCursor(R.input),R.emit(g.GAMEOBJECT_POINTER_OVER,A,R.input.localX,R.input.localY,U),B++,j.cancelled||!this.isActive()||R.input&&R.input.enabled&&(this.emit(g.GAMEOBJECT_OVER,A,R,U),j.cancelled||!this.isActive()))));D++);!j.cancelled&&this.isActive()&&this.emit(g.POINTER_OVER,A,P)}return W=O.concat(P),this._over[A.id]=this.sortGameObjects(W,A),B},processUpEvents:function(A){var L=this._temp,D=this._eventData,R=this._eventContainer;D.cancelled=!1;for(var N=0;N<L.length;N++){var P=L[N];if(!(!P.input||!P.input.enabled)&&(P.emit(g.GAMEOBJECT_POINTER_UP,A,P.input.localX,P.input.localY,R),D.cancelled||!this.isActive()||P.input&&P.input.enabled&&(this.emit(g.GAMEOBJECT_UP,A,P,R),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(A.upElement===this.manager.game.canvas?this.emit(g.POINTER_UP,A,L):this.emit(g.POINTER_UP_OUTSIDE,A)),L.length},forceDownState:function(A,L){this.forceState(A,L,g.GAMEOBJECT_POINTER_DOWN,g.GAMEOBJECT_DOWN,!1)},forceUpState:function(A,L){this.forceState(A,L,g.GAMEOBJECT_POINTER_UP,g.GAMEOBJECT_UP,!1)},forceOverState:function(A,L){this.forceState(A,L,g.GAMEOBJECT_POINTER_OVER,g.GAMEOBJECT_OVER,!0)},forceOutState:function(A,L){this.forceState(A,L,g.GAMEOBJECT_POINTER_OUT,g.GAMEOBJECT_OUT,!1)},forceState:function(A,L,D,R,N){var P=this._eventData,O=this._eventContainer;P.cancelled=!1,L.input&&L.input.enabled&&(L.emit(D,A,L.input.localX,L.input.localY,O),N&&this.setCursor(L.input),!P.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(R,A,L,O))},queueForInsertion:function(A){return this._pendingInsertion.indexOf(A)===-1&&this._list.indexOf(A)===-1&&this._pendingInsertion.push(A),this},queueForRemoval:function(A){return this._pendingRemoval.push(A),this},setDraggable:function(A,L){L===void 0&&(L=!0),Array.isArray(A)||(A=[A]);for(var D=0;D<A.length;D++){var R=A[D];R.input.draggable=L;var N=this._draggable.indexOf(R);L&&N===-1?this._draggable.push(R):!L&&N>-1&&this._draggable.splice(N,1)}return this},makePixelPerfect:function(A){A===void 0&&(A=1);var L=this.systems.textures;return l(L,A)},setHitArea:function(A,L,D){if(L===void 0)return this.setHitAreaFromTexture(A);Array.isArray(A)||(A=[A]);var R=!1,N=!1,P=!1,O=!1,W=!1,G=!0;if(M(L)&&Object.keys(L).length){var H=L,V=A.some(function(Z){return Z.hasOwnProperty("faces")});if(!V){L=x(H,"hitArea",null),D=x(H,"hitAreaCallback",null),W=x(H,"pixelPerfect",!1);var B=x(H,"alphaTolerance",1);W&&(L={},D=this.makePixelPerfect(B))}R=x(H,"draggable",!1),N=x(H,"dropZone",!1),P=x(H,"cursor",!1),O=x(H,"useHandCursor",!1),(!L||!D)&&(this.setHitAreaFromTexture(A),G=!1)}else typeof L=="function"&&!D&&(D=L,L={});for(var j=0;j<A.length;j++){var U=A[j];if(W&&U.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=U.input?U.input:h(U,L,D);X.customHitArea=G,X.dropZone=N,X.cursor=O?"pointer":P,U.input=X,R&&this.setDraggable(U),this.queueForInsertion(U)}return this},setHitAreaCircle:function(A,L,D,R,N){N===void 0&&(N=p);var P=new a(L,D,R);return this.setHitArea(A,P,N)},setHitAreaEllipse:function(A,L,D,R,N,P){P===void 0&&(P=f);var O=new v(L,D,R,N);return this.setHitArea(A,O,P)},setHitAreaFromTexture:function(A,L){L===void 0&&(L=S),Array.isArray(A)||(A=[A]);for(var D=0;D<A.length;D++){var R=A[D],N=R.frame,P=0,O=0;if(R.width?(P=R.width,O=R.height):N&&(P=N.realWidth,O=N.realHeight),R.type==="Container"&&(P===0||O===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}P!==0&&O!==0&&(R.input=h(R,new w(0,0,P,O),L),this.queueForInsertion(R))}return this},setHitAreaRectangle:function(A,L,D,R,N,P){P===void 0&&(P=S);var O=new w(L,D,R,N);return this.setHitArea(A,O,P)},setHitAreaTriangle:function(A,L,D,R,N,P,O,W){W===void 0&&(W=k);var G=new T(L,D,R,N,P,O);return this.setHitArea(A,G,W)},enableDebug:function(A,L){L===void 0&&(L=65280);var D=A.input;if(!D||!D.hitArea)return this;var R=D.hitArea,N=R.type,P=D.hitAreaDebug,O=this.systems.add,W=this.systems.updateList;P&&(W.remove(P),P.destroy(),P=null);var G=0,H=0;switch(N){case y.CIRCLE:P=O.arc(0,0,R.radius),G=R.x-R.radius,H=R.y-R.radius;break;case y.ELLIPSE:P=O.ellipse(0,0,R.width,R.height),G=R.x-R.width/2,H=R.y-R.height/2;break;case y.LINE:P=O.line(0,0,R.x1,R.y1,R.x2,R.y2);break;case y.POLYGON:P=O.polygon(0,0,R.points);break;case y.RECTANGLE:P=O.rectangle(0,0,R.width,R.height),G=R.x,H=R.y;break;case y.TRIANGLE:P=O.triangle(0,0,R.x1,R.y1,R.x2,R.y2,R.x3,R.y3);break}return P&&(P.isFilled=!1,P.strokeColor=L,P.preUpdate=function(){P.setVisible(A.visible),P.setStrokeStyle(1/A.scale,P.strokeColor),P.setDisplayOrigin(A.displayOriginX,A.displayOriginY);var V=A.x,B=A.y,j=A.rotation,U=A.scaleX,X=A.scaleY;if(A.parentContainer){var Z=A.getWorldTransformMatrix();V=Z.tx,B=Z.ty,j=Z.rotation,U=Z.scaleX,X=Z.scaleY}P.setRotation(j),P.setScale(U,X),P.setPosition(V+G*U,B+H*X),P.setScrollFactor(A.scrollFactorX,A.scrollFactorY),P.setDepth(A.depth)},W.add(P),D.hitAreaDebug=P),this},removeDebug:function(A){var L=A.input;if(L&&L.hitAreaDebug){var D=L.hitAreaDebug;D.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(A){return this.pollRate=A,this._pollTimer=0,this},setGlobalTopOnly:function(A){return this.manager.globalTopOnly=A,this},setTopOnly:function(A){return this.topOnly=A,this},sortGameObjects:function(A,L){if(A.length<2||!L.camera)return A;var D=L.camera.renderList;return A.sort(function(R,N){var P=Math.max(D.indexOf(R),0),O=Math.max(D.indexOf(N),0);return O-P})},sortDropZones:function(A){return A.length<2?A:(this.scene.sys.depthSort(),A.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(A,L){if(!A.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(A);if(A.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-A.parentContainer.getIndex(A);if(A.parentContainer===L)return-1;if(L.parentContainer===A)return 1;for(var D=A.getIndexList(),R=L.getIndexList(),N=Math.min(D.length,R.length),P=0;P<N;P++){var O=D[P],W=R[P];if(O!==W)return W-O}return R.length-D.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(A){return this.manager.addPointer(A)},setDefaultCursor:function(A){return this.manager.setDefaultCursor(A),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(g.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var A=0;A<10;A++)this._drag[A]=[],this._over[A]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var D=this.systems.events;D.off(I.TRANSITION_START,this.transitionIn,this),D.off(I.TRANSITION_OUT,this.transitionOut,this),D.off(I.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(I.PRE_UPDATE,this.preUpdate,this),L.events.off(g.GAME_OUT,this.onGameOut,this),L.events.off(g.GAME_OVER,this.onGameOver,this),D.off(I.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var A=this.manager.pointers,L=0;L<A.length;L++)A[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(g.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(I.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});C.register("InputPlugin",E,"input"),r.exports=E},89639:(r,o,t)=>{var a=t(35154),p={},c={};c.register=function(u,h,l,d,v){p[u]={plugin:h,mapping:l,settingsKey:d,configKey:v}},c.getPlugin=function(u){return p[u]},c.install=function(u){var h=u.scene.sys,l=h.settings.input,d=h.game.config;for(var v in p){var f=p[v].plugin,g=p[v].mapping,m=p[v].settingsKey,x=p[v].configKey;a(l,m,d[x])&&(u[g]=new f(u))}},c.remove=function(u){p.hasOwnProperty(u)&&delete p[u]},r.exports=c},42515:(r,o,t)=>{var a=t(31040),p=t(83419),c=t(20339),u=t(43855),h=t(47235),l=t(26099),d=t(25892),v=new p({initialize:function(g,m){this.manager=g,this.id=m,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new l,this.prevPosition=new l,this.midPoint=new l(-1,-1),this.velocity=new l,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=m===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(f){var g=f.getWorldPoint(this.x,this.y);return this.worldX=g.x,this.worldY=g.y,this},positionToCamera:function(f,g){return f.getWorldPoint(this.x,this.y,g)},updateMotion:function(){var f=this.position.x,g=this.position.y,m=this.midPoint.x,x=this.midPoint.y;if(!(f===m&&g===x)){var y=h(this.motionFactor,m,f),b=h(this.motionFactor,x,g);u(y,f,.1)&&(y=f),u(b,g,.1)&&(b=g),this.midPoint.set(y,b);var M=f-y,C=g-b;this.velocity.set(M,C),this.angle=a(y,b,f,g),this.distance=Math.sqrt(M*M+C*C)}},up:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.button=f.button,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),f.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=f.timeStamp,this.wasTouch=!1)},down:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.button=f.button,this.downElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),f.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&f.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=f.timeStamp),this.wasTouch=!1},move:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.manager.transformPointer(this,f.pageX,f.pageY,!0),this.locked&&(this.movementX=f.movementX||f.mozMovementX||f.webkitMovementX||0,this.movementY=f.movementY||f.mozMovementY||f.webkitMovementY||0),this.moveTime=f.timeStamp,this.wasTouch=!1},wheel:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.deltaX=f.deltaX,this.deltaY=f.deltaY,this.deltaZ=f.deltaZ,this.wasTouch=!1},touchstart:function(f,g){f.pointerId&&(this.pointerId=f.pointerId),this.identifier=f.identifier,this.target=f.target,this.active=!0,this.buttons=1,this.event=g,this.downElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=g.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(f,g){this.event=g,this.manager.transformPointer(this,f.pageX,f.pageY,!0),this.moveTime=g.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(f,g){this.buttons=0,this.event=g,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(f,g){this.buttons=0,this.event=g,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(f,g){f===void 0&&(f=10),g===void 0&&(g=[]);for(var m=this.prevPosition.x,x=this.prevPosition.y,y=this.position.x,b=this.position.y,M=0;M<f;M++){var C=1/f*M;g[M]={x:h(C,m,y),y:h(C,x,b)}}return g},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},time:{get:function(){return this.event?this.event.timeStamp:0}}});r.exports=v},93301:r=>{var o={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};r.exports=o},7179:r=>{r.exports="boot"},85375:r=>{r.exports="destroy"},39843:r=>{r.exports="dragend"},23388:r=>{r.exports="dragenter"},16133:r=>{r.exports="drag"},27829:r=>{r.exports="dragleave"},53904:r=>{r.exports="dragover"},56058:r=>{r.exports="dragstart"},2642:r=>{r.exports="drop"},88171:r=>{r.exports="gameobjectdown"},36147:r=>{r.exports="dragend"},71692:r=>{r.exports="dragenter"},96149:r=>{r.exports="drag"},81285:r=>{r.exports="dragleave"},74048:r=>{r.exports="dragover"},21322:r=>{r.exports="dragstart"},49378:r=>{r.exports="drop"},86754:r=>{r.exports="gameobjectmove"},86433:r=>{r.exports="gameobjectout"},60709:r=>{r.exports="gameobjectover"},24081:r=>{r.exports="pointerdown"},11172:r=>{r.exports="pointermove"},18907:r=>{r.exports="pointerout"},95579:r=>{r.exports="pointerover"},35368:r=>{r.exports="pointerup"},26972:r=>{r.exports="wheel"},47078:r=>{r.exports="gameobjectup"},73802:r=>{r.exports="gameobjectwheel"},56718:r=>{r.exports="gameout"},25936:r=>{r.exports="gameover"},27503:r=>{r.exports="boot"},50852:r=>{r.exports="process"},96438:r=>{r.exports="update"},59152:r=>{r.exports="pointerlockchange"},47777:r=>{r.exports="pointerdown"},27957:r=>{r.exports="pointerdownoutside"},19444:r=>{r.exports="pointermove"},54251:r=>{r.exports="pointerout"},18667:r=>{r.exports="pointerover"},27192:r=>{r.exports="pointerup"},24652:r=>{r.exports="pointerupoutside"},45132:r=>{r.exports="wheel"},44512:r=>{r.exports="preupdate"},15757:r=>{r.exports="shutdown"},41637:r=>{r.exports="start"},93802:r=>{r.exports="update"},8214:(r,o,t)=>{r.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h){this.pad=u,this.events=u.events,this.index=h,this.value=0,this.threshold=.1},update:function(c){this.value=c},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});r.exports=p},28884:(r,o,t)=>{var a=t(83419),p=t(92734),c=new a({initialize:function(h,l){this.pad=h,this.events=h.manager,this.index=l,this.value=0,this.threshold=1,this.pressed=!1},update:function(u){this.value=u;var h=this.pad,l=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,h,this,u),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,l,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,h,this,u),this.pad.emit(p.GAMEPAD_BUTTON_UP,l,u,this))},destroy:function(){this.pad=null,this.events=null}});r.exports=c},99125:(r,o,t)=>{var a=t(97421),p=t(28884),c=t(83419),u=t(50792),h=t(26099),l=new c({Extends:u,initialize:function(v,f){u.call(this),this.manager=v,this.pad=f,this.id=f.id,this.index=f.index;for(var g=[],m=0;m<f.buttons.length;m++)g.push(new p(this,m));this.buttons=g;var x=[];for(m=0;m<f.axes.length;m++)x.push(new a(this,m));this.axes=x,this.vibration=f.vibrationActuator;var y={value:0,pressed:!1};this._LCLeft=g[14]?g[14]:y,this._LCRight=g[15]?g[15]:y,this._LCTop=g[12]?g[12]:y,this._LCBottom=g[13]?g[13]:y,this._RCLeft=g[2]?g[2]:y,this._RCRight=g[1]?g[1]:y,this._RCTop=g[3]?g[3]:y,this._RCBottom=g[0]?g[0]:y,this._FBLeftTop=g[4]?g[4]:y,this._FBLeftBottom=g[6]?g[6]:y,this._FBRightTop=g[5]?g[5]:y,this._FBRightBottom=g[7]?g[7]:y;var b={value:0};this._HAxisLeft=x[0]?x[0]:b,this._VAxisLeft=x[1]?x[1]:b,this._HAxisRight=x[2]?x[2]:b,this._VAxisRight=x[3]?x[3]:b,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var v,f=this.buttons,g=d.buttons,m=f.length;for(v=0;v<m;v++)f[v].update(g[v].value);var x=this.axes,y=d.axes;for(m=x.length,v=0;v<m;v++)x[v].update(y[v]);m>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),m>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});r.exports=l},56654:(r,o,t)=>{var a=t(83419),p=t(50792),c=t(92734),u=t(99125),h=t(35154),l=t(89639),d=t(8214),v=new a({Extends:p,initialize:function(g){p.call(this),this.scene=g.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=g,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,g.pluginEvents.once(d.BOOT,this.boot,this),g.pluginEvents.on(d.START,this.start,this)},boot:function(){var f=this.scene.sys.game,g=this.settings.input,m=f.config;this.enabled=h(g,"gamepad",m.inputGamepad)&&f.device.input.gamepads,this.target=h(g,"gamepad.target",m.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var f=this,g=this.target,m=function(x){x.defaultPrevented||!f.isActive()||(f.refreshPads(),f.queue.push(x))};this.onGamepadHandler=m,g.addEventListener("gamepadconnected",m,!1),g.addEventListener("gamepaddisconnected",m,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var f=0;f<this.gamepads.length;f++)this.gamepads[f].removeAllListeners()},disconnectAll:function(){for(var f=0;f<this.gamepads.length;f++)this.gamepads[f].pad.connected=!1},refreshPads:function(){var f=navigator.getGamepads();if(!f)this.disconnectAll();else for(var g=this.gamepads,m=0;m<f.length;m++){var x=f[m];if(x){var y=x.id,b=x.index,M=g[b];if(M)M.id!==y?(M.destroy(),g[b]=new u(this,x)):M.update(x);else{var C=new u(this,x);g[b]=C,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=C):this._pad3=C:this._pad2=C:this._pad1=C}}}},getAll:function(){for(var f=[],g=this.gamepads,m=0;m<g.length;m++)g[m]&&f.push(g[m]);return f},getPad:function(f){for(var g=this.gamepads,m=0;m<g.length;m++)if(g[m]&&g[m].index===f)return g[m]},update:function(){if(this.enabled){this.refreshPads();var f=this.queue.length;if(f!==0)for(var g=this.queue.splice(0,f),m=0;m<f;m++){var x=g[m],y=this.getPad(x.gamepad.index);x.type==="gamepadconnected"?this.emit(c.CONNECTED,y,x):x.type==="gamepaddisconnected"&&this.emit(c.DISCONNECTED,y,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var f=0;f<this.gamepads.length;f++)this.gamepads[f]&&this.gamepads[f].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});l.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),r.exports=v},89651:r=>{r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:r=>{r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:r=>{r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(r,o,t)=>{r.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:r=>{r.exports="down"},7629:r=>{r.exports="up"},42206:r=>{r.exports="connected"},86544:r=>{r.exports="disconnected"},94784:r=>{r.exports="down"},14325:r=>{r.exports="up"},92734:(r,o,t)=>{r.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(r,o,t)=>{r.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(r,o,t)=>{var a=t(93301),p=t(79291),c={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};c=p(!1,c,a),r.exports=c},78970:(r,o,t)=>{var a=t(72905),p=t(83419),c=t(8443),u=t(8214),h=t(46032),l=t(29747),d=new p({initialize:function(f){this.manager=f,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=l,this.onKeyUp=l,f.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(c.POST_STEP,this.postUpdate,this)},startListeners:function(){var v=this;this.onKeyDown=function(g){if(!(g.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(g),v.manager.events.emit(u.MANAGER_PROCESS);var m=g.altKey||g.ctrlKey||g.shiftKey||g.metaKey;v.preventDefault&&!m&&v.captures.indexOf(g.keyCode)>-1&&g.preventDefault()}},this.onKeyUp=function(g){if(!(g.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(g),v.manager.events.emit(u.MANAGER_PROCESS);var m=g.altKey||g.ctrlKey||g.shiftKey||g.metaKey;v.preventDefault&&!m&&v.captures.indexOf(g.keyCode)>-1&&g.preventDefault()}};var f=this.target;f&&(f.addEventListener("keydown",this.onKeyDown,!1),f.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var f=this.captures,g=0;g<v.length;g++){var m=v[g];typeof m=="string"&&(m=h[m.trim().toUpperCase()]),f.indexOf(m)===-1&&f.push(m)}this.preventDefault=f.length>0},removeCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var f=this.captures,g=0;g<v.length;g++){var m=v[g];typeof m=="string"&&(m=h[m.toUpperCase()]),a(f,m)}this.preventDefault=f.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(c.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});r.exports=d},28846:(r,o,t)=>{var a=t(83419),p=t(50792),c=t(95922),u=t(8443),h=t(35154),l=t(8214),d=t(89639),v=t(30472),f=t(46032),g=t(87960),m=t(74600),x=t(44594),y=t(56583),b=new a({Extends:p,initialize:function(C){p.call(this),this.game=C.systems.game,this.scene=C.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=C,this.manager=C.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,C.pluginEvents.once(l.BOOT,this.boot,this),C.pluginEvents.on(l.START,this.start,this)},boot:function(){var M=this.settings.input;this.enabled=h(M,"keyboard",!0);var C=h(M,"keyboard.capture",null);C&&this.addCaptures(C),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(l.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(M){return this.manager.addCapture(M),this},removeCapture:function(M){return this.manager.removeCapture(M),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:f.UP,down:f.DOWN,left:f.LEFT,right:f.RIGHT,space:f.SPACE,shift:f.SHIFT})},addKeys:function(M,C,w){C===void 0&&(C=!0),w===void 0&&(w=!1);var S={};if(typeof M=="string"){M=M.split(",");for(var I=0;I<M.length;I++){var T=M[I].trim();T&&(S[T]=this.addKey(T,C,w))}}else for(var k in M)S[k]=this.addKey(M[k],C,w);return S},addKey:function(M,C,w){C===void 0&&(C=!0),w===void 0&&(w=!1);var S=this.keys;if(M instanceof v){var I=S.indexOf(M);return I>-1?S[I]=M:S[M.keyCode]=M,C&&this.addCapture(M.keyCode),M.setEmitOnRepeat(w),M}return typeof M=="string"&&(M=f[M.toUpperCase()]),S[M]||(S[M]=new v(this,M),C&&this.addCapture(M),S[M].setEmitOnRepeat(w)),S[M]},removeKey:function(M,C,w){C===void 0&&(C=!1),w===void 0&&(w=!1);var S=this.keys,I;if(M instanceof v){var T=S.indexOf(M);T>-1&&(I=this.keys[T],this.keys[T]=void 0)}else typeof M=="string"&&(M=f[M.toUpperCase()]);return S[M]&&(I=S[M],S[M]=void 0),I&&(I.plugin=null,w&&this.removeCapture(I.keyCode),C&&I.destroy()),this},removeAllKeys:function(M,C){M===void 0&&(M=!1),C===void 0&&(C=!1);for(var w=this.keys,S=0;S<w.length;S++){var I=w[S];I&&(w[S]=void 0,C&&this.removeCapture(I.keyCode),M&&I.destroy())}return this},createCombo:function(M,C){return new g(this,M,C)},checkDown:function(M,C){if(C===void 0&&(C=0),this.enabled&&M.isDown){var w=y(this.time-M.timeDown,C);if(w>M._tick)return M._tick=w,!0}return!1},update:function(){var M=this.manager.queue,C=M.length;if(!(!this.isActive()||C===0))for(var w=this.keys,S=0;S<C;S++){var I=M[S],T=I.keyCode,k=w[T],E=!1;I.cancelled===void 0&&(I.cancelled=0,I.stopImmediatePropagation=function(){I.cancelled=1},I.stopPropagation=function(){I.cancelled=-1}),I.cancelled!==-1&&(T===this.prevCode&&I.timeStamp===this.prevTime&&I.type===this.prevType||(this.prevCode=T,this.prevTime=I.timeStamp,this.prevType=I.type,I.type==="keydown"?(k&&(E=k.isDown,k.onDown(I)),!I.cancelled&&(!k||!E)&&(m[T]&&this.emit(c.KEY_DOWN+m[T],I),I.cancelled||this.emit(c.ANY_KEY_DOWN,I))):(k&&k.onUp(I),I.cancelled||(m[T]&&this.emit(c.KEY_UP+m[T],I),I.cancelled||this.emit(c.ANY_KEY_UP,I))),I.cancelled===1&&(I.cancelled=0)))}},resetKeys:function(){for(var M=this.keys,C=0;C<M.length;C++)M[C]&&M[C].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(l.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var M=this.keys,C=0;C<M.length;C++)M[C]&&M[C].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",b,"keyboard","keyboard","inputKeyboard"),r.exports=b},66970:r=>{var o=function(t,a){return a.timeLastMatched=t.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};r.exports=o},87960:(r,o,t)=>{var a=t(83419),p=t(95922),c=t(95540),u=t(68769),h=t(92803),l=new a({initialize:function(v,f,g){if(g===void 0&&(g={}),f.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var m=0;m<f.length;m++){var x=f[m];typeof x=="string"?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):typeof x=="number"?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=c(g,"resetOnWrongKey",!0),this.maxKeyDelay=c(g,"maxKeyDelay",0),this.resetOnMatch=c(g,"resetOnMatch",!1),this.deleteOnMatch=c(g,"deleteOnMatch",!1);var y=this,b=function(M){if(!(y.matched||!y.enabled)){var C=u(M,y);C&&(y.manager.emit(p.COMBO_MATCH,y,M),y.resetOnMatch?h(y):y.deleteOnMatch&&y.destroy())}};this.onKeyDown=b,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});r.exports=l},68769:(r,o,t)=>{var a=t(66970),p=function(c,u){if(u.matched)return!0;var h=!1,l=!1;if(c.keyCode===u.current)if(u.index>0&&u.maxKeyDelay>0){var d=u.timeLastMatched+u.maxKeyDelay;c.timeStamp<=d&&(l=!0,h=a(c,u))}else l=!0,h=a(c,u);return!l&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),h&&(u.timeLastMatched=c.timeStamp,u.matched=!0,u.timeMatched=c.timeStamp),h};r.exports=p},92803:r=>{var o=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};r.exports=o},92612:r=>{r.exports="keydown"},23345:r=>{r.exports="keyup"},21957:r=>{r.exports="keycombomatch"},44743:r=>{r.exports="down"},3771:r=>{r.exports="keydown-"},46358:r=>{r.exports="keyup-"},75674:r=>{r.exports="up"},95922:(r,o,t)=>{r.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(r,o,t)=>{r.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:r=>{var o=function(t,a){a===void 0&&(a=50);var p=t.plugin.game.loop.time-t.timeDown;return t.isDown&&p<a};r.exports=o},90229:r=>{var o=function(t){return t._justDown?(t._justDown=!1,!0):!1};r.exports=o},38796:r=>{var o=function(t){return t._justUp?(t._justUp=!1,!0):!1};r.exports=o},30472:(r,o,t)=>{var a=t(83419),p=t(50792),c=t(95922),u=new a({Extends:p,initialize:function(l,d){p.call(this),this.plugin=l,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(c.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(c.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(c.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});r.exports=u},46032:r=>{var o={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};r.exports=o},74600:(r,o,t)=>{var a=t(46032),p={};for(var c in a)p[a[c]]=c;r.exports=p},41170:r=>{var o=function(t,a){a===void 0&&(a=50);var p=t.plugin.game.loop.time-t.timeUp;return t.isUp&&p<a};r.exports=o},85098:(r,o,t)=>{var a=t(83419),p=t(89357),c=t(8214),u=t(29747),h=new a({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,d.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputMouse,this.target=l.inputMouseEventTarget,this.passive=l.inputMousePassive,this.preventDefaultDown=l.inputMousePreventDefaultDown,this.preventDefaultUp=l.inputMousePreventDefaultUp,this.preventDefaultMove=l.inputMousePreventDefaultMove,this.preventDefaultWheel=l.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var l=this.target;l.requestPointerLock=l.requestPointerLock||l.mozRequestPointerLock||l.webkitRequestPointerLock,l.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var l=this.target;if(l){var d=this,v=this.manager,f=v.canvas,g=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseMove(x),d.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){g&&window.focus(),!x.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseDown(x),d.preventDefaultDown&&x.target===f&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&v&&v.enabled&&x.target!==f&&v.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseUp(x),d.preventDefaultUp&&x.target===f&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&v&&v.enabled&&x.target!==f&&v.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&d.enabled&&v&&v.enabled&&v.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&d.enabled&&v&&v.enabled&&v.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&d.enabled&&v&&v.enabled&&v.onMouseWheel(x),d.preventDefaultWheel&&x.target===f&&x.preventDefault()};var m={passive:!0};if(l.addEventListener("mousemove",this.onMouseMove),l.addEventListener("mousedown",this.onMouseDown),l.addEventListener("mouseup",this.onMouseUp),l.addEventListener("mouseover",this.onMouseOver,m),l.addEventListener("mouseout",this.onMouseOut,m),this.preventDefaultWheel?l.addEventListener("wheel",this.onMouseWheel,{passive:!1}):l.addEventListener("wheel",this.onMouseWheel,m),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,m),window.top.addEventListener("mouseup",this.onMouseUpWindow,m)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,m),window.addEventListener("mouseup",this.onMouseUpWindow,m),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(x){var y=d.target;d.locked=document.pointerLockElement===y||document.mozPointerLockElement===y||document.webkitPointerLockElement===y,v.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("mousemove",this.onMouseMove),l.removeEventListener("mousedown",this.onMouseDown),l.removeEventListener("mouseup",this.onMouseUp),l.removeEventListener("mouseover",this.onMouseOver),l.removeEventListener("mouseout",this.onMouseOut),window&&(l=this.isTop?window.top:window,l.removeEventListener("mousedown",this.onMouseDownWindow),l.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=h},87078:(r,o,t)=>{r.exports={MouseManager:t(85098)}},36210:(r,o,t)=>{var a=t(83419),p=t(8214),c=t(29747),u=new a({initialize:function(l){this.manager=l,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=c,this.onTouchStartWindow=c,this.onTouchMove=c,this.onTouchEnd=c,this.onTouchEndWindow=c,this.onTouchCancel=c,this.onTouchCancelWindow=c,this.isTop=!0,l.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var l=this,d=this.manager,v=d.canvas,f=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchMove(y),l.capture&&y.cancelable&&y.preventDefault())},this.onTouchStart=function(y){f&&window.focus(),!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchStart(y),l.capture&&y.cancelable&&y.target===v&&y.preventDefault())},this.onTouchStartWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&y.target!==v&&d.onTouchStart(y)},this.onTouchEnd=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchEnd(y),l.capture&&y.cancelable&&y.target===v&&y.preventDefault())},this.onTouchEndWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&y.target!==v&&d.onTouchEnd(y)},this.onTouchCancel=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchCancel(y),l.capture&&y.preventDefault())},this.onTouchCancelWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&d.onTouchCancel(y)};var g=this.capture,m={passive:!0},x={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,g?x:m),h.addEventListener("touchmove",this.onTouchMove,g?x:m),h.addEventListener("touchend",this.onTouchEnd,g?x:m),h.addEventListener("touchcancel",this.onTouchCancel,g?x:m),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&(h=this.isTop?window.top:window,h.removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=u},95618:(r,o,t)=>{r.exports={TouchManager:t(36210)}},41299:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(54899),u=t(95540),h=t(98356),l=t(3374),d=t(84376),v=t(92638),f=new a({initialize:function(m,x){if(this.loader=m,this.cache=u(x,"cache",!1),this.type=u(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=u(x,"key",!1);var y=this.key;if(m.prefix&&m.prefix!==""&&(this.key=m.prefix+y),!this.key)throw new Error("Invalid File key: "+this.key);var b=u(x,"url");b===void 0?b=m.path+y+"."+u(x,"extension",""):typeof b=="string"&&!b.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(b=m.path+b),this.url=b,this.src="",this.xhrSettings=v(u(x,"responseType",void 0)),u(x,"xhrSettings",!1)&&(this.xhrSettings=l(this.xhrSettings,u(x,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(x,"config",{}),this.multiFile,this.linkFile,this.base64=typeof b=="string"&&b.indexOf("data:")===0,this.retryAttempts=u(x,"maxRetries",m.maxRetries)},setLink:function(g){this.linkFile=g,g.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===p.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=p.FILE_LOADING,this.src=h(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr)}},onLoad:function(g,m){var x=g.responseURL&&this.loader.localSchemes.some(function(M){return g.responseURL.indexOf(M)===0}),y=x&&m.target.status===0,b=!(m.target&&m.target.status!==200)||y;g.readyState===4&&g.status>=400&&g.status<=599&&(b=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,b)},onBase64Load:function(g){this.xhrLoader=g,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(g){g.lengthComputable&&(this.bytesLoaded=g.loaded,this.bytesTotal=g.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(g){if(this.state!==p.FILE_PENDING_DESTROY){g===void 0&&(g=this.data);var m=this.key,x=this.type;this.loader.emit(c.FILE_COMPLETE,m,x,g),this.loader.emit(c.FILE_KEY_COMPLETE+x+"-"+m,m,x,g),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});f.createObjectURL=function(g,m,x){if(typeof URL=="function")g.src=URL.createObjectURL(m);else{var y=new FileReader;y.onload=function(){g.removeAttribute("crossOrigin"),g.src="data:"+(m.type||x)+";base64,"+y.result.split(",")[1]},y.onerror=g.onerror,y.readAsDataURL(m)}},f.revokeObjectURL=function(g){typeof URL=="function"&&URL.revokeObjectURL(g.src)},r.exports=f},74099:r=>{var o={},t={install:function(a){for(var p in o)a[p]=o[p]},register:function(a,p){o[a]=p},destroy:function(){o={}}};r.exports=t},98356:r=>{var o=function(t,a){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:a+t.url:!1};r.exports=o},74261:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(35072),u=t(50792),h=t(54899),l=t(74099),d=t(95540),v=t(35154),f=t(41212),g=t(37277),m=t(44594),x=t(92638),y=new a({Extends:u,initialize:function(M){u.call(this);var C=M.sys.game.config,w=M.sys.settings.loader;this.scene=M,this.systems=M.sys,this.cacheManager=M.sys.cache,this.textureManager=M.sys.textures,this.sceneManager=M.sys.game.scene,l.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(w,"baseURL",C.loaderBaseURL)),this.setPath(d(w,"path",C.loaderPath)),this.setPrefix(d(w,"prefix",C.loaderPrefix)),this.maxParallelDownloads=d(w,"maxParallelDownloads",C.loaderMaxParallelDownloads),this.xhr=x(d(w,"responseType",C.loaderResponseType),d(w,"async",C.loaderAsync),d(w,"user",C.loaderUser),d(w,"password",C.loaderPassword),d(w,"timeout",C.loaderTimeout),d(w,"withCredentials",C.loaderWithCredentials)),this.crossOrigin=d(w,"crossOrigin",C.loaderCrossOrigin),this.imageLoadType=d(w,"imageLoadType",C.loaderImageLoadType),this.localSchemes=d(w,"localScheme",C.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new c,this.inflight=new c,this.queue=new c,this._deleteQueue=new c,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=d(w,"maxRetries",C.loaderMaxRetries),M.sys.events.once(m.BOOT,this.boot,this),M.sys.events.on(m.START,this.pluginStart,this)},boot:function(){this.systems.events.once(m.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(m.SHUTDOWN,this.shutdown,this)},setBaseURL:function(b){return b===void 0&&(b=""),b!==""&&b.substr(-1)!=="/"&&(b=b.concat("/")),this.baseURL=b,this},setPath:function(b){return b===void 0&&(b=""),b!==""&&b.substr(-1)!=="/"&&(b=b.concat("/")),this.path=b,this},setPrefix:function(b){return b===void 0&&(b=""),this.prefix=b,this},setCORS:function(b){return this.crossOrigin=b,this},addFile:function(b){Array.isArray(b)||(b=[b]);for(var M=0;M<b.length;M++){var C=b[M];this.keyExists(C)||(this.list.set(C),this.emit(h.ADD,C.key,C.type,this,C),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(b){var M=b.hasCacheConflict();return M||this.list.iterate(function(C){if(C.type===b.type&&C.key===b.key)return M=!0,!1}),!M&&this.isLoading()&&(this.inflight.iterate(function(C){if(C.type===b.type&&C.key===b.key)return M=!0,!1}),this.queue.iterate(function(C){if(C.type===b.type&&C.key===b.key)return M=!0,!1})),M},addPack:function(b,M){if(typeof M=="string"){var C=v(b,M);C&&(b={packKey:C})}var w=0,S=this.baseURL,I=this.path,T=this.prefix;for(var k in b)if(Object.prototype.hasOwnProperty.call(b,k)){var E=b[k],A=d(E,"baseURL",S),L=d(E,"path",I),D=d(E,"prefix",T),R=d(E,"files",null),N=d(E,"defaultType","void");if(Array.isArray(R)){this.setBaseURL(A),this.setPath(L),this.setPrefix(D);for(var P=0;P<R.length;P++){var O=R[P],W=O.hasOwnProperty("type")?O.type:N;this[W]&&(this[W](O),w++)}}}return this.setBaseURL(S),this.setPath(I),this.setPrefix(T),w>0},removePack:function(b,M){var C=this.systems.anims,w=this.cacheManager,S=this.textureManager,I={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},T;if(f(b))T=b;else if(T=w.json.get(b),!T){console.warn("Asset Pack not found in JSON cache:",b);return}M&&(T={_:T[M]});for(var k in T){var E=T[k],A=d(E,"prefix",""),L=d(E,"files"),D=d(E,"defaultType");if(Array.isArray(L))for(var R=0;R<L.length;R++){var N=L[R],P=N.hasOwnProperty("type")?N.type:D;if(!P){console.warn("No type:",N);continue}var O=A+N.key;if(P==="animation"&&C.remove(O),!((P==="aseprite"||P==="atlas"||P==="atlasXML"||P==="htmlTexture"||P==="image"||P==="multiatlas"||P==="spritesheet"||P==="svg"||P==="texture"||P==="unityAtlas")&&(S.remove(O),!I[P]))){if(P==="pack"){this.removePack(O,N.dataKey);continue}if(P==="spine"){var W=w.custom.spine.get(O);if(!W)continue;var G=W.prefix===void 0?"":W.prefix;w.custom.spine.remove(O);var H=w.custom.spineTextures.get(O);if(!H)continue;w.custom.spineTextures.remove(O);for(var V=0;V<H.pages.length;V++){var B=H.pages[V],j=G+B.name,U=O+":"+j;S.exists(U)?S.remove(U):S.remove(j)}}var X=I[P];if(X!==null){if(!X){console.warn("Unknown type:",P);continue}var Z=w[X];Z.remove(O)}}}}},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(m.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(b){if((b.state===p.FILE_POPULATED||b.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(b),this.list.delete(b),b.crossOrigin||(b.crossOrigin=this.crossOrigin),b.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(b,M){this.inflight&&(this.inflight.delete(b),this.updateProgress(),M?(this.totalComplete++,this.queue.set(b),this.emit(h.FILE_LOAD,b),b.onProcess()):(this.totalFailed++,this._deleteQueue.set(b),this.emit(h.FILE_LOAD_ERROR,b),this.fileProcessComplete(b)))},fileProcessComplete:function(b){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(b.state===p.FILE_ERRORED?b.multiFile&&b.multiFile.onFileFailed(b):b.state===p.FILE_COMPLETE&&(b.multiFile?b.multiFile.isReadyToProcess()&&(b.multiFile.addToCache(),b.multiFile.pendingDestroy()):(b.addToCache(),b.pendingDestroy())),this.queue.delete(b),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(m.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(b){this._deleteQueue.set(b)},saveJSON:function(b,M){return this.save(JSON.stringify(b),M)},save:function(b,M,C){M===void 0&&(M="file.json"),C===void 0&&(C="application/json");var w=new Blob([b],{type:C}),S=URL.createObjectURL(w),I=document.createElement("a");return I.download=M,I.textContent="Download "+M,I.href=S,I.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var b=this.systems.game.config,M=this.systems.settings.loader;this.setBaseURL(d(M,"baseURL",b.loaderBaseURL)),this.setPath(d(M,"path",b.loaderPath)),this.setPrefix(d(M,"prefix",b.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(m.UPDATE,this.update,this),this.systems.events.off(m.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(m.UPDATE,this.update,this),this.systems.events.off(m.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});g.register("Loader",y,"load"),r.exports=y},3374:(r,o,t)=>{var a=t(79291),p=t(92638),c=function(u,h){var l=u===void 0?p():a({},u);if(h)for(var d in h)h[d]!==void 0&&(l[d]=h[d]);return l};r.exports=c},26430:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(54899),u=new a({initialize:function(l,d,v,f){var g=[];f.forEach(function(y){y&&g.push(y)}),this.loader=l,this.type=d,this.key=v;var m=this.key;l.prefix&&l.prefix!==""&&(this.key=l.prefix+m),this.multiKeyIndex=l.multiKeyIndex++,this.files=g,this.state=p.FILE_PENDING,this.complete=!1,this.pending=g.length,this.failed=0,this.config={},this.baseURL=l.baseURL,this.path=l.path,this.prefix=l.prefix;for(var x=0;x<g.length;x++)g[x].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var l=this.files.indexOf(h);l!==-1&&this.pending--},onFileFailed:function(h){var l=this.files.indexOf(h);l!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var h=this.key,l=this.type;this.loader.emit(c.FILE_COMPLETE,h,l),this.loader.emit(c.FILE_KEY_COMPLETE+l+"-"+h,h,l),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});r.exports=u},84376:(r,o,t)=>{var a=t(3374),p=function(c,u){var h=a(u,c.xhrSettings);if(c.base64){var l=c.url.split(";base64,").pop()||c.url.split(",").pop(),d={responseText:atob(l)};c.onBase64Load(d);return}var v=new XMLHttpRequest;if(v.open("GET",c.src,h.async,h.user,h.password),v.responseType=c.xhrSettings.responseType,v.timeout=h.timeout,h.headers)for(var f in h.headers)v.setRequestHeader(f,h.headers[f]);return h.header&&h.headerValue&&v.setRequestHeader(h.header,h.headerValue),h.requestedWith&&v.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&v.overrideMimeType(h.overrideMimeType),h.withCredentials&&(v.withCredentials=!0),v.onload=c.onLoad.bind(c,v),v.onerror=c.onError.bind(c,v),v.onprogress=c.onProgress.bind(c),v.ontimeout=c.onError.bind(c,v),v.send(),v};r.exports=p},92638:r=>{var o=function(t,a,p,c,u,h){return t===void 0&&(t=""),a===void 0&&(a=!0),p===void 0&&(p=""),c===void 0&&(c=""),u===void 0&&(u=0),h===void 0&&(h=!1),{responseType:t,async:a,user:p,password:c,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}};r.exports=o},23906:r=>{var o={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};r.exports=o},42155:r=>{r.exports="addfile"},38991:r=>{r.exports="complete"},27540:r=>{r.exports="filecomplete"},87464:r=>{r.exports="filecomplete-"},94486:r=>{r.exports="loaderror"},13035:r=>{r.exports="load"},38144:r=>{r.exports="fileprogress"},97520:r=>{r.exports="postprocess"},85595:r=>{r.exports="progress"},55680:r=>{r.exports="start"},54899:(r,o,t)=>{r.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(518),u=t(54899),h=new a({Extends:c,initialize:function(d,v,f,g,m){c.call(this,d,v,f,g,m),this.type="animationJSON"},onProcess:function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),c.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(l,d,v,f){if(Array.isArray(l))for(var g=0;g<l.length;g++)this.addFile(new h(this,l[g]));else this.addFile(new h(this,l,d,f,v));return this}),r.exports=h},76272:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(95540),u=t(19550),h=t(41212),l=t(518),d=t(26430),v=new a({Extends:d,initialize:function(g,m,x,y,b,M){var C,w;if(h(m)){var S=m;m=c(S,"key"),C=new u(g,{key:m,url:c(S,"textureURL"),extension:c(S,"textureExtension","png"),normalMap:c(S,"normalMap"),xhrSettings:c(S,"textureXhrSettings")}),w=new l(g,{key:m,url:c(S,"atlasURL"),extension:c(S,"atlasExtension","json"),xhrSettings:c(S,"atlasXhrSettings")})}else C=new u(g,m,x,b),w=new l(g,m,y,M);C.linkFile?d.call(this,g,"atlasjson",m,[C,w,C.linkFile]):d.call(this,g,"atlasjson",m,[C,w])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],g=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(f.key,f.data,g.data,m),g.addToCache(),this.complete=!0}}});p.register("aseprite",function(f,g,m,x,y){var b;if(Array.isArray(f))for(var M=0;M<f.length;M++)b=new v(this,f[M]),this.addFile(b.files);else b=new v(this,f,g,m,x,y),this.addFile(b.files);return this}),r.exports=v},38734:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(95540),u=t(19550),h=t(41212),l=t(518),d=t(26430),v=new a({Extends:d,initialize:function(g,m,x,y,b,M){var C,w;if(h(m)){var S=m;m=c(S,"key"),C=new u(g,{key:m,url:c(S,"textureURL"),extension:c(S,"textureExtension","png"),normalMap:c(S,"normalMap"),xhrSettings:c(S,"textureXhrSettings")}),w=new l(g,{key:m,url:c(S,"atlasURL"),extension:c(S,"atlasExtension","json"),xhrSettings:c(S,"atlasXhrSettings")})}else C=new u(g,m,x,b),w=new l(g,m,y,M);C.linkFile?d.call(this,g,"atlasjson",m,[C,w,C.linkFile]):d.call(this,g,"atlasjson",m,[C,w])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],g=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(f.key,f.data,g.data,m),this.complete=!0}}});p.register("atlas",function(f,g,m,x,y){var b;if(Array.isArray(f))for(var M=0;M<f.length;M++)b=new v(this,f[M]),this.addFile(b.files);else b=new v(this,f,g,m,x,y),this.addFile(b.files);return this}),r.exports=v},74599:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(95540),u=t(19550),h=t(41212),l=t(26430),d=t(57318),v=new a({Extends:l,initialize:function(g,m,x,y,b,M){var C,w;if(h(m)){var S=m;m=c(S,"key"),C=new u(g,{key:m,url:c(S,"textureURL"),extension:c(S,"textureExtension","png"),normalMap:c(S,"normalMap"),xhrSettings:c(S,"textureXhrSettings")}),w=new d(g,{key:m,url:c(S,"atlasURL"),extension:c(S,"atlasExtension","xml"),xhrSettings:c(S,"atlasXhrSettings")})}else C=new u(g,m,x,b),w=new d(g,m,y,M);C.linkFile?l.call(this,g,"atlasxml",m,[C,w,C.linkFile]):l.call(this,g,"atlasxml",m,[C,w])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],g=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(f.key,f.data,g.data,m),this.complete=!0}}});p.register("atlasXML",function(f,g,m,x,y){var b;if(Array.isArray(f))for(var M=0;M<f.length;M++)b=new v(this,f[M]),this.addFile(b.files);else b=new v(this,f,g,m,x,y),this.addFile(b.files);return this}),r.exports=v},21097:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(89749),d=t(41212),v=new a({Extends:c,initialize:function(g,m,x,y,b){if(d(m)){var M=m;m=h(M,"key"),y=h(M,"xhrSettings"),b=h(M,"context",b)}var C={type:"audio",cache:g.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:m,url:x.url,xhrSettings:y,config:{context:b}};c.call(this,g,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var f=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(g){f.data=g,f.onProcessComplete()},function(g){console.error("Error decoding audio: "+f.key+" - ",g?g.message:null),f.onProcessError()}),this.config.context=null}});v.create=function(f,g,m,x,y){var b=f.systems.game,M=b.config.audio,C=b.device.audio;d(g)&&(m=h(g,"url",[]),x=h(g,"config",{}));var w=v.getAudioURL(b,m);return w?C.webAudio&&!M.disableWebAudio?new v(f,g,w,y,b.sound.context):new l(f,g,w,x):(console.warn('No audio URLs for "%s" can play on this device',g),null)},v.getAudioURL=function(f,g){Array.isArray(g)||(g=[g]);for(var m=0;m<g.length;m++){var x=h(g[m],"url",g[m]);if(x.indexOf("blob:")===0||x.indexOf("data:")===0)return{url:x,type:""};var y=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(y=h(g[m],"type",y?y[1]:"").toLowerCase(),f.device.audio[y])return{url:x,type:y}}return null},u.register("audio",function(f,g,m,x){var y=this.systems.game,b=y.config.audio,M=y.device.audio;if(b.noAudio||!M.webAudio&&!M.audioData)return this;var C;if(Array.isArray(f))for(var w=0;w<f.length;w++)C=v.create(this,f[w]),C&&this.addFile(C);else C=v.create(this,f,g,m,x),C&&this.addFile(C);return this}),r.exports=v},89524:(r,o,t)=>{var a=t(21097),p=t(83419),c=t(74099),u=t(95540),h=t(41212),l=t(518),d=t(26430),v=new p({Extends:d,initialize:function(g,m,x,y,b,M,C){if(h(m)){var w=m;m=u(w,"key"),x=u(w,"jsonURL"),y=u(w,"audioURL"),b=u(w,"audioConfig"),M=u(w,"audioXhrSettings"),C=u(w,"jsonXhrSettings")}var S;if(!y)S=new l(g,m,x,C),d.call(this,g,"audiosprite",m,[S]),this.config.resourceLoad=!0,this.config.audioConfig=b,this.config.audioXhrSettings=M;else{var I=a.create(g,m,y,b,M);I&&(S=new l(g,m,x,C),d.call(this,g,"audiosprite",m,[I,S]),this.config.resourceLoad=!1)}},onFileComplete:function(f){var g=this.files.indexOf(f);if(g!==-1&&(this.pending--,this.config.resourceLoad&&f.type==="json"&&f.data.hasOwnProperty("resources"))){var m=f.data.resources,x=u(this.config,"audioConfig"),y=u(this.config,"audioXhrSettings"),b=a.create(this.loader,f.key,m,x,y);b&&(this.addToMultiFile(b),this.loader.addFile(b))}},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],g=this.files[1];f.addToCache(),g.addToCache(),this.complete=!0}}});c.register("audioSprite",function(f,g,m,x,y,b){var M=this.systems.game,C=M.config.audio,w=M.device.audio;if(C&&C.noAudio||!w.webAudio&&!w.audioData)return this;var S;if(Array.isArray(f))for(var I=0;I<f.length;I++)S=new v(this,f[I]),S.files&&this.addFile(S.files);else S=new v(this,f,g,m,x,y,b),S.files&&this.addFile(S.files);return this})},85722:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x,y){var b="bin";if(l(g)){var M=g;g=h(M,"key"),m=h(M,"url"),x=h(M,"xhrSettings"),b=h(M,"extension",b),y=h(M,"dataType",y)}var C={type:"binary",cache:f.cacheManager.binary,extension:b,responseType:"arraybuffer",key:g,url:m,xhrSettings:x,config:{dataType:y}};c.call(this,f,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});u.register("binary",function(v,f,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new d(this,v[x]));else this.addFile(new d(this,v,f,m,g));return this}),r.exports=d},97025:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(95540),u=t(19550),h=t(41212),l=t(26430),d=t(21859),v=t(57318),f=new a({Extends:l,initialize:function(m,x,y,b,M,C){var w,S;if(h(x)){var I=x;x=c(I,"key"),w=new u(m,{key:x,url:c(I,"textureURL"),extension:c(I,"textureExtension","png"),normalMap:c(I,"normalMap"),xhrSettings:c(I,"textureXhrSettings")}),S=new v(m,{key:x,url:c(I,"fontDataURL"),extension:c(I,"fontDataExtension","xml"),xhrSettings:c(I,"fontDataXhrSettings")})}else w=new u(m,x,y,M),S=new v(m,x,b,C);w.linkFile?l.call(this,m,"bitmapfont",x,[w,S,w.linkFile]):l.call(this,m,"bitmapfont",x,[w,S])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],m=this.files[1];g.addToCache();var x=g.cache.get(g.key),y=d(m.data,g.cache.getFrame(g.key),0,0,x);this.loader.cacheManager.bitmapFont.add(g.key,{data:y,texture:g.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(g,m,x,y,b){var M;if(Array.isArray(g))for(var C=0;C<g.length;C++)M=new f(this,g[C]),this.addFile(M.files);else M=new f(this,g,m,x,y,b),this.addFile(M.files);return this}),r.exports=f},16024:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x){var y="css";if(l(g)){var b=g;g=h(b,"key"),m=h(b,"url"),x=h(b,"xhrSettings"),y=h(b,"extension",y)}var M={type:"script",cache:!1,extension:y,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,f,M)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("css",function(v,f,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,f,g));return this}),r.exports=d},69559:(r,o,t)=>{var a=t(38734),p=t(85722),c=t(83419),u=t(74099),h=t(95540),l=t(19550),d=t(41212),v=t(518),f=t(31403),g=t(46975),m=t(59327),x=t(26430),y=t(82038),b=t(55222),M=new c({Extends:x,initialize:function(w,S,I,T){if(I.multiAtlasURL){var k=new v(w,{key:S,url:I.multiAtlasURL,xhrSettings:T,config:I});x.call(this,w,"texture",S,[k])}else{var E=I.textureURL.substr(I.textureURL.length-3);I.type||(I.type=E.toLowerCase()==="ktx"?"KTX":"PVR");var A=new p(w,{key:S,url:I.textureURL,extension:E,xhrSettings:T,config:I});if(I.atlasURL){var L=new v(w,{key:S,url:I.atlasURL,xhrSettings:T,config:I});x.call(this,w,"texture",S,[A,L])}else x.call(this,w,"texture",S,[A])}this.config=I},onFileComplete:function(C){var w=this.files.indexOf(C);if(w!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(C.type==="json"&&C.data.hasOwnProperty("textures")){var S=C.data.textures,I=this.config,T=this.loader,k=T.baseURL,E=T.path,A=T.prefix,L=h(I,"multiBaseURL",this.baseURL),D=h(I,"multiPath",this.path),R=h(I,"prefix",this.prefix),N=h(I,"textureXhrSettings");L&&T.setBaseURL(L),D&&T.setPath(D),R&&T.setPrefix(R);for(var P=0;P<S.length;P++){var O=S[P].image,W="CMA"+this.multiKeyIndex+"_"+O,G=new p(T,W,O,N);if(this.addToMultiFile(G),T.addFile(G),S[P].normalMap){var H=new p(T,W,S[P].normalMap,N);H.type="normalMap",G.setLink(H),this.addToMultiFile(H),T.addFile(H)}}T.setBaseURL(k),T.setPath(E),T.setPrefix(A)}}},addToCache:function(){function C(L){console.warn('Compressed Texture Invalid: "'+k.key+'". '+L)}if(this.isReadyToProcess()){var w=this.config;if(w.multiAtlasURL)this.addMultiToCache();else{var S=this.loader.systems.renderer,I=this.loader.textureManager,T,k=this.files[0],E=this.files[1];if(w.type==="PVR"?T=y(k.data):w.type==="KTX"&&(T=f(k.data),T||C("KTX file contains unsupported format.")),T&&!b(T)&&(C("Texture dimensions failed verification. Check the texture format specifications for "+w.format+" 0x"+T.internalFormat.toString(16)+"."),T=null),T&&!S.supportsCompressedTexture(w.format,T.internalFormat)&&(C("Texture format "+w.format+" with internal format "+T.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),T=null),T){T.format=S.getCompressedTextureName(w.format,T.internalFormat);var A=E&&E.data?E.data:null;I.addCompressedTexture(k.key,T,A)}}this.complete=!0}},addMultiToCache:function(){for(var C=this.config,w=this.files[0],S=[],I=[],T=[],k=this.loader.systems.renderer,E=this.loader.textureManager,A,L=1;L<this.files.length;L++){var D=this.files[L];if(D.type!=="normalMap")for(var R=D.key.indexOf("_"),N=D.key.substr(R+1),P=D.data,O=0;O<w.data.textures.length;O++){var W=w.data.textures[O];if(W.image===N){C.type==="PVR"?A=y(P):C.type==="KTX"&&(A=f(P)),A&&k.supportsCompressedTexture(C.format,A.internalFormat)&&(A.format=k.getCompressedTextureName(C.format,A.internalFormat),I.push(A),S.push(W),D.linkFile&&T.push(D.linkFile.data));break}}}T.length===0&&(T=void 0),E.addAtlasJSONArray(this.key,I,S,T),this.complete=!0}});u.register("texture",function(C,w,S){var I=this.systems.renderer,T=function(E,A,L,D){var R={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(A)){var N=A;A=h(N,"key"),L=h(N,"url"),D=h(N,"xhrSettings")}var P=!1;for(var O in L)if(I.supportsCompressedTexture(O)){var W=L[O];typeof W=="string"?R.textureURL=W:R=g(W,R),R.format=O.toUpperCase(),P=!0;break}if(!P)console.warn("No supported compressed texture format or IMG fallback",A);else if(R.format==="IMG"){var G,H;R.multiAtlasURL?(H=new m(E,A,R.multiAtlasURL,R.multiPath,R.multiBaseURL,D),G=H.files):R.atlasURL?(H=new a(E,A,R.textureURL,R.atlasURL,D),G=H.files):G=new l(E,A,R.textureURL,D),E.addFile(G)}else{var V=new M(E,A,R,D);E.addFile(V.files)}};if(Array.isArray(C))for(var k=0;k<C.length;k++)T(this,C[k]);else T(this,C,w,S);return this}),r.exports=M},87674:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(98356),d=t(41212),v=new a({Extends:c,initialize:function(g,m,x,y,b,M){var C="ttf";if(d(m)){var w=m;m=h(w,"key"),x=h(w,"url"),y=h(w,"format","truetype"),b=h(w,"descriptors",null),M=h(w,"xhrSettings"),C=h(w,"extension",C)}else y===void 0&&(y="truetype");var S={type:"font",cache:!1,extension:C,responseType:"text",key:m,url:x,xhrSettings:M};c.call(this,g,S),this.data={format:y,descriptors:b},this.state=p.FILE_POPULATED},onProcess:function(){this.state=p.FILE_PROCESSING,this.src=l(this,this.loader.baseURL);var f,g=this.key,m="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?f=new FontFace(g,m,this.data.descriptors):f=new FontFace(g,m);var x=this;f.load().then(function(){document.fonts.add(f),document.body.classList.add("fonts-loaded"),x.onProcessComplete()}).catch(function(){console.warn("Font failed to load",m),x.onProcessComplete()})}});u.register("font",function(f,g,m,x,y){if(Array.isArray(f))for(var b=0;b<f.length;b++)this.addFile(new v(this,f[b]));else this.addFile(new v(this,f,g,m,x,y));return this}),r.exports=v},47931:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=t(73894),v=new a({Extends:c,initialize:function(g,m,x,y,b){var M="glsl";if(l(m)){var C=m;m=h(C,"key"),x=h(C,"url"),y=h(C,"shaderType","fragment"),b=h(C,"xhrSettings"),M=h(C,"extension",M)}else y===void 0&&(y="fragment");var w={type:"glsl",cache:g.cacheManager.shader,extension:M,responseType:"text",key:m,url:x,config:{shaderType:y},xhrSettings:b};c.call(this,g,w)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.split(`
`),g=this.extractBlock(f,0);if(g)for(;g;){var m=this.getShaderName(g.header),x=this.getShaderType(g.header),y=this.getShaderUniforms(g.header),b=g.shader;if(this.cache.has(m)){var M=this.cache.get(m);x==="fragment"?M.fragmentSrc=b:M.vertexSrc=b,M.uniforms||(M.uniforms=y)}else x==="fragment"?this.cache.add(m,new d(m,b,"",y)):this.cache.add(m,new d(m,"",b,y));g=this.extractBlock(f,g.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},getShaderName:function(f){for(var g=0;g<f.length;g++){var m=f[g].trim();if(m.substring(0,5)==="name:")return m.substring(5).trim()}return this.key},getShaderType:function(f){for(var g=0;g<f.length;g++){var m=f[g].trim();if(m.substring(0,5)==="type:")return m.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(f){for(var g={},m=0;m<f.length;m++){var x=f[m].trim();if(x.substring(0,8)==="uniform."){var y=x.indexOf(":");if(y){var b=x.substring(8,y);try{g[b]=JSON.parse(x.substring(y+1))}catch{console.warn("Invalid uniform JSON: "+b)}}}}return g},extractBlock:function(f,g){for(var m=-1,x=-1,y=-1,b=!1,M=!1,C=[],w=[],S=g;S<f.length;S++){var I=f[S].trim();if(I==="---")if(m===-1)m=S,b=!0;else if(b)x=S,b=!1,M=!0;else{M=!1;break}else b?C.push(I):M&&(w.push(I),y=S)}return!b&&x!==-1?{header:C,shader:w.join(`
`),offset:y}:null}});u.register("glsl",function(f,g,m,x){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,g,m,x));return this}),r.exports=v},89749:(r,o,t)=>{var a=t(83419),p=t(54899),c=t(41299),u=t(95540),h=t(98356),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x){if(l(g)){var y=g;g=u(y,"key"),x=u(y,"config",x)}var b={type:"audio",cache:f.cacheManager.audio,extension:m.type,key:g,url:m.url,config:x};c.call(this,f,b),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var v=0;v<this.data.length;v++){var f=this.data[v];f.oncanplaythrough=null,f.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(v){var f=v.target;f.oncanplaythrough=null,f.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var f=0;f<v;f++){var g=new Audio;g.dataset||(g.dataset={}),g.dataset.name=this.key+("0"+f).slice(-2),g.dataset.used="false",this.locked?g.dataset.locked="true":(g.dataset.locked="false",g.preload="auto",g.oncanplaythrough=this.onProgress.bind(this),g.onerror=this.onError.bind(this)),this.data.push(g)}for(f=0;f<this.data.length;f++)g=this.data[f],g.src=h(this,this.loader.baseURL),this.locked||g.load();this.locked&&setTimeout(this.onLoad.bind(this))}});r.exports=d},88470:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x){var y="html";if(l(g)){var b=g;g=h(b,"key"),m=h(b,"url"),x=h(b,"xhrSettings"),y=h(b,"extension",y)}var M={type:"text",cache:f.cacheManager.html,extension:y,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,f,M)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("html",function(v,f,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,f,g));return this}),r.exports=d},14643:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x,y,b){x===void 0&&(x=512),y===void 0&&(y=512);var M="html";if(l(g)){var C=g;g=h(C,"key"),m=h(C,"url"),b=h(C,"xhrSettings"),M=h(C,"extension",M),x=h(C,"width",x),y=h(C,"height",y)}var w={type:"html",cache:f.textureManager,extension:M,responseType:"text",key:g,url:m,xhrSettings:b,config:{width:x,height:y}};c.call(this,f,w)},onProcess:function(){this.state=p.FILE_PROCESSING;var v=this.config.width,f=this.config.height,g=[];g.push('<svg width="'+v+'px" height="'+f+'px" viewBox="0 0 '+v+" "+f+'" xmlns="http://www.w3.org/2000/svg">'),g.push('<foreignObject width="100%" height="100%">'),g.push('<body xmlns="http://www.w3.org/1999/xhtml">'),g.push(this.xhrLoader.responseText),g.push("</body>"),g.push("</foreignObject>"),g.push("</svg>");var m=[g.join(`
`)],x=this;try{var y=new window.Blob(m,{type:"image/svg+xml;charset=utf-8"})}catch{x.state=p.FILE_ERRORED,x.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){c.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(x.data),x.onProcessError()},c.createObjectURL(this.data,y,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("htmlTexture",function(v,f,g,m,x){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,f,g,m,x));return this}),r.exports=d},19550:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=t(98356),v=new a({Extends:c,initialize:function f(g,m,x,y,b){var M="png",C;if(l(m)){var w=m;m=h(w,"key"),x=h(w,"url"),C=h(w,"normalMap"),y=h(w,"xhrSettings"),M=h(w,"extension",M),b=h(w,"frameConfig")}Array.isArray(x)&&(C=x[1],x=x[0]);var S={type:"image",cache:g.textureManager,extension:M,responseType:"blob",key:m,url:x,xhrSettings:y,config:b};if(c.call(this,g,S),C){var I=new f(g,this.key,C,y,b);I.type="normalMap",this.setLink(I),g.addFile(I)}this.useImageElementLoad=g.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){c.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(f.data),f.onProcessError()},c.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var f=this.state;this.state=p.FILE_PROCESSING,f===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){f.state=p.FILE_LOADED,f.loader.nextFile(f,!0)},this.data.onerror=function(){f.loader.nextFile(f,!1)},this.data.src=this.src},addToCache:function(){var f=this.linkFile;f?f.state>=p.FILE_COMPLETE&&(f.type==="spritesheet"?f.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,f.data,this.data):this.cache.addImage(this.key,this.data,f.data)):this.cache.addImage(this.key,this.data)}});u.register("image",function(f,g,m){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new v(this,f[x]));else this.addFile(new v(this,f,g,m));return this}),r.exports=v},518:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(35154),d=t(41212),v=new a({Extends:c,initialize:function(g,m,x,y,b){var M="json";if(d(m)){var C=m;m=h(C,"key"),x=h(C,"url"),y=h(C,"xhrSettings"),M=h(C,"extension",M),b=h(C,"dataKey",b)}var w={type:"json",cache:g.cacheManager.json,extension:M,responseType:"text",key:m,url:x,xhrSettings:y,config:b};c.call(this,g,w),d(x)&&(b?this.data=l(x,b):this.data=x,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var f=JSON.parse(this.xhrLoader.responseText)}catch(m){throw this.onProcessError(),m}var g=this.config;typeof g=="string"?this.data=l(f,g,f):this.data=f}this.onProcessComplete()}});u.register("json",function(f,g,m,x){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,g,x,m));return this}),r.exports=v},59327:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(95540),u=t(19550),h=t(41212),l=t(518),d=t(26430),v=new a({Extends:d,initialize:function(g,m,x,y,b,M,C){if(h(m)){var w=m;m=c(w,"key"),c(w,"url",!1)?x=c(w,"url"):x=c(w,"atlasURL"),M=c(w,"xhrSettings"),y=c(w,"path"),b=c(w,"baseURL"),C=c(w,"textureXhrSettings")}var S=new l(g,m,x,M);d.call(this,g,"multiatlas",m,[S]),this.config.path=y,this.config.baseURL=b,this.config.textureXhrSettings=C},onFileComplete:function(f){var g=this.files.indexOf(f);if(g!==-1&&(this.pending--,f.type==="json"&&f.data.hasOwnProperty("textures"))){var m=f.data.textures,x=this.config,y=this.loader,b=y.baseURL,M=y.path,C=y.prefix,w=c(x,"baseURL",this.baseURL),S=c(x,"path",this.path),I=c(x,"prefix",this.prefix),T=c(x,"textureXhrSettings");y.setBaseURL(w),y.setPath(S),y.setPrefix(I);for(var k=0;k<m.length;k++){var E=m[k].image,A="MA"+this.multiKeyIndex+"_"+E,L=new u(y,A,E,T);if(this.addToMultiFile(L),y.addFile(L),m[k].normalMap){var D=new u(y,A,m[k].normalMap,T);D.type="normalMap",L.setLink(D),this.addToMultiFile(D),y.addFile(D)}}y.setBaseURL(b),y.setPath(M),y.setPrefix(C)}},addToCache:function(){if(this.isReadyToProcess()){for(var f=this.files[0],g=[],m=[],x=[],y=1;y<this.files.length;y++){var b=this.files[y];if(b.type!=="normalMap")for(var M=b.key.indexOf("_"),C=b.key.substr(M+1),w=b.data,S=0;S<f.data.textures.length;S++){var I=f.data.textures[S];if(I.image===C){m.push(w),g.push(I),b.linkFile&&x.push(b.linkFile.data);break}}}x.length===0&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,m,g,x),this.complete=!0}}});p.register("multiatlas",function(f,g,m,x,y){var b;if(Array.isArray(f))for(var M=0;M<f.length;M++)b=new v(this,f[M]),this.addFile(b.files);else b=new v(this,f,g,m,x,y),this.addFile(b.files);return this}),r.exports=v},99297:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(95540),u=t(41212),h=t(26430),l=t(34328),d=new a({Extends:h,initialize:function(f,g,m,x){var y="js",b=[];if(u(g)){var M=g;g=c(M,"key"),m=c(M,"url"),x=c(M,"xhrSettings"),y=c(M,"extension",y)}Array.isArray(m)||(m=[m]);for(var C=0;C<m.length;C++){var w=new l(f,{key:g+"_"+C.toString(),url:m[C],extension:y,xhrSettings:x});w.onProcess=function(){this.onProcessComplete()},b.push(w)}h.call(this,f,"scripts",g,b)},addToCache:function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var f=this.files[v];f.data=document.createElement("script"),f.data.language="javascript",f.data.type="text/javascript",f.data.defer=!1,f.data.text=f.xhrLoader.responseText,document.head.appendChild(f.data)}this.complete=!0}}});p.register("scripts",function(v,f,g){var m;if(Array.isArray(v))for(var x=0;x<v.length;x++)m=new d(this,v[x]),this.addFile(m.files);else m=new d(this,v,f,g),this.addFile(m.files);return this}),r.exports=d},41846:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(95540),u=t(41212),h=t(26430),l=t(85048),d=t(61485),v=t(78776),f=new a({Extends:h,initialize:function(m,x,y,b,M,C){var w,S,I=m.cacheManager.obj;if(u(x)){var T=x;x=c(T,"key"),w=new v(m,{key:x,type:"obj",cache:I,url:c(T,"url"),extension:c(T,"extension","obj"),xhrSettings:c(T,"xhrSettings"),config:{flipUV:c(T,"flipUV",M)}}),b=c(T,"matURL"),b&&(S=new v(m,{key:x,type:"mat",cache:I,url:b,extension:c(T,"matExtension","mat"),xhrSettings:c(T,"xhrSettings")}))}else w=new v(m,{key:x,url:y,type:"obj",cache:I,extension:"obj",xhrSettings:C,config:{flipUV:M}}),b&&(S=new v(m,{key:x,url:b,type:"mat",cache:I,extension:"mat",xhrSettings:C}));h.call(this,m,"obj",x,[w,S])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],m=this.files[1],x=l(g.data,g.config.flipUV);m&&(x.materials=d(m.data)),g.cache.add(g.key,x),this.complete=!0}}});p.register("obj",function(g,m,x,y,b){var M;if(Array.isArray(g))for(var C=0;C<g.length;C++)M=new f(this,g[C]),this.addFile(M.files);else M=new f(this,g,m,x,y,b),this.addFile(M.files);return this}),r.exports=f},58610:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(74099),u=t(518),h=new a({Extends:u,initialize:function(d,v,f,g,m){u.call(this,d,v,f,g,m),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var l={};l[this.config]=this.data,this.data=l}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});c.register("pack",function(l,d,v,f){if(Array.isArray(l))for(var g=0;g<l.length;g++)this.addFile(new h(this,l[g]));else this.addFile(new h(this,l,d,f,v));return this}),r.exports=h},48988:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x,y,b){var M="js";if(l(g)){var C=g;g=h(C,"key"),m=h(C,"url"),b=h(C,"xhrSettings"),M=h(C,"extension",M),x=h(C,"start"),y=h(C,"mapping")}var w={type:"plugin",cache:!1,extension:M,responseType:"text",key:g,url:m,xhrSettings:b,config:{start:x,mapping:y}};c.call(this,f,w),typeof m=="function"&&(this.data=m,this.state=p.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,f=this.config,g=h(f,"start",!1),m=h(f,"mapping",null);if(this.state===p.FILE_POPULATED)v.install(this.key,this.data,g,m);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=v.install(this.key,window[this.key],g,m);(g||m)&&(this.loader.systems[m]=x,this.loader.scene[m]=x)}this.onProcessComplete()}});u.register("plugin",function(v,f,g,m,x){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,f,g,m,x));return this}),r.exports=d},67397:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x,y){var b="svg";if(l(g)){var M=g;g=h(M,"key"),m=h(M,"url"),x=h(M,"svgConfig",{}),y=h(M,"xhrSettings"),b=h(M,"extension",b)}var C={type:"svg",cache:f.textureManager,extension:b,responseType:"text",key:g,url:m,xhrSettings:y,config:{width:h(x,"width"),height:h(x,"height"),scale:h(x,"scale")}};c.call(this,f,C)},onProcess:function(){this.state=p.FILE_PROCESSING;var v=this.xhrLoader.responseText,f=[v],g=this.config.width,m=this.config.height,x=this.config.scale;e:if(g&&m||x){var y=null,b=new DOMParser;y=b.parseFromString(v,"text/xml");var M=y.getElementsByTagName("svg")[0],C=M.hasAttribute("viewBox"),w=parseFloat(M.getAttribute("width")),S=parseFloat(M.getAttribute("height"));if(!C&&w&&S)M.setAttribute("viewBox","0  0 "+w+" "+S);else if(C&&!w&&!S){var I=M.getAttribute("viewBox").split(/\s+|,/);w=I[2],S=I[3]}if(x)if(w&&S)g=w*x,m=S*x;else break e;M.setAttribute("width",g.toString()+"px"),M.setAttribute("height",m.toString()+"px"),f=[new XMLSerializer().serializeToString(M)]}try{var T=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var k=this,E=!1;this.data.onload=function(){E||c.revokeObjectURL(k.data),k.onProcessComplete()},this.data.onerror=function(){E?k.onProcessError():(E=!0,c.revokeObjectURL(k.data),k.data.src="data:image/svg+xml,"+encodeURIComponent(f.join("")))},c.createObjectURL(this.data,T,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("svg",function(v,f,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new d(this,v[x]));else this.addFile(new d(this,v,f,g,m));return this}),r.exports=d},88423:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x){var y="js";if(l(g)){var b=g;g=h(b,"key"),m=h(b,"url"),x=h(b,"xhrSettings"),y=h(b,"extension",y)}var M={type:"text",extension:y,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,f,M)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),f=eval;this.loader.sceneManager.add(this.key,f(v)),this.complete=!0}});u.register("sceneFile",function(v,f,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,f,g));return this}),r.exports=d},56812:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x,y,b){var M="js";if(l(g)){var C=g;g=h(C,"key"),m=h(C,"url"),b=h(C,"xhrSettings"),M=h(C,"extension",M),x=h(C,"systemKey"),y=h(C,"sceneKey")}var w={type:"scenePlugin",cache:!1,extension:M,responseType:"text",key:g,url:m,xhrSettings:b,config:{systemKey:x,sceneKey:y}};c.call(this,f,w),typeof m=="function"&&(this.data=m,this.state=p.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,f=this.config,g=this.key,m=h(f,"systemKey",g),x=h(f,"sceneKey",g);this.state===p.FILE_POPULATED?v.installScenePlugin(m,this.data,x,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(m,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});u.register("scenePlugin",function(v,f,g,m,x){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,f,g,m,x));return this}),r.exports=d},34328:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x,y){var b="js";if(l(g)){var M=g;g=h(M,"key"),m=h(M,"url"),x=h(M,"type","script"),y=h(M,"xhrSettings"),b=h(M,"extension",b)}else x===void 0&&(x="script");var C={type:x,cache:!1,extension:b,responseType:"text",key:g,url:m,xhrSettings:y};c.call(this,f,C)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("script",function(v,f,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new d(this,v[x]));else this.addFile(new d(this,v,f,g,m));return this}),r.exports=d},85035:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(74099),u=t(19550),h=new a({Extends:u,initialize:function(d,v,f,g,m){u.call(this,d,v,f,m,g),this.type="spritesheet"},addToCache:function(){var l=this.linkFile;l?l.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,l.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,l.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});c.register("spritesheet",function(l,d,v,f){if(Array.isArray(l))for(var g=0;g<l.length;g++)this.addFile(new h(this,l[g]));else this.addFile(new h(this,l,d,v,f));return this}),r.exports=h},78776:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=new a({Extends:c,initialize:function(f,g,m,x){var y="text",b="txt",M=f.cacheManager.text;if(l(g)){var C=g;g=h(C,"key"),m=h(C,"url"),x=h(C,"xhrSettings"),b=h(C,"extension",b),y=h(C,"type",y),M=h(C,"cache",M)}var w={type:y,cache:M,extension:b,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,f,w)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("text",function(v,f,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,f,g));return this}),r.exports=d},49477:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=t(80341),v=new a({Extends:c,initialize:function(g,m,x,y){var b="csv";if(l(m)){var M=m;m=h(M,"key"),x=h(M,"url"),y=h(M,"xhrSettings"),b=h(M,"extension",b)}var C={type:"tilemapCSV",cache:g.cacheManager.tilemap,extension:b,responseType:"text",key:m,url:x,xhrSettings:y};c.call(this,g,C),this.tilemapFormat=d.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,f)}});u.register("tilemapCSV",function(f,g,m){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new v(this,f[x]));else this.addFile(new v(this,f,g,m));return this}),r.exports=v},40807:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(518),u=t(80341),h=new a({Extends:c,initialize:function(d,v,f,g){c.call(this,d,v,f,g),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var l={format:u.WELTMEISTER,data:this.data};this.cache.add(this.key,l)}});p.register("tilemapImpact",function(l,d,v){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new h(this,l[f]));else this.addFile(new h(this,l,d,v));return this}),r.exports=h},56775:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(518),u=t(80341),h=new a({Extends:c,initialize:function(d,v,f,g){c.call(this,d,v,f,g),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var l={format:u.TILED_JSON,data:this.data};this.cache.add(this.key,l)}});p.register("tilemapTiledJSON",function(l,d,v){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new h(this,l[f]));else this.addFile(new h(this,l,d,v));return this}),r.exports=h},25771:(r,o,t)=>{var a=t(83419),p=t(74099),c=t(95540),u=t(19550),h=t(41212),l=t(26430),d=t(78776),v=new a({Extends:l,initialize:function(g,m,x,y,b,M){var C,w;if(h(m)){var S=m;m=c(S,"key"),C=new u(g,{key:m,url:c(S,"textureURL"),extension:c(S,"textureExtension","png"),normalMap:c(S,"normalMap"),xhrSettings:c(S,"textureXhrSettings")}),w=new d(g,{key:m,url:c(S,"atlasURL"),extension:c(S,"atlasExtension","txt"),xhrSettings:c(S,"atlasXhrSettings")})}else C=new u(g,m,x,b),w=new d(g,m,y,M);C.linkFile?l.call(this,g,"unityatlas",m,[C,w,C.linkFile]):l.call(this,g,"unityatlas",m,[C,w])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],g=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(f.key,f.data,g.data,m),this.complete=!0}}});p.register("unityAtlas",function(f,g,m,x,y){var b;if(Array.isArray(f))for(var M=0;M<f.length;M++)b=new v(this,f[M]),this.addFile(b.files);else b=new v(this,f,g,m,x,y),this.addFile(b.files);return this}),r.exports=v},33720:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(98356),l=t(95540),d=t(41212),v=new a({Extends:c,initialize:function(g,m,x,y){if(y===void 0&&(y=!1),d(m)){var b=m;m=l(b,"key"),x=l(b,"url",[]),y=l(b,"noAudio",!1)}var M=g.systems.game.device.video.getVideoURL(x);M||console.warn("VideoFile: No supported format for "+m);var C={type:"video",cache:g.cacheManager.video,extension:M.type,key:m,url:M.url,config:{noAudio:y}};c.call(this,g,C)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});u.register("video",function(f,g,m){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new v(this,f[x]));else this.addFile(new v(this,f,g,m));return this}),r.exports=v},57318:(r,o,t)=>{var a=t(83419),p=t(23906),c=t(41299),u=t(74099),h=t(95540),l=t(41212),d=t(56836),v=new a({Extends:c,initialize:function(g,m,x,y){var b="xml";if(l(m)){var M=m;m=h(M,"key"),x=h(M,"url"),y=h(M,"xhrSettings"),b=h(M,"extension",b)}var C={type:"xml",cache:g.cacheManager.xml,extension:b,responseType:"text",key:m,url:x,xhrSettings:y};c.call(this,g,C)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});u.register("xml",function(f,g,m){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new v(this,f[x]));else this.addFile(new v(this,f,g,m));return this}),r.exports=v},64589:(r,o,t)=>{r.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(r,o,t)=>{var a=t(23906),p=t(79291),c={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};c=p(!1,c,a),r.exports=c},53307:r=>{var o=function(t){for(var a=0,p=0;p<t.length;p++)a+=+t[p];return a/t.length};r.exports=o},85710:(r,o,t)=>{var a=t(6411),p=function(c,u){return a(c)/a(u)/a(c-u)};r.exports=p},30976:r=>{var o=function(t,a){return Math.floor(Math.random()*(a-t+1)+t)};r.exports=o},87842:r=>{var o=function(t,a,p,c,u){var h=(c-a)*.5,l=(u-p)*.5,d=t*t,v=t*d;return(2*p-2*c+h+l)*v+(-3*p+3*c-2*h-l)*d+h*t+p};r.exports=o},26302:r=>{var o=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var c=Math.pow(p,-a);return Math.ceil(t*c)/c};r.exports=o},45319:r=>{var o=function(t,a,p){return Math.max(a,Math.min(p,t))};r.exports=o},39506:(r,o,t)=>{var a=t(36383),p=function(c){return c*a.DEG_TO_RAD};r.exports=p},61241:r=>{var o=function(t,a){return Math.abs(t-a)};r.exports=o},38857:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(37867),u=t(29747),h=new c,l=new p({initialize:function d(v,f,g,m){v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m=d.DefaultOrder),this._x=v,this._y=f,this._z=g,this._order=m,this.onChangeCallback=u},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,v,f,g){return g===void 0&&(g=this._order),this._x=d,this._y=v,this._z=f,this._order=g,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,v,f){return v===void 0&&(v=this._order),f===void 0&&(f=!1),h.fromQuat(d),this.setFromRotationMatrix(h,v,f)},setFromRotationMatrix:function(d,v,f){v===void 0&&(v=this._order),f===void 0&&(f=!1);var g=d.val,m=g[0],x=g[4],y=g[8],b=g[1],M=g[5],C=g[9],w=g[2],S=g[6],I=g[10],T=0,k=0,E=0,A=.99999;switch(v){case"XYZ":{k=Math.asin(a(y,-1,1)),Math.abs(y)<A?(T=Math.atan2(-C,I),E=Math.atan2(-x,m)):T=Math.atan2(S,M);break}case"YXZ":{T=Math.asin(-a(C,-1,1)),Math.abs(C)<A?(k=Math.atan2(y,I),E=Math.atan2(b,M)):k=Math.atan2(-w,m);break}case"ZXY":{T=Math.asin(a(S,-1,1)),Math.abs(S)<A?(k=Math.atan2(-w,I),E=Math.atan2(-x,M)):E=Math.atan2(b,m);break}case"ZYX":{k=Math.asin(-a(w,-1,1)),Math.abs(w)<A?(T=Math.atan2(S,I),E=Math.atan2(b,m)):E=Math.atan2(-x,M);break}case"YZX":{E=Math.asin(a(b,-1,1)),Math.abs(b)<A?(T=Math.atan2(-C,M),k=Math.atan2(-w,m)):k=Math.atan2(y,I);break}case"XZY":{E=Math.asin(-a(x,-1,1)),Math.abs(x)<A?(T=Math.atan2(S,M),k=Math.atan2(y,m)):T=Math.atan2(-C,I);break}}return this._x=T,this._y=k,this._z=E,this._order=v,f&&this.onChangeCallback(this),this}});l.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],l.DefaultOrder="XYZ",r.exports=l},6411:r=>{var o=function(t){if(t===0)return 1;for(var a=t;--t;)a*=t;return a};r.exports=o},99472:r=>{var o=function(t,a){return Math.random()*(a-t)+t};r.exports=o},77623:r=>{var o=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var c=Math.pow(p,-a);return Math.floor(t*c)/c};r.exports=o},62945:(r,o,t)=>{var a=t(45319),p=function(c,u,h){return c=a(c,0,1),(h-u)*c+u};r.exports=p},38265:r=>{var o=function(t,a){return t/a/1e3};r.exports=o},78702:r=>{var o=function(t){return t==parseFloat(t)?!(t%2):void 0};r.exports=o},94883:r=>{var o=function(t){return t===parseFloat(t)?!(t%2):void 0};r.exports=o},28915:r=>{var o=function(t,a,p){return(a-t)*p+t};r.exports=o},94908:r=>{var o=function(t,a,p){return p===void 0&&(p=0),t.clone().lerp(a,p)};r.exports=o},94434:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},clone:function(){return new p(this)},set:function(c){return this.copy(c)},copy:function(c){var u=this.val,h=c.val;return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=h[6],u[7]=h[7],u[8]=h[8],this},fromMat4:function(c){var u=c.val,h=this.val;return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[4],h[4]=u[5],h[5]=u[6],h[6]=u[8],h[7]=u[9],h[8]=u[10],this},fromArray:function(c){var u=this.val;return u[0]=c[0],u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=c[6],u[7]=c[7],u[8]=c[8],this},identity:function(){var c=this.val;return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=1,c[5]=0,c[6]=0,c[7]=0,c[8]=1,this},transpose:function(){var c=this.val,u=c[1],h=c[2],l=c[5];return c[1]=c[3],c[2]=c[6],c[3]=u,c[5]=c[7],c[6]=h,c[7]=l,this},invert:function(){var c=this.val,u=c[0],h=c[1],l=c[2],d=c[3],v=c[4],f=c[5],g=c[6],m=c[7],x=c[8],y=x*v-f*m,b=-x*d+f*g,M=m*d-v*g,C=u*y+h*b+l*M;return C?(C=1/C,c[0]=y*C,c[1]=(-x*h+l*m)*C,c[2]=(f*h-l*v)*C,c[3]=b*C,c[4]=(x*u-l*g)*C,c[5]=(-f*u+l*d)*C,c[6]=M*C,c[7]=(-m*u+h*g)*C,c[8]=(v*u-h*d)*C,this):null},adjoint:function(){var c=this.val,u=c[0],h=c[1],l=c[2],d=c[3],v=c[4],f=c[5],g=c[6],m=c[7],x=c[8];return c[0]=v*x-f*m,c[1]=l*m-h*x,c[2]=h*f-l*v,c[3]=f*g-d*x,c[4]=u*x-l*g,c[5]=l*d-u*f,c[6]=d*m-v*g,c[7]=h*g-u*m,c[8]=u*v-h*d,this},determinant:function(){var c=this.val,u=c[0],h=c[1],l=c[2],d=c[3],v=c[4],f=c[5],g=c[6],m=c[7],x=c[8];return u*(x*v-f*m)+h*(-x*d+f*g)+l*(m*d-v*g)},multiply:function(c){var u=this.val,h=u[0],l=u[1],d=u[2],v=u[3],f=u[4],g=u[5],m=u[6],x=u[7],y=u[8],b=c.val,M=b[0],C=b[1],w=b[2],S=b[3],I=b[4],T=b[5],k=b[6],E=b[7],A=b[8];return u[0]=M*h+C*v+w*m,u[1]=M*l+C*f+w*x,u[2]=M*d+C*g+w*y,u[3]=S*h+I*v+T*m,u[4]=S*l+I*f+T*x,u[5]=S*d+I*g+T*y,u[6]=k*h+E*v+A*m,u[7]=k*l+E*f+A*x,u[8]=k*d+E*g+A*y,this},translate:function(c){var u=this.val,h=c.x,l=c.y;return u[6]=h*u[0]+l*u[3]+u[6],u[7]=h*u[1]+l*u[4]+u[7],u[8]=h*u[2]+l*u[5]+u[8],this},rotate:function(c){var u=this.val,h=u[0],l=u[1],d=u[2],v=u[3],f=u[4],g=u[5],m=Math.sin(c),x=Math.cos(c);return u[0]=x*h+m*v,u[1]=x*l+m*f,u[2]=x*d+m*g,u[3]=x*v-m*h,u[4]=x*f-m*l,u[5]=x*g-m*d,this},scale:function(c){var u=this.val,h=c.x,l=c.y;return u[0]=h*u[0],u[1]=h*u[1],u[2]=h*u[2],u[3]=l*u[3],u[4]=l*u[4],u[5]=l*u[5],this},fromQuat:function(c){var u=c.x,h=c.y,l=c.z,d=c.w,v=u+u,f=h+h,g=l+l,m=u*v,x=u*f,y=u*g,b=h*f,M=h*g,C=l*g,w=d*v,S=d*f,I=d*g,T=this.val;return T[0]=1-(b+C),T[3]=x+I,T[6]=y-S,T[1]=x-I,T[4]=1-(m+C),T[7]=M+w,T[2]=y+S,T[5]=M-w,T[8]=1-(m+b),this},normalFromMat4:function(c){var u=c.val,h=this.val,l=u[0],d=u[1],v=u[2],f=u[3],g=u[4],m=u[5],x=u[6],y=u[7],b=u[8],M=u[9],C=u[10],w=u[11],S=u[12],I=u[13],T=u[14],k=u[15],E=l*m-d*g,A=l*x-v*g,L=l*y-f*g,D=d*x-v*m,R=d*y-f*m,N=v*y-f*x,P=b*I-M*S,O=b*T-C*S,W=b*k-w*S,G=M*T-C*I,H=M*k-w*I,V=C*k-w*T,B=E*V-A*H+L*G+D*W-R*O+N*P;return B?(B=1/B,h[0]=(m*V-x*H+y*G)*B,h[1]=(x*W-g*V-y*O)*B,h[2]=(g*H-m*W+y*P)*B,h[3]=(v*H-d*V-f*G)*B,h[4]=(l*V-v*W+f*O)*B,h[5]=(d*W-l*H-f*P)*B,h[6]=(I*N-T*R+k*D)*B,h[7]=(T*L-S*N-k*A)*B,h[8]=(S*R-I*L+k*E)*B,this):null}});r.exports=p},37867:(r,o,t)=>{var a=t(83419),p=t(25836),c=1e-6,u=new a({initialize:function(m){this.val=new Float32Array(16),m?this.copy(m):this.identity()},clone:function(){return new u(this)},set:function(g){return this.copy(g)},setValues:function(g,m,x,y,b,M,C,w,S,I,T,k,E,A,L,D){var R=this.val;return R[0]=g,R[1]=m,R[2]=x,R[3]=y,R[4]=b,R[5]=M,R[6]=C,R[7]=w,R[8]=S,R[9]=I,R[10]=T,R[11]=k,R[12]=E,R[13]=A,R[14]=L,R[15]=D,this},copy:function(g){var m=g.val;return this.setValues(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15])},fromArray:function(g){return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(g,m,x){var y=h.fromQuat(x),b=y.val,M=m.x,C=m.y,w=m.z;return this.setValues(b[0]*M,b[1]*M,b[2]*M,0,b[4]*C,b[5]*C,b[6]*C,0,b[8]*w,b[9]*w,b[10]*w,0,g.x,g.y,g.z,1)},xyz:function(g,m,x){this.identity();var y=this.val;return y[12]=g,y[13]=m,y[14]=x,this},scaling:function(g,m,x){this.zero();var y=this.val;return y[0]=g,y[5]=m,y[10]=x,y[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var g=this.val,m=g[1],x=g[2],y=g[3],b=g[6],M=g[7],C=g[11];return g[1]=g[4],g[2]=g[8],g[3]=g[12],g[4]=m,g[6]=g[9],g[7]=g[13],g[8]=x,g[9]=b,g[11]=g[14],g[12]=y,g[13]=M,g[14]=C,this},getInverse:function(g){return this.copy(g),this.invert()},invert:function(){var g=this.val,m=g[0],x=g[1],y=g[2],b=g[3],M=g[4],C=g[5],w=g[6],S=g[7],I=g[8],T=g[9],k=g[10],E=g[11],A=g[12],L=g[13],D=g[14],R=g[15],N=m*C-x*M,P=m*w-y*M,O=m*S-b*M,W=x*w-y*C,G=x*S-b*C,H=y*S-b*w,V=I*L-T*A,B=I*D-k*A,j=I*R-E*A,U=T*D-k*L,X=T*R-E*L,Z=k*R-E*D,$=N*Z-P*X+O*U+W*j-G*B+H*V;return $?($=1/$,this.setValues((C*Z-w*X+S*U)*$,(y*X-x*Z-b*U)*$,(L*H-D*G+R*W)*$,(k*G-T*H-E*W)*$,(w*j-M*Z-S*B)*$,(m*Z-y*j+b*B)*$,(D*O-A*H-R*P)*$,(I*H-k*O+E*P)*$,(M*X-C*j+S*V)*$,(x*j-m*X-b*V)*$,(A*G-L*O+R*N)*$,(T*O-I*G-E*N)*$,(C*B-M*U-w*V)*$,(m*U-x*B+y*V)*$,(L*P-A*W-D*N)*$,(I*W-T*P+k*N)*$)):this},adjoint:function(){var g=this.val,m=g[0],x=g[1],y=g[2],b=g[3],M=g[4],C=g[5],w=g[6],S=g[7],I=g[8],T=g[9],k=g[10],E=g[11],A=g[12],L=g[13],D=g[14],R=g[15];return this.setValues(C*(k*R-E*D)-T*(w*R-S*D)+L*(w*E-S*k),-(x*(k*R-E*D)-T*(y*R-b*D)+L*(y*E-b*k)),x*(w*R-S*D)-C*(y*R-b*D)+L*(y*S-b*w),-(x*(w*E-S*k)-C*(y*E-b*k)+T*(y*S-b*w)),-(M*(k*R-E*D)-I*(w*R-S*D)+A*(w*E-S*k)),m*(k*R-E*D)-I*(y*R-b*D)+A*(y*E-b*k),-(m*(w*R-S*D)-M*(y*R-b*D)+A*(y*S-b*w)),m*(w*E-S*k)-M*(y*E-b*k)+I*(y*S-b*w),M*(T*R-E*L)-I*(C*R-S*L)+A*(C*E-S*T),-(m*(T*R-E*L)-I*(x*R-b*L)+A*(x*E-b*T)),m*(C*R-S*L)-M*(x*R-b*L)+A*(x*S-b*C),-(m*(C*E-S*T)-M*(x*E-b*T)+I*(x*S-b*C)),-(M*(T*D-k*L)-I*(C*D-w*L)+A*(C*k-w*T)),m*(T*D-k*L)-I*(x*D-y*L)+A*(x*k-y*T),-(m*(C*D-w*L)-M*(x*D-y*L)+A*(x*w-y*C)),m*(C*k-w*T)-M*(x*k-y*T)+I*(x*w-y*C))},determinant:function(){var g=this.val,m=g[0],x=g[1],y=g[2],b=g[3],M=g[4],C=g[5],w=g[6],S=g[7],I=g[8],T=g[9],k=g[10],E=g[11],A=g[12],L=g[13],D=g[14],R=g[15],N=m*C-x*M,P=m*w-y*M,O=m*S-b*M,W=x*w-y*C,G=x*S-b*C,H=y*S-b*w,V=I*L-T*A,B=I*D-k*A,j=I*R-E*A,U=T*D-k*L,X=T*R-E*L,Z=k*R-E*D;return N*Z-P*X+O*U+W*j-G*B+H*V},multiply:function(g){var m=this.val,x=m[0],y=m[1],b=m[2],M=m[3],C=m[4],w=m[5],S=m[6],I=m[7],T=m[8],k=m[9],E=m[10],A=m[11],L=m[12],D=m[13],R=m[14],N=m[15],P=g.val,O=P[0],W=P[1],G=P[2],H=P[3];return m[0]=O*x+W*C+G*T+H*L,m[1]=O*y+W*w+G*k+H*D,m[2]=O*b+W*S+G*E+H*R,m[3]=O*M+W*I+G*A+H*N,O=P[4],W=P[5],G=P[6],H=P[7],m[4]=O*x+W*C+G*T+H*L,m[5]=O*y+W*w+G*k+H*D,m[6]=O*b+W*S+G*E+H*R,m[7]=O*M+W*I+G*A+H*N,O=P[8],W=P[9],G=P[10],H=P[11],m[8]=O*x+W*C+G*T+H*L,m[9]=O*y+W*w+G*k+H*D,m[10]=O*b+W*S+G*E+H*R,m[11]=O*M+W*I+G*A+H*N,O=P[12],W=P[13],G=P[14],H=P[15],m[12]=O*x+W*C+G*T+H*L,m[13]=O*y+W*w+G*k+H*D,m[14]=O*b+W*S+G*E+H*R,m[15]=O*M+W*I+G*A+H*N,this},multiplyLocal:function(g){var m=this.val,x=g.val;return this.setValues(m[0]*x[0]+m[1]*x[4]+m[2]*x[8]+m[3]*x[12],m[0]*x[1]+m[1]*x[5]+m[2]*x[9]+m[3]*x[13],m[0]*x[2]+m[1]*x[6]+m[2]*x[10]+m[3]*x[14],m[0]*x[3]+m[1]*x[7]+m[2]*x[11]+m[3]*x[15],m[4]*x[0]+m[5]*x[4]+m[6]*x[8]+m[7]*x[12],m[4]*x[1]+m[5]*x[5]+m[6]*x[9]+m[7]*x[13],m[4]*x[2]+m[5]*x[6]+m[6]*x[10]+m[7]*x[14],m[4]*x[3]+m[5]*x[7]+m[6]*x[11]+m[7]*x[15],m[8]*x[0]+m[9]*x[4]+m[10]*x[8]+m[11]*x[12],m[8]*x[1]+m[9]*x[5]+m[10]*x[9]+m[11]*x[13],m[8]*x[2]+m[9]*x[6]+m[10]*x[10]+m[11]*x[14],m[8]*x[3]+m[9]*x[7]+m[10]*x[11]+m[11]*x[15],m[12]*x[0]+m[13]*x[4]+m[14]*x[8]+m[15]*x[12],m[12]*x[1]+m[13]*x[5]+m[14]*x[9]+m[15]*x[13],m[12]*x[2]+m[13]*x[6]+m[14]*x[10]+m[15]*x[14],m[12]*x[3]+m[13]*x[7]+m[14]*x[11]+m[15]*x[15])},premultiply:function(g){return this.multiplyMatrices(g,this)},multiplyMatrices:function(g,m){var x=g.val,y=m.val,b=x[0],M=x[4],C=x[8],w=x[12],S=x[1],I=x[5],T=x[9],k=x[13],E=x[2],A=x[6],L=x[10],D=x[14],R=x[3],N=x[7],P=x[11],O=x[15],W=y[0],G=y[4],H=y[8],V=y[12],B=y[1],j=y[5],U=y[9],X=y[13],Z=y[2],$=y[6],J=y[10],Q=y[14],_=y[3],ae=y[7],ce=y[11],he=y[15];return this.setValues(b*W+M*B+C*Z+w*_,S*W+I*B+T*Z+k*_,E*W+A*B+L*Z+D*_,R*W+N*B+P*Z+O*_,b*G+M*j+C*$+w*ae,S*G+I*j+T*$+k*ae,E*G+A*j+L*$+D*ae,R*G+N*j+P*$+O*ae,b*H+M*U+C*J+w*ce,S*H+I*U+T*J+k*ce,E*H+A*U+L*J+D*ce,R*H+N*U+P*J+O*ce,b*V+M*X+C*Q+w*he,S*V+I*X+T*Q+k*he,E*V+A*X+L*Q+D*he,R*V+N*X+P*Q+O*he)},translate:function(g){return this.translateXYZ(g.x,g.y,g.z)},translateXYZ:function(g,m,x){var y=this.val;return y[12]=y[0]*g+y[4]*m+y[8]*x+y[12],y[13]=y[1]*g+y[5]*m+y[9]*x+y[13],y[14]=y[2]*g+y[6]*m+y[10]*x+y[14],y[15]=y[3]*g+y[7]*m+y[11]*x+y[15],this},scale:function(g){return this.scaleXYZ(g.x,g.y,g.z)},scaleXYZ:function(g,m,x){var y=this.val;return y[0]=y[0]*g,y[1]=y[1]*g,y[2]=y[2]*g,y[3]=y[3]*g,y[4]=y[4]*m,y[5]=y[5]*m,y[6]=y[6]*m,y[7]=y[7]*m,y[8]=y[8]*x,y[9]=y[9]*x,y[10]=y[10]*x,y[11]=y[11]*x,this},makeRotationAxis:function(g,m){var x=Math.cos(m),y=Math.sin(m),b=1-x,M=g.x,C=g.y,w=g.z,S=b*M,I=b*C;return this.setValues(S*M+x,S*C-y*w,S*w+y*C,0,S*C+y*w,I*C+x,I*w-y*M,0,S*w-y*C,I*w+y*M,b*w*w+x,0,0,0,0,1)},rotate:function(g,m){var x=this.val,y=m.x,b=m.y,M=m.z,C=Math.sqrt(y*y+b*b+M*M);if(Math.abs(C)<c)return this;C=1/C,y*=C,b*=C,M*=C;var w=Math.sin(g),S=Math.cos(g),I=1-S,T=x[0],k=x[1],E=x[2],A=x[3],L=x[4],D=x[5],R=x[6],N=x[7],P=x[8],O=x[9],W=x[10],G=x[11],H=x[12],V=x[13],B=x[14],j=x[15],U=y*y*I+S,X=b*y*I+M*w,Z=M*y*I-b*w,$=y*b*I-M*w,J=b*b*I+S,Q=M*b*I+y*w,_=y*M*I+b*w,ae=b*M*I-y*w,ce=M*M*I+S;return this.setValues(T*U+L*X+P*Z,k*U+D*X+O*Z,E*U+R*X+W*Z,A*U+N*X+G*Z,T*$+L*J+P*Q,k*$+D*J+O*Q,E*$+R*J+W*Q,A*$+N*J+G*Q,T*_+L*ae+P*ce,k*_+D*ae+O*ce,E*_+R*ae+W*ce,A*_+N*ae+G*ce,H,V,B,j)},rotateX:function(g){var m=this.val,x=Math.sin(g),y=Math.cos(g),b=m[4],M=m[5],C=m[6],w=m[7],S=m[8],I=m[9],T=m[10],k=m[11];return m[4]=b*y+S*x,m[5]=M*y+I*x,m[6]=C*y+T*x,m[7]=w*y+k*x,m[8]=S*y-b*x,m[9]=I*y-M*x,m[10]=T*y-C*x,m[11]=k*y-w*x,this},rotateY:function(g){var m=this.val,x=Math.sin(g),y=Math.cos(g),b=m[0],M=m[1],C=m[2],w=m[3],S=m[8],I=m[9],T=m[10],k=m[11];return m[0]=b*y-S*x,m[1]=M*y-I*x,m[2]=C*y-T*x,m[3]=w*y-k*x,m[8]=b*x+S*y,m[9]=M*x+I*y,m[10]=C*x+T*y,m[11]=w*x+k*y,this},rotateZ:function(g){var m=this.val,x=Math.sin(g),y=Math.cos(g),b=m[0],M=m[1],C=m[2],w=m[3],S=m[4],I=m[5],T=m[6],k=m[7];return m[0]=b*y+S*x,m[1]=M*y+I*x,m[2]=C*y+T*x,m[3]=w*y+k*x,m[4]=S*y-b*x,m[5]=I*y-M*x,m[6]=T*y-C*x,m[7]=k*y-w*x,this},fromRotationTranslation:function(g,m){var x=g.x,y=g.y,b=g.z,M=g.w,C=x+x,w=y+y,S=b+b,I=x*C,T=x*w,k=x*S,E=y*w,A=y*S,L=b*S,D=M*C,R=M*w,N=M*S;return this.setValues(1-(E+L),T+N,k-R,0,T-N,1-(I+L),A+D,0,k+R,A-D,1-(I+E),0,m.x,m.y,m.z,1)},fromQuat:function(g){var m=g.x,x=g.y,y=g.z,b=g.w,M=m+m,C=x+x,w=y+y,S=m*M,I=m*C,T=m*w,k=x*C,E=x*w,A=y*w,L=b*M,D=b*C,R=b*w;return this.setValues(1-(k+A),I+R,T-D,0,I-R,1-(S+A),E+L,0,T+D,E-L,1-(S+k),0,0,0,0,1)},frustum:function(g,m,x,y,b,M){var C=1/(m-g),w=1/(y-x),S=1/(b-M);return this.setValues(b*2*C,0,0,0,0,b*2*w,0,0,(m+g)*C,(y+x)*w,(M+b)*S,-1,0,0,M*b*2*S,0)},perspective:function(g,m,x,y){var b=1/Math.tan(g/2),M=1/(x-y);return this.setValues(b/m,0,0,0,0,b,0,0,0,0,(y+x)*M,-1,0,0,2*y*x*M,0)},perspectiveLH:function(g,m,x,y){return this.setValues(2*x/g,0,0,0,0,2*x/m,0,0,0,0,-y/(x-y),1,0,0,x*y/(x-y),0)},ortho:function(g,m,x,y,b,M){var C=g-m,w=x-y,S=b-M;return C=C===0?C:1/C,w=w===0?w:1/w,S=S===0?S:1/S,this.setValues(-2*C,0,0,0,0,-2*w,0,0,0,0,2*S,0,(g+m)*C,(y+x)*w,(M+b)*S,1)},lookAtRH:function(g,m,x){var y=this.val;return f.subVectors(g,m),f.lengthSq()===0&&(f.z=1),f.normalize(),d.crossVectors(x,f),d.lengthSq()===0&&(Math.abs(x.z)===1?f.x+=1e-4:f.z+=1e-4,f.normalize(),d.crossVectors(x,f)),d.normalize(),v.crossVectors(f,d),y[0]=d.x,y[1]=d.y,y[2]=d.z,y[4]=v.x,y[5]=v.y,y[6]=v.z,y[8]=f.x,y[9]=f.y,y[10]=f.z,this},lookAt:function(g,m,x){var y=g.x,b=g.y,M=g.z,C=x.x,w=x.y,S=x.z,I=m.x,T=m.y,k=m.z;if(Math.abs(y-I)<c&&Math.abs(b-T)<c&&Math.abs(M-k)<c)return this.identity();var E=y-I,A=b-T,L=M-k,D=1/Math.sqrt(E*E+A*A+L*L);E*=D,A*=D,L*=D;var R=w*L-S*A,N=S*E-C*L,P=C*A-w*E;D=Math.sqrt(R*R+N*N+P*P),D?(D=1/D,R*=D,N*=D,P*=D):(R=0,N=0,P=0);var O=A*P-L*N,W=L*R-E*P,G=E*N-A*R;return D=Math.sqrt(O*O+W*W+G*G),D?(D=1/D,O*=D,W*=D,G*=D):(O=0,W=0,G=0),this.setValues(R,O,E,0,N,W,A,0,P,G,L,0,-(R*y+N*b+P*M),-(O*y+W*b+G*M),-(E*y+A*b+L*M),1)},yawPitchRoll:function(g,m,x){this.zero(),h.zero(),l.zero();var y=this.val,b=h.val,M=l.val,C=Math.sin(x),w=Math.cos(x);return y[10]=1,y[15]=1,y[0]=w,y[1]=C,y[4]=-C,y[5]=w,C=Math.sin(m),w=Math.cos(m),b[0]=1,b[15]=1,b[5]=w,b[10]=w,b[9]=-C,b[6]=C,C=Math.sin(g),w=Math.cos(g),M[5]=1,M[15]=1,M[0]=w,M[2]=-C,M[8]=C,M[10]=w,this.multiplyLocal(h),this.multiplyLocal(l),this},setWorldMatrix:function(g,m,x,y,b){return this.yawPitchRoll(g.y,g.x,g.z),h.scaling(x.x,x.y,x.z),l.xyz(m.x,m.y,m.z),this.multiplyLocal(h),this.multiplyLocal(l),y&&this.multiplyLocal(y),b&&this.multiplyLocal(b),this},multiplyToMat4:function(g,m){var x=this.val,y=g.val,b=x[0],M=x[1],C=x[2],w=x[3],S=x[4],I=x[5],T=x[6],k=x[7],E=x[8],A=x[9],L=x[10],D=x[11],R=x[12],N=x[13],P=x[14],O=x[15],W=y[0],G=y[1],H=y[2],V=y[3],B=y[4],j=y[5],U=y[6],X=y[7],Z=y[8],$=y[9],J=y[10],Q=y[11],_=y[12],ae=y[13],ce=y[14],he=y[15];return m.setValues(W*b+G*S+H*E+V*R,G*M+G*I+H*A+V*N,H*C+G*T+H*L+V*P,V*w+G*k+H*D+V*O,B*b+j*S+U*E+X*R,B*M+j*I+U*A+X*N,B*C+j*T+U*L+X*P,B*w+j*k+U*D+X*O,Z*b+$*S+J*E+Q*R,Z*M+$*I+J*A+Q*N,Z*C+$*T+J*L+Q*P,Z*w+$*k+J*D+Q*O,_*b+ae*S+ce*E+he*R,_*M+ae*I+ce*A+he*N,_*C+ae*T+ce*L+he*P,_*w+ae*k+ce*D+he*O)},fromRotationXYTranslation:function(g,m,x){var y=m.x,b=m.y,M=m.z,C=Math.sin(g.x),w=Math.cos(g.x),S=Math.sin(g.y),I=Math.cos(g.y),T=y,k=b,E=M,A=-C,L=0-A*S,D=0-w*S,R=A*I,N=w*I;return x||(T=I*y+S*M,k=L*y+w*b+R*M,E=D*y+C*b+N*M),this.setValues(I,L,D,0,0,w,C,0,S,R,N,0,T,k,E,1)},getMaxScaleOnAxis:function(){var g=this.val,m=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],x=g[4]*g[4]+g[5]*g[5]+g[6]*g[6],y=g[8]*g[8]+g[9]*g[9]+g[10]*g[10];return Math.sqrt(Math.max(m,x,y))}}),h=new u,l=new u,d=new p,v=new p,f=new p;r.exports=u},86883:r=>{var o=function(t,a,p){return Math.min(t+a,p)};r.exports=o},50040:r=>{var o=function(t){var a=t.length;if(a===0)return 0;t.sort(function(c,u){return c-u});var p=Math.floor(a/2);return a%2===0?(t[p]+t[p-1])/2:t[p]};r.exports=o},37204:r=>{var o=function(t,a,p){return Math.max(t-a,p)};r.exports=o},65201:r=>{var o=function(t,a,p,c){p===void 0&&(p=a+1);var u=(t-a)/(p-a);return u>1?c!==void 0?(u=(c-t)/(c-p),u<0&&(u=0)):u=1:u<0&&(u=0),u};r.exports=o},15746:(r,o,t)=>{var a=t(83419),p=t(94434),c=t(29747),u=t(25836),h=1e-6,l=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),v=new u(1,0,0),f=new u(0,1,0),g=new u,m=new p,x=new a({initialize:function(b,M,C,w){this.onChangeCallback=c,this.set(b,M,C,w)},x:{get:function(){return this._x},set:function(y){this._x=y,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(y){this._y=y,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(y){this._z=y,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(y){this._w=y,this.onChangeCallback(this)}},copy:function(y){return this.set(y)},set:function(y,b,M,C,w){return w===void 0&&(w=!0),typeof y=="object"?(this._x=y.x||0,this._y=y.y||0,this._z=y.z||0,this._w=y.w||0):(this._x=y||0,this._y=b||0,this._z=M||0,this._w=C||0),w&&this.onChangeCallback(this),this},add:function(y){return this._x+=y.x,this._y+=y.y,this._z+=y.z,this._w+=y.w,this.onChangeCallback(this),this},subtract:function(y){return this._x-=y.x,this._y-=y.y,this._z-=y.z,this._w-=y.w,this.onChangeCallback(this),this},scale:function(y){return this._x*=y,this._y*=y,this._z*=y,this._w*=y,this.onChangeCallback(this),this},length:function(){var y=this.x,b=this.y,M=this.z,C=this.w;return Math.sqrt(y*y+b*b+M*M+C*C)},lengthSq:function(){var y=this.x,b=this.y,M=this.z,C=this.w;return y*y+b*b+M*M+C*C},normalize:function(){var y=this.x,b=this.y,M=this.z,C=this.w,w=y*y+b*b+M*M+C*C;return w>0&&(w=1/Math.sqrt(w),this._x=y*w,this._y=b*w,this._z=M*w,this._w=C*w),this.onChangeCallback(this),this},dot:function(y){return this.x*y.x+this.y*y.y+this.z*y.z+this.w*y.w},lerp:function(y,b){b===void 0&&(b=0);var M=this.x,C=this.y,w=this.z,S=this.w;return this.set(M+b*(y.x-M),C+b*(y.y-C),w+b*(y.z-w),S+b*(y.w-S))},rotationTo:function(y,b){var M=y.x*b.x+y.y*b.y+y.z*b.z;return M<-.999999?(g.copy(v).cross(y).length()<h&&g.copy(f).cross(y),g.normalize(),this.setAxisAngle(g,Math.PI)):M>.999999?this.set(0,0,0,1):(g.copy(y).cross(b),this._x=g.x,this._y=g.y,this._z=g.z,this._w=1+M,this.normalize())},setAxes:function(y,b,M){var C=m.val;return C[0]=b.x,C[3]=b.y,C[6]=b.z,C[1]=M.x,C[4]=M.y,C[7]=M.z,C[2]=-y.x,C[5]=-y.y,C[8]=-y.z,this.fromMat3(m).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(y,b){b=b*.5;var M=Math.sin(b);return this.set(M*y.x,M*y.y,M*y.z,Math.cos(b))},multiply:function(y){var b=this.x,M=this.y,C=this.z,w=this.w,S=y.x,I=y.y,T=y.z,k=y.w;return this.set(b*k+w*S+M*T-C*I,M*k+w*I+C*S-b*T,C*k+w*T+b*I-M*S,w*k-b*S-M*I-C*T)},slerp:function(y,b){var M=this.x,C=this.y,w=this.z,S=this.w,I=y.x,T=y.y,k=y.z,E=y.w,A=M*I+C*T+w*k+S*E;A<0&&(A=-A,I=-I,T=-T,k=-k,E=-E);var L=1-b,D=b;if(1-A>h){var R=Math.acos(A),N=Math.sin(R);L=Math.sin((1-b)*R)/N,D=Math.sin(b*R)/N}return this.set(L*M+D*I,L*C+D*T,L*w+D*k,L*S+D*E)},invert:function(){var y=this.x,b=this.y,M=this.z,C=this.w,w=y*y+b*b+M*M+C*C,S=w?1/w:0;return this.set(-y*S,-b*S,-M*S,C*S)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(y){y*=.5;var b=this.x,M=this.y,C=this.z,w=this.w,S=Math.sin(y),I=Math.cos(y);return this.set(b*I+w*S,M*I+C*S,C*I-M*S,w*I-b*S)},rotateY:function(y){y*=.5;var b=this.x,M=this.y,C=this.z,w=this.w,S=Math.sin(y),I=Math.cos(y);return this.set(b*I-C*S,M*I+w*S,C*I+b*S,w*I-M*S)},rotateZ:function(y){y*=.5;var b=this.x,M=this.y,C=this.z,w=this.w,S=Math.sin(y),I=Math.cos(y);return this.set(b*I+M*S,M*I-b*S,C*I+w*S,w*I-C*S)},calculateW:function(){var y=this.x,b=this.y,M=this.z;return this.w=-Math.sqrt(1-y*y-b*b-M*M),this},setFromEuler:function(y,b){var M=y.x/2,C=y.y/2,w=y.z/2,S=Math.cos(M),I=Math.cos(C),T=Math.cos(w),k=Math.sin(M),E=Math.sin(C),A=Math.sin(w);switch(y.order){case"XYZ":{this.set(k*I*T+S*E*A,S*E*T-k*I*A,S*I*A+k*E*T,S*I*T-k*E*A,b);break}case"YXZ":{this.set(k*I*T+S*E*A,S*E*T-k*I*A,S*I*A-k*E*T,S*I*T+k*E*A,b);break}case"ZXY":{this.set(k*I*T-S*E*A,S*E*T+k*I*A,S*I*A+k*E*T,S*I*T-k*E*A,b);break}case"ZYX":{this.set(k*I*T-S*E*A,S*E*T+k*I*A,S*I*A-k*E*T,S*I*T+k*E*A,b);break}case"YZX":{this.set(k*I*T+S*E*A,S*E*T+k*I*A,S*I*A-k*E*T,S*I*T-k*E*A,b);break}case"XZY":{this.set(k*I*T-S*E*A,S*E*T-k*I*A,S*I*A+k*E*T,S*I*T+k*E*A,b);break}}return this},setFromRotationMatrix:function(y){var b=y.val,M=b[0],C=b[4],w=b[8],S=b[1],I=b[5],T=b[9],k=b[2],E=b[6],A=b[10],L=M+I+A,D;return L>0?(D=.5/Math.sqrt(L+1),this.set((E-T)*D,(w-k)*D,(S-C)*D,.25/D)):M>I&&M>A?(D=2*Math.sqrt(1+M-I-A),this.set(.25*D,(C+S)/D,(w+k)/D,(E-T)/D)):I>A?(D=2*Math.sqrt(1+I-M-A),this.set((C+S)/D,.25*D,(T+E)/D,(w-k)/D)):(D=2*Math.sqrt(1+A-M-I),this.set((w+k)/D,(T+E)/D,.25*D,(S-C)/D)),this},fromMat3:function(y){var b=y.val,M=b[0]+b[4]+b[8],C;if(M>0)C=Math.sqrt(M+1),this.w=.5*C,C=.5/C,this._x=(b[7]-b[5])*C,this._y=(b[2]-b[6])*C,this._z=(b[3]-b[1])*C;else{var w=0;b[4]>b[0]&&(w=1),b[8]>b[w*3+w]&&(w=2);var S=l[w],I=l[S];C=Math.sqrt(b[w*3+w]-b[S*3+S]-b[I*3+I]+1),d[w]=.5*C,C=.5/C,d[S]=(b[S*3+w]+b[w*3+S])*C,d[I]=(b[I*3+w]+b[w*3+I])*C,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(b[I*3+S]-b[S*3+I])*C}return this.onChangeCallback(this),this}});r.exports=x},43396:(r,o,t)=>{var a=t(36383),p=function(c){return c*a.RAD_TO_DEG};r.exports=p},74362:r=>{var o=function(t,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI;return t.x=Math.cos(p)*a,t.y=Math.sin(p)*a,t};r.exports=o},60706:r=>{var o=function(t,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI,c=Math.random()*2-1,u=Math.sqrt(1-c*c)*a;return t.x=Math.cos(p)*u,t.y=Math.sin(p)*u,t.z=c*a,t};r.exports=o},67421:r=>{var o=function(t,a){return a===void 0&&(a=1),t.x=(Math.random()*2-1)*a,t.y=(Math.random()*2-1)*a,t.z=(Math.random()*2-1)*a,t.w=(Math.random()*2-1)*a,t};r.exports=o},36305:r=>{var o=function(t,a){var p=t.x,c=t.y;return t.x=p*Math.cos(a)-c*Math.sin(a),t.y=p*Math.sin(a)+c*Math.cos(a),t};r.exports=o},11520:r=>{var o=function(t,a,p,c){var u=Math.cos(c),h=Math.sin(c),l=t.x-a,d=t.y-p;return t.x=l*u-d*h+a,t.y=l*h+d*u+p,t};r.exports=o},1163:r=>{var o=function(t,a,p,c,u){var h=c+Math.atan2(t.y-p,t.x-a);return t.x=a+u*Math.cos(h),t.y=p+u*Math.sin(h),t};r.exports=o},70336:r=>{var o=function(t,a,p,c,u){return t.x=a+u*Math.cos(c),t.y=p+u*Math.sin(c),t};r.exports=o},72678:(r,o,t)=>{var a=t(25836),p=t(37867),c=t(15746),u=new p,h=new c,l=new a,d=function(v,f,g){return h.setAxisAngle(f,g),u.fromRotationTranslation(h,l.set(0,0,0)),v.transformMat4(u)};r.exports=d},2284:r=>{var o=function(t){return t>0?Math.ceil(t):Math.floor(t)};r.exports=o},41013:r=>{var o=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var c=Math.pow(p,-a);return Math.round(t*c)/c};r.exports=o},16922:r=>{var o=function(t,a,p,c){a===void 0&&(a=1),p===void 0&&(p=1),c===void 0&&(c=1),c*=Math.PI/t;for(var u=[],h=[],l=0;l<t;l++)p-=a*c,a+=p*c,u[l]=p,h[l]=a;return{sin:h,cos:u,length:t}};r.exports=o},7602:r=>{var o=function(t,a,p){return t<=a?0:t>=p?1:(t=(t-a)/(p-a),t*t*(3-2*t))};r.exports=o},54261:r=>{var o=function(t,a,p){return t=Math.max(0,Math.min(1,(t-a)/(p-a))),t*t*t*(t*(t*6-15)+10)};r.exports=o},44408:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l){l===void 0&&(l=new a);var d=0,v=0,f=u*h;return c>0&&c<=f&&(c>u-1?(v=Math.floor(c/u),d=c-v*u):d=c),l.set(d,v)};r.exports=p},85955:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d,v,f,g){g===void 0&&(g=new a);var m=Math.sin(d),x=Math.cos(d),y=x*v,b=m*v,M=-m*f,C=x*f,w=1/(y*C+M*-b);return g.x=C*w*c+-M*w*u+(l*M-h*C)*w,g.y=y*w*u+-b*w*c+(-l*y+h*b)*w,g};r.exports=p},26099:(r,o,t)=>{var a=t(83419),p=t(43855),c=new a({initialize:function(h,l){this.x=0,this.y=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0):(l===void 0&&(l=h),this.x=h||0,this.y=l||0)},clone:function(){return new c(this.x,this.y)},copy:function(u){return this.x=u.x||0,this.y=u.y||0,this},setFromObject:function(u){return this.x=u.x||0,this.y=u.y||0,this},set:function(u,h){return h===void 0&&(h=u),this.x=u,this.y=h,this},setTo:function(u,h){return this.set(u,h)},setToPolar:function(u,h){return h==null&&(h=1),this.x=Math.cos(u)*h,this.y=Math.sin(u)*h,this},equals:function(u){return this.x===u.x&&this.y===u.y},fuzzyEquals:function(u,h){return p(this.x,u.x,h)&&p(this.y,u.y,h)},angle:function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},setAngle:function(u){return this.setToPolar(u,this.length())},add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(u){var h=u.x-this.x,l=u.y-this.y;return Math.sqrt(h*h+l*l)},distanceSq:function(u){var h=u.x-this.x,l=u.y-this.y;return h*h+l*l},length:function(){var u=this.x,h=this.y;return Math.sqrt(u*u+h*h)},setLength:function(u){return this.normalize().scale(u)},lengthSq:function(){var u=this.x,h=this.y;return u*u+h*h},normalize:function(){var u=this.x,h=this.y,l=u*u+h*h;return l>0&&(l=1/Math.sqrt(l),this.x=u*l,this.y=h*l),this},normalizeRightHand:function(){var u=this.x;return this.x=this.y*-1,this.y=u,this},normalizeLeftHand:function(){var u=this.x;return this.x=this.y,this.y=u*-1,this},dot:function(u){return this.x*u.x+this.y*u.y},cross:function(u){return this.x*u.y-this.y*u.x},lerp:function(u,h){h===void 0&&(h=0);var l=this.x,d=this.y;return this.x=l+h*(u.x-l),this.y=d+h*(u.y-d),this},transformMat3:function(u){var h=this.x,l=this.y,d=u.val;return this.x=d[0]*h+d[3]*l+d[6],this.y=d[1]*h+d[4]*l+d[7],this},transformMat4:function(u){var h=this.x,l=this.y,d=u.val;return this.x=d[0]*h+d[4]*l+d[12],this.y=d[1]*h+d[5]*l+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(u){var h=this.length();return h&&h>u&&this.scale(u/h),this},reflect:function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},mirror:function(u){return this.reflect(u).negate()},rotate:function(u){var h=Math.cos(u),l=Math.sin(u);return this.set(h*this.x-l*this.y,l*this.x+h*this.y)},project:function(u){var h=this.dot(u)/u.dot(u);return this.copy(u).scale(h)}});c.ZERO=new c,c.RIGHT=new c(1,0),c.LEFT=new c(-1,0),c.UP=new c(0,-1),c.DOWN=new c(0,1),c.ONE=new c(1,1),r.exports=c},25836:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l){this.x=0,this.y=0,this.z=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=h||0,this.z=l||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},max:function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(c,u){return this.x=c.x+u.x,this.y=c.y+u.y,this.z=c.z+u.z,this},subVectors:function(c,u){return this.x=c.x-u.x,this.y=c.y-u.y,this.z=c.z-u.z,this},crossVectors:function(c,u){var h=c.x,l=c.y,d=c.z,v=u.x,f=u.y,g=u.z;return this.x=l*g-d*f,this.y=d*v-h*g,this.z=h*f-l*v,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this},set:function(c,u,h){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=u||0,this.z=h||0),this},setFromMatrixPosition:function(c){return this.fromArray(c.val,12)},setFromMatrixColumn:function(c,u){return this.fromArray(c.val,u*4)},fromArray:function(c,u){return u===void 0&&(u=0),this.x=c[u],this.y=c[u+1],this.z=c[u+2],this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this},addScalar:function(c){return this.x+=c,this.y+=c,this.z+=c,this},addScale:function(c,u){return this.x+=c.x*u,this.y+=c.y*u,this.z+=c.z*u||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this},scale:function(c){return isFinite(c)?(this.x*=c,this.y*=c,this.z*=c):(this.x=0,this.y=0,this.z=0),this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(c){var u=c.x-this.x,h=c.y-this.y,l=c.z-this.z||0;return Math.sqrt(u*u+h*h+l*l)},distanceSq:function(c){var u=c.x-this.x,h=c.y-this.y,l=c.z-this.z||0;return u*u+h*h+l*l},length:function(){var c=this.x,u=this.y,h=this.z;return Math.sqrt(c*c+u*u+h*h)},lengthSq:function(){var c=this.x,u=this.y,h=this.z;return c*c+u*u+h*h},normalize:function(){var c=this.x,u=this.y,h=this.z,l=c*c+u*u+h*h;return l>0&&(l=1/Math.sqrt(l),this.x=c*l,this.y=u*l,this.z=h*l),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z},cross:function(c){var u=this.x,h=this.y,l=this.z,d=c.x,v=c.y,f=c.z;return this.x=h*f-l*v,this.y=l*d-u*f,this.z=u*v-h*d,this},lerp:function(c,u){u===void 0&&(u=0);var h=this.x,l=this.y,d=this.z;return this.x=h+u*(c.x-h),this.y=l+u*(c.y-l),this.z=d+u*(c.z-d),this},applyMatrix3:function(c){var u=this.x,h=this.y,l=this.z,d=c.val;return this.x=d[0]*u+d[3]*h+d[6]*l,this.y=d[1]*u+d[4]*h+d[7]*l,this.z=d[2]*u+d[5]*h+d[8]*l,this},applyMatrix4:function(c){var u=this.x,h=this.y,l=this.z,d=c.val,v=1/(d[3]*u+d[7]*h+d[11]*l+d[15]);return this.x=(d[0]*u+d[4]*h+d[8]*l+d[12])*v,this.y=(d[1]*u+d[5]*h+d[9]*l+d[13])*v,this.z=(d[2]*u+d[6]*h+d[10]*l+d[14])*v,this},transformMat3:function(c){var u=this.x,h=this.y,l=this.z,d=c.val;return this.x=u*d[0]+h*d[3]+l*d[6],this.y=u*d[1]+h*d[4]+l*d[7],this.z=u*d[2]+h*d[5]+l*d[8],this},transformMat4:function(c){var u=this.x,h=this.y,l=this.z,d=c.val;return this.x=d[0]*u+d[4]*h+d[8]*l+d[12],this.y=d[1]*u+d[5]*h+d[9]*l+d[13],this.z=d[2]*u+d[6]*h+d[10]*l+d[14],this},transformCoordinates:function(c){var u=this.x,h=this.y,l=this.z,d=c.val,v=u*d[0]+h*d[4]+l*d[8]+d[12],f=u*d[1]+h*d[5]+l*d[9]+d[13],g=u*d[2]+h*d[6]+l*d[10]+d[14],m=u*d[3]+h*d[7]+l*d[11]+d[15];return this.x=v/m,this.y=f/m,this.z=g/m,this},transformQuat:function(c){var u=this.x,h=this.y,l=this.z,d=c.x,v=c.y,f=c.z,g=c.w,m=g*u+v*l-f*h,x=g*h+f*u-d*l,y=g*l+d*h-v*u,b=-d*u-v*h-f*l;return this.x=m*g+b*-d+x*-f-y*-v,this.y=x*g+b*-v+y*-d-m*-f,this.z=y*g+b*-f+m*-v-x*-d,this},project:function(c){var u=this.x,h=this.y,l=this.z,d=c.val,v=d[0],f=d[1],g=d[2],m=d[3],x=d[4],y=d[5],b=d[6],M=d[7],C=d[8],w=d[9],S=d[10],I=d[11],T=d[12],k=d[13],E=d[14],A=d[15],L=1/(u*m+h*M+l*I+A);return this.x=(u*v+h*x+l*C+T)*L,this.y=(u*f+h*y+l*w+k)*L,this.z=(u*g+h*b+l*S+E)*L,this},projectViewMatrix:function(c,u){return this.applyMatrix4(c).applyMatrix4(u)},unprojectViewMatrix:function(c,u){return this.applyMatrix4(c).applyMatrix4(u)},unproject:function(c,u){var h=c.x,l=c.y,d=c.z,v=c.w,f=this.x-h,g=v-this.y-1-l,m=this.z;return this.x=2*f/d-1,this.y=2*g/v-1,this.z=2*m-1,this.project(u)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),r.exports=p},61369:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=h||0,this.z=l||0,this.w=d||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this.w=c.w||0,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w},set:function(c,u,h,l){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=u||0,this.z=h||0,this.w=l||0),this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this.w+=c.w||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this.w-=c.w||0,this},scale:function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},length:function(){var c=this.x,u=this.y,h=this.z,l=this.w;return Math.sqrt(c*c+u*u+h*h+l*l)},lengthSq:function(){var c=this.x,u=this.y,h=this.z,l=this.w;return c*c+u*u+h*h+l*l},normalize:function(){var c=this.x,u=this.y,h=this.z,l=this.w,d=c*c+u*u+h*h+l*l;return d>0&&(d=1/Math.sqrt(d),this.x=c*d,this.y=u*d,this.z=h*d,this.w=l*d),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lerp:function(c,u){u===void 0&&(u=0);var h=this.x,l=this.y,d=this.z,v=this.w;return this.x=h+u*(c.x-h),this.y=l+u*(c.y-l),this.z=d+u*(c.z-d),this.w=v+u*(c.w-v),this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this.w*=c.w||1,this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this.w/=c.w||1,this},distance:function(c){var u=c.x-this.x,h=c.y-this.y,l=c.z-this.z||0,d=c.w-this.w||0;return Math.sqrt(u*u+h*h+l*l+d*d)},distanceSq:function(c){var u=c.x-this.x,h=c.y-this.y,l=c.z-this.z||0,d=c.w-this.w||0;return u*u+h*h+l*l+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(c){var u=this.x,h=this.y,l=this.z,d=this.w,v=c.val;return this.x=v[0]*u+v[4]*h+v[8]*l+v[12]*d,this.y=v[1]*u+v[5]*h+v[9]*l+v[13]*d,this.z=v[2]*u+v[6]*h+v[10]*l+v[14]*d,this.w=v[3]*u+v[7]*h+v[11]*l+v[15]*d,this},transformQuat:function(c){var u=this.x,h=this.y,l=this.z,d=c.x,v=c.y,f=c.z,g=c.w,m=g*u+v*l-f*h,x=g*h+f*u-d*l,y=g*l+d*h-v*u,b=-d*u-v*h-f*l;return this.x=m*g+b*-d+x*-f-y*-v,this.y=x*g+b*-v+y*-d-m*-f,this.z=y*g+b*-f+m*-v-x*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,r.exports=p},60417:r=>{var o=function(t,a,p){return Math.abs(t-a)<=p};r.exports=o},15994:r=>{var o=function(t,a,p){var c=p-a;return a+((t-a)%c+c)%c};r.exports=o},31040:r=>{var o=function(t,a,p,c){return Math.atan2(c-a,p-t)};r.exports=o},55495:r=>{var o=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)};r.exports=o},128:r=>{var o=function(t,a){return Math.atan2(a.x-t.x,a.y-t.y)};r.exports=o},41273:r=>{var o=function(t,a,p,c){return Math.atan2(p-t,c-a)};r.exports=o},1432:(r,o,t)=>{var a=t(36383),p=function(c){return c>Math.PI&&(c-=a.PI2),Math.abs(((c+a.TAU)%a.PI2-a.PI2)%a.PI2)};r.exports=p},12407:r=>{var o=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};r.exports=o},53993:(r,o,t)=>{var a=t(99472),p=function(){return a(-Math.PI,Math.PI)};r.exports=p},86564:(r,o,t)=>{var a=t(99472),p=function(){return a(-180,180)};r.exports=p},90154:(r,o,t)=>{var a=t(12407),p=function(c){return a(c+Math.PI)};r.exports=p},48736:(r,o,t)=>{var a=t(36383),p=function(c,u,h){return h===void 0&&(h=.05),c===u||(Math.abs(u-c)<=h||Math.abs(u-c)>=a.PI2-h?c=u:(Math.abs(u-c)>Math.PI&&(u<c?u+=a.PI2:u-=a.PI2),u>c?c+=h:u<c&&(c-=h))),c};r.exports=p},61430:r=>{var o=function(t,a){var p=a-t;if(p===0)return 0;var c=Math.floor((p- -180)/360);return p-c*360};r.exports=o},86554:(r,o,t)=>{var a=t(15994),p=function(c){return a(c,-Math.PI,Math.PI)};r.exports=p},30954:(r,o,t)=>{var a=t(15994),p=function(c){return a(c,-180,180)};r.exports=p},25588:(r,o,t)=>{r.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:r=>{var o={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};r.exports=o},20339:r=>{var o=function(t,a,p,c){var u=t-p,h=a-c;return Math.sqrt(u*u+h*h)};r.exports=o},52816:r=>{var o=function(t,a){var p=t.x-a.x,c=t.y-a.y;return Math.sqrt(p*p+c*c)};r.exports=o},64559:r=>{var o=function(t,a){var p=t.x-a.x,c=t.y-a.y;return p*p+c*c};r.exports=o},82340:r=>{var o=function(t,a,p,c){return Math.max(Math.abs(t-p),Math.abs(a-c))};r.exports=o},14390:r=>{var o=function(t,a,p,c,u){return u===void 0&&(u=2),Math.sqrt(Math.pow(p-t,u)+Math.pow(c-a,u))};r.exports=o},2243:r=>{var o=function(t,a,p,c){return Math.abs(t-p)+Math.abs(a-c)};r.exports=o},89774:r=>{var o=function(t,a,p,c){var u=t-p,h=a-c;return u*u+h*h};r.exports=o},50994:(r,o,t)=>{r.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(r,o,t)=>{var a=t(54178),p=t(41521),c=t(79980),u=t(85433),h=t(99140),l=t(48857),d=t(81596),v=t(59133),f=t(98516),g=t(35248),m=t(82500),x=t(49752);r.exports={Power0:d,Power1:v.Out,Power2:u.Out,Power3:f.Out,Power4:g.Out,Linear:d,Quad:v.Out,Cubic:u.Out,Quart:f.Out,Quint:g.Out,Sine:m.Out,Expo:l.Out,Circ:c.Out,Elastic:h.Out,Back:a.Out,Bounce:p.Out,Stepped:x,"Quad.easeIn":v.In,"Cubic.easeIn":u.In,"Quart.easeIn":f.In,"Quint.easeIn":g.In,"Sine.easeIn":m.In,"Expo.easeIn":l.In,"Circ.easeIn":c.In,"Elastic.easeIn":h.In,"Back.easeIn":a.In,"Bounce.easeIn":p.In,"Quad.easeOut":v.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":f.Out,"Quint.easeOut":g.Out,"Sine.easeOut":m.Out,"Expo.easeOut":l.Out,"Circ.easeOut":c.Out,"Elastic.easeOut":h.Out,"Back.easeOut":a.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":f.InOut,"Quint.easeInOut":g.InOut,"Sine.easeInOut":m.InOut,"Expo.easeInOut":l.InOut,"Circ.easeInOut":c.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":p.InOut}},1639:r=>{var o=function(t,a){return a===void 0&&(a=1.70158),t*t*((a+1)*t-a)};r.exports=o},50099:r=>{var o=function(t,a){a===void 0&&(a=1.70158);var p=a*1.525;return(t*=2)<1?.5*(t*t*((p+1)*t-p)):.5*((t-=2)*t*((p+1)*t+p)+2)};r.exports=o},41286:r=>{var o=function(t,a){return a===void 0&&(a=1.70158),--t*t*((a+1)*t+a)+1};r.exports=o},54178:(r,o,t)=>{r.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:r=>{var o=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};r.exports=o},41788:r=>{var o=function(t){var a=!1;return t<.5?(t=1-t*2,a=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,a?(1-t)*.5:t*.5+.5};r.exports=o},69905:r=>{var o=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};r.exports=o},41521:(r,o,t)=>{r.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:r=>{var o=function(t){return 1-Math.sqrt(1-t*t)};r.exports=o},4177:r=>{var o=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};r.exports=o},57512:r=>{var o=function(t){return Math.sqrt(1- --t*t)};r.exports=o},79980:(r,o,t)=>{r.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:r=>{var o=function(t){return t*t*t};r.exports=o},82820:r=>{var o=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};r.exports=o},35033:r=>{var o=function(t){return--t*t*t+1};r.exports=o},85433:(r,o,t)=>{r.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:r=>{var o=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var c=p/4;return a<1?a=1:c=p*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-c)*(2*Math.PI)/p))};r.exports=o},50665:r=>{var o=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var c=p/4;return a<1?a=1:c=p*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-c)*(2*Math.PI)/p)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-c)*(2*Math.PI)/p)*.5+1};r.exports=o},7744:r=>{var o=function(t,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var c=p/4;return a<1?a=1:c=p*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-c)*(2*Math.PI)/p)+1};r.exports=o},99140:(r,o,t)=>{r.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:r=>{var o=function(t){return Math.pow(2,10*(t-1))-.001};r.exports=o},87844:r=>{var o=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};r.exports=o},89433:r=>{var o=function(t){return 1-Math.pow(2,-10*t)};r.exports=o},48857:(r,o,t)=>{r.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(r,o,t)=>{r.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:r=>{var o=function(t){return t};r.exports=o},81596:(r,o,t)=>{r.exports=t(7147)},34826:r=>{var o=function(t){return t*t};r.exports=o},20544:r=>{var o=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};r.exports=o},92029:r=>{var o=function(t){return t*(2-t)};r.exports=o},59133:(r,o,t)=>{r.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:r=>{var o=function(t){return t*t*t*t};r.exports=o},78137:r=>{var o=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};r.exports=o},45840:r=>{var o=function(t){return 1- --t*t*t*t};r.exports=o},98516:(r,o,t)=>{r.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:r=>{var o=function(t){return t*t*t*t*t};r.exports=o},16509:r=>{var o=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};r.exports=o},17868:r=>{var o=function(t){return--t*t*t*t*t+1};r.exports=o},35248:(r,o,t)=>{r.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:r=>{var o=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};r.exports=o},34025:r=>{var o=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};r.exports=o},52768:r=>{var o=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};r.exports=o},82500:(r,o,t)=>{r.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:r=>{var o=function(t,a){return a===void 0&&(a=1),t<=0?0:t>=1?1:((a*t|0)+1)*(1/a)};r.exports=o},49752:(r,o,t)=>{r.exports=t(72251)},75698:r=>{var o=function(t,a){return a===void 0&&(a=1e-4),Math.ceil(t-a)};r.exports=o},43855:r=>{var o=function(t,a,p){return p===void 0&&(p=1e-4),Math.abs(t-a)<p};r.exports=o},25777:r=>{var o=function(t,a){return a===void 0&&(a=1e-4),Math.floor(t+a)};r.exports=o},5470:r=>{var o=function(t,a,p){return p===void 0&&(p=1e-4),t>a-p};r.exports=o},94977:r=>{var o=function(t,a,p){return p===void 0&&(p=1e-4),t<a+p};r.exports=o},48379:(r,o,t)=>{r.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(r,o,t)=>{var a=t(36383),p=t(79291),c={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};c=p(!1,c,a),r.exports=c},89318:(r,o,t)=>{var a=t(85710),p=function(c,u){for(var h=0,l=c.length-1,d=0;d<=l;d++)h+=Math.pow(1-u,l-d)*Math.pow(u,d)*c[d]*a(l,d);return h};r.exports=p},77259:(r,o,t)=>{var a=t(87842),p=function(c,u){var h=c.length-1,l=h*u,d=Math.floor(l);return c[0]===c[h]?(u<0&&(d=Math.floor(l=h*(1+u))),a(l-d,c[(d-1+h)%h],c[d],c[(d+1)%h],c[(d+2)%h])):u<0?c[0]-(a(-l,c[0],c[0],c[1],c[1])-c[0]):u>1?c[h]-(a(l-h,c[h],c[h],c[h-1],c[h-1])-c[h]):a(l-d,c[d?d-1:0],c[d],c[h<d+1?h:d+1],c[h<d+2?h:d+2])};r.exports=p},36316:r=>{function o(u,h){var l=1-u;return l*l*l*h}function t(u,h){var l=1-u;return 3*l*l*u*h}function a(u,h){return 3*(1-u)*u*u*h}function p(u,h){return u*u*u*h}var c=function(u,h,l,d,v){return o(u,h)+t(u,l)+a(u,d)+p(u,v)};r.exports=c},28392:(r,o,t)=>{var a=t(28915),p=function(c,u){var h=c.length-1,l=h*u,d=Math.floor(l);return u<0?a(c[0],c[1],l):u>1?a(c[h],c[h-1],h-l):a(c[d],c[d+1>h?h:d+1],l-d)};r.exports=p},32112:r=>{function o(c,u){var h=1-c;return h*h*u}function t(c,u){return 2*(1-c)*c*u}function a(c,u){return c*c*u}var p=function(c,u,h,l){return o(c,u)+t(c,h)+a(c,l)};r.exports=p},47235:(r,o,t)=>{var a=t(7602),p=function(c,u,h){return u+(h-u)*a(c,0,1)};r.exports=p},50178:(r,o,t)=>{var a=t(54261),p=function(c,u,h){return u+(h-u)*a(c,0,1)};r.exports=p},38289:(r,o,t)=>{r.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:r=>{var o=function(t){var a=Math.log(t)/.6931471805599453;return 1<<Math.ceil(a)};r.exports=o},50030:r=>{var o=function(t,a){return t>0&&(t&t-1)===0&&a>0&&(a&a-1)===0};r.exports=o},81230:r=>{var o=function(t){return t>0&&(t&t-1)===0};r.exports=o},49001:(r,o,t)=>{r.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u){u===void 0&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},rnd:function(){var c=2091639*this.s0+this.c*23283064365386963e-26;return this.c=c|0,this.s0=this.s1,this.s1=this.s2,this.s2=c-this.c,this.s2},hash:function(c){var u,h=this.n;c=c.toString();for(var l=0;l<c.length;l++)h+=c.charCodeAt(l),u=.02519603282416938*h,h=u>>>0,u-=h,u*=h,h=u>>>0,u-=h,h+=u*4294967296;return this.n=h,(h>>>0)*23283064365386963e-26},init:function(c){typeof c=="string"?this.state(c):this.sow(c)},sow:function(c){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!c)for(var u=0;u<c.length&&c[u]!=null;u++){var h=c[u];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(c,u){return Math.floor(this.realInRange(0,u-c+1)+c)},between:function(c,u){return Math.floor(this.realInRange(0,u-c+1)+c)},realInRange:function(c,u){return this.frac()*(u-c)+c},normal:function(){return 1-2*this.frac()},uuid:function(){var c="",u="";for(u=c="";c++<36;u+=~c%5|c*3&4?(c^15?8^this.frac()*(c^20?16:4):4).toString(16):"-");return u},pick:function(c){return c[this.integerInRange(0,c.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(c){return c[~~(Math.pow(this.frac(),2)*(c.length-.5)+.5)]},timestamp:function(c,u){return this.realInRange(c||9466848e5,u||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(c){return typeof c=="string"&&c.match(/^!rnd/)&&(c=c.split(","),this.c=parseFloat(c[1]),this.s0=parseFloat(c[2]),this.s1=parseFloat(c[3]),this.s2=parseFloat(c[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(c){for(var u=c.length-1,h=u;h>0;h--){var l=Math.floor(this.frac()*(h+1)),d=c[l];c[l]=c[h],c[h]=d}return c}});r.exports=p},63448:r=>{var o=function(t,a,p,c){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.ceil(t/a),c?(p+t)/a:p+t)};r.exports=o},56583:r=>{var o=function(t,a,p,c){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.floor(t/a),c?(p+t)/a:p+t)};r.exports=o},77720:r=>{var o=function(t,a,p,c){return p===void 0&&(p=0),a===0?t:(t-=p,t=a*Math.round(t/a),c?(p+t)/a:p+t)};r.exports=o},73697:(r,o,t)=>{r.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(r,o,t)=>{t(63595);var a=t(8054),p=t(79291),c={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};c.Sound=t(23717),c=p(!1,c,a),r.exports=c,t.g.Phaser=c},71289:(r,o,t)=>{var a=t(83419),p=t(92209),c=t(88571),u=new a({Extends:c,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(l,d,v,f,g){c.call(this,l,d,v,f,g),this.body=null}});r.exports=u},86689:(r,o,t)=>{var a=t(83419),p=t(39506),c=t(20339),u=t(89774),h=t(66022),l=t(95540),d=t(46975),v=t(72441),f=t(47956),g=t(37277),m=t(44594),x=t(26099),y=t(82248),b=new a({initialize:function(C){this.scene=C,this.systems=C.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,C.sys.events.once(m.BOOT,this.boot,this),C.sys.events.on(m.START,this.start,this)},boot:function(){this.world=new y(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(m.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new y(this.scene,this.config),this.add=new h(this.world));var M=this.systems.events;l(this.config,"customUpdate",!1)||M.on(m.UPDATE,this.world.update,this.world),M.on(m.POST_UPDATE,this.world.postUpdate,this.world),M.once(m.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(m.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(m.UPDATE,this.world.update,this.world)},getConfig:function(){var M=this.systems.game.config.physics,C=this.systems.settings.physics,w=d(l(C,"arcade",{}),l(M,"arcade",{}));return w},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(M,C,w,S,I){return w===void 0&&(w=null),S===void 0&&(S=null),I===void 0&&(I=w),this.world.collideObjects(M,C,w,S,I,!0)},collide:function(M,C,w,S,I){return w===void 0&&(w=null),S===void 0&&(S=null),I===void 0&&(I=w),this.world.collideObjects(M,C,w,S,I,!1)},collideTiles:function(M,C,w,S,I){return this.world.collideTiles(M,C,w,S,I)},overlapTiles:function(M,C,w,S,I){return this.world.overlapTiles(M,C,w,S,I)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(M,C,w,S,I,T){S===void 0&&(S=60);var k=Math.atan2(w-M.y,C-M.x);return M.body.acceleration.setToPolar(k,S),I!==void 0&&T!==void 0&&M.body.maxVelocity.set(I,T),k},accelerateToObject:function(M,C,w,S,I){return this.accelerateTo(M,C.x,C.y,w,S,I)},closest:function(M,C){C||(C=this.world.bodies.entries);for(var w=Number.MAX_VALUE,S=null,I=M.x,T=M.y,k=C.length,E=0;E<k;E++){var A=C[E],L=A.body||A;if(!(M===A||M===L||M===L.gameObject||M===L.center)){var D=u(I,T,L.center.x,L.center.y);D<w&&(S=A,w=D)}}return S},furthest:function(M,C){C||(C=this.world.bodies.entries);for(var w=-1,S=null,I=M.x,T=M.y,k=C.length,E=0;E<k;E++){var A=C[E],L=A.body||A;if(!(M===A||M===L||M===L.gameObject||M===L.center)){var D=u(I,T,L.center.x,L.center.y);D>w&&(S=A,w=D)}}return S},moveTo:function(M,C,w,S,I){S===void 0&&(S=60),I===void 0&&(I=0);var T=Math.atan2(w-M.y,C-M.x);return I>0&&(S=c(M.x,M.y,C,w)/(I/1e3)),M.body.velocity.setToPolar(T,S),T},moveToObject:function(M,C,w,S){return this.moveTo(M,C.x,C.y,w,S)},velocityFromAngle:function(M,C,w){return C===void 0&&(C=60),w===void 0&&(w=new x),w.setToPolar(p(M),C)},velocityFromRotation:function(M,C,w){return C===void 0&&(C=60),w===void 0&&(w=new x),w.setToPolar(M,C)},overlapRect:function(M,C,w,S,I,T){return f(this.world,M,C,w,S,I,T)},overlapCirc:function(M,C,w,S,I){return v(this.world,M,C,w,S,I)},shutdown:function(){if(this.world){var M=this.systems.events;M.off(m.UPDATE,this.world.update,this.world),M.off(m.POST_UPDATE,this.world.postUpdate,this.world),M.off(m.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(m.START,this.start,this),this.scene=null,this.systems=null}});g.register("ArcadePhysics",b,"arcadePhysics"),r.exports=b},13759:(r,o,t)=>{var a=t(83419),p=t(92209),c=t(68287),u=new a({Extends:c,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(l,d,v,f,g){c.call(this,l,d,v,f,g),this.body=null}});r.exports=u},37742:(r,o,t)=>{var a=t(83419),p=t(78389),c=t(37747),u=t(63012),h=t(43396),l=t(87841),d=t(37303),v=t(95829),f=t(26099),g=new a({Mixins:[p],initialize:function(x,y){var b=64,M=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},w=y!==void 0;w&&y.displayWidth&&(b=y.displayWidth,M=y.displayHeight),w||(y=C),this.world=x,this.gameObject=w?y:void 0,this.isBody=!0,this.transform={x:y.x,y:y.y,rotation:y.angle,scaleX:y.scaleX,scaleY:y.scaleY,displayOriginX:y.displayOriginX,displayOriginY:y.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(y.x-y.scaleX*y.displayOriginX,y.y-y.scaleY*y.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=y.angle,this.preRotation=y.angle,this.width=b,this.height=M,this.sourceWidth=b,this.sourceHeight=M,y.frame&&(this.sourceWidth=y.frame.realWidth,this.sourceHeight=y.frame.realHeight),this.halfWidth=Math.abs(b/2),this.halfHeight=Math.abs(M/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new f,this.newVelocity=new f,this.deltaMax=new f,this.acceleration=new f,this.allowDrag=!0,this.drag=new f,this.allowGravity=!0,this.gravity=new f,this.bounce=new f,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new f(1e4,1e4),this.maxSpeed=-1,this.friction=new f(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new f(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=y.scaleX,this._sy=y.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new l,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var m=this.gameObject,x=this.transform;if(m.parentContainer){var y=m.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=y.tx,x.y=y.ty,x.rotation=h(y.rotation),x.scaleX=y.scaleX,x.scaleY=y.scaleY,x.displayOriginX=m.displayOriginX,x.displayOriginY=m.displayOriginY}else x.x=m.x,x.y=m.y,x.rotation=m.angle,x.scaleX=m.scaleX,x.scaleY=m.scaleY,x.displayOriginX=m.displayOriginX,x.displayOriginY=m.displayOriginY;var b=!1;if(this.syncBounds){var M=m.getBounds(this._bounds);this.width=M.width,this.height=M.height,b=!0}else{var C=Math.abs(x.scaleX),w=Math.abs(x.scaleY);(this._sx!==C||this._sy!==w)&&(this.width=this.sourceWidth*C,this.height=this.sourceHeight*w,this._sx=C,this._sy=w,b=!0)}b&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var m=this.transform;this.position.x=m.x+m.scaleX*(this.offset.x-m.displayOriginX),this.position.y=m.y+m.scaleY*(this.offset.y-m.displayOriginY),this.updateCenter()},resetFlags:function(m){m===void 0&&(m=!1);var x=this.wasTouching,y=this.touching,b=this.blocked;m?v(!0,x):(x.none=y.none,x.up=y.up,x.down=y.down,x.left=y.left,x.right=y.right),v(!0,y),v(!0,b),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(m,x){if(m&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var y=this.position;this.prev.x=y.x,this.prev.y=y.y,this.prevFrame.x=y.x,this.prevFrame.y=y.y}m&&this.update(x)},update:function(m){var x=this.prev,y=this.position,b=this.velocity;if(x.set(y.x,y.y),!this.moves){this._dx=y.x-x.x,this._dy=y.y-x.y;return}if(this.directControl){var M=this.autoFrame;b.set((y.x-M.x)/m,(y.y-M.y)/m),this.world.updateMotion(this,m),this._dx=y.x-M.x,this._dy=y.y-M.y}else this.world.updateMotion(this,m),this.newVelocity.set(b.x*m,b.y*m),y.add(this.newVelocity),this._dx=y.x-x.x,this._dy=y.y-x.y;var C=b.x,w=b.y;if(this.updateCenter(),this.angle=Math.atan2(w,C),this.speed=Math.sqrt(C*C+w*w),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var S=this.blocked;this.world.emit(u.WORLD_BOUNDS,this,S.up,S.down,S.left,S.right)}},postUpdate:function(){var m=this.position,x=m.x-this.prevFrame.x,y=m.y-this.prevFrame.y,b=this.gameObject;if(this.moves){var M=this.deltaMax.x,C=this.deltaMax.y;M!==0&&x!==0&&(x<0&&x<-M?x=-M:x>0&&x>M&&(x=M)),C!==0&&y!==0&&(y<0&&y<-C?y=-C:y>0&&y>C&&(y=C)),b&&(b.x+=x,b.y+=y)}x<0?this.facing=c.FACING_LEFT:x>0&&(this.facing=c.FACING_RIGHT),y<0?this.facing=c.FACING_UP:y>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&b&&(b.angle+=this.deltaZ()),this._tx=x,this._ty=y,this.autoFrame.set(m.x,m.y)},setBoundsRectangle:function(m){return this.customBoundsRectangle=m||this.world.bounds,this},checkWorldBounds:function(){var m=this.position,x=this.velocity,y=this.blocked,b=this.customBoundsRectangle,M=this.world.checkCollision,C=this.worldBounce?-this.worldBounce.x:-this.bounce.x,w=this.worldBounce?-this.worldBounce.y:-this.bounce.y,S=!1;return m.x<b.x&&M.left?(m.x=b.x,x.x*=C,y.left=!0,S=!0):this.right>b.right&&M.right&&(m.x=b.right-this.width,x.x*=C,y.right=!0,S=!0),m.y<b.y&&M.up?(m.y=b.y,x.y*=w,y.up=!0,S=!0):this.bottom>b.bottom&&M.down&&(m.y=b.bottom-this.height,x.y*=w,y.down=!0,S=!0),S&&(this.blocked.none=!1,this.updateCenter()),S},setOffset:function(m,x){return x===void 0&&(x=m),this.offset.set(m,x),this},setGameObject:function(m,x){if(x===void 0&&(x=!0),!m||!m.hasTransformComponent)return this;var y=this.world;return this.gameObject&&this.gameObject.body&&(y.disable(this.gameObject),this.gameObject.body=null),m.body&&y.disable(m),this.gameObject=m,m.body=this,this.setSize(),this.enable=x,this},setSize:function(m,x,y){y===void 0&&(y=!0);var b=this.gameObject;if(b&&(!m&&b.frame&&(m=b.frame.realWidth),!x&&b.frame&&(x=b.frame.realHeight)),this.sourceWidth=m,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),y&&b&&b.getCenter){var M=(b.width-m)/2,C=(b.height-x)/2;this.offset.set(M,C)}return this.isCircle=!1,this.radius=0,this},setCircle:function(m,x,y){return x===void 0&&(x=this.offset.x),y===void 0&&(y=this.offset.y),m>0?(this.isCircle=!0,this.radius=m,this.sourceWidth=m*2,this.sourceHeight=m*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,y),this.updateCenter()):this.isCircle=!1,this},reset:function(m,x){this.stop();var y=this.gameObject;y&&(y.setPosition(m,x),this.rotation=y.angle,this.preRotation=y.angle);var b=this.position;y&&y.getTopLeft?y.getTopLeft(b):b.set(m,x),this.prev.copy(b),this.prevFrame.copy(b),this.autoFrame.copy(b),y&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(m){return m.x=this.x,m.y=this.y,m.right=this.right,m.bottom=this.bottom,m},hitTest:function(m,x){if(!this.isCircle)return d(this,m,x);if(this.radius>0&&m>=this.left&&m<=this.right&&x>=this.top&&x<=this.bottom){var y=(this.center.x-m)*(this.center.x-m),b=(this.center.y-x)*(this.center.y-x);return y+b<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(m){var x=this.position,y=x.x+this.halfWidth,b=x.y+this.halfHeight;this.debugShowBody&&(m.lineStyle(m.defaultStrokeWidth,this.debugBodyColor),this.isCircle?m.strokeCircle(y,b,this.width/2):(this.checkCollision.up&&m.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&m.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&m.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&m.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(m.lineStyle(m.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),m.lineBetween(y,b,y+this.velocity.x/2,b+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(m){return m===void 0&&(m=!0),this.directControl=m,this},setCollideWorldBounds:function(m,x,y,b){m===void 0&&(m=!0),this.collideWorldBounds=m;var M=x!==void 0,C=y!==void 0;return(M||C)&&(this.worldBounce||(this.worldBounce=new f),M&&(this.worldBounce.x=x),C&&(this.worldBounce.y=y)),b!==void 0&&(this.onWorldBounds=b),this},setVelocity:function(m,x){return this.velocity.set(m,x),m=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(m*m+x*x),this},setVelocityX:function(m){return this.setVelocity(m,this.velocity.y)},setVelocityY:function(m){return this.setVelocity(this.velocity.x,m)},setMaxVelocity:function(m,x){return this.maxVelocity.set(m,x),this},setMaxVelocityX:function(m){return this.maxVelocity.x=m,this},setMaxVelocityY:function(m){return this.maxVelocity.y=m,this},setMaxSpeed:function(m){return this.maxSpeed=m,this},setSlideFactor:function(m,x){return this.slideFactor.set(m,x),this},setBounce:function(m,x){return this.bounce.set(m,x),this},setBounceX:function(m){return this.bounce.x=m,this},setBounceY:function(m){return this.bounce.y=m,this},setAcceleration:function(m,x){return this.acceleration.set(m,x),this},setAccelerationX:function(m){return this.acceleration.x=m,this},setAccelerationY:function(m){return this.acceleration.y=m,this},setAllowDrag:function(m){return m===void 0&&(m=!0),this.allowDrag=m,this},setAllowGravity:function(m){return m===void 0&&(m=!0),this.allowGravity=m,this},setAllowRotation:function(m){return m===void 0&&(m=!0),this.allowRotation=m,this},setDrag:function(m,x){return this.drag.set(m,x),this},setDamping:function(m){return this.useDamping=m,this},setDragX:function(m){return this.drag.x=m,this},setDragY:function(m){return this.drag.y=m,this},setGravity:function(m,x){return this.gravity.set(m,x),this},setGravityX:function(m){return this.gravity.x=m,this},setGravityY:function(m){return this.gravity.y=m,this},setFriction:function(m,x){return this.friction.set(m,x),this},setFrictionX:function(m){return this.friction.x=m,this},setFrictionY:function(m){return this.friction.y=m,this},setAngularVelocity:function(m){return this.angularVelocity=m,this},setAngularAcceleration:function(m){return this.angularAcceleration=m,this},setAngularDrag:function(m){return this.angularDrag=m,this},setMass:function(m){return this.mass=m,this},setImmovable:function(m){return m===void 0&&(m=!0),this.immovable=m,this},setEnable:function(m){return m===void 0&&(m=!0),this.enable=m,this},processX:function(m,x,y,b){this.x+=m,this.updateCenter(),x!==null&&(this.velocity.x=x*this.slideFactor.x);var M=this.blocked;y&&(M.left=!0,M.none=!1),b&&(M.right=!0,M.none=!1)},processY:function(m,x,y,b){this.y+=m,this.updateCenter(),x!==null&&(this.velocity.y=x*this.slideFactor.y);var M=this.blocked;y&&(M.up=!0,M.none=!1),b&&(M.down=!0,M.none=!1)},x:{get:function(){return this.position.x},set:function(m){this.position.x=m}},y:{get:function(){return this.position.y},set:function(m){this.position.y=m}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=g},79342:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l,d,v,f,g){this.world=u,this.name="",this.active=!0,this.overlapOnly=h,this.object1=l,this.object2=d,this.collideCallback=v,this.processCallback=f,this.callbackContext=g},setName:function(c){return this.name=c,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});r.exports=p},66022:(r,o,t)=>{var a=t(71289),p=t(13759),c=t(37742),u=t(83419),h=t(37747),l=t(60758),d=t(72624),v=t(71464),f=new u({initialize:function(m){this.world=m,this.scene=m.scene,this.sys=m.scene.sys},collider:function(g,m,x,y,b){return this.world.addCollider(g,m,x,y,b)},overlap:function(g,m,x,y,b){return this.world.addOverlap(g,m,x,y,b)},existing:function(g,m){var x=m?h.STATIC_BODY:h.DYNAMIC_BODY;return this.world.enableBody(g,x),g},staticImage:function(g,m,x,y){var b=new a(this.scene,g,m,x,y);return this.sys.displayList.add(b),this.world.enableBody(b,h.STATIC_BODY),b},image:function(g,m,x,y){var b=new a(this.scene,g,m,x,y);return this.sys.displayList.add(b),this.world.enableBody(b,h.DYNAMIC_BODY),b},staticSprite:function(g,m,x,y){var b=new p(this.scene,g,m,x,y);return this.sys.displayList.add(b),this.sys.updateList.add(b),this.world.enableBody(b,h.STATIC_BODY),b},sprite:function(g,m,x,y){var b=new p(this.scene,g,m,x,y);return this.sys.displayList.add(b),this.sys.updateList.add(b),this.world.enableBody(b,h.DYNAMIC_BODY),b},staticGroup:function(g,m){return this.sys.updateList.add(new v(this.world,this.world.scene,g,m))},group:function(g,m){return this.sys.updateList.add(new l(this.world,this.world.scene,g,m))},body:function(g,m,x,y){var b=new c(this.world);return b.position.set(g,m),x&&y&&b.setSize(x,y),this.world.add(b,h.DYNAMIC_BODY),b},staticBody:function(g,m,x,y){var b=new d(this.world);return b.position.set(g,m),x&&y&&b.setSize(x,y),this.world.add(b,h.STATIC_BODY),b},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=f},79599:r=>{var o=function(t){var a=0;if(!Array.isArray(t))a=t;else for(var p=0;p<t.length;p++)a|=t[p];return a};r.exports=o},64897:(r,o,t)=>{var a=t(37747),p=function(c,u,h,l){var d=0,v=c.deltaAbsX()+u.deltaAbsX()+l;return c._dx===0&&u._dx===0?(c.embedded=!0,u.embedded=!0):c._dx>u._dx?(d=c.right-u.x,d>v&&!h||c.checkCollision.right===!1||u.checkCollision.left===!1?d=0:(c.touching.none=!1,c.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===a.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.right=!0),c.physicsType===a.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.left=!0))):c._dx<u._dx&&(d=c.x-u.width-u.x,-d>v&&!h||c.checkCollision.left===!1||u.checkCollision.right===!1?d=0:(c.touching.none=!1,c.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===a.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.left=!0),c.physicsType===a.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.right=!0))),c.overlapX=d,u.overlapX=d,d};r.exports=p},45170:(r,o,t)=>{var a=t(37747),p=function(c,u,h,l){var d=0,v=c.deltaAbsY()+u.deltaAbsY()+l;return c._dy===0&&u._dy===0?(c.embedded=!0,u.embedded=!0):c._dy>u._dy?(d=c.bottom-u.y,d>v&&!h||c.checkCollision.down===!1||u.checkCollision.up===!1?d=0:(c.touching.none=!1,c.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===a.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.down=!0),c.physicsType===a.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.up=!0))):c._dy<u._dy&&(d=c.y-u.bottom,-d>v&&!h||c.checkCollision.up===!1||u.checkCollision.down===!1?d=0:(c.touching.none=!1,c.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===a.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.up=!0),c.physicsType===a.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.down=!0))),c.overlapY=d,u.overlapY=d,d};r.exports=p},60758:(r,o,t)=>{var a=t(13759),p=t(83419),c=t(78389),u=t(37747),h=t(95540),l=t(26479),d=t(41212),v=new p({Extends:l,Mixins:[c],initialize:function(g,m,x,y){if(!x&&!y)y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(x))y=x,x=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&d(x[0])){var b=this;x.forEach(function(M){M.internalCreateCallback=b.createCallbackHandler,M.internalRemoveCallback=b.removeCallbackHandler,M.classType=h(M,"classType",a)}),y=null}else y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=g,y&&(y.classType=h(y,"classType",a)),this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:h(y,"collideWorldBounds",!1),setBoundsRectangle:h(y,"customBoundsRectangle",null),setAccelerationX:h(y,"accelerationX",0),setAccelerationY:h(y,"accelerationY",0),setAllowDrag:h(y,"allowDrag",!0),setAllowGravity:h(y,"allowGravity",!0),setAllowRotation:h(y,"allowRotation",!0),setDamping:h(y,"useDamping",!1),setBounceX:h(y,"bounceX",0),setBounceY:h(y,"bounceY",0),setDragX:h(y,"dragX",0),setDragY:h(y,"dragY",0),setEnable:h(y,"enable",!0),setGravityX:h(y,"gravityX",0),setGravityY:h(y,"gravityY",0),setFrictionX:h(y,"frictionX",0),setFrictionY:h(y,"frictionY",0),setMaxSpeed:h(y,"maxSpeed",-1),setMaxVelocityX:h(y,"maxVelocityX",1e4),setMaxVelocityY:h(y,"maxVelocityY",1e4),setVelocityX:h(y,"velocityX",0),setVelocityY:h(y,"velocityY",0),setAngularVelocity:h(y,"angularVelocity",0),setAngularAcceleration:h(y,"angularAcceleration",0),setAngularDrag:h(y,"angularDrag",0),setMass:h(y,"mass",1),setImmovable:h(y,"immovable",!1)},l.call(this,m,x,y),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,u.DYNAMIC_BODY);var g=f.body;for(var m in this.defaults)g[m](this.defaults[m])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,g,m){m===void 0&&(m=0);for(var x=this.getChildren(),y=0;y<x.length;y++)x[y].body.velocity.set(f+y*m,g+y*m);return this},setVelocityX:function(f,g){g===void 0&&(g=0);for(var m=this.getChildren(),x=0;x<m.length;x++)m[x].body.velocity.x=f+x*g;return this},setVelocityY:function(f,g){g===void 0&&(g=0);for(var m=this.getChildren(),x=0;x<m.length;x++)m[x].body.velocity.y=f+x*g;return this}});r.exports=v},3017:r=>{var o,t,a,p,c,u,h,l,d,v,f,g,m,x,y,b,M,C=function(E,A,L){o=E,t=A;var D=o.velocity.x,R=t.velocity.x;return a=o.pushable,d=o._dx<0,v=o._dx>0,f=o._dx===0,y=Math.abs(o.right-t.x)<=Math.abs(t.right-o.x),h=R-D*o.bounce.x,p=t.pushable,g=t._dx<0,m=t._dx>0,x=t._dx===0,b=!y,l=D-R*t.bounce.x,M=Math.abs(L),w()},w=function(){return v&&y&&t.blocked.right?(o.processX(-M,h,!1,!0),1):d&&b&&t.blocked.left?(o.processX(M,h,!0),1):m&&b&&o.blocked.right?(t.processX(-M,l,!1,!0),2):g&&y&&o.blocked.left?(t.processX(M,l,!0),2):0},S=function(){var E=o.velocity.x,A=t.velocity.x,L=Math.sqrt(A*A*t.mass/o.mass)*(A>0?1:-1),D=Math.sqrt(E*E*o.mass/t.mass)*(E>0?1:-1),R=(L+D)*.5;return L-=R,D-=R,c=R+L*o.bounce.x,u=R+D*t.bounce.x,d&&b?I(0):g&&y?I(1):v&&y?I(2):m&&b?I(3):!1},I=function(E){if(a&&p)M*=.5,E===0||E===3?(o.processX(M,c),t.processX(-M,u)):(o.processX(-M,c),t.processX(M,u));else if(a&&!p)E===0||E===3?o.processX(M,h,!0):o.processX(-M,h,!1,!0);else if(!a&&p)E===0||E===3?t.processX(-M,l,!1,!0):t.processX(M,l,!0);else{var A=M*.5;E===0?x?(o.processX(M,0,!0),t.processX(0,null,!1,!0)):m?(o.processX(A,0,!0),t.processX(-A,0,!1,!0)):(o.processX(A,t.velocity.x,!0),t.processX(-A,null,!1,!0)):E===1?f?(o.processX(0,null,!1,!0),t.processX(M,0,!0)):v?(o.processX(-A,0,!1,!0),t.processX(A,0,!0)):(o.processX(-A,null,!1,!0),t.processX(A,o.velocity.x,!0)):E===2?x?(o.processX(-M,0,!1,!0),t.processX(0,null,!0)):g?(o.processX(-A,0,!1,!0),t.processX(A,0,!0)):(o.processX(-A,t.velocity.x,!1,!0),t.processX(A,null,!0)):E===3&&(f?(o.processX(0,null,!0),t.processX(-M,0,!1,!0)):d?(o.processX(A,0,!0),t.processX(-A,0,!1,!0)):(o.processX(A,t.velocity.y,!0),t.processX(-A,null,!1,!0)))}return!0},T=function(E){if(E===1?t.velocity.x=0:y?t.processX(M,l,!0):t.processX(-M,l,!1,!0),o.moves){var A=o.directControl?o.y-o.autoFrame.y:o.y-o.prev.y;t.y+=A*o.friction.y,t._dy=t.y-t.prev.y}},k=function(E){if(E===2?o.velocity.x=0:b?o.processX(M,h,!0):o.processX(-M,h,!1,!0),t.moves){var A=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;o.y+=A*t.friction.y,o._dy=o.y-o.prev.y}};r.exports={BlockCheck:w,Check:S,Set:C,Run:I,RunImmovableBody1:T,RunImmovableBody2:k}},47962:r=>{var o,t,a,p,c,u,h,l,d,v,f,g,m,x,y,b,M,C=function(E,A,L){o=E,t=A;var D=o.velocity.y,R=t.velocity.y;return a=o.pushable,d=o._dy<0,v=o._dy>0,f=o._dy===0,y=Math.abs(o.bottom-t.y)<=Math.abs(t.bottom-o.y),h=R-D*o.bounce.y,p=t.pushable,g=t._dy<0,m=t._dy>0,x=t._dy===0,b=!y,l=D-R*t.bounce.y,M=Math.abs(L),w()},w=function(){return v&&y&&t.blocked.down?(o.processY(-M,h,!1,!0),1):d&&b&&t.blocked.up?(o.processY(M,h,!0),1):m&&b&&o.blocked.down?(t.processY(-M,l,!1,!0),2):g&&y&&o.blocked.up?(t.processY(M,l,!0),2):0},S=function(){var E=o.velocity.y,A=t.velocity.y,L=Math.sqrt(A*A*t.mass/o.mass)*(A>0?1:-1),D=Math.sqrt(E*E*o.mass/t.mass)*(E>0?1:-1),R=(L+D)*.5;return L-=R,D-=R,c=R+L*o.bounce.y,u=R+D*t.bounce.y,d&&b?I(0):g&&y?I(1):v&&y?I(2):m&&b?I(3):!1},I=function(E){if(a&&p)M*=.5,E===0||E===3?(o.processY(M,c),t.processY(-M,u)):(o.processY(-M,c),t.processY(M,u));else if(a&&!p)E===0||E===3?o.processY(M,h,!0):o.processY(-M,h,!1,!0);else if(!a&&p)E===0||E===3?t.processY(-M,l,!1,!0):t.processY(M,l,!0);else{var A=M*.5;E===0?x?(o.processY(M,0,!0),t.processY(0,null,!1,!0)):m?(o.processY(A,0,!0),t.processY(-A,0,!1,!0)):(o.processY(A,t.velocity.y,!0),t.processY(-A,null,!1,!0)):E===1?f?(o.processY(0,null,!1,!0),t.processY(M,0,!0)):v?(o.processY(-A,0,!1,!0),t.processY(A,0,!0)):(o.processY(-A,null,!1,!0),t.processY(A,o.velocity.y,!0)):E===2?x?(o.processY(-M,0,!1,!0),t.processY(0,null,!0)):g?(o.processY(-A,0,!1,!0),t.processY(A,0,!0)):(o.processY(-A,t.velocity.y,!1,!0),t.processY(A,null,!0)):E===3&&(f?(o.processY(0,null,!0),t.processY(-M,0,!1,!0)):d?(o.processY(A,0,!0),t.processY(-A,0,!1,!0)):(o.processY(A,t.velocity.y,!0),t.processY(-A,null,!1,!0)))}return!0},T=function(E){if(E===1?t.velocity.y=0:y?t.processY(M,l,!0):t.processY(-M,l,!1,!0),o.moves){var A=o.directControl?o.x-o.autoFrame.x:o.x-o.prev.x;t.x+=A*o.friction.x,t._dx=t.x-t.prev.x}},k=function(E){if(E===2?o.velocity.y=0:b?o.processY(M,h,!0):o.processY(-M,h,!1,!0),t.moves){var A=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;o.x+=A*t.friction.x,o._dx=o.x-o.prev.x}};r.exports={BlockCheck:w,Check:S,Set:C,Run:I,RunImmovableBody1:T,RunImmovableBody2:k}},14087:(r,o,t)=>{var a=t(64897),p=t(3017),c=function(u,h,l,d,v){v===void 0&&(v=a(u,h,l,d));var f=u.immovable,g=h.immovable;if(l||v===0||f&&g||u.customSeparateX||h.customSeparateX)return v!==0||u.embedded&&h.embedded;var m=p.Set(u,h,v);return!f&&!g?m>0?!0:p.Check():(f?p.RunImmovableBody1(m):g&&p.RunImmovableBody2(m),!0)};r.exports=c},89936:(r,o,t)=>{var a=t(45170),p=t(47962),c=function(u,h,l,d,v){v===void 0&&(v=a(u,h,l,d));var f=u.immovable,g=h.immovable;if(l||v===0||f&&g||u.customSeparateY||h.customSeparateY)return v!==0||u.embedded&&h.embedded;var m=p.Set(u,h,v);return!f&&!g?m>0?!0:p.Check():(f?p.RunImmovableBody1(m):g&&p.RunImmovableBody2(m),!0)};r.exports=c},95829:r=>{var o=function(t,a){return a===void 0&&(a={}),a.none=t,a.up=!1,a.down=!1,a.left=!1,a.right=!1,t||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};r.exports=o},72624:(r,o,t)=>{var a=t(87902),p=t(83419),c=t(78389),u=t(37747),h=t(37303),l=t(95829),d=t(26099),v=new p({Mixins:[c],initialize:function(g,m){var x=64,y=64,b={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},M=m!==void 0;M&&m.displayWidth&&(x=m.displayWidth,y=m.displayHeight),M||(m=b),this.world=g,this.gameObject=M?m:void 0,this.isBody=!0,this.debugShowBody=g.defaults.debugShowStaticBody,this.debugBodyColor=g.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(m.x-x*m.originX,m.y-y*m.originY),this.width=x,this.height=y,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(f,g,m){if(g===void 0&&(g=!0),m===void 0&&(m=!0),!f||!f.hasTransformComponent)return this;var x=this.world;return this.gameObject&&this.gameObject.body&&(x.disable(this.gameObject),this.gameObject.body=null),f.body&&x.disable(f),this.gameObject=f,f.body=this,this.setSize(),g&&this.updateFromGameObject(),this.enable=m,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var f=this.gameObject;return f.getTopLeft(this.position),this.width=f.displayWidth,this.height=f.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(f,g){return g===void 0&&(g=f),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f,g),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(f,g,m){m===void 0&&(m=!0);var x=this.gameObject;if(x&&x.frame&&(f||(f=x.frame.realWidth),g||(g=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=f,this.height=g,this.halfWidth=Math.floor(f/2),this.halfHeight=Math.floor(g/2),m&&x&&x.getCenter){var y=x.displayWidth/2,b=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(y-this.halfWidth,b-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(f,g,m){return g===void 0&&(g=this.offset.x),m===void 0&&(m=this.offset.y),f>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=f,this.width=f*2,this.height=f*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,m),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(f,g){var m=this.gameObject;f===void 0&&(f=m.x),g===void 0&&(g=m.y),this.world.staticTree.remove(this),m.setPosition(f,g),m.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,g){return this.isCircle?a(this,f,g):h(this,f,g)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(f){var g=this.position,m=g.x+this.halfWidth,x=g.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?f.strokeCircle(m,x,this.width/2):f.strokeRect(g.x,g.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(f){return f<=0&&(f=.1),this.mass=f,this},x:{get:function(){return this.position.x},set:function(f){this.world.staticTree.remove(this),this.position.x=f,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(f){this.world.staticTree.remove(this),this.position.y=f,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=v},71464:(r,o,t)=>{var a=t(13759),p=t(83419),c=t(78389),u=t(37747),h=t(95540),l=t(26479),d=t(41212),v=new p({Extends:l,Mixins:[c],initialize:function(g,m,x,y){!x&&!y?y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:d(x)?(y=x,x=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=h(y,"classType",a)):Array.isArray(x)&&d(x[0])?(y=x,x=null,y.forEach(function(b){b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler,b.createMultipleCallback=this.createMultipleCallbackHandler,b.classType=h(b,"classType",a)})):y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=g,this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,l.call(this,m,x,y),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,u.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,g=0;g<f.length;g++)f[g].body.reset();return this}});r.exports=v},82248:(r,o,t)=>{var a=t(55495),p=t(37742),c=t(45319),u=t(83419),h=t(79342),l=t(37747),d=t(20339),v=t(52816),f=t(50792),g=t(63012),m=t(43855),x=t(5470),y=t(94977),b=t(64897),M=t(45170),C=t(96523),w=t(35154),S=t(36383),I=t(25774),T=t(96602),k=t(87841),E=t(59542),A=t(40012),L=t(14087),D=t(89936),R=t(35072),N=t(72624),P=t(2483),O=t(61340),W=t(26099),G=t(15994),H=new u({Extends:f,initialize:function(B,j){f.call(this),this.scene=B,this.bodies=new R,this.staticBodies=new R,this.pendingDestroy=new R,this.colliders=new I,this.gravity=new W(w(j,"gravity.x",0),w(j,"gravity.y",0)),this.bounds=new k(w(j,"x",0),w(j,"y",0),w(j,"width",B.sys.scale.width),w(j,"height",B.sys.scale.height)),this.checkCollision={up:w(j,"checkCollision.up",!0),down:w(j,"checkCollision.down",!0),left:w(j,"checkCollision.left",!0),right:w(j,"checkCollision.right",!0)},this.fps=w(j,"fps",60),this.fixedStep=w(j,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=w(j,"timeScale",1),this.OVERLAP_BIAS=w(j,"overlapBias",4),this.TILE_BIAS=w(j,"tileBias",16),this.forceX=w(j,"forceX",!1),this.isPaused=w(j,"isPaused",!1),this._total=0,this.drawDebug=w(j,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:w(j,"debugShowBody",!0),debugShowStaticBody:w(j,"debugShowStaticBody",!0),debugShowVelocity:w(j,"debugShowVelocity",!0),bodyDebugColor:w(j,"debugBodyColor",16711935),staticBodyDebugColor:w(j,"debugStaticBodyColor",255),velocityDebugColor:w(j,"debugVelocityColor",65280)},this.maxEntries=w(j,"maxEntries",16),this.useTree=w(j,"useTree",!0),this.tree=new E(this.maxEntries),this.staticTree=new E(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new O,this._tempMatrix2=new O,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(V,B){B===void 0&&(B=l.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var j=0;j<V.length;j++){var U=V[j];if(U.isParent)for(var X=U.getChildren(),Z=0;Z<X.length;Z++){var $=X[Z];$.isParent?this.enable($,B):this.enableBody($,B)}else this.enableBody(U,B)}},enableBody:function(V,B){return B===void 0&&(B=l.DYNAMIC_BODY),V.hasTransformComponent&&(V.body||(B===l.DYNAMIC_BODY?V.body=new p(this,V):B===l.STATIC_BODY&&(V.body=new N(this,V))),this.add(V.body)),V},add:function(V){return V.physicsType===l.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===l.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var B=0;B<V.length;B++){var j=V[B];if(j.isParent)for(var U=j.getChildren(),X=0;X<U.length;X++){var Z=U[X];Z.isParent?this.disable(Z):this.disableBody(Z.body)}else this.disableBody(j.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===l.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===l.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,B,j,U,X,Z,$,J){return this.bounds.setTo(V,B,j,U),X!==void 0&&this.setBoundsCollision(X,Z,$,J),this},setBoundsCollision:function(V,B,j,U){return V===void 0&&(V=!0),B===void 0&&(B=!0),j===void 0&&(j=!0),U===void 0&&(U=!0),this.checkCollision.left=V,this.checkCollision.right=B,this.checkCollision.up=j,this.checkCollision.down=U,this},pause:function(){return this.isPaused=!0,this.emit(g.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(g.RESUME),this},addCollider:function(V,B,j,U,X){j===void 0&&(j=null),U===void 0&&(U=null),X===void 0&&(X=j);var Z=new h(this,!1,V,B,j,U,X);return this.colliders.add(Z),Z},addOverlap:function(V,B,j,U,X){j===void 0&&(j=null),U===void 0&&(U=null),X===void 0&&(X=j);var Z=new h(this,!0,V,B,j,U,X);return this.colliders.add(Z),Z},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,B){if(!(this.isPaused||this.bodies.size===0)){var j,U=this._frameTime,X=this._frameTimeMS*this.timeScale;this._elapsed+=B;var Z,$=this.bodies.entries,J=this._elapsed>=X;for(this.fixedStep||(U=B*.001,J=!0,this._elapsed=0),j=0;j<$.length;j++)Z=$[j],Z.enable&&Z.preUpdate(J,U);if(J){this._elapsed-=X,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load($));var Q=this.colliders.update();for(j=0;j<Q.length;j++){var _=Q[j];_.active&&_.update()}this.emit(g.WORLD_STEP,U)}for(;this._elapsed>=X;)this._elapsed-=X,this.step(U)}},step:function(V){var B,j,U=this.bodies.entries,X=U.length;for(B=0;B<X;B++)j=U[B],j.enable&&j.update(V);this.useTree&&(this.tree.clear(),this.tree.load(U));var Z=this.colliders.update();for(B=0;B<Z.length;B++){var $=Z[B];$.active&&$.update()}this.emit(g.WORLD_STEP,V),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var V,B,j=this.bodies.entries,U=j.length,X=this.bodies,Z=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<U;V++)B=j[V],B.enable&&B.postUpdate();if(this.drawDebug){var $=this.debugGraphic;for($.clear(),V=0;V<U;V++)B=j[V],B.willDrawDebug()&&B.drawDebug($);for(j=Z.entries,U=j.length,V=0;V<U;V++)B=j[V],B.willDrawDebug()&&B.drawDebug($)}var J=this.pendingDestroy;if(J.size>0){var Q=this.tree,_=this.staticTree;for(j=J.entries,U=j.length,V=0;V<U;V++)B=j[V],B.physicsType===l.DYNAMIC_BODY?(Q.remove(B),X.delete(B)):B.physicsType===l.STATIC_BODY&&(_.remove(B),Z.delete(B)),B.world=void 0,B.gameObject=void 0;J.clear()}},updateMotion:function(V,B){V.allowRotation&&this.computeAngularVelocity(V,B),this.computeVelocity(V,B)},computeAngularVelocity:function(V,B){var j=V.angularVelocity,U=V.angularAcceleration,X=V.angularDrag,Z=V.maxAngular;U?j+=U*B:V.allowDrag&&X&&(X*=B,x(j-X,0,.1)?j-=X:y(j+X,0,.1)?j+=X:j=0),j=c(j,-Z,Z);var $=j-V.angularVelocity;V.angularVelocity+=$,V.rotation+=V.angularVelocity*B},computeVelocity:function(V,B){var j=V.velocity.x,U=V.acceleration.x,X=V.drag.x,Z=V.maxVelocity.x,$=V.velocity.y,J=V.acceleration.y,Q=V.drag.y,_=V.maxVelocity.y,ae=V.speed,ce=V.maxSpeed,he=V.allowDrag,de=V.useDamping;V.allowGravity&&(j+=(this.gravity.x+V.gravity.x)*B,$+=(this.gravity.y+V.gravity.y)*B),U?j+=U*B:he&&X&&(de?(X=Math.pow(X,B),j*=X,ae=Math.sqrt(j*j+$*$),m(ae,0,.001)&&(j=0)):(X*=B,x(j-X,0,.01)?j-=X:y(j+X,0,.01)?j+=X:j=0)),J?$+=J*B:he&&Q&&(de?(Q=Math.pow(Q,B),$*=Q,ae=Math.sqrt(j*j+$*$),m(ae,0,.001)&&($=0)):(Q*=B,x($-Q,0,.01)?$-=Q:y($+Q,0,.01)?$+=Q:$=0)),j=c(j,-Z,Z),$=c($,-_,_),V.velocity.set(j,$),ce>-1&&V.velocity.length()>ce&&(V.velocity.normalize().scale(ce),ae=ce),V.speed=ae},separate:function(V,B,j,U,X){var Z,$,J=!1,Q=!0;if(!V.enable||!B.enable||V.checkCollision.none||B.checkCollision.none||!this.intersects(V,B)||j&&j.call(U,V.gameObject||V,B.gameObject||B)===!1)return J;if(V.isCircle||B.isCircle){var _=this.separateCircle(V,B,X);_.result?(J=!0,Q=!1):(Z=_.x,$=_.y,Q=!0)}if(Q){var ae=!1,ce=!1,he=this.OVERLAP_BIAS;X?(ae=L(V,B,X,he,Z),ce=D(V,B,X,he,$)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(ae=L(V,B,X,he,Z),this.intersects(V,B)&&(ce=D(V,B,X,he,$))):(ce=D(V,B,X,he,$),this.intersects(V,B)&&(ae=L(V,B,X,he,Z))),J=ae||ce}return J&&(X?(V.onOverlap||B.onOverlap)&&this.emit(g.OVERLAP,V.gameObject,B.gameObject,V,B):(V.onCollide||B.onCollide)&&this.emit(g.COLLIDE,V.gameObject,B.gameObject,V,B)),J},separateCircle:function(V,B,j){b(V,B,!1,0),M(V,B,!1,0);var U=V.isCircle,X=B.isCircle,Z=V.center,$=B.center,J=V.immovable,Q=B.immovable,_=V.velocity,ae=B.velocity,ce=0,he=!0;if(U!==X){he=!1;var de=Z.x,Te=Z.y,Fe=V.halfWidth,He=B.position.x,ue=B.position.y,Ie=B.right,Ve=B.bottom;X&&(de=$.x,Te=$.y,Fe=B.halfWidth,He=V.position.x,ue=V.position.y,Ie=V.right,Ve=V.bottom),Te<ue?de<He?ce=d(de,Te,He,ue)-Fe:de>Ie&&(ce=d(de,Te,Ie,ue)-Fe):Te>Ve&&(de<He?ce=d(de,Te,He,Ve)-Fe:de>Ie&&(ce=d(de,Te,Ie,Ve)-Fe)),ce*=-1}else ce=V.halfWidth+B.halfWidth-v(Z,$);V.overlapR=ce,B.overlapR=ce;var je=a(Z,$),$e=(ce+S.EPSILON)*Math.cos(je),Yt=(ce+S.EPSILON)*Math.sin(je),oe={overlap:ce,result:!1,x:$e,y:Yt};if(j&&(!he||he&&ce!==0))return oe.result=!0,oe;if(!he&&ce===0||J&&Q||V.customSeparateX||B.customSeparateX)return oe.x=void 0,oe.y=void 0,oe;var ie=!V.pushable&&!B.pushable;if(he){var Pe=Z.x-$.x,Ee=Z.y-$.y,We=Math.sqrt(Math.pow(Pe,2)+Math.pow(Ee,2)),ht=($.x-Z.x)/We||0,Ze=($.y-Z.y)/We||0,Je=2*(_.x*ht+_.y*Ze-ae.x*ht-ae.y*Ze)/(V.mass+B.mass);(J||Q||!V.pushable||!B.pushable)&&(Je*=2),!J&&V.pushable&&(_.x=_.x-Je/V.mass*ht,_.y=_.y-Je/V.mass*Ze,_.multiply(V.bounce)),!Q&&B.pushable&&(ae.x=ae.x+Je/B.mass*ht,ae.y=ae.y+Je/B.mass*Ze,ae.multiply(B.bounce)),!J&&!Q&&($e*=.5,Yt*=.5),(!J||V.pushable||ie)&&(V.x-=$e,V.y-=Yt,V.updateCenter()),(!Q||B.pushable||ie)&&(B.x+=$e,B.y+=Yt,B.updateCenter()),oe.result=!0}else(!J||V.pushable||ie)&&(V.x-=$e,V.y-=Yt,V.updateCenter()),(!Q||B.pushable||ie)&&(B.x+=$e,B.y+=Yt,B.updateCenter()),oe.x=void 0,oe.y=void 0;return oe},intersects:function(V,B){return V===B?!1:!V.isCircle&&!B.isCircle?!(V.right<=B.left||V.bottom<=B.top||V.left>=B.right||V.top>=B.bottom):V.isCircle?B.isCircle?v(V.center,B.center)<=V.halfWidth+B.halfWidth:this.circleBodyIntersects(V,B):this.circleBodyIntersects(B,V)},circleBodyIntersects:function(V,B){var j=c(V.center.x,B.left,B.right),U=c(V.center.y,B.top,B.bottom),X=(V.center.x-j)*(V.center.x-j),Z=(V.center.y-U)*(V.center.y-U);return X+Z<=V.halfWidth*V.halfWidth},overlap:function(V,B,j,U,X){return j===void 0&&(j=null),U===void 0&&(U=null),X===void 0&&(X=j),this.collideObjects(V,B,j,U,X,!0)},collide:function(V,B,j,U,X){return j===void 0&&(j=null),U===void 0&&(U=null),X===void 0&&(X=j),this.collideObjects(V,B,j,U,X,!1)},collideObjects:function(V,B,j,U,X,Z){var $,J;V.isParent&&(V.physicsType===void 0||B===void 0||V===B)&&(V=V.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var Q=Array.isArray(V),_=Array.isArray(B);if(this._total=0,!Q&&!_)this.collideHandler(V,B,j,U,X,Z);else if(!Q&&_)for($=0;$<B.length;$++)this.collideHandler(V,B[$],j,U,X,Z);else if(Q&&!_)if(B)for($=0;$<V.length;$++)this.collideHandler(V[$],B,j,U,X,Z);else for($=0;$<V.length;$++){var ae=V[$];for(J=$+1;J<V.length;J++)$!==J&&this.collideHandler(ae,V[J],j,U,X,Z)}else for($=0;$<V.length;$++)for(J=0;J<B.length;J++)this.collideHandler(V[$],B[J],j,U,X,Z);return this._total>0},collideHandler:function(V,B,j,U,X,Z){if(B===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,j,U,X,Z);if(!V||!B)return!1;if(V.body||V.isBody){if(B.body||B.isBody)return this.collideSpriteVsSprite(V,B,j,U,X,Z);if(B.isParent)return this.collideSpriteVsGroup(V,B,j,U,X,Z);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(V,B,j,U,X,Z)}else if(V.isParent){if(B.body||B.isBody)return this.collideSpriteVsGroup(B,V,j,U,X,Z);if(B.isParent)return this.collideGroupVsGroup(V,B,j,U,X,Z);if(B.isTilemap)return this.collideGroupVsTilemapLayer(V,B,j,U,X,Z)}else if(V.isTilemap){if(B.body||B.isBody)return this.collideSpriteVsTilemapLayer(B,V,j,U,X,Z);if(B.isParent)return this.collideGroupVsTilemapLayer(B,V,j,U,X,Z)}},canCollide:function(V,B){return V&&B&&(V.collisionMask&B.collisionCategory)!==0&&(B.collisionMask&V.collisionCategory)!==0},collideSpriteVsSprite:function(V,B,j,U,X,Z){var $=V.isBody?V:V.body,J=B.isBody?B:B.body;return this.canCollide($,J)?(this.separate($,J,U,X,Z)&&(j&&j.call(X,V,B),this._total++),!0):!1},collideSpriteVsGroup:function(V,B,j,U,X,Z){var $=V.isBody?V:V.body;if(!(B.getLength()===0||!$||!$.enable||$.checkCollision.none||!this.canCollide($,B))){var J,Q,_;if(this.useTree||B.physicsType===l.STATIC_BODY){var ae=this.treeMinMax;ae.minX=$.left,ae.minY=$.top,ae.maxX=$.right,ae.maxY=$.bottom;var ce=B.physicsType===l.DYNAMIC_BODY?this.tree.search(ae):this.staticTree.search(ae);for(Q=ce.length,J=0;J<Q;J++)_=ce[J],!($===_||!_.enable||_.checkCollision.none||!B.contains(_.gameObject))&&this.separate($,_,U,X,Z)&&(j&&j.call(X,$.gameObject,_.gameObject),this._total++)}else{var he=B.getChildren(),de=B.children.entries.indexOf(V);for(Q=he.length,J=0;J<Q;J++)_=he[J].body,!(!_||J===de||!_.enable)&&this.separate($,_,U,X,Z)&&(j&&j.call(X,$.gameObject,_.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,B,j,U,X,Z){if(!this.canCollide(V,B))return!1;var $=V.getChildren();if($.length===0)return!1;for(var J=!1,Q=0;Q<$.length;Q++)($[Q].body||$[Q].isBody)&&this.collideSpriteVsTilemapLayer($[Q],B,j,U,X,Z)&&(J=!0);return J},collideTiles:function(V,B,j,U,X){return B.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,B,j,U,X,!1,!1)},overlapTiles:function(V,B,j,U,X){return B.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,B,j,U,X,!0,!1)},collideSpriteVsTilemapLayer:function(V,B,j,U,X,Z){var $=V.isBody?V:V.body;if(!$.enable||$.checkCollision.none||!this.canCollide($,B))return!1;var J=B.layer,Q=$.x-J.tileWidth*B.scaleX,_=$.y-J.tileHeight*B.scaleY,ae=$.width+J.tileWidth*B.scaleX,ce=$.height+J.tileHeight*B.scaleY,he=Z?null:this.tileFilterOptions,de=C(Q,_,ae,ce,he,B.scene.cameras.main,B.layer);return de.length===0?!1:this.collideSpriteVsTilesHandler(V,de,j,U,X,Z,!0)},collideSpriteVsTilesHandler:function(V,B,j,U,X,Z,$){for(var J=V.isBody?V:V.body,Q,_={left:0,right:0,top:0,bottom:0},ae,ce=!1,he=0;he<B.length;he++){Q=B[he],ae=Q.tilemapLayer;var de=ae.tileToWorldXY(Q.x,Q.y);_.left=de.x,_.top=de.y,_.right=_.left+Q.width*ae.scaleX,_.bottom=_.top+Q.height*ae.scaleY,P(_,J)&&(!U||U.call(X,V,Q))&&T(Q,V)&&(Z||A(he,J,Q,_,ae,this.TILE_BIAS,$))&&(this._total++,ce=!0,j&&j.call(X,V,Q),Z&&J.onOverlap?this.emit(g.TILE_OVERLAP,V,Q,J):J.onCollide&&this.emit(g.TILE_COLLIDE,V,Q,J))}return ce},collideGroupVsGroup:function(V,B,j,U,X,Z){if(!(V.getLength()===0||B.getLength()===0||!this.canCollide(V,B)))for(var $=V.getChildren(),J=0;J<$.length;J++)this.collideSpriteVsGroup($[J],B,j,U,X,Z)},wrap:function(V,B){V.body?this.wrapObject(V,B):V.getChildren?this.wrapArray(V.getChildren(),B):Array.isArray(V)?this.wrapArray(V,B):this.wrapObject(V,B)},wrapArray:function(V,B){for(var j=0;j<V.length;j++)this.wrapObject(V[j],B)},wrapObject:function(V,B){B===void 0&&(B=0),V.x=G(V.x,this.bounds.left-B,this.bounds.right+B),V.y=G(V.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});r.exports=H},1093:r=>{var o={setAcceleration:function(t,a){return this.body.acceleration.set(t,a),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};r.exports=o},59023:r=>{var o={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};r.exports=o},62069:r=>{var o={setBounce:function(t,a){return this.body.bounce.set(t,a),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,a,p,c){return this.body.setCollideWorldBounds(t,a,p,c),this}};r.exports=o},78389:(r,o,t)=>{var a=t(79599),p={setCollisionCategory:function(c){var u=this.body?this.body:this;return u.collisionCategory=c,this},willCollideWith:function(c){var u=this.body?this.body:this;return(u.collisionMask&c)!==0},addCollidesWith:function(c){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask|c,this},removeCollidesWith:function(c){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask&~c,this},setCollidesWith:function(c){var u=this.body?this.body:this;return u.collisionMask=a(c),this},resetCollisionCategory:function(){var c=this.body?this.body:this;return c.collisionCategory=1,c.collisionMask=2147483647,this}};r.exports=p},87118:r=>{var o={setDebug:function(t,a,p){return this.debugShowBody=t,this.debugShowVelocity=a,this.debugBodyColor=p,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};r.exports=o},52819:r=>{var o={setDrag:function(t,a){return this.body.drag.set(t,a),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};r.exports=o},4074:r=>{var o={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,a,p,c,u){return t&&this.body.reset(a,p),c&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,a){return t===void 0&&(t=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};r.exports=o},40831:r=>{var o={setFriction:function(t,a){return this.body.friction.set(t,a),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};r.exports=o},26775:r=>{var o={setGravity:function(t,a){return this.body.gravity.set(t,a),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};r.exports=o},9437:r=>{var o={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};r.exports=o},30621:r=>{var o={setMass:function(t){return this.body.mass=t,this}};r.exports=o},72441:(r,o,t)=>{var a=t(47956),p=t(96503),c=t(2044),u=t(81491),h=function(l,d,v,f,g,m){var x=a(l,d-f,v-f,2*f,2*f,g,m);if(x.length===0)return x;for(var y=new p(d,v,f),b=new p,M=[],C=0;C<x.length;C++){var w=x[C];w.isCircle?(b.setTo(w.center.x,w.center.y,w.halfWidth),c(y,b)&&M.push(w)):u(y,w)&&M.push(w)}return M};r.exports=h},47956:r=>{var o=function(t,a,p,c,u,h,l){h===void 0&&(h=!0),l===void 0&&(l=!1);var d=[],v=[],f=t.treeMinMax;if(f.minX=a,f.minY=p,f.maxX=a+c,f.maxY=p+u,l&&(v=t.staticTree.search(f)),h&&t.useTree)d=t.tree.search(f);else if(h){var g=t.bodies,m={position:{x:a,y:p},left:a,top:p,right:a+c,bottom:p+u,isCircle:!1},x=t.intersects;g.iterate(function(y){x(y,m)&&d.push(y)})}return v.concat(d)};r.exports=o},62121:r=>{var o={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};r.exports=o},29384:r=>{var o={setOffset:function(t,a){return this.body.setOffset(t,a),this},setSize:function(t,a,p){return this.body.setSize(t,a,p),this},setBodySize:function(t,a,p){return this.body.setSize(t,a,p),this},setCircle:function(t,a,p){return this.body.setCircle(t,a,p),this}};r.exports=o},15098:r=>{var o={setVelocity:function(t,a){return this.body.setVelocity(t,a),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,a){return this.body.maxVelocity.set(t,a),this}};r.exports=o},92209:(r,o,t)=>{r.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:r=>{var o={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};r.exports=o},20009:r=>{r.exports="collide"},36768:r=>{r.exports="overlap"},60473:r=>{r.exports="pause"},89954:r=>{r.exports="resume"},61804:r=>{r.exports="tilecollide"},7161:r=>{r.exports="tileoverlap"},34689:r=>{r.exports="worldbounds"},16006:r=>{r.exports="worldstep"},63012:(r,o,t)=>{r.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(r,o,t)=>{var a=t(37747),p=t(79291),c={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};c=p(!1,c,a),r.exports=c},96602:r=>{var o=function(t,a){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,a,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,a,t):!0};r.exports=o},36294:r=>{var o=function(t,a){a<0?(t.blocked.none=!1,t.blocked.left=!0):a>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=a,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};r.exports=o},67013:r=>{var o=function(t,a){a<0?(t.blocked.none=!1,t.blocked.up=!0):a>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=a,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};r.exports=o},40012:(r,o,t)=>{var a=t(21329),p=t(53442),c=t(2483),u=function(h,l,d,v,f,g,m){var x=v.left,y=v.top,b=v.right,M=v.bottom,C=d.faceLeft||d.faceRight,w=d.faceTop||d.faceBottom;if(m||(C=!0,w=!0),!C&&!w)return!1;var S=0,I=0,T=0,k=1;if(l.deltaAbsX()>l.deltaAbsY()?T=-1:l.deltaAbsX()<l.deltaAbsY()&&(k=-1),l.deltaX()!==0&&l.deltaY()!==0&&C&&w&&(T=Math.min(Math.abs(l.position.x-b),Math.abs(l.right-x)),k=Math.min(Math.abs(l.position.y-M),Math.abs(l.bottom-y))),T<k){if(C&&(S=a(l,d,x,b,g,m),S!==0&&!c(v,l)))return!0;w&&(I=p(l,d,y,M,g,m))}else{if(w&&(I=p(l,d,y,M,g,m),I!==0&&!c(v,l)))return!0;C&&(S=a(l,d,x,b,g,m))}return S!==0||I!==0};r.exports=u},21329:(r,o,t)=>{var a=t(36294),p=function(c,u,h,l,d,v){var f=0,g=u.faceLeft,m=u.faceRight,x=u.collideLeft,y=u.collideRight;return v||(g=!0,m=!0,x=!0,y=!0),c.deltaX()<0&&y&&c.checkCollision.left?m&&c.x<l&&(f=c.x-l,f<-d&&(f=0)):c.deltaX()>0&&x&&c.checkCollision.right&&g&&c.right>h&&(f=c.right-h,f>d&&(f=0)),f!==0&&(c.customSeparateX?c.overlapX=f:a(c,f)),f};r.exports=p},53442:(r,o,t)=>{var a=t(67013),p=function(c,u,h,l,d,v){var f=0,g=u.faceTop,m=u.faceBottom,x=u.collideUp,y=u.collideDown;return v||(g=!0,m=!0,x=!0,y=!0),c.deltaY()<0&&y&&c.checkCollision.up?m&&c.y<l&&(f=c.y-l,f<-d&&(f=0)):c.deltaY()>0&&x&&c.checkCollision.down&&g&&c.bottom>h&&(f=c.bottom-h,f>d&&(f=0)),f!==0&&(c.customSeparateY?c.overlapY=f:a(c,f)),f};r.exports=p},2483:r=>{var o=function(t,a){return!(a.right<=t.left||a.bottom<=t.top||a.position.x>=t.right||a.position.y>=t.bottom)};r.exports=o},55173:(r,o,t)=>{var a={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};r.exports=a},44563:(r,o,t)=>{r.exports={Arcade:t(27064),Matter:t(3875)}},68174:(r,o,t)=>{var a=t(83419),p=t(26099),c=new a({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(u){if(u=u.hasOwnProperty("body")?u.body:u,!u.hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,l=this.centerDiff,d=u.bounds.max.x-u.bounds.min.x,v=u.bounds.max.y-u.bounds.min.y,f=d*u.centerOfMass.x,g=v*u.centerOfMass.y;return h.set(d/2,v/2),l.set(f-h.x,g-h.y),!0},getTopLeft:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new p(h+d.x+v.x,l+d.y+v.y)}return!1},getTopCenter:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new p(h+v.x,l+d.y+v.y)}return!1},getTopRight:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new p(h-(d.x-v.x),l+d.y+v.y)}return!1},getLeftCenter:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new p(h+d.x+v.x,l+v.y)}return!1},getCenter:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.centerDiff;return new p(h+d.x,l+d.y)}return!1},getRightCenter:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new p(h-(d.x-v.x),l+v.y)}return!1},getBottomLeft:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new p(h+d.x+v.x,l-(d.y-v.y))}return!1},getBottomCenter:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new p(h+v.x,l-(d.y-v.y))}return!1},getBottomRight:function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new p(h-(d.x-v.x),l-(d.y-v.y))}return!1}});r.exports=c},19933:(r,o,t)=>{var a=t(6790);a.Body=t(22562),a.Composite=t(69351),a.World=t(4372),a.Collision=t(52284),a.Detector=t(81388),a.Pairs=t(99561),a.Pair=t(4506),a.Query=t(73296),a.Resolver=t(66272),a.Constraint=t(48140),a.Common=t(53402),a.Engine=t(48413),a.Events=t(35810),a.Sleeping=t(53614),a.Plugin=t(73832),a.Bodies=t(66280),a.Composites=t(74116),a.Axes=t(66615),a.Bounds=t(15647),a.Svg=t(74058),a.Vector=t(31725),a.Vertices=t(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,r.exports=a},28137:(r,o,t)=>{var a=t(66280),p=t(83419),c=t(74116),u=t(48140),h=t(74058),l=t(75803),d=t(23181),v=t(34803),f=t(73834),g=t(19496),m=t(85791),x=t(98713),y=t(41598),b=new p({initialize:function(C){this.world=C,this.scene=C.scene,this.sys=C.scene.sys},rectangle:function(M,C,w,S,I){var T=a.rectangle(M,C,w,S,I);return this.world.add(T),T},trapezoid:function(M,C,w,S,I,T){var k=a.trapezoid(M,C,w,S,I,T);return this.world.add(k),k},circle:function(M,C,w,S,I){var T=a.circle(M,C,w,S,I);return this.world.add(T),T},polygon:function(M,C,w,S,I){var T=a.polygon(M,C,w,S,I);return this.world.add(T),T},fromVertices:function(M,C,w,S,I,T,k){typeof w=="string"&&(w=y.fromPath(w));var E=a.fromVertices(M,C,w,S,I,T,k);return this.world.add(E),E},fromPhysicsEditor:function(M,C,w,S,I){I===void 0&&(I=!0);var T=g.parseBody(M,C,w,S);return I&&!this.world.has(T)&&this.world.add(T),T},fromSVG:function(M,C,w,S,I,T){S===void 0&&(S=1),I===void 0&&(I={}),T===void 0&&(T=!0);for(var k=w.getElementsByTagName("path"),E=[],A=0;A<k.length;A++){var L=h.pathToVertices(k[A],30);S!==1&&y.scale(L,S,S),E.push(L)}var D=a.fromVertices(M,C,E,I);return T&&this.world.add(D),D},fromJSON:function(M,C,w,S,I){S===void 0&&(S={}),I===void 0&&(I=!0);var T=m.parseBody(M,C,w,S);return T&&I&&this.world.add(T),T},imageStack:function(M,C,w,S,I,T,k,E,A){k===void 0&&(k=0),E===void 0&&(E=0),A===void 0&&(A={});var L=this.world,D=this.sys.displayList;A.addToWorld=!1;var R=c.stack(w,S,I,T,k,E,function(N,P){var O=new d(L,N,P,M,C,A);return D.add(O),O.body});return L.add(R),R},stack:function(M,C,w,S,I,T,k){var E=c.stack(M,C,w,S,I,T,k);return this.world.add(E),E},pyramid:function(M,C,w,S,I,T,k){var E=c.pyramid(M,C,w,S,I,T,k);return this.world.add(E),E},chain:function(M,C,w,S,I,T){return c.chain(M,C,w,S,I,T)},mesh:function(M,C,w,S,I){return c.mesh(M,C,w,S,I)},newtonsCradle:function(M,C,w,S,I){var T=c.newtonsCradle(M,C,w,S,I);return this.world.add(T),T},car:function(M,C,w,S,I){var T=c.car(M,C,w,S,I);return this.world.add(T),T},softBody:function(M,C,w,S,I,T,k,E,A,L){var D=c.softBody(M,C,w,S,I,T,k,E,A,L);return this.world.add(D),D},joint:function(M,C,w,S,I){return this.constraint(M,C,w,S,I)},spring:function(M,C,w,S,I){return this.constraint(M,C,w,S,I)},constraint:function(M,C,w,S,I){S===void 0&&(S=1),I===void 0&&(I={}),I.bodyA=M.type==="body"?M:M.body,I.bodyB=C.type==="body"?C:C.body,isNaN(w)||(I.length=w),I.stiffness=S;var T=u.create(I);return this.world.add(T),T},worldConstraint:function(M,C,w,S){w===void 0&&(w=1),S===void 0&&(S={}),S.bodyB=M.type==="body"?M:M.body,isNaN(C)||(S.length=C),S.stiffness=w;var I=u.create(S);return this.world.add(I),I},mouseSpring:function(M){return this.pointerConstraint(M)},pointerConstraint:function(M){M===void 0&&(M={}),M.hasOwnProperty("render")||(M.render={visible:!1});var C=new x(this.scene,this.world,M);return this.world.add(C.constraint),C},image:function(M,C,w,S,I){var T=new d(this.world,M,C,w,S,I);return this.sys.displayList.add(T),T},tileBody:function(M,C){return new f(this.world,M,C)},sprite:function(M,C,w,S,I){var T=new v(this.world,M,C,w,S,I);return this.sys.displayList.add(T),this.sys.updateList.add(T),T},gameObject:function(M,C,w){return l(this.world,M,C,w)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=b},75803:(r,o,t)=>{var a=t(31884),p=t(95540),c=t(26099);function u(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}var h=function(l,d,v,f){v===void 0&&(v={}),f===void 0&&(f=!0);var g=d.x,m=d.y;d.body={temp:!0,position:{x:g,y:m}};var x=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(x.forEach(function(b){for(var M in b)u(b[M])?Object.defineProperty(d,M,{get:b[M].get,set:b[M].set}):Object.defineProperty(d,M,{value:b[M]})}),d.world=l,d._tempVec2=new c(g,m),v.hasOwnProperty("type")&&v.type==="body")d.setExistingBody(v,f);else{var y=p(v,"shape",null);y||(y="rectangle"),v.addToWorld=f,d.setBody(y,v)}return d};r.exports=h},23181:(r,o,t)=>{var a=t(83419),p=t(31884),c=t(95643),u=t(95540),h=t(88571),l=t(72699),d=t(26099),v=new a({Extends:h,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,l],initialize:function(g,m,x,y,b,M){c.call(this,g.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(y,b),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new d(m,x);var C=u(M,"shape",null);C?this.setBody(C,M):this.setRectangle(this.width,this.height,M),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=v},42045:(r,o,t)=>{var a=t(60461),p=t(66615),c=t(66280),u=t(22562),h=t(68174),l=t(15647),d=t(83419),v=t(52284),f=t(53402),g=t(69351),m=t(74116),x=t(48140),y=t(81388),b=t(20339),M=t(28137),C=t(95540),w=t(35154),S=t(46975),I=t(4506),T=t(99561),k=t(37277),E=t(73296),A=t(66272),L=t(44594),D=t(74058),R=t(31725),N=t(41598),P=t(68243);f.setDecomp(t(55973));var O=new d({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=u,this.composite=g,this.collision=v,this.detector=y,this.pair=I,this.pairs=T,this.query=E,this.resolver=A,this.constraint=x,this.bodies=c,this.composites=m,this.axes=p,this.bounds=l,this.svg=D,this.vector=R,this.vertices=N,this.verts=N,this._tempVec2=R.create(),A._restingThresh=w(this.config,"restingThresh",4),A._restingThreshTangent=w(this.config,"restingThreshTangent",6),A._positionDampen=w(this.config,"positionDampen",.9),A._positionWarming=w(this.config,"positionWarming",.8),A._frictionNormalMultiplier=w(this.config,"frictionNormalMultiplier",5),G.sys.events.once(L.BOOT,this.boot,this),G.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new P(this.scene,this.config),this.add=new M(this.world),this.bodyBounds=new h,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new P(this.scene,this.config),this.add=new M(this.world));var W=this.systems.events;W.on(L.UPDATE,this.world.update,this.world),W.on(L.POST_UPDATE,this.world.postUpdate,this.world),W.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var W=this.systems.game.config.physics,G=this.systems.settings.physics,H=S(C(G,"matter",{}),C(W,"matter",{}));return H},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(W,G){this.world.step(W,G)},containsPoint:function(W,G,H){W=this.getMatterBodies(W);var V=R.create(G,H),B=E.point(W,V);return B.length>0},intersectPoint:function(W,G,H){H=this.getMatterBodies(H);var V=R.create(W,G),B=[],j=E.point(H,V);return j.forEach(function(U){B.indexOf(U)===-1&&B.push(U)}),B},intersectRect:function(W,G,H,V,B,j){B===void 0&&(B=!1),j=this.getMatterBodies(j);var U={min:{x:W,y:G},max:{x:W+H,y:G+V}},X=[],Z=E.region(j,U,B);return Z.forEach(function($){X.indexOf($)===-1&&X.push($)}),X},intersectRay:function(W,G,H,V,B,j){B===void 0&&(B=1),j=this.getMatterBodies(j);for(var U=[],X=E.ray(j,R.create(W,G),R.create(H,V),B),Z=0;Z<X.length;Z++)U.push(X[Z].body);return U},intersectBody:function(W,G){G=this.getMatterBodies(G);for(var H=[],V=E.collides(W,G),B=0;B<V.length;B++){var j=V[B];j.bodyA===W?H.push(j.bodyB):H.push(j.bodyA)}return H},overlap:function(W,G,H,V,B){H===void 0&&(H=null),V===void 0&&(V=null),B===void 0&&(B=H),Array.isArray(W)||(W=[W]),W=this.getMatterBodies(W),G=this.getMatterBodies(G);for(var j=!1,U=0;U<W.length;U++)for(var X=W[U],Z=E.collides(X,G),$=0;$<Z.length;$++){var J=Z[$],Q=J.bodyA.id===X.id?J.bodyB:J.bodyA;if(!V||V.call(B,X,Q,J)){if(j=!0,H)H.call(B,X,Q,J);else if(!V)return!0}}return j},setCollisionCategory:function(W,G){return W=this.getMatterBodies(W),W.forEach(function(H){H.collisionFilter.category=G}),this},setCollisionGroup:function(W,G){return W=this.getMatterBodies(W),W.forEach(function(H){H.collisionFilter.group=G}),this},setCollidesWith:function(W,G){W=this.getMatterBodies(W);var H=0;if(!Array.isArray(G))H=G;else for(var V=0;V<G.length;V++)H|=G[V];return W.forEach(function(B){B.collisionFilter.mask=H}),this},getMatterBodies:function(W){if(!W)return this.world.getAllBodies();Array.isArray(W)||(W=[W]);for(var G=[],H=0;H<W.length;H++){var V=W[H].hasOwnProperty("body")?W[H].body:W[H];G.push(V)}return G},setVelocity:function(W,G,H){W=this.getMatterBodies(W);var V=this._tempVec2;return V.x=G,V.y=H,W.forEach(function(B){u.setVelocity(B,V)}),this},setVelocityX:function(W,G){W=this.getMatterBodies(W);var H=this._tempVec2;return H.x=G,W.forEach(function(V){H.y=V.velocity.y,u.setVelocity(V,H)}),this},setVelocityY:function(W,G){W=this.getMatterBodies(W);var H=this._tempVec2;return H.y=G,W.forEach(function(V){H.x=V.velocity.x,u.setVelocity(V,H)}),this},setAngularVelocity:function(W,G){return W=this.getMatterBodies(W),W.forEach(function(H){u.setAngularVelocity(H,G)}),this},applyForce:function(W,G){W=this.getMatterBodies(W);var H=this._tempVec2;return W.forEach(function(V){H.x=V.position.x,H.y=V.position.y,u.applyForce(V,H,G)}),this},applyForceFromPosition:function(W,G,H,V){W=this.getMatterBodies(W);var B=this._tempVec2;return W.forEach(function(j){V===void 0&&(V=j.angle),B.x=H*Math.cos(V),B.y=H*Math.sin(V),u.applyForce(j,G,B)}),this},applyForceFromAngle:function(W,G,H){W=this.getMatterBodies(W);var V=this._tempVec2;return W.forEach(function(B){H===void 0&&(H=B.angle),V.x=G*Math.cos(H),V.y=G*Math.sin(H),u.applyForce(B,{x:B.position.x,y:B.position.y},V)}),this},getConstraintLength:function(W){var G=W.pointA.x,H=W.pointA.y,V=W.pointB.x,B=W.pointB.y;return W.bodyA&&(G+=W.bodyA.position.x,H+=W.bodyA.position.y),W.bodyB&&(V+=W.bodyB.position.x,B+=W.bodyB.position.y),b(G,H,V,B)},alignBody:function(W,G,H,V){W=W.hasOwnProperty("body")?W.body:W;var B;switch(V){case a.TOP_LEFT:case a.LEFT_TOP:B=this.bodyBounds.getTopLeft(W,G,H);break;case a.TOP_CENTER:B=this.bodyBounds.getTopCenter(W,G,H);break;case a.TOP_RIGHT:case a.RIGHT_TOP:B=this.bodyBounds.getTopRight(W,G,H);break;case a.LEFT_CENTER:B=this.bodyBounds.getLeftCenter(W,G,H);break;case a.CENTER:B=this.bodyBounds.getCenter(W,G,H);break;case a.RIGHT_CENTER:B=this.bodyBounds.getRightCenter(W,G,H);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:B=this.bodyBounds.getBottomLeft(W,G,H);break;case a.BOTTOM_CENTER:B=this.bodyBounds.getBottomCenter(W,G,H);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:B=this.bodyBounds.getBottomRight(W,G,H);break}return B&&u.setPosition(W,B),this},shutdown:function(){var W=this.systems.events;this.world&&(W.off(L.UPDATE,this.world.update,this.world),W.off(L.POST_UPDATE,this.world.postUpdate,this.world)),W.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});k.register("MatterPhysics",O,"matterPhysics"),r.exports=O},34803:(r,o,t)=>{var a=t(9674),p=t(83419),c=t(31884),u=t(95643),h=t(95540),l=t(72699),d=t(68287),v=t(26099),f=new p({Extends:d,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,l],initialize:function(m,x,y,b,M,C){u.call(this,m.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(b,M),this.setSizeToFrame(),this.setOrigin(),this.world=m,this._tempVec2=new v(x,y);var w=h(C,"shape",null);w?this.setBody(w,C):this.setRectangle(this.width,this.height,C),this.setPosition(x,y),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=f},73834:(r,o,t)=>{var a=t(66280),p=t(22562),c=t(83419),u=t(31884),h=t(62644),l=t(50792),d=t(95540),v=t(97022),f=t(41598),g=new c({Extends:l,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:function(x,y,b){l.call(this),this.tile=y,this.world=x,y.physics.matterBody&&y.physics.matterBody.destroy(),y.physics.matterBody=this;var M=d(b,"body",null),C=d(b,"addToWorld",!0);if(M)this.setBody(M,C);else{var w=y.getCollisionGroup(),S=d(w,"objects",[]);S.length>0?this.setFromTileCollision(b):this.setFromTileRectangle(b)}if(y.flipX||y.flipY){var I={x:y.getCenterX(),y:y.getCenterY()},T=y.flipX?-1:1,k=y.flipY?-1:1;p.scale(M,T,k,I)}},setFromTileRectangle:function(m){m===void 0&&(m={}),v(m,"isStatic")||(m.isStatic=!0),v(m,"addToWorld")||(m.addToWorld=!0);var x=this.tile.getBounds(),y=x.x+x.width/2,b=x.y+x.height/2,M=a.rectangle(y,b,x.width,x.height,m);return this.setBody(M,m.addToWorld),this},setFromTileCollision:function(m){m===void 0&&(m={}),v(m,"isStatic")||(m.isStatic=!0),v(m,"addToWorld")||(m.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,y=this.tile.tilemapLayer.scaleY,b=this.tile.getLeft(),M=this.tile.getTop(),C=this.tile.getCollisionGroup(),w=d(C,"objects",[]),S=[],I=0;I<w.length;I++){var T=w[I],k=b+T.x*x,E=M+T.y*y,A=T.width*x,L=T.height*y,D=null;if(T.rectangle)D=a.rectangle(k+A/2,E+L/2,A,L,m);else if(T.ellipse)D=a.circle(k+A/2,E+L/2,A/2,m);else if(T.polygon||T.polyline){var R=T.polygon?T.polygon:T.polyline,N=R.map(function(G){return{x:G.x*x,y:G.y*y}}),P=f.create(N),O=f.centre(P);k+=O.x,E+=O.y,D=a.fromVertices(k,E,P,m)}D&&S.push(D)}if(S.length===1)this.setBody(S[0],m.addToWorld);else if(S.length>1){var W=h(m);W.parts=S,this.setBody(p.create(W),W.addToWorld)}return this},setBody:function(m,x){return x===void 0&&(x=!0),this.body&&this.removeBody(),this.body=m,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});r.exports=g},19496:(r,o,t)=>{var a=t(66280),p=t(22562),c=t(53402),u=t(95540),h=t(41598),l={parseBody:function(d,v,f,g){g===void 0&&(g={});for(var m=u(f,"fixtures",[]),x=[],y=0;y<m.length;y++)for(var b=this.parseFixture(m[y]),M=0;M<b.length;M++)x.push(b[M]);var C=c.clone(f,!0);c.extend(C,g,!0),delete C.fixtures,delete C.type;var w=p.create(C);return p.setParts(w,x),p.setPosition(w,{x:d,y:v}),w},parseFixture:function(d){var v=c.extend({},!1,d);delete v.circle,delete v.vertices;var f;if(d.circle){var g=u(d.circle,"x"),m=u(d.circle,"y"),x=u(d.circle,"radius");f=[a.circle(g,m,x,v)]}else d.vertices&&(f=this.parseVertices(d.vertices,v));return f},parseVertices:function(d,v){v===void 0&&(v={});for(var f=[],g=0;g<d.length;g++)h.clockwiseSort(d[g]),f.push(p.create(c.extend({position:h.centre(d[g]),vertices:d[g]},v)));return a.flagCoincidentParts(f)}};r.exports=l},85791:(r,o,t)=>{var a=t(66280),p=t(22562),c={parseBody:function(u,h,l,d){d===void 0&&(d={});var v,f=l.vertices;if(f.length===1)d.vertices=f[0],v=p.create(d),a.flagCoincidentParts(v.parts);else{for(var g=[],m=0;m<f.length;m++){var x=p.create({vertices:f[m]});g.push(x)}a.flagCoincidentParts(g),d.parts=g,v=p.create(d)}return v.label=l.label,p.setPosition(v,{x:u,y:h}),v}};r.exports=c},98713:(r,o,t)=>{var a=t(15647),p=t(83419),c=t(69351),u=t(48140),h=t(81388),l=t(1121),d=t(8214),v=t(46975),f=t(53614),g=t(26099),m=t(41598),x=new p({initialize:function(b,M,C){C===void 0&&(C={});var w={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=b,this.world=M,this.camera=null,this.pointer=null,this.active=!0,this.position=new g,this.body=null,this.part=null,this.constraint=u.create(v(C,w)),this.world.on(l.BEFORE_UPDATE,this.update,this),b.sys.input.on(d.POINTER_DOWN,this.onDown,this),b.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(y){this.pointer||(this.pointer=y,this.camera=y.camera)},onUp:function(y){y===this.pointer&&(this.pointer=null)},getBody:function(y){var b=this.position,M=this.constraint;this.camera.getWorldPoint(y.x,y.y,b);for(var C=c.allBodies(this.world.localWorld),w=0;w<C.length;w++){var S=C[w];if(!S.ignorePointer&&a.contains(S.bounds,b)&&h.canCollide(S.collisionFilter,M.collisionFilter)&&this.hitTestBody(S,b))return this.world.emit(l.DRAG_START,S,this.part,this),!0}return!1},hitTestBody:function(y,b){for(var M=this.constraint,C=y.parts.length,w=C>1?1:0,S=w;S<C;S++){var I=y.parts[S];if(m.contains(I.vertices,b))return M.pointA=b,M.pointB={x:b.x-y.position.x,y:b.y-y.position.y},M.bodyB=y,M.angleB=y.angle,f.set(y,!1),this.part=I,this.body=y,!0}return!1},update:function(){var y=this.pointer,b=this.body;if(!this.active||!y){b&&this.stopDrag();return}if(!y.isDown&&b){this.stopDrag();return}else if(y.isDown){if(!this.camera||!b&&!this.getBody(y))return;b=this.body;var M=this.position,C=this.constraint;this.camera.getWorldPoint(y.x,y.y,M),C.pointA.x=M.x,C.pointA.y=M.y,f.set(b,!1),this.world.emit(l.DRAG,b,this)}},stopDrag:function(){var y=this.body,b=this.constraint;b.bodyB=null,b.pointB=null,this.pointer=null,this.body=null,this.part=null,y&&this.world.emit(l.DRAG_END,y,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(l.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});r.exports=x},68243:(r,o,t)=>{var a=t(66280),p=t(22562),c=t(83419),u=t(53402),h=t(69351),l=t(48413),d=t(50792),v=t(1121),f=t(95540),g=t(35154),m=t(22562),x=t(35810),y=t(73834),b=t(4372),M=t(13037),C=t(31725),w=new c({Extends:d,initialize:function(I,T){d.call(this),this.scene=I,this.engine=l.create(T),this.localWorld=this.engine.world;var k=g(T,"gravity",null);k?this.setGravity(k.x,k.y,k.scale):k===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=g(T,"enabled",!0),this.getDelta=g(T,"getDelta",this.update60Hz);var E=f(T,"runner",{}),A=f(E,"fps",!1);A&&(E.delta=1e3/f(E,"fps",60)),this.runner=M.create(E),this.autoUpdate=g(T,"autoUpdate",!0);var L=g(T,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:f(L,"showAxes",!1),showAngleIndicator:f(L,"showAngleIndicator",!1),angleColor:f(L,"angleColor",15208787),showBroadphase:f(L,"showBroadphase",!1),broadphaseColor:f(L,"broadphaseColor",16757760),showBounds:f(L,"showBounds",!1),boundsColor:f(L,"boundsColor",16777215),showVelocity:f(L,"showVelocity",!1),velocityColor:f(L,"velocityColor",44783),showCollisions:f(L,"showCollisions",!1),collisionColor:f(L,"collisionColor",16094476),showSeparations:f(L,"showSeparations",!1),separationColor:f(L,"separationColor",16753920),showBody:f(L,"showBody",!0),showStaticBody:f(L,"showStaticBody",!0),showInternalEdges:f(L,"showInternalEdges",!1),renderFill:f(L,"renderFill",!1),renderLine:f(L,"renderLine",!0),fillColor:f(L,"fillColor",1075465),fillOpacity:f(L,"fillOpacity",1),lineColor:f(L,"lineColor",2678297),lineOpacity:f(L,"lineOpacity",1),lineThickness:f(L,"lineThickness",1),staticFillColor:f(L,"staticFillColor",857979),staticLineColor:f(L,"staticLineColor",1255396),showSleeping:f(L,"showSleeping",!1),staticBodySleepOpacity:f(L,"staticBodySleepOpacity",.7),sleepFillColor:f(L,"sleepFillColor",4605510),sleepLineColor:f(L,"sleepLineColor",10066585),showSensors:f(L,"showSensors",!0),sensorFillColor:f(L,"sensorFillColor",857979),sensorLineColor:f(L,"sensorLineColor",1255396),showPositions:f(L,"showPositions",!0),positionSize:f(L,"positionSize",4),positionColor:f(L,"positionColor",14697178),showJoint:f(L,"showJoint",!0),jointColor:f(L,"jointColor",14737474),jointLineOpacity:f(L,"jointLineOpacity",1),jointLineThickness:f(L,"jointLineThickness",2),pinSize:f(L,"pinSize",4),pinColor:f(L,"pinColor",4382944),springColor:f(L,"springColor",14697184),anchorColor:f(L,"anchorColor",15724527),anchorSize:f(L,"anchorSize",4),showConvexHulls:f(L,"showConvexHulls",!1),hullColor:f(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),f(T,"setBounds",!1)){var D=T.setBounds;if(typeof D=="boolean")this.setBounds();else{var R=f(D,"x",0),N=f(D,"y",0),P=f(D,"width",I.sys.scale.width),O=f(D,"height",I.sys.scale.height),W=f(D,"thickness",64),G=f(D,"left",!0),H=f(D,"right",!0),V=f(D,"top",!0),B=f(D,"bottom",!0);this.setBounds(R,N,P,O,W,G,H,V,B)}}},setCompositeRenderStyle:function(S){var I=S.bodies,T=S.constraints,k=S.composites,E,A,L;for(E=0;E<I.length;E++)A=I[E],L=A.render,this.setBodyRenderStyle(A,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(E=0;E<T.length;E++)A=T[E],L=A.render,this.setConstraintRenderStyle(A,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(E=0;E<k.length;E++)A=k[E],this.setCompositeRenderStyle(A);return this},setBodyRenderStyle:function(S,I,T,k,E,A){var L=S.render,D=this.debugConfig;return L?(I==null&&(I=S.isStatic?D.staticLineColor:D.lineColor),T==null&&(T=D.lineOpacity),k==null&&(k=D.lineThickness),E==null&&(E=S.isStatic?D.staticFillColor:D.fillColor),A==null&&(A=D.fillOpacity),I!==!1&&(L.lineColor=I),T!==!1&&(L.lineOpacity=T),k!==!1&&(L.lineThickness=k),E!==!1&&(L.fillColor=E),A!==!1&&(L.fillOpacity=A),this):this},setConstraintRenderStyle:function(S,I,T,k,E,A,L){var D=S.render,R=this.debugConfig;if(!D)return this;if(I==null){var N=D.type;N==="line"?I=R.jointColor:N==="pin"?I=R.pinColor:N==="spring"&&(I=R.springColor)}return T==null&&(T=R.jointLineOpacity),k==null&&(k=R.jointLineThickness),E==null&&(E=R.pinSize),A==null&&(A=R.anchorColor),L==null&&(L=R.anchorSize),I!==!1&&(D.lineColor=I),T!==!1&&(D.lineOpacity=T),k!==!1&&(D.lineThickness=k),E!==!1&&(D.pinSize=E),A!==!1&&(D.anchorColor=A),L!==!1&&(D.anchorSize=L),this},setEventsProxy:function(){var S=this,I=this.engine,T=this.localWorld;this.drawDebug&&(x.on(T,"compositeModified",function(k){S.setCompositeRenderStyle(k)}),x.on(T,"beforeAdd",function(k){for(var E=[].concat(k.object),A=0;A<E.length;A++){var L=E[A],D=L.render;L.type==="body"?S.setBodyRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):L.type==="composite"?S.setCompositeRenderStyle(L):L.type==="constraint"&&S.setConstraintRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),x.on(T,"beforeAdd",function(k){S.emit(v.BEFORE_ADD,k)}),x.on(T,"afterAdd",function(k){S.emit(v.AFTER_ADD,k)}),x.on(T,"beforeRemove",function(k){S.emit(v.BEFORE_REMOVE,k)}),x.on(T,"afterRemove",function(k){S.emit(v.AFTER_REMOVE,k)}),x.on(I,"beforeUpdate",function(k){S.emit(v.BEFORE_UPDATE,k)}),x.on(I,"afterUpdate",function(k){S.emit(v.AFTER_UPDATE,k)}),x.on(I,"collisionStart",function(k){var E=k.pairs,A,L;E.length>0&&E.map(function(D){A=D.bodyA,L=D.bodyB,A.gameObject&&A.gameObject.emit("collide",A,L,D),L.gameObject&&L.gameObject.emit("collide",L,A,D),x.trigger(A,"onCollide",{pair:D}),x.trigger(L,"onCollide",{pair:D}),A.onCollideCallback&&A.onCollideCallback(D),L.onCollideCallback&&L.onCollideCallback(D),A.onCollideWith[L.id]&&A.onCollideWith[L.id](L,D),L.onCollideWith[A.id]&&L.onCollideWith[A.id](A,D)}),S.emit(v.COLLISION_START,k,A,L)}),x.on(I,"collisionActive",function(k){var E=k.pairs,A,L;E.length>0&&E.map(function(D){A=D.bodyA,L=D.bodyB,A.gameObject&&A.gameObject.emit("collideActive",A,L,D),L.gameObject&&L.gameObject.emit("collideActive",L,A,D),x.trigger(A,"onCollideActive",{pair:D}),x.trigger(L,"onCollideActive",{pair:D}),A.onCollideActiveCallback&&A.onCollideActiveCallback(D),L.onCollideActiveCallback&&L.onCollideActiveCallback(D)}),S.emit(v.COLLISION_ACTIVE,k,A,L)}),x.on(I,"collisionEnd",function(k){var E=k.pairs,A,L;E.length>0&&E.map(function(D){A=D.bodyA,L=D.bodyB,A.gameObject&&A.gameObject.emit("collideEnd",A,L,D),L.gameObject&&L.gameObject.emit("collideEnd",L,A,D),x.trigger(A,"onCollideEnd",{pair:D}),x.trigger(L,"onCollideEnd",{pair:D}),A.onCollideEndCallback&&A.onCollideEndCallback(D),L.onCollideEndCallback&&L.onCollideEndCallback(D)}),S.emit(v.COLLISION_END,k,A,L)})},setBounds:function(S,I,T,k,E,A,L,D,R){return S===void 0&&(S=0),I===void 0&&(I=0),T===void 0&&(T=this.scene.sys.scale.width),k===void 0&&(k=this.scene.sys.scale.height),E===void 0&&(E=64),A===void 0&&(A=!0),L===void 0&&(L=!0),D===void 0&&(D=!0),R===void 0&&(R=!0),this.updateWall(A,"left",S-E,I-E,E,k+E*2),this.updateWall(L,"right",S+T,I-E,E,k+E*2),this.updateWall(D,"top",S,I-E,T,E),this.updateWall(R,"bottom",S,I+k,T,E),this},updateWall:function(S,I,T,k,E,A){var L=this.walls[I];S?(L&&b.remove(this.localWorld,L),T+=E/2,k+=A/2,this.walls[I]=this.create(T,k,E,A,{isStatic:!0,friction:0,frictionStatic:0})):(L&&b.remove(this.localWorld,L),this.walls[I]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,I,T){return S===void 0&&(S=0),I===void 0&&(I=1),T===void 0&&(T=.001),this.localWorld.gravity.x=S,this.localWorld.gravity.y=I,this.localWorld.gravity.scale=T,this},create:function(S,I,T,k,E){var A=a.rectangle(S,I,T,k,E);return b.add(this.localWorld,A),A},add:function(S){return b.add(this.localWorld,S),this},remove:function(S,I){Array.isArray(S)||(S=[S]);for(var T=0;T<S.length;T++){var k=S[T],E=k.body?k.body:k;h.remove(this.localWorld,E,I)}return this},removeConstraint:function(S,I){return h.remove(this.localWorld,S,I),this},convertTilemapLayer:function(S,I){var T=S.layer,k=S.getTilesWithin(0,0,T.width,T.height,{isColliding:!0});return this.convertTiles(k,I),this},convertTiles:function(S,I){if(S.length===0)return this;for(var T=0;T<S.length;T++)new y(this,S[T],I);return this},nextGroup:function(S){return m.nextGroup(S)},nextCategory:function(){return m.nextCategory()},pause:function(){return this.enabled=!1,this.emit(v.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=u.now(),this.emit(v.RESUME),this},update:function(S){if(!(!this.enabled||!this.autoUpdate)){var I=this.engine,T=this.runner,k=u.now(),E=T.delta,A=0,L=S-T.timeLastTick;if((!L||!T.timeLastTick||L>Math.max(M._maxFrameDelta,T.maxFrameTime))&&(L=T.frameDelta||M._frameDeltaFallback),T.frameDeltaSmoothing){T.frameDeltaHistory.push(L),T.frameDeltaHistory=T.frameDeltaHistory.slice(-T.frameDeltaHistorySize);var D=T.frameDeltaHistory.slice(0).sort(),R=T.frameDeltaHistory.slice(D.length*M._smoothingLowerBound,D.length*M._smoothingUpperBound),N=M._mean(R);L=N||L}T.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),T.frameDelta=L,T.timeLastTick=S,T.timeBuffer+=T.frameDelta,T.timeBuffer=u.clamp(T.timeBuffer,0,T.frameDelta+E*M._timeBufferMargin),T.lastUpdatesDeferred=0;for(var P=T.maxUpdates||Math.ceil(T.maxFrameTime/E),O=u.now();E>0&&T.timeBuffer>=E*M._timeBufferMargin;){l.update(I,E),T.timeBuffer-=E,A+=1;var W=u.now()-k,G=u.now()-O,H=W+M._elapsedNextEstimate*G/A;if(A>=P||H>T.maxFrameTime){T.lastUpdatesDeferred=Math.round(Math.max(0,T.timeBuffer/E-M._timeBufferMargin));break}}}},step:function(S){l.update(this.engine,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var I=S.hasOwnProperty("body")?S.body:S;return h.get(this.localWorld,I.id,I.type)!==null},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var S=this.debugConfig,I=this.engine,T=this.debugGraphic,k=h.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&I.broadphase.controller&&this.renderGrid(I.broadphase,T,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(k,T,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(k),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(k,T,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(k,T,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(I.pairs.list,T,S.separationColor),S.showCollisions&&this.renderCollisions(I.pairs.list,T,S.collisionColor)}},renderGrid:function(S,I,T,k){I.lineStyle(1,T,k);for(var E=u.keys(S.buckets),A=0;A<E.length;A++){var L=E[A];if(!(S.buckets[L].length<2)){var D=L.split(/C|R/);I.strokeRect(parseInt(D[1],10)*S.bucketWidth,parseInt(D[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,I,T){I.lineStyle(1,T,1);for(var k=0;k<S.length;k++){var E=S[k];if(E.isActive){var A=E.collision,L=A.bodyA,D=A.bodyB,R=L.position,N=D.position,P=A.penetration,O=!L.isStatic&&!D.isStatic?4:1;D.isStatic&&(O=0),I.lineBetween(N.x,N.y,N.x-P.x*O,N.y-P.y*O),O=!L.isStatic&&!D.isStatic?4:1,L.isStatic&&(O=0),I.lineBetween(R.x,R.y,R.x-P.x*O,R.y-P.y*O)}}return this},renderCollisions:function(S,I,T){I.lineStyle(1,T,.5),I.fillStyle(T,1);var k,E;for(k=0;k<S.length;k++)if(E=S[k],!!E.isActive)for(var A=0;A<E.contactCount;A++){var L=E.contacts[A],D=L.vertex;D&&I.fillRect(D.x-2,D.y-2,5,5)}for(k=0;k<S.length;k++)if(E=S[k],!!E.isActive){var R=E.collision,N=E.contacts;if(E.contactCount>0){var P=N[0].vertex.x,O=N[0].vertex.y;E.contactCount===2&&(P=(N[0].vertex.x+N[1].vertex.x)/2,O=(N[0].vertex.y+N[1].vertex.y)/2),R.bodyB===R.supports[0].body||R.bodyA.isStatic?I.lineBetween(P-R.normal.x*8,O-R.normal.y*8,P,O):I.lineBetween(P+R.normal.x*8,O+R.normal.y*8,P,O)}}return this},renderBodyBounds:function(S,I,T,k){I.lineStyle(1,T,k);for(var E=0;E<S.length;E++){var A=S[E];if(A.render.visible){var L=A.bounds;if(L)I.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var D=A.parts,R=D.length>1?1:0;R<D.length;R++){var N=D[R];I.strokeRect(N.bounds.min.x,N.bounds.min.y,N.bounds.max.x-N.bounds.min.x,N.bounds.max.y-N.bounds.min.y)}}}return this},renderBodyAxes:function(S,I,T,k,E){I.lineStyle(1,k,E);for(var A=0;A<S.length;A++){var L=S[A],D=L.parts;if(L.render.visible){var R,N,P;if(T)for(N=D.length>1?1:0;N<D.length;N++)for(R=D[N],P=0;P<R.axes.length;P++){var O=R.axes[P];I.lineBetween(R.position.x,R.position.y,R.position.x+O.x*20,R.position.y+O.y*20)}else for(N=D.length>1?1:0;N<D.length;N++)for(R=D[N],P=0;P<R.axes.length;P++)I.lineBetween(R.position.x,R.position.y,(R.vertices[0].x+R.vertices[R.vertices.length-1].x)/2,(R.vertices[0].y+R.vertices[R.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,I,T,k,E){I.lineStyle(E,T,k);for(var A=0;A<S.length;A++){var L=S[A];L.render.visible&&I.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(S){for(var I=this.debugGraphic,T=this.debugConfig,k=T.showBody,E=T.showStaticBody,A=T.showSleeping,L=T.showInternalEdges,D=T.showConvexHulls,R=T.renderFill,N=T.renderLine,P=T.staticBodySleepOpacity,O=T.sleepFillColor,W=T.sleepLineColor,G=T.hullColor,H=0;H<S.length;H++){var V=S[H];if(V.render.visible&&!(!E&&V.isStatic||!k&&!V.isStatic)){var B=V.render.lineColor,j=V.render.lineOpacity,U=V.render.lineThickness,X=V.render.fillColor,Z=V.render.fillOpacity;A&&V.isSleeping&&(V.isStatic?(j*=P,Z*=P):(B=W,X=O)),R||(X=null),N||(B=null),this.renderBody(V,I,L,B,j,U,X,Z);var $=V.parts.length;D&&$>1&&this.renderConvexHull(V,I,G,U)}}},renderBody:function(S,I,T,k,E,A,L,D){k===void 0&&(k=null),E===void 0&&(E=null),A===void 0&&(A=1),L===void 0&&(L=null),D===void 0&&(D=null);for(var R=this.debugConfig,N=R.sensorFillColor,P=R.sensorLineColor,O=S.parts,W=O.length,G=W>1?1:0;G<W;G++){var H=O[G],V=H.render,B=V.opacity;if(!(!V.visible||B===0||H.isSensor&&!R.showSensors)){var j=H.circleRadius;if(I.beginPath(),H.isSensor?(L!==null&&I.fillStyle(N,D*B),k!==null&&I.lineStyle(A,P,E*B)):(L!==null&&I.fillStyle(L,D*B),k!==null&&I.lineStyle(A,k,E*B)),j)I.arc(H.position.x,H.position.y,j,0,2*Math.PI);else{var U=H.vertices,X=U.length;I.moveTo(U[0].x,U[0].y);for(var Z=1;Z<X;Z++){var $=U[Z];if(!U[Z-1].isInternal||T?I.lineTo($.x,$.y):I.moveTo($.x,$.y),Z<X&&$.isInternal&&!T){var J=(Z+1)%X;I.moveTo(U[J].x,U[J].y)}}I.closePath()}L!==null&&I.fillPath(),k!==null&&I.strokePath()}}if(R.showPositions&&!S.isStatic){var Q=S.position.x,_=S.position.y,ae=Math.ceil(R.positionSize/2);I.fillStyle(R.positionColor,1),I.fillRect(Q-ae,_-ae,R.positionSize,R.positionSize)}return this},renderConvexHull:function(S,I,T,k){k===void 0&&(k=1);var E=S.parts,A=E.length;if(A>1){var L=S.vertices;I.lineStyle(k,T),I.beginPath(),I.moveTo(L[0].x,L[0].y);for(var D=1;D<L.length;D++)I.lineTo(L[D].x,L[D].y);I.lineTo(L[0].x,L[0].y),I.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,I=h.allConstraints(this.localWorld),T=0;T<I.length;T++){var k=I[T].render,E=k.lineColor,A=k.lineOpacity,L=k.lineThickness,D=k.pinSize,R=k.anchorColor,N=k.anchorSize;this.renderConstraint(I[T],S,E,A,L,D,R,N)}},renderConstraint:function(S,I,T,k,E,A,L,D){var R=S.render;if(!R.visible||!S.pointA||!S.pointB)return this;I.lineStyle(E,T,k);var N=S.bodyA,P=S.bodyB,O,W;if(N?O=C.add(N.position,S.pointA):O=S.pointA,R.type==="pin")I.strokeCircle(O.x,O.y,A);else{if(P?W=C.add(P.position,S.pointB):W=S.pointB,I.beginPath(),I.moveTo(O.x,O.y),R.type==="spring")for(var G=C.sub(W,O),H=C.perp(C.normalise(G)),V=Math.ceil(u.clamp(S.length/5,12,20)),B,j=1;j<V;j+=1)B=j%2===0?1:-1,I.lineTo(O.x+G.x*(j/V)+H.x*B*4,O.y+G.y*(j/V)+H.y*B*4);I.lineTo(W.x,W.y)}return I.strokePath(),R.anchors&&D>0&&(I.fillStyle(L),I.fillCircle(O.x,O.y,D),I.fillCircle(W.x,W.y,D)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),b.clear(this.localWorld,!1),l.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});r.exports=w},70410:r=>{var o={setBounce:function(t){return this.body.restitution=t,this}};r.exports=o},66968:r=>{var o={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var a=0;if(!Array.isArray(t))a=t;else for(var p=0;p<t.length;p++)a|=t[p];return this.body.collisionFilter.mask=a,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,a){Array.isArray(t)||(t=[t]);for(var p=0;p<t.length;p++){var c=t[p].hasOwnProperty("body")?t[p].body:t[p];this.body.setOnCollideWith(c,a)}return this}};r.exports=o},51607:(r,o,t)=>{var a=t(22562),p={applyForce:function(c){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,c),this},applyForceFrom:function(c,u){return a.applyForce(this.body,c,u),this},thrust:function(c){var u=this.body.angle;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(c){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(c){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(c){var u=this.body.angle-Math.PI;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};r.exports=p},5436:r=>{var o={setFriction:function(t,a,p){return this.body.friction=t,a!==void 0&&(this.body.frictionAir=a),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};r.exports=o},39858:r=>{var o={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};r.exports=o},37302:(r,o,t)=>{var a=t(22562),p=t(26099),c={setMass:function(u){return a.setMass(this.body,u),this},setDensity:function(u){return a.setDensity(this.body,u),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};r.exports=c},39132:r=>{var o={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};r.exports=o},57772:(r,o,t)=>{var a=t(66280),p=t(22562),c=t(43855),u=t(95540),h=t(19496),l=t(85791),d=t(41598),v={setRectangle:function(f,g,m){return this.setBody({type:"rectangle",width:f,height:g},m)},setCircle:function(f,g){return this.setBody({type:"circle",radius:f},g)},setPolygon:function(f,g,m){return this.setBody({type:"polygon",sides:g,radius:f},m)},setTrapezoid:function(f,g,m,x){return this.setBody({type:"trapezoid",width:f,height:g,slope:m},x)},setExistingBody:function(f,g){g===void 0&&(g=!0),this.body&&this.world.remove(this.body,!0),this.body=f;for(var m=0;m<f.parts.length;m++)f.parts[m].gameObject=this;var x=this;if(f.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},g&&(this.world.has(f)&&this.world.remove(f,!0),this.world.add(f)),this._originComponent){var y=f.render.sprite.xOffset,b=f.render.sprite.yOffset,M=f.centerOfMass.x,C=f.centerOfMass.y;if(c(M,.5)&&c(C,.5))this.setOrigin(y+.5,b+.5);else{var w=f.centerOffset.x,S=f.centerOffset.y;this.setOrigin(y+w/this.displayWidth,b+S/this.displayHeight)}}return this},setBody:function(f,g){if(!f)return this;var m;typeof f=="string"&&(f={type:f});var x=u(f,"type","rectangle"),y=u(f,"x",this._tempVec2.x),b=u(f,"y",this._tempVec2.y),M=u(f,"width",this.width),C=u(f,"height",this.height);switch(x){case"rectangle":m=a.rectangle(y,b,M,C,g);break;case"circle":var w=u(f,"radius",Math.max(M,C)/2),S=u(f,"maxSides",25);m=a.circle(y,b,w,g,S);break;case"trapezoid":var I=u(f,"slope",.5);m=a.trapezoid(y,b,M,C,I,g);break;case"polygon":var T=u(f,"sides",5),k=u(f,"radius",Math.max(M,C)/2);m=a.polygon(y,b,T,k,g);break;case"fromVertices":case"fromVerts":var E=u(f,"verts",null);if(E)if(typeof E=="string"&&(E=d.fromPath(E)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,E),m=this.body;else{var A=u(f,"flagInternal",!1),L=u(f,"removeCollinear",.01),D=u(f,"minimumArea",10);m=a.fromVertices(y,b,E,g,A,L,D)}break;case"fromPhysicsEditor":m=h.parseBody(y,b,f,g);break;case"fromPhysicsTracer":m=l.parseBody(y,b,f,g);break}return m&&this.setExistingBody(m,f.addToWorld),this}};r.exports=v},38083:(r,o,t)=>{var a=t(1121),p=t(53614),c=t(35810),u={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(h){return h===void 0&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,l){return this.setSleepStartEvent(h),this.setSleepEndEvent(l),this},setSleepStartEvent:function(h){if(h){var l=this.world;c.on(this.body,"sleepStart",function(d){l.emit(a.SLEEP_START,d,this)})}else c.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var l=this.world;c.on(this.body,"sleepEnd",function(d){l.emit(a.SLEEP_END,d,this)})}else c.off(this.body,"sleepEnd");return this}};r.exports=u},90556:(r,o,t)=>{var a=t(22562),p={setStatic:function(c){return a.setStatic(this.body,c),this},isStatic:function(){return this.body.isStatic}};r.exports=p},85436:(r,o,t)=>{var a=t(22562),p=t(36383),c=t(86554),u=t(30954),h=4,l={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),a.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this.setScale(d,d)}},scaleX:{get:function(){return this._scaleX},set:function(d){var v=1/this._scaleX,f=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=~h:this.renderFlags|=h,a.scale(this.body,v,f),a.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var v=1/this._scaleX,f=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=~h:this.renderFlags|=h,a.scale(this.body,v,f),a.scale(this.body,this._scaleX,d)}},angle:{get:function(){return u(this.body.angle*p.RAD_TO_DEG)},set:function(d){this.rotation=u(d)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=c(d),a.setAngle(this.body,this._rotation)}},setPosition:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this._tempVec2.set(d,v),a.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return d===void 0&&(d=0),this._rotation=c(d),a.setAngle(this.body,d),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,a.setAngle(this.body,this.rotation),this},setScale:function(d,v,f){d===void 0&&(d=1),v===void 0&&(v=d);var g=1/this._scaleX,m=1/this._scaleY;return this._scaleX=d,this._scaleY=v,a.scale(this.body,g,m,f),a.scale(this.body,d,v,f),this}};r.exports=l},42081:(r,o,t)=>{var a=t(22562),p={setVelocityX:function(c){return this._tempVec2.set(c,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(c){return this._tempVec2.set(this.body.velocity.x,c),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(c,u){return this._tempVec2.set(c,u),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(c){return a.setAngularVelocity(this.body,c),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(c){return a.setAngularSpeed(this.body,c),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};r.exports=p},31884:(r,o,t)=>{r.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:r=>{r.exports="afteradd"},1213:r=>{r.exports="afterremove"},25968:r=>{r.exports="afterupdate"},67205:r=>{r.exports="beforeadd"},39438:r=>{r.exports="beforeremove"},44823:r=>{r.exports="beforeupdate"},92593:r=>{r.exports="collisionactive"},60128:r=>{r.exports="collisionend"},76861:r=>{r.exports="collisionstart"},92362:r=>{r.exports="dragend"},76408:r=>{r.exports="drag"},93971:r=>{r.exports="dragstart"},5656:r=>{r.exports="pause"},47861:r=>{r.exports="resume"},79099:r=>{r.exports="sleepend"},35906:r=>{r.exports="sleepstart"},1121:(r,o,t)=>{r.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(r,o,t)=>{r.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(r,o,t)=>{var a={};r.exports=a;var p=t(41598),c=t(31725),u=t(53614),h=t(53402),l=t(15647),d=t(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(f){var g={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:f.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!f.hasOwnProperty("position")&&f.hasOwnProperty("vertices")?f.position=p.centre(f.vertices):f.hasOwnProperty("vertices")||(g.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var m=h.extend(g,f);return v(m,f),m.setOnCollideWith=function(x,y){return y?this.onCollideWith[x.id]=y:delete this.onCollideWith[x.id],this},m},a.nextGroup=function(f){return f?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var v=function(f,g){if(g=g||{},a.set(f,{bounds:f.bounds||l.create(f.vertices),positionPrev:f.positionPrev||c.clone(f.position),anglePrev:f.anglePrev||f.angle,vertices:f.vertices,parts:f.parts||[f],isStatic:f.isStatic,isSleeping:f.isSleeping,parent:f.parent||f}),p.rotate(f.vertices,f.angle,f.position),d.rotate(f.axes,f.angle),l.update(f.bounds,f.vertices,f.velocity),a.set(f,{axes:g.axes||f.axes,area:g.area||f.area,mass:g.mass||f.mass,inertia:g.inertia||f.inertia}),f.parts.length===1){var m=f.bounds,x=f.centerOfMass,y=f.centerOffset,b=m.max.x-m.min.x,M=m.max.y-m.min.y;x.x=-(m.min.x-f.position.x)/b,x.y=-(m.min.y-f.position.y)/M,y.x=b*x.x,y.y=M*x.y}};a.set=function(f,g,m){var x;typeof g=="string"&&(x=g,g={},g[x]=m);for(x in g)if(Object.prototype.hasOwnProperty.call(g,x))switch(m=g[x],x){case"isStatic":a.setStatic(f,m);break;case"isSleeping":u.set(f,m);break;case"mass":a.setMass(f,m);break;case"density":a.setDensity(f,m);break;case"inertia":a.setInertia(f,m);break;case"vertices":a.setVertices(f,m);break;case"position":a.setPosition(f,m);break;case"angle":a.setAngle(f,m);break;case"velocity":a.setVelocity(f,m);break;case"angularVelocity":a.setAngularVelocity(f,m);break;case"speed":a.setSpeed(f,m);break;case"angularSpeed":a.setAngularSpeed(f,m);break;case"parts":a.setParts(f,m);break;case"centre":a.setCentre(f,m);break;default:f[x]=m}},a.setStatic=function(f,g){for(var m=0;m<f.parts.length;m++){var x=f.parts[m];g?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=g}},a.setMass=function(f,g){var m=f.inertia/(f.mass/6);f.inertia=m*(g/6),f.inverseInertia=1/f.inertia,f.mass=g,f.inverseMass=1/f.mass,f.density=f.mass/f.area},a.setDensity=function(f,g){a.setMass(f,g*f.area),f.density=g},a.setInertia=function(f,g){f.inertia=g,f.inverseInertia=1/f.inertia},a.setVertices=function(f,g){g[0].body===f?f.vertices=g:f.vertices=p.create(g,f),f.axes=d.fromVertices(f.vertices),f.area=p.area(f.vertices),a.setMass(f,f.density*f.area);var m=p.centre(f.vertices);p.translate(f.vertices,m,-1),a.setInertia(f,a._inertiaScale*p.inertia(f.vertices,f.mass)),p.translate(f.vertices,f.position),l.update(f.bounds,f.vertices,f.velocity)},a.setParts=function(f,g,m){var x;for(g=g.slice(0),f.parts.length=0,f.parts.push(f),f.parent=f,x=0;x<g.length;x++){var y=g[x];y!==f&&(y.parent=f,f.parts.push(y))}if(f.parts.length!==1){if(m=typeof m<"u"?m:!0,m){var b=[];for(x=0;x<g.length;x++)b=b.concat(g[x].vertices);p.clockwiseSort(b);var M=p.hull(b),C=p.centre(M);a.setVertices(f,M),p.translate(f.vertices,C)}var w=a._totalProperties(f),S=w.centre.x,I=w.centre.y,T=f.bounds,k=f.centerOfMass,E=f.centerOffset;l.update(T,f.vertices,f.velocity),k.x=-(T.min.x-S)/(T.max.x-T.min.x),k.y=-(T.min.y-I)/(T.max.y-T.min.y),E.x=S,E.y=I,f.area=w.area,f.parent=f,f.position.x=S,f.position.y=I,f.positionPrev.x=S,f.positionPrev.y=I,a.setMass(f,w.mass),a.setInertia(f,w.inertia),a.setPosition(f,w.centre)}},a.setCentre=function(f,g,m){m?(f.positionPrev.x+=g.x,f.positionPrev.y+=g.y,f.position.x+=g.x,f.position.y+=g.y):(f.positionPrev.x=g.x-(f.position.x-f.positionPrev.x),f.positionPrev.y=g.y-(f.position.y-f.positionPrev.y),f.position.x=g.x,f.position.y=g.y)},a.setPosition=function(f,g,m){var x=c.sub(g,f.position);m?(f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.velocity.x=x.x,f.velocity.y=x.y,f.speed=c.magnitude(x)):(f.positionPrev.x+=x.x,f.positionPrev.y+=x.y);for(var y=0;y<f.parts.length;y++){var b=f.parts[y];b.position.x+=x.x,b.position.y+=x.y,p.translate(b.vertices,x),l.update(b.bounds,b.vertices,f.velocity)}},a.setAngle=function(f,g,m){var x=g-f.angle;m?(f.anglePrev=f.angle,f.angularVelocity=x,f.angularSpeed=Math.abs(x)):f.anglePrev+=x;for(var y=0;y<f.parts.length;y++){var b=f.parts[y];b.angle+=x,p.rotate(b.vertices,x,f.position),d.rotate(b.axes,x),l.update(b.bounds,b.vertices,f.velocity),y>0&&c.rotateAbout(b.position,x,f.position,b.position)}},a.setVelocity=function(f,g){var m=f.deltaTime/a._baseDelta;f.positionPrev.x=f.position.x-g.x*m,f.positionPrev.y=f.position.y-g.y*m,f.velocity.x=(f.position.x-f.positionPrev.x)/m,f.velocity.y=(f.position.y-f.positionPrev.y)/m,f.speed=c.magnitude(f.velocity)},a.getVelocity=function(f){var g=a._baseDelta/f.deltaTime;return{x:(f.position.x-f.positionPrev.x)*g,y:(f.position.y-f.positionPrev.y)*g}},a.getSpeed=function(f){return c.magnitude(a.getVelocity(f))},a.setSpeed=function(f,g){a.setVelocity(f,c.mult(c.normalise(a.getVelocity(f)),g))},a.setAngularVelocity=function(f,g){var m=f.deltaTime/a._baseDelta;f.anglePrev=f.angle-g*m,f.angularVelocity=(f.angle-f.anglePrev)/m,f.angularSpeed=Math.abs(f.angularVelocity)},a.getAngularVelocity=function(f){return(f.angle-f.anglePrev)*a._baseDelta/f.deltaTime},a.getAngularSpeed=function(f){return Math.abs(a.getAngularVelocity(f))},a.setAngularSpeed=function(f,g){a.setAngularVelocity(f,h.sign(a.getAngularVelocity(f))*g)},a.translate=function(f,g,m){a.setPosition(f,c.add(f.position,g),m)},a.rotate=function(f,g,m,x){if(!m)a.setAngle(f,f.angle+g,x);else{var y=Math.cos(g),b=Math.sin(g),M=f.position.x-m.x,C=f.position.y-m.y;a.setPosition(f,{x:m.x+(M*y-C*b),y:m.y+(M*b+C*y)},x),a.setAngle(f,f.angle+g,x)}},a.scale=function(f,g,m,x){var y=0,b=0;x=x||f.position;for(var M=f.inertia===1/0,C=0;C<f.parts.length;C++){var w=f.parts[C];w.scale.x=g,w.scale.y=m,p.scale(w.vertices,g,m,x),w.axes=d.fromVertices(w.vertices),w.area=p.area(w.vertices),a.setMass(w,f.density*w.area),p.translate(w.vertices,{x:-w.position.x,y:-w.position.y}),a.setInertia(w,a._inertiaScale*p.inertia(w.vertices,w.mass)),p.translate(w.vertices,{x:w.position.x,y:w.position.y}),C>0&&(y+=w.area,b+=w.inertia),w.position.x=x.x+(w.position.x-x.x)*g,w.position.y=x.y+(w.position.y-x.y)*m,l.update(w.bounds,w.vertices,f.velocity)}f.parts.length>1&&(f.area=y,f.isStatic||(a.setMass(f,f.density*y),a.setInertia(f,b))),f.circleRadius&&(g===m?f.circleRadius*=g:f.circleRadius=null),M&&a.setInertia(f,1/0)},a.update=function(f,g){g=(typeof g<"u"?g:16.666666666666668)*f.timeScale;var m=g*g,x=a._timeCorrection?g/(f.deltaTime||g):1,y=1-f.frictionAir*(g/h._baseDelta),b=(f.position.x-f.positionPrev.x)*x,M=(f.position.y-f.positionPrev.y)*x;f.velocity.x=b*y+f.force.x/f.mass*m,f.velocity.y=M*y+f.force.y/f.mass*m,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.position.x+=f.velocity.x,f.position.y+=f.velocity.y,f.deltaTime=g,f.angularVelocity=(f.angle-f.anglePrev)*y*x+f.torque/f.inertia*m,f.anglePrev=f.angle,f.angle+=f.angularVelocity,f.speed=c.magnitude(f.velocity),f.angularSpeed=Math.abs(f.angularVelocity);for(var C=0;C<f.parts.length;C++){var w=f.parts[C];p.translate(w.vertices,f.velocity),C>0&&(w.position.x+=f.velocity.x,w.position.y+=f.velocity.y),f.angularVelocity!==0&&(p.rotate(w.vertices,f.angularVelocity,f.position),d.rotate(w.axes,f.angularVelocity),C>0&&c.rotateAbout(w.position,f.angularVelocity,f.position,w.position)),l.update(w.bounds,w.vertices,f.velocity)}},a.updateVelocities=function(f){var g=a._baseDelta/f.deltaTime,m=f.velocity;m.x=(f.position.x-f.positionPrev.x)*g,m.y=(f.position.y-f.positionPrev.y)*g,f.speed=Math.sqrt(m.x*m.x+m.y*m.y),f.angularVelocity=(f.angle-f.anglePrev)*g,f.angularSpeed=Math.abs(f.angularVelocity)},a.applyForce=function(f,g,m){var x={x:g.x-f.position.x,y:g.y-f.position.y};f.force.x+=m.x,f.force.y+=m.y,f.torque+=x.x*m.y-x.y*m.x},a._totalProperties=function(f){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},m=f.parts.length===1?0:1;m<f.parts.length;m++){var x=f.parts[m],y=x.mass!==1/0?x.mass:1;g.mass+=y,g.area+=x.area,g.inertia+=x.inertia,g.centre=c.add(g.centre,c.mult(x.position,y))}return g.centre=c.div(g.centre,g.mass),g},a.wrap=function(f,g){var m=l.wrap(f.bounds,g);return m&&a.translate(f,m),m}})()},69351:(r,o,t)=>{var a={};r.exports=a;var p=t(35810),c=t(53402),u=t(15647),h=t(22562);(function(){a.create=function(l){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},l)},a.setModified=function(l,d,v,f){if(p.trigger(l,"compositeModified",l),l.isModified=d,d&&l.cache&&(l.cache.allBodies=null,l.cache.allConstraints=null,l.cache.allComposites=null),v&&l.parent&&a.setModified(l.parent,d,v,f),f)for(var g=0;g<l.composites.length;g++){var m=l.composites[g];a.setModified(m,d,v,f)}},a.add=function(l,d){var v=[].concat(d);p.trigger(l,"beforeAdd",{object:d});for(var f=0;f<v.length;f++){var g=v[f];switch(g.type){case"body":if(g.parent!==g){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(l,g);break;case"constraint":a.addConstraint(l,g);break;case"composite":a.addComposite(l,g);break;case"mouseConstraint":a.addConstraint(l,g.constraint);break}}return p.trigger(l,"afterAdd",{object:d}),l},a.remove=function(l,d,v){var f=[].concat(d);p.trigger(l,"beforeRemove",{object:d});for(var g=0;g<f.length;g++){var m=f[g];switch(m.type){case"body":a.removeBody(l,m,v);break;case"constraint":a.removeConstraint(l,m,v);break;case"composite":a.removeComposite(l,m,v);break;case"mouseConstraint":a.removeConstraint(l,m.constraint);break}}return p.trigger(l,"afterRemove",{object:d}),l},a.addComposite=function(l,d){return l.composites.push(d),d.parent=l,a.setModified(l,!0,!0,!1),l},a.removeComposite=function(l,d,v){var f=c.indexOf(l.composites,d);if(f!==-1){var g=a.allBodies(d);a.removeCompositeAt(l,f);for(var m=0;m<g.length;m++)g[m].sleepCounter=0}if(v)for(var m=0;m<l.composites.length;m++)a.removeComposite(l.composites[m],d,!0);return l},a.removeCompositeAt=function(l,d){return l.composites.splice(d,1),a.setModified(l,!0,!0,!1),l},a.addBody=function(l,d){return l.bodies.push(d),a.setModified(l,!0,!0,!1),l},a.removeBody=function(l,d,v){var f=c.indexOf(l.bodies,d);if(f!==-1&&(a.removeBodyAt(l,f),d.sleepCounter=0),v)for(var g=0;g<l.composites.length;g++)a.removeBody(l.composites[g],d,!0);return l},a.removeBodyAt=function(l,d){return l.bodies.splice(d,1),a.setModified(l,!0,!0,!1),l},a.addConstraint=function(l,d){return l.constraints.push(d),a.setModified(l,!0,!0,!1),l},a.removeConstraint=function(l,d,v){var f=c.indexOf(l.constraints,d);if(f!==-1&&a.removeConstraintAt(l,f),v)for(var g=0;g<l.composites.length;g++)a.removeConstraint(l.composites[g],d,!0);return l},a.removeConstraintAt=function(l,d){return l.constraints.splice(d,1),a.setModified(l,!0,!0,!1),l},a.clear=function(l,d,v){if(v)for(var f=0;f<l.composites.length;f++)a.clear(l.composites[f],d,!0);return d?l.bodies=l.bodies.filter(function(g){return g.isStatic}):l.bodies.length=0,l.constraints.length=0,l.composites.length=0,a.setModified(l,!0,!0,!1),l},a.allBodies=function(l){if(l.cache&&l.cache.allBodies)return l.cache.allBodies;for(var d=[].concat(l.bodies),v=0;v<l.composites.length;v++)d=d.concat(a.allBodies(l.composites[v]));return l.cache&&(l.cache.allBodies=d),d},a.allConstraints=function(l){if(l.cache&&l.cache.allConstraints)return l.cache.allConstraints;for(var d=[].concat(l.constraints),v=0;v<l.composites.length;v++)d=d.concat(a.allConstraints(l.composites[v]));return l.cache&&(l.cache.allConstraints=d),d},a.allComposites=function(l){if(l.cache&&l.cache.allComposites)return l.cache.allComposites;for(var d=[].concat(l.composites),v=0;v<l.composites.length;v++)d=d.concat(a.allComposites(l.composites[v]));return l.cache&&(l.cache.allComposites=d),d},a.get=function(l,d,v){var f,g;switch(v){case"body":f=a.allBodies(l);break;case"constraint":f=a.allConstraints(l);break;case"composite":f=a.allComposites(l).concat(l);break}return f?(g=f.filter(function(m){return m.id.toString()===d.toString()}),g.length===0?null:g[0]):null},a.move=function(l,d,v){return a.remove(l,d),a.add(v,d),l},a.rebase=function(l){for(var d=a.allBodies(l).concat(a.allConstraints(l)).concat(a.allComposites(l)),v=0;v<d.length;v++)d[v].id=c.nextId();return l},a.translate=function(l,d,v){for(var f=v?a.allBodies(l):l.bodies,g=0;g<f.length;g++)h.translate(f[g],d);return l},a.rotate=function(l,d,v,f){for(var g=Math.cos(d),m=Math.sin(d),x=f?a.allBodies(l):l.bodies,y=0;y<x.length;y++){var b=x[y],M=b.position.x-v.x,C=b.position.y-v.y;h.setPosition(b,{x:v.x+(M*g-C*m),y:v.y+(M*m+C*g)}),h.rotate(b,d)}return l},a.scale=function(l,d,v,f,g){for(var m=g?a.allBodies(l):l.bodies,x=0;x<m.length;x++){var y=m[x],b=y.position.x-f.x,M=y.position.y-f.y;h.setPosition(y,{x:f.x+b*d,y:f.y+M*v}),h.scale(y,d,v)}return l},a.bounds=function(l){for(var d=a.allBodies(l),v=[],f=0;f<d.length;f+=1){var g=d[f];v.push(g.bounds.min,g.bounds.max)}return u.create(v)},a.wrap=function(l,d){var v=u.wrap(a.bounds(l),d);return v&&a.translate(l,v),v}})()},4372:(r,o,t)=>{var a={};r.exports=a;var p=t(69351);(function(){a.create=p.create,a.add=p.add,a.remove=p.remove,a.clear=p.clear,a.addComposite=p.addComposite,a.addBody=p.addBody,a.addConstraint=p.addConstraint})()},52284:(r,o,t)=>{var a={};r.exports=a;var p=t(41598),c=t(4506);(function(){var u=[],h={overlap:0,axis:null},l={overlap:0,axis:null};a.create=function(d,v){return{pair:null,collided:!1,bodyA:d,bodyB:v,parentA:d.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(d,v,f){if(a._overlapAxes(h,d.vertices,v.vertices,d.axes),h.overlap<=0||(a._overlapAxes(l,v.vertices,d.vertices,v.axes),l.overlap<=0))return null;var g=f&&f.table[c.id(d,v)],m;g?m=g.collision:(m=a.create(d,v),m.collided=!0,m.bodyA=d.id<v.id?d:v,m.bodyB=d.id<v.id?v:d,m.parentA=m.bodyA.parent,m.parentB=m.bodyB.parent),d=m.bodyA,v=m.bodyB;var x;h.overlap<l.overlap?x=h:x=l;var y=m.normal,b=m.tangent,M=m.penetration,C=m.supports,w=x.overlap,S=x.axis,I=S.x,T=S.y,k=v.position.x-d.position.x,E=v.position.y-d.position.y;I*k+T*E>=0&&(I=-I,T=-T),y.x=I,y.y=T,b.x=-T,b.y=I,M.x=I*w,M.y=T*w,m.depth=w;var A=a._findSupports(d,v,y,1),L=0;if(p.contains(d.vertices,A[0])&&(C[L++]=A[0]),p.contains(d.vertices,A[1])&&(C[L++]=A[1]),L<2){var D=a._findSupports(v,d,y,-1);p.contains(v.vertices,D[0])&&(C[L++]=D[0]),L<2&&p.contains(v.vertices,D[1])&&(C[L++]=D[1])}return L===0&&(C[L++]=A[0]),m.supportCount=L,m},a._overlapAxes=function(d,v,f,g){var m=v.length,x=f.length,y=v[0].x,b=v[0].y,M=f[0].x,C=f[0].y,w=g.length,S=Number.MAX_VALUE,I=0,T,k,E,A,L,D;for(L=0;L<w;L++){var R=g[L],N=R.x,P=R.y,O=y*N+b*P,W=M*N+C*P,G=O,H=W;for(D=1;D<m;D+=1)A=v[D].x*N+v[D].y*P,A>G?G=A:A<O&&(O=A);for(D=1;D<x;D+=1)A=f[D].x*N+f[D].y*P,A>H?H=A:A<W&&(W=A);if(k=G-W,E=H-O,T=k<E?k:E,T<S&&(S=T,I=L,T<=0))break}d.axis=g[I],d.overlap=S},a._findSupports=function(d,v,f,g){var m=v.vertices,x=m.length,y=d.position.x,b=d.position.y,M=f.x*g,C=f.y*g,w=m[0],S=w,I=M*(y-S.x)+C*(b-S.y),T,k,E;for(E=1;E<x;E+=1)S=m[E],k=M*(y-S.x)+C*(b-S.y),k<I&&(I=k,w=S);return T=m[(x+w.index-1)%x],I=M*(y-T.x)+C*(b-T.y),S=m[(w.index+1)%x],M*(y-S.x)+C*(b-S.y)<I?(u[0]=w,u[1]=S,u):(u[0]=w,u[1]=T,u)}})()},43424:r=>{var o={};r.exports=o,function(){o.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(r,o,t)=>{var a={};r.exports=a;var p=t(53402),c=t(52284);(function(){a.create=function(u){var h={bodies:[],collisions:[],pairs:null};return p.extend(h,u)},a.setBodies=function(u,h){u.bodies=h.slice(0)},a.clear=function(u){u.bodies=[],u.collisions=[]},a.collisions=function(u){var h=u.pairs,l=u.bodies,d=l.length,v=a.canCollide,f=c.collides,g=u.collisions,m=0,x,y;for(l.sort(a._compareBoundsX),x=0;x<d;x++){var b=l[x],M=b.bounds,C=b.bounds.max.x,w=b.bounds.max.y,S=b.bounds.min.y,I=b.isStatic||b.isSleeping,T=b.parts.length,k=T===1;for(y=x+1;y<d;y++){var E=l[y],A=E.bounds;if(A.min.x>C)break;if(!(w<A.min.y||S>A.max.y)&&!(I&&(E.isStatic||E.isSleeping))&&v(b.collisionFilter,E.collisionFilter)){var L=E.parts.length;if(k&&L===1){var D=f(b,E,h);D&&(g[m++]=D)}else for(var R=T>1?1:0,N=L>1?1:0,P=R;P<T;P++)for(var O=b.parts[P],M=O.bounds,W=N;W<L;W++){var G=E.parts[W],A=G.bounds;if(!(M.min.x>A.max.x||M.max.x<A.min.x||M.max.y<A.min.y||M.min.y>A.max.y)){var D=f(O,G,h);D&&(g[m++]=D)}}}}}return g.length!==m&&(g.length=m),g},a.canCollide=function(u,h){return u.group===h.group&&u.group!==0?u.group>0:(u.mask&h.category)!==0&&(h.mask&u.category)!==0},a._compareBoundsX=function(u,h){return u.bounds.min.x-h.bounds.min.x}})()},4506:(r,o,t)=>{var a={};r.exports=a;var p=t(43424);(function(){a.create=function(c,u){var h=c.bodyA,l=c.bodyB,d={id:a.id(h,l),bodyA:h,bodyB:l,collision:c,contacts:[p.create(),p.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||l.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(d,c,u),d},a.update=function(c,u,h){var l=u.supports,d=u.supportCount,v=c.contacts,f=u.parentA,g=u.parentB;c.isActive=!0,c.timeUpdated=h,c.collision=u,c.separation=u.depth,c.inverseMass=f.inverseMass+g.inverseMass,c.friction=f.friction<g.friction?f.friction:g.friction,c.frictionStatic=f.frictionStatic>g.frictionStatic?f.frictionStatic:g.frictionStatic,c.restitution=f.restitution>g.restitution?f.restitution:g.restitution,c.slop=f.slop>g.slop?f.slop:g.slop,c.contactCount=d,u.pair=c;var m=l[0],x=v[0],y=l[1],b=v[1];(b.vertex===m||x.vertex===y)&&(v[1]=x,v[0]=x=b,b=v[1]),x.vertex=m,b.vertex=y},a.setActive=function(c,u,h){u?(c.isActive=!0,c.timeUpdated=h):(c.isActive=!1,c.contactCount=0)},a.id=function(c,u){return c.id<u.id?c.id.toString(36)+":"+u.id.toString(36):u.id.toString(36)+":"+c.id.toString(36)}})()},99561:(r,o,t)=>{var a={};r.exports=a;var p=t(4506),c=t(53402);(function(){a.create=function(u){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},a.update=function(u,h,l){var d=p.update,v=p.create,f=p.setActive,g=u.table,m=u.list,x=m.length,y=x,b=u.collisionStart,M=u.collisionEnd,C=u.collisionActive,w=h.length,S=0,I=0,T=0,k,E,A;for(A=0;A<w;A++)k=h[A],E=k.pair,E?(E.isActive&&(C[T++]=E),d(E,k,l)):(E=v(k,l),g[E.id]=E,b[S++]=E,m[y++]=E);for(y=0,x=m.length,A=0;A<x;A++)E=m[A],E.timeUpdated>=l?m[y++]=E:(f(E,!1,l),E.collision.bodyA.sleepCounter>0&&E.collision.bodyB.sleepCounter>0?m[y++]=E:(M[I++]=E,delete g[E.id]));m.length!==y&&(m.length=y),b.length!==S&&(b.length=S),M.length!==I&&(M.length=I),C.length!==T&&(C.length=T)},a.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()},73296:(r,o,t)=>{var a={};r.exports=a;var p=t(31725),c=t(52284),u=t(15647),h=t(66280),l=t(41598);(function(){a.collides=function(d,v){for(var f=[],g=v.length,m=d.bounds,x=c.collides,y=u.overlaps,b=0;b<g;b++){var M=v[b],C=M.parts.length,w=C===1?0:1;if(d!==M&&y(M.bounds,m))for(var S=w;S<C;S++){var I=M.parts[S];if(y(I.bounds,m)){var T=x(I,d);if(T){f.push(T);break}}}}return f},a.ray=function(d,v,f,g){g=g||1e-100;for(var m=p.angle(v,f),x=p.magnitude(p.sub(v,f)),y=(f.x+v.x)*.5,b=(f.y+v.y)*.5,M=h.rectangle(y,b,x,g,{angle:m}),C=a.collides(M,d),w=0;w<C.length;w+=1){var S=C[w];S.body=S.bodyB=S.bodyA}return C},a.region=function(d,v,f){for(var g=[],m=0;m<d.length;m++){var x=d[m],y=u.overlaps(x.bounds,v);(y&&!f||!y&&f)&&g.push(x)}return g},a.point=function(d,v){for(var f=[],g=0;g<d.length;g++){var m=d[g];if(u.contains(m.bounds,v))for(var x=m.parts.length===1?0:1;x<m.parts.length;x++){var y=m.parts[x];if(u.contains(y.bounds,v)&&l.contains(y.vertices,v)){f.push(m);break}}}return f}})()},66272:(r,o,t)=>{var a={};r.exports=a;var p=t(41598),c=t(53402),u=t(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(h){var l,d,v,f=h.length;for(l=0;l<f;l++)d=h[l],d.isActive&&(v=d.contactCount,d.collision.parentA.totalContacts+=v,d.collision.parentB.totalContacts+=v)},a.solvePosition=function(h,l,d){var v,f,g,m,x,y,b,M,C=a._positionDampen*(d||1),w=c.clamp(l/c._baseDelta,0,1),S=h.length;for(v=0;v<S;v++)f=h[v],!(!f.isActive||f.isSensor)&&(g=f.collision,m=g.parentA,x=g.parentB,y=g.normal,f.separation=g.depth+y.x*(x.positionImpulse.x-m.positionImpulse.x)+y.y*(x.positionImpulse.y-m.positionImpulse.y));for(v=0;v<S;v++)f=h[v],!(!f.isActive||f.isSensor)&&(g=f.collision,m=g.parentA,x=g.parentB,y=g.normal,M=f.separation-f.slop*w,(m.isStatic||x.isStatic)&&(M*=2),m.isStatic||m.isSleeping||(b=C/m.totalContacts,m.positionImpulse.x+=y.x*M*b,m.positionImpulse.y+=y.y*M*b),x.isStatic||x.isSleeping||(b=C/x.totalContacts,x.positionImpulse.x-=y.x*M*b,x.positionImpulse.y-=y.y*M*b))},a.postSolvePosition=function(h){for(var l=a._positionWarming,d=h.length,v=p.translate,f=u.update,g=0;g<d;g++){var m=h[g],x=m.positionImpulse,y=x.x,b=x.y,M=m.velocity;if(m.totalContacts=0,y!==0||b!==0){for(var C=0;C<m.parts.length;C++){var w=m.parts[C];v(w.vertices,x),f(w.bounds,w.vertices,M),w.position.x+=y,w.position.y+=b}m.positionPrev.x+=y,m.positionPrev.y+=b,y*M.x+b*M.y<0?(x.x=0,x.y=0):(x.x*=l,x.y*=l)}}},a.preSolveVelocity=function(h){var l=h.length,d,v;for(d=0;d<l;d++){var f=h[d];if(!(!f.isActive||f.isSensor)){var g=f.contacts,m=f.contactCount,x=f.collision,y=x.parentA,b=x.parentB,M=x.normal,C=x.tangent;for(v=0;v<m;v++){var w=g[v],S=w.vertex,I=w.normalImpulse,T=w.tangentImpulse;if(I!==0||T!==0){var k=M.x*I+C.x*T,E=M.y*I+C.y*T;y.isStatic||y.isSleeping||(y.positionPrev.x+=k*y.inverseMass,y.positionPrev.y+=E*y.inverseMass,y.anglePrev+=y.inverseInertia*((S.x-y.position.x)*E-(S.y-y.position.y)*k)),b.isStatic||b.isSleeping||(b.positionPrev.x-=k*b.inverseMass,b.positionPrev.y-=E*b.inverseMass,b.anglePrev-=b.inverseInertia*((S.x-b.position.x)*E-(S.y-b.position.y)*k))}}}}},a.solveVelocity=function(h,l){var d=l/c._baseDelta,v=d*d,f=v*d,g=-a._restingThresh*d,m=a._restingThreshTangent,x=a._frictionNormalMultiplier*d,y=a._frictionMaxStatic,b=h.length,M,C,w,S;for(w=0;w<b;w++){var I=h[w];if(!(!I.isActive||I.isSensor)){var T=I.collision,k=T.parentA,E=T.parentB,A=T.normal.x,L=T.normal.y,D=T.tangent.x,R=T.tangent.y,N=I.inverseMass,P=I.friction*I.frictionStatic*x,O=I.contacts,W=I.contactCount,G=1/W,H=k.position.x-k.positionPrev.x,V=k.position.y-k.positionPrev.y,B=k.angle-k.anglePrev,j=E.position.x-E.positionPrev.x,U=E.position.y-E.positionPrev.y,X=E.angle-E.anglePrev;for(S=0;S<W;S++){var Z=O[S],$=Z.vertex,J=$.x-k.position.x,Q=$.y-k.position.y,_=$.x-E.position.x,ae=$.y-E.position.y,ce=H-Q*B,he=V+J*B,de=j-ae*X,Te=U+_*X,Fe=ce-de,He=he-Te,ue=A*Fe+L*He,Ie=D*Fe+R*He,Ve=I.separation+ue,je=Math.min(Ve,1);je=Ve<0?0:je;var $e=je*P;Ie<-$e||Ie>$e?(C=Ie>0?Ie:-Ie,M=I.friction*(Ie>0?1:-1)*f,M<-C?M=-C:M>C&&(M=C)):(M=Ie,C=y);var Yt=J*L-Q*A,oe=_*L-ae*A,ie=G/(N+k.inverseInertia*Yt*Yt+E.inverseInertia*oe*oe),Pe=(1+I.restitution)*ue*ie;if(M*=ie,ue<g)Z.normalImpulse=0;else{var Ee=Z.normalImpulse;Z.normalImpulse+=Pe,Z.normalImpulse>0&&(Z.normalImpulse=0),Pe=Z.normalImpulse-Ee}if(Ie<-m||Ie>m)Z.tangentImpulse=0;else{var We=Z.tangentImpulse;Z.tangentImpulse+=M,Z.tangentImpulse<-C&&(Z.tangentImpulse=-C),Z.tangentImpulse>C&&(Z.tangentImpulse=C),M=Z.tangentImpulse-We}var ht=A*Pe+D*M,Ze=L*Pe+R*M;k.isStatic||k.isSleeping||(k.positionPrev.x+=ht*k.inverseMass,k.positionPrev.y+=Ze*k.inverseMass,k.anglePrev+=(J*Ze-Q*ht)*k.inverseInertia),E.isStatic||E.isSleeping||(E.positionPrev.x-=ht*E.inverseMass,E.positionPrev.y-=Ze*E.inverseMass,E.anglePrev-=(_*Ze-ae*ht)*E.inverseInertia)}}}}})()},48140:(r,o,t)=>{var a={};r.exports=a;var p=t(41598),c=t(31725),u=t(53614),h=t(15647),l=t(66615),d=t(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(v){var f=v;f.bodyA&&!f.pointA&&(f.pointA={x:0,y:0}),f.bodyB&&!f.pointB&&(f.pointB={x:0,y:0});var g=f.bodyA?c.add(f.bodyA.position,f.pointA):f.pointA,m=f.bodyB?c.add(f.bodyB.position,f.pointB):f.pointB,x=c.magnitude(c.sub(g,m));f.length=typeof f.length<"u"?f.length:x,f.id=f.id||d.nextId(),f.label=f.label||"Constraint",f.type="constraint",f.stiffness=f.stiffness||(f.length>0?1:.7),f.damping=f.damping||0,f.angularStiffness=f.angularStiffness||0,f.angleA=f.bodyA?f.bodyA.angle:f.angleA,f.angleB=f.bodyB?f.bodyB.angle:f.angleB,f.plugin={};var y={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return f.length===0&&f.stiffness>.1?(y.type="pin",y.anchors=!1):f.stiffness<.9&&(y.type="spring"),f.render=d.extend(y,f.render),f},a.preSolveAll=function(v){for(var f=0;f<v.length;f+=1){var g=v[f],m=g.constraintImpulse;g.isStatic||m.x===0&&m.y===0&&m.angle===0||(g.position.x+=m.x,g.position.y+=m.y,g.angle+=m.angle)}},a.solveAll=function(v,f){for(var g=d.clamp(f/d._baseDelta,0,1),m=0;m<v.length;m+=1){var x=v[m],y=!x.bodyA||x.bodyA&&x.bodyA.isStatic,b=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(y||b)&&a.solve(v[m],g)}for(m=0;m<v.length;m+=1)x=v[m],y=!x.bodyA||x.bodyA&&x.bodyA.isStatic,b=!x.bodyB||x.bodyB&&x.bodyB.isStatic,!y&&!b&&a.solve(v[m],g)},a.solve=function(v,f){var g=v.bodyA,m=v.bodyB,x=v.pointA,y=v.pointB;if(!(!g&&!m)){g&&!g.isStatic&&(c.rotate(x,g.angle-v.angleA,x),v.angleA=g.angle),m&&!m.isStatic&&(c.rotate(y,m.angle-v.angleB,y),v.angleB=m.angle);var b=x,M=y;if(g&&(b=c.add(g.position,x)),m&&(M=c.add(m.position,y)),!(!b||!M)){var C=c.sub(b,M),w=c.magnitude(C);w<a._minLength&&(w=a._minLength);var S=(w-v.length)/w,I=v.stiffness>=1||v.length===0,T=I?v.stiffness*f:v.stiffness*f*f,k=v.damping*f,E=c.mult(C,S*T),A=(g?g.inverseMass:0)+(m?m.inverseMass:0),L=(g?g.inverseInertia:0)+(m?m.inverseInertia:0),D=A+L,R,N,P,O,W;if(k>0){var G=c.create();P=c.div(C,w),W=c.sub(m&&c.sub(m.position,m.positionPrev)||G,g&&c.sub(g.position,g.positionPrev)||G),O=c.dot(P,W)}g&&!g.isStatic&&(N=g.inverseMass/A,g.constraintImpulse.x-=E.x*N,g.constraintImpulse.y-=E.y*N,g.position.x-=E.x*N,g.position.y-=E.y*N,k>0&&(g.positionPrev.x-=k*P.x*O*N,g.positionPrev.y-=k*P.y*O*N),R=c.cross(x,E)/D*a._torqueDampen*g.inverseInertia*(1-v.angularStiffness),g.constraintImpulse.angle-=R,g.angle-=R),m&&!m.isStatic&&(N=m.inverseMass/A,m.constraintImpulse.x+=E.x*N,m.constraintImpulse.y+=E.y*N,m.position.x+=E.x*N,m.position.y+=E.y*N,k>0&&(m.positionPrev.x+=k*P.x*O*N,m.positionPrev.y+=k*P.y*O*N),R=c.cross(y,E)/D*a._torqueDampen*m.inverseInertia*(1-v.angularStiffness),m.constraintImpulse.angle+=R,m.angle+=R)}}},a.postSolveAll=function(v){for(var f=0;f<v.length;f++){var g=v[f],m=g.constraintImpulse;if(!(g.isStatic||m.x===0&&m.y===0&&m.angle===0)){u.set(g,!1);for(var x=0;x<g.parts.length;x++){var y=g.parts[x];p.translate(y.vertices,m),x>0&&(y.position.x+=m.x,y.position.y+=m.y),m.angle!==0&&(p.rotate(y.vertices,m.angle,g.position),l.rotate(y.axes,m.angle),x>0&&c.rotateAbout(y.position,m.angle,g.position,y.position)),h.update(y.bounds,y.vertices,g.velocity)}m.angle*=a._warming,m.x*=a._warming,m.y*=a._warming}}},a.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},a.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},a.currentLength=function(v){var f=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),g=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),m=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),x=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),y=f-m,b=g-x;return Math.sqrt(y*y+b*b)}})()},53402:(r,o,t)=>{var a={};r.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(c,u){var h,l,d;typeof u=="boolean"?(h=2,d=u):(h=1,d=!0);for(var v=h;v<arguments.length;v++){var f=arguments[v];if(f)for(var g in f)d&&f[g]&&f[g].constructor===Object&&(!c[g]||c[g].constructor===Object)?(c[g]=c[g]||{},a.extend(c[g],d,f[g])):c[g]=f[g]}return c},a.clone=function(c,u){return a.extend({},u,c)},a.keys=function(c){if(Object.keys)return Object.keys(c);var u=[];for(var h in c)u.push(h);return u},a.values=function(c){var u=[];if(Object.keys){for(var h=Object.keys(c),l=0;l<h.length;l++)u.push(c[h[l]]);return u}for(var d in c)u.push(c[d]);return u},a.get=function(c,u,h,l){u=u.split(".").slice(h,l);for(var d=0;d<u.length;d+=1)c=c[u[d]];return c},a.set=function(c,u,h,l,d){var v=u.split(".").slice(l,d);return a.get(c,u,0,-1)[v[v.length-1]]=h,h},a.shuffle=function(c){for(var u=c.length-1;u>0;u--){var h=Math.floor(a.random()*(u+1)),l=c[u];c[u]=c[h],c[h]=l}return c},a.choose=function(c){return c[Math.floor(a.random()*c.length)]},a.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},a.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},a.isFunction=function(c){return typeof c=="function"},a.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},a.isString=function(c){return toString.call(c)==="[object String]"},a.clamp=function(c,u,h){return c<u?u:c>h?h:c},a.sign=function(c){return c<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(c,u){return c=typeof c<"u"?c:0,u=typeof u<"u"?u:1,c+p()*(u-c)};var p=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[c]||(a.warn(c),a._warnedOnce[c]=!0)},a.deprecated=function(c,u,h){c[u]=a.chain(function(){a.warnOnce("\u{1F505} deprecated \u{1F505}",h)},c[u])},a.nextId=function(){return a._nextId++},a.indexOf=function(c,u){if(c.indexOf)return c.indexOf(u);for(var h=0;h<c.length;h++)if(c[h]===u)return h;return-1},a.map=function(c,u){if(c.map)return c.map(u);for(var h=[],l=0;l<c.length;l+=1)h.push(u(c[l]));return h},a.topologicalSort=function(c){var u=[],h=[],l=[];for(var d in c)!h[d]&&!l[d]&&a._topologicalSort(d,h,l,c,u);return u},a._topologicalSort=function(c,u,h,l,d){var v=l[c]||[];h[c]=!0;for(var f=0;f<v.length;f+=1){var g=v[f];h[g]||u[g]||a._topologicalSort(g,u,h,l,d)}h[c]=!1,u[c]=!0,d.push(c)},a.chain=function(){for(var c=[],u=0;u<arguments.length;u+=1){var h=arguments[u];h._chained?c.push.apply(c,h._chained):c.push(h)}var l=function(){for(var d,v=new Array(arguments.length),f=0,g=arguments.length;f<g;f++)v[f]=arguments[f];for(f=0;f<c.length;f+=1){var m=c[f].apply(d,v);typeof m<"u"&&(d=m)}return d};return l._chained=c,l},a.chainPathBefore=function(c,u,h){return a.set(c,u,a.chain(h,a.get(c,u)))},a.chainPathAfter=function(c,u,h){return a.set(c,u,a.chain(a.get(c,u),h))},a.setDecomp=function(c){a._decomp=c},a.getDecomp=function(){var c=a._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof t.g<"u"&&(c=t.g.decomp)}catch{c=null}return c}}()},48413:(r,o,t)=>{var a={};r.exports=a;var p=t(53614),c=t(66272),u=t(81388),h=t(99561),l=t(35810),d=t(69351),v=t(48140),f=t(53402),g=t(22562);(function(){a._deltaMax=16.666666666666668,a.create=function(m){m=m||{};var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},y=f.extend(x,m);return y.world=m.world||d.create({label:"World"}),y.pairs=m.pairs||h.create(),y.detector=m.detector||u.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},a.update=function(m,x){var y=f.now(),b=m.world,M=m.detector,C=m.pairs,w=m.timing,S=w.timestamp,I;x>a._deltaMax&&f.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),x=typeof x<"u"?x:f._baseDelta,x*=w.timeScale,w.timestamp+=x,w.lastDelta=x;var T={timestamp:w.timestamp,delta:x};l.trigger(m,"beforeUpdate",T);var k=d.allBodies(b),E=d.allConstraints(b),A=d.allComposites(b);for(b.isModified&&(u.setBodies(M,k),d.setModified(b,!1,!1,!0)),m.enableSleeping&&p.update(k,x),a._bodiesApplyGravity(k,m.gravity),a.wrap(k,A),a.attractors(k),x>0&&a._bodiesUpdate(k,x),l.trigger(m,"beforeSolve",T),v.preSolveAll(k),I=0;I<m.constraintIterations;I++)v.solveAll(E,x);v.postSolveAll(k);var L=u.collisions(M);h.update(C,L,S),m.enableSleeping&&p.afterCollisions(C.list),C.collisionStart.length>0&&l.trigger(m,"collisionStart",{pairs:C.collisionStart,timestamp:w.timestamp,delta:x});var D=f.clamp(20/m.positionIterations,0,1);for(c.preSolvePosition(C.list),I=0;I<m.positionIterations;I++)c.solvePosition(C.list,x,D);for(c.postSolvePosition(k),v.preSolveAll(k),I=0;I<m.constraintIterations;I++)v.solveAll(E,x);for(v.postSolveAll(k),c.preSolveVelocity(C.list),I=0;I<m.velocityIterations;I++)c.solveVelocity(C.list,x);return a._bodiesUpdateVelocities(k),C.collisionActive.length>0&&l.trigger(m,"collisionActive",{pairs:C.collisionActive,timestamp:w.timestamp,delta:x}),C.collisionEnd.length>0&&l.trigger(m,"collisionEnd",{pairs:C.collisionEnd,timestamp:w.timestamp,delta:x}),a._bodiesClearForces(k),l.trigger(m,"afterUpdate",T),m.timing.lastElapsed=f.now()-y,m},a.merge=function(m,x){if(f.extend(m,x),x.world){m.world=x.world,a.clear(m);for(var y=d.allBodies(m.world),b=0;b<y.length;b++){var M=y[b];p.set(M,!1),M.id=f.nextId()}}},a.clear=function(m){h.clear(m.pairs),u.clear(m.detector)},a._bodiesClearForces=function(m){for(var x=m.length,y=0;y<x;y++){var b=m[y];b.force.x=0,b.force.y=0,b.torque=0}},a._bodiesApplyGravity=function(m,x){var y=typeof x.scale<"u"?x.scale:.001,b=m.length;if(!(x.x===0&&x.y===0||y===0))for(var M=0;M<b;M++){var C=m[M];C.ignoreGravity||C.isStatic||C.isSleeping||(C.force.y+=C.mass*x.y*y,C.force.x+=C.mass*x.x*y)}},a._bodiesUpdate=function(m,x){for(var y=m.length,b=0;b<y;b++){var M=m[b];M.isStatic||M.isSleeping||g.update(M,x)}},a._bodiesUpdateVelocities=function(m){for(var x=m.length,y=0;y<x;y++)g.updateVelocities(m[y])},a.wrap=function(m,x){for(var y=0;y<m.length;y+=1){var b=m[y];b.wrapBounds!==null&&g.wrap(b,b.wrapBounds)}for(y=0;y<x.length;y+=1){var M=x[y];M.wrapBounds!==null&&d.wrap(M,M.wrapBounds)}},a.attractors=function(m){for(var x=0;x<m.length;x++){var y=m[x],b=y.attractors;if(b&&b.length>0)for(var M=0;M<m.length;M++){var C=m[M];if(x!==M)for(var w=0;w<b.length;w++){var S=b[w],I=S;f.isFunction(S)&&(I=S(y,C)),I&&g.applyForce(C,C.position,I)}}}}})()},35810:(r,o,t)=>{var a={};r.exports=a;var p=t(53402);(function(){a.on=function(c,u,h){for(var l=u.split(" "),d,v=0;v<l.length;v++)d=l[v],c.events=c.events||{},c.events[d]=c.events[d]||[],c.events[d].push(h);return h},a.off=function(c,u,h){if(!u){c.events={};return}typeof u=="function"&&(h=u,u=p.keys(c.events).join(" "));for(var l=u.split(" "),d=0;d<l.length;d++){var v=c.events[l[d]],f=[];if(h&&v)for(var g=0;g<v.length;g++)v[g]!==h&&f.push(v[g]);c.events[l[d]]=f}},a.trigger=function(c,u,h){var l,d,v,f,g=c.events;if(g&&p.keys(g).length>0){h||(h={}),l=u.split(" ");for(var m=0;m<l.length;m++)if(d=l[m],v=g[d],v){f=p.clone(h,!1),f.name=d,f.source=c;for(var x=0;x<v.length;x++)v[x].apply(c,[f])}}}})()},6790:(r,o,t)=>{var a={};r.exports=a;var p=t(73832),c=t(53402);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){p.use(a,Array.prototype.slice.call(arguments))},a.before=function(u,h){return u=u.replace(/^Matter./,""),c.chainPathBefore(a,u,h)},a.after=function(u,h){return u=u.replace(/^Matter./,""),c.chainPathAfter(a,u,h)}})()},73832:(r,o,t)=>{var a={};r.exports=a;var p=t(53402);(function(){a._registry={},a.register=function(c){if(a.isPlugin(c)||p.warn("Plugin.register:",a.toString(c),"does not implement all required fields."),c.name in a._registry){var u=a._registry[c.name],h=a.versionParse(c.version).number,l=a.versionParse(u.version).number;h>l?(p.warn("Plugin.register:",a.toString(u),"was upgraded to",a.toString(c)),a._registry[c.name]=c):h<l?p.warn("Plugin.register:",a.toString(u),"can not be downgraded to",a.toString(c)):c!==u&&p.warn("Plugin.register:",a.toString(c),"is already registered to different plugin object")}else a._registry[c.name]=c;return c},a.resolve=function(c){return a._registry[a.dependencyParse(c).name]},a.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},a.isPlugin=function(c){return c&&c.name&&c.version&&c.install},a.isUsed=function(c,u){return c.used.indexOf(u)>-1},a.isFor=function(c,u){var h=c.for&&a.dependencyParse(c.for);return!c.for||u.name===h.name&&a.versionSatisfies(u.version,h.range)},a.use=function(c,u){if(c.uses=(c.uses||[]).concat(u||[]),c.uses.length===0){p.warn("Plugin.use:",a.toString(c),"does not specify any dependencies to install.");return}for(var h=a.dependencies(c),l=p.topologicalSort(h),d=[],v=0;v<l.length;v+=1)if(l[v]!==c.name){var f=a.resolve(l[v]);if(!f){d.push("\u274C "+l[v]);continue}a.isUsed(c,f.name)||(a.isFor(f,c)||(p.warn("Plugin.use:",a.toString(f),"is for",f.for,"but installed on",a.toString(c)+"."),f._warned=!0),f.install?f.install(c):(p.warn("Plugin.use:",a.toString(f),"does not specify an install function."),f._warned=!0),f._warned?(d.push("\u{1F536} "+a.toString(f)),delete f._warned):d.push("\u2705 "+a.toString(f)),c.used.push(f.name))}d.length>0&&!f.silent&&p.info(d.join("  "))},a.dependencies=function(c,u){var h=a.dependencyParse(c),l=h.name;if(u=u||{},!(l in u)){c=a.resolve(c)||c,u[l]=p.map(c.uses||[],function(v){a.isPlugin(v)&&a.register(v);var f=a.dependencyParse(v),g=a.resolve(v);return g&&!a.versionSatisfies(g.version,f.range)?(p.warn("Plugin.dependencies:",a.toString(g),"does not satisfy",a.toString(f),"used by",a.toString(h)+"."),g._warned=!0,c._warned=!0):g||(p.warn("Plugin.dependencies:",a.toString(v),"used by",a.toString(h),"could not be resolved."),c._warned=!0),f.name});for(var d=0;d<u[l].length;d+=1)a.dependencies(u[l][d],u);return u}},a.dependencyParse=function(c){if(p.isString(c)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(c)||p.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},a.versionParse=function(c){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(c)||p.warn("Plugin.versionParse:",c,"is not a valid version or range.");var h=u.exec(c),l=Number(h[4]),d=Number(h[5]),v=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:c,operator:h[1]||h[2]||"",major:l,minor:d,patch:v,parts:[l,d,v],prerelease:h[7],number:l*1e8+d*1e4+v}},a.versionSatisfies=function(c,u){u=u||"*";var h=a.versionParse(u),l=a.versionParse(c);if(h.isRange){if(h.operator==="*"||c==="*")return!0;if(h.operator===">")return l.number>h.number;if(h.operator===">=")return l.number>=h.number;if(h.operator==="~")return l.major===h.major&&l.minor===h.minor&&l.patch>=h.patch;if(h.operator==="^")return h.major>0?l.major===h.major&&l.number>=h.number:h.minor>0?l.minor===h.minor&&l.patch>=h.patch:l.patch===h.patch}return c===u||c==="*"}})()},13037:(r,o,t)=>{var a={};r.exports=a;var p=t(35810),c=t(48413),u=t(53402);(function(){a._maxFrameDelta=66.66666666666667,a._frameDeltaFallback=16.666666666666668,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(l){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},v=u.extend(d,l);return v.fps=0,v},a.run=function(l,d){return l.timeBuffer=a._frameDeltaFallback,function v(f){l.frameRequestId=a._onNextFrame(l,v),f&&l.enabled&&a.tick(l,d,f)}(),l},a.tick=function(l,d,v){var f=u.now(),g=l.delta,m=0,x=v-l.timeLastTick;if((!x||!l.timeLastTick||x>Math.max(a._maxFrameDelta,l.maxFrameTime))&&(x=l.frameDelta||a._frameDeltaFallback),l.frameDeltaSmoothing){l.frameDeltaHistory.push(x),l.frameDeltaHistory=l.frameDeltaHistory.slice(-l.frameDeltaHistorySize);var y=l.frameDeltaHistory.slice(0).sort(),b=l.frameDeltaHistory.slice(y.length*a._smoothingLowerBound,y.length*a._smoothingUpperBound),M=h(b);x=M||x}l.frameDeltaSnapping&&(x=1e3/Math.round(1e3/x)),l.frameDelta=x,l.timeLastTick=v,l.timeBuffer+=l.frameDelta,l.timeBuffer=u.clamp(l.timeBuffer,0,l.frameDelta+g*a._timeBufferMargin),l.lastUpdatesDeferred=0;var C=l.maxUpdates||Math.ceil(l.maxFrameTime/g),w={timestamp:d.timing.timestamp};p.trigger(l,"beforeTick",w),p.trigger(l,"tick",w);for(var S=u.now();g>0&&l.timeBuffer>=g*a._timeBufferMargin;){p.trigger(l,"beforeUpdate",w),c.update(d,g),p.trigger(l,"afterUpdate",w),l.timeBuffer-=g,m+=1;var I=u.now()-f,T=u.now()-S,k=I+a._elapsedNextEstimate*T/m;if(m>=C||k>l.maxFrameTime){l.lastUpdatesDeferred=Math.round(Math.max(0,l.timeBuffer/g-a._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=m,p.trigger(l,"afterTick",w),l.frameDeltaHistory.length>=100&&(l.lastUpdatesDeferred&&Math.round(l.frameDelta/g)>C?u.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):l.lastUpdatesDeferred&&u.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof l.isFixed<"u"&&u.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(l.deltaMin||l.deltaMax)&&u.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),l.fps!==0&&u.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(l){a._cancelNextFrame(l)},a._onNextFrame=function(l,d){if(typeof window<"u"&&window.requestAnimationFrame)l.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return l.frameRequestId},a._cancelNextFrame=function(l){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(l.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var h=function(l){for(var d=0,v=l.length,f=0;f<v;f+=1)d+=l[f];return d/v||0};a._mean=h})()},53614:(r,o,t)=>{var a={};r.exports=a;var p=t(22562),c=t(35810),u=t(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(h,l){for(var d=l/u._baseDelta,v=a._motionSleepThreshold,f=0;f<h.length;f++){var g=h[f],m=p.getSpeed(g),x=p.getAngularSpeed(g),y=m*m+x*x;if(g.force.x!==0||g.force.y!==0){a.set(g,!1);continue}var b=Math.min(g.motion,y),M=Math.max(g.motion,y);g.motion=a._minBias*b+(1-a._minBias)*M,g.sleepThreshold>0&&g.motion<v?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/d&&a.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},a.afterCollisions=function(h){for(var l=a._motionSleepThreshold,d=0;d<h.length;d++){var v=h[d];if(v.isActive){var f=v.collision,g=f.bodyA.parent,m=f.bodyB.parent;if(!(g.isSleeping&&m.isSleeping||g.isStatic||m.isStatic)&&(g.isSleeping||m.isSleeping)){var x=g.isSleeping&&!g.isStatic?g:m,y=x===g?m:g;!x.isStatic&&y.motion>l&&a.set(x,!1)}}}},a.set=function(h,l){var d=h.isSleeping;l?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,d||c.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,d&&c.trigger(h,"sleepEnd"))}})()},66280:(r,o,t)=>{var a={};r.exports=a;var p=t(41598),c=t(53402),u=t(22562),h=t(15647),l=t(31725);(function(){a.rectangle=function(d,v,f,g,m){m=m||{};var x={label:"Rectangle Body",position:{x:d,y:v},vertices:p.fromPath("L 0 0 L "+f+" 0 L "+f+" "+g+" L 0 "+g)};if(m.chamfer){var y=m.chamfer;x.vertices=p.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete m.chamfer}return u.create(c.extend({},x,m))},a.trapezoid=function(d,v,f,g,m,x){x=x||{},m>=1&&c.warn("Bodies.trapezoid: slope parameter must be < 1."),m*=.5;var y=(1-m*2)*f,b=f*m,M=b+y,C=M+b,w;m<.5?w="L 0 0 L "+b+" "+-g+" L "+M+" "+-g+" L "+C+" 0":w="L 0 0 L "+M+" "+-g+" L "+C+" 0";var S={label:"Trapezoid Body",position:{x:d,y:v},vertices:p.fromPath(w)};if(x.chamfer){var I=x.chamfer;S.vertices=p.chamfer(S.vertices,I.radius,I.quality,I.qualityMin,I.qualityMax),delete x.chamfer}return u.create(c.extend({},S,x))},a.circle=function(d,v,f,g,m){g=g||{};var x={label:"Circle Body",circleRadius:f};m=m||25;var y=Math.ceil(Math.max(10,Math.min(m,f)));return y%2===1&&(y+=1),a.polygon(d,v,y,f,c.extend({},x,g))},a.polygon=function(d,v,f,g,m){if(m=m||{},f<3)return a.circle(d,v,g,m);for(var x=2*Math.PI/f,y="",b=x*.5,M=0;M<f;M+=1){var C=b+M*x,w=Math.cos(C)*g,S=Math.sin(C)*g;y+="L "+w.toFixed(3)+" "+S.toFixed(3)+" "}var I={label:"Polygon Body",position:{x:d,y:v},vertices:p.fromPath(y)};if(m.chamfer){var T=m.chamfer;I.vertices=p.chamfer(I.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete m.chamfer}return u.create(c.extend({},I,m))},a.fromVertices=function(d,v,f,g,m,x,y,b){var M=c.getDecomp(),C,w,S,I,T,k,E,A,L,D,R;for(C=!!(M&&M.quickDecomp),g=g||{},S=[],m=typeof m<"u"?m:!1,x=typeof x<"u"?x:.01,y=typeof y<"u"?y:10,b=typeof b<"u"?b:.01,c.isArray(f[0])||(f=[f]),D=0;D<f.length;D+=1)if(k=f[D],I=p.isConvex(k),T=!I,T&&!C&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),I||!C)I?k=p.clockwiseSort(k):k=p.hull(k),S.push({position:{x:d,y:v},vertices:k});else{var N=k.map(function(Z){return[Z.x,Z.y]});M.makeCCW(N),x!==!1&&M.removeCollinearPoints(N,x),b!==!1&&M.removeDuplicatePoints&&M.removeDuplicatePoints(N,b);var P=M.quickDecomp(N);for(E=0;E<P.length;E++){var O=P[E],W=O.map(function(Z){return{x:Z[0],y:Z[1]}});y>0&&p.area(W)<y||S.push({position:p.centre(W),vertices:W})}}for(E=0;E<S.length;E++)S[E]=u.create(c.extend(S[E],g));if(m){var G=5;for(E=0;E<S.length;E++){var H=S[E];for(A=E+1;A<S.length;A++){var V=S[A];if(h.overlaps(H.bounds,V.bounds)){var B=H.vertices,j=V.vertices;for(L=0;L<H.vertices.length;L++)for(R=0;R<V.vertices.length;R++){var U=l.magnitudeSquared(l.sub(B[(L+1)%B.length],j[R])),X=l.magnitudeSquared(l.sub(B[L],j[(R+1)%j.length]));U<G&&X<G&&(B[L].isInternal=!0,j[R].isInternal=!0)}}}}}return S.length>1?(w=u.create(c.extend({parts:S.slice(0)},g)),u.setPosition(w,{x:d,y:v}),w):S[0]},a.flagCoincidentParts=function(d,v){v===void 0&&(v=5);for(var f=0;f<d.length;f++)for(var g=d[f],m=f+1;m<d.length;m++){var x=d[m];if(h.overlaps(g.bounds,x.bounds))for(var y=g.vertices,b=x.vertices,M=0;M<g.vertices.length;M++)for(var C=0;C<x.vertices.length;C++){var w=l.magnitudeSquared(l.sub(y[(M+1)%y.length],b[C])),S=l.magnitudeSquared(l.sub(y[M],b[(C+1)%b.length]));w<v&&S<v&&(y[M].isInternal=!0,b[C].isInternal=!0)}}return d}})()},74116:(r,o,t)=>{var a={};r.exports=a;var p=t(69351),c=t(48140),u=t(53402),h=t(22562),l=t(66280);(function(){a.stack=function(d,v,f,g,m,x,y){for(var b=p.create({label:"Stack"}),M=d,C=v,w,S=0,I=0;I<g;I++){for(var T=0,k=0;k<f;k++){var E=y(M,C,k,I,w,S);if(E){var A=E.bounds.max.y-E.bounds.min.y,L=E.bounds.max.x-E.bounds.min.x;A>T&&(T=A),h.translate(E,{x:L*.5,y:A*.5}),M=E.bounds.max.x+m,p.addBody(b,E),w=E,S+=1}else M+=m}C+=T+x,M=d}return b},a.chain=function(d,v,f,g,m,x){for(var y=d.bodies,b=1;b<y.length;b++){var M=y[b-1],C=y[b],w=M.bounds.max.y-M.bounds.min.y,S=M.bounds.max.x-M.bounds.min.x,I=C.bounds.max.y-C.bounds.min.y,T=C.bounds.max.x-C.bounds.min.x,k={bodyA:M,pointA:{x:S*v,y:w*f},bodyB:C,pointB:{x:T*g,y:I*m}},E=u.extend(k,x);p.addConstraint(d,c.create(E))}return d.label+=" Chain",d},a.mesh=function(d,v,f,g,m){var x=d.bodies,y,b,M,C,w;for(y=0;y<f;y++){for(b=1;b<v;b++)M=x[b-1+y*v],C=x[b+y*v],p.addConstraint(d,c.create(u.extend({bodyA:M,bodyB:C},m)));if(y>0)for(b=0;b<v;b++)M=x[b+(y-1)*v],C=x[b+y*v],p.addConstraint(d,c.create(u.extend({bodyA:M,bodyB:C},m))),g&&b>0&&(w=x[b-1+(y-1)*v],p.addConstraint(d,c.create(u.extend({bodyA:w,bodyB:C},m)))),g&&b<v-1&&(w=x[b+1+(y-1)*v],p.addConstraint(d,c.create(u.extend({bodyA:w,bodyB:C},m))))}return d.label+=" Mesh",d},a.pyramid=function(d,v,f,g,m,x,y){return a.stack(d,v,f,g,m,x,function(b,M,C,w,S,I){var T=Math.min(g,Math.ceil(f/2)),k=S?S.bounds.max.x-S.bounds.min.x:0;if(!(w>T)){w=T-w;var E=w,A=f-1-w;if(!(C<E||C>A)){I===1&&h.translate(S,{x:(C+(f%2===1?1:-1))*k,y:0});var L=S?C*k:0;return y(d+L+C*m,M,C,w,S,I)}}})},a.newtonsCradle=function(d,v,f,g,m){for(var x=p.create({label:"Newtons Cradle"}),y=0;y<f;y++){var b=1.9,M=l.circle(d+y*(g*b),v+m,g,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),C=c.create({pointA:{x:d+y*(g*b),y:v},bodyB:M});p.addBody(x,M),p.addConstraint(x,C)}return x},a.car=function(d,v,f,g,m){var x=h.nextGroup(!0),y=20,b=-f*.5+y,M=f*.5-y,C=0,w=p.create({label:"Car"}),S=l.rectangle(d,v,f,g,{collisionFilter:{group:x},chamfer:{radius:g*.5},density:2e-4}),I=l.circle(d+b,v+C,m,{collisionFilter:{group:x},friction:.8}),T=l.circle(d+M,v+C,m,{collisionFilter:{group:x},friction:.8}),k=c.create({bodyB:S,pointB:{x:b,y:C},bodyA:I,stiffness:1,length:0}),E=c.create({bodyB:S,pointB:{x:M,y:C},bodyA:T,stiffness:1,length:0});return p.addBody(w,S),p.addBody(w,I),p.addBody(w,T),p.addConstraint(w,k),p.addConstraint(w,E),w},a.softBody=function(d,v,f,g,m,x,y,b,M,C){M=u.extend({inertia:1/0},M),C=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},C);var w=a.stack(d,v,f,g,m,x,function(S,I){return l.circle(S,I,b,M)});return a.mesh(w,f,g,y,C),w.label="Soft Body",w}})()},66615:(r,o,t)=>{var a={};r.exports=a;var p=t(31725),c=t(53402);(function(){a.fromVertices=function(u){for(var h={},l=0;l<u.length;l++){var d=(l+1)%u.length,v=p.normalise({x:u[d].y-u[l].y,y:u[l].x-u[d].x}),f=v.y===0?1/0:v.x/v.y;f=f.toFixed(3).toString(),h[f]=v}return c.values(h)},a.rotate=function(u,h){if(h!==0)for(var l=Math.cos(h),d=Math.sin(h),v=0;v<u.length;v++){var f=u[v],g;g=f.x*l-f.y*d,f.y=f.x*d+f.y*l,f.x=g}}})()},15647:r=>{var o={};r.exports=o,function(){o.create=function(t){var a={min:{x:0,y:0},max:{x:0,y:0}};return t&&o.update(a,t),a},o.update=function(t,a,p){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var c=0;c<a.length;c++){var u=a[c];u.x>t.max.x&&(t.max.x=u.x),u.x<t.min.x&&(t.min.x=u.x),u.y>t.max.y&&(t.max.y=u.y),u.y<t.min.y&&(t.min.y=u.y)}p&&(p.x>0?t.max.x+=p.x:t.min.x+=p.x,p.y>0?t.max.y+=p.y:t.min.y+=p.y)},o.contains=function(t,a){return a.x>=t.min.x&&a.x<=t.max.x&&a.y>=t.min.y&&a.y<=t.max.y},o.overlaps=function(t,a){return t.min.x<=a.max.x&&t.max.x>=a.min.x&&t.max.y>=a.min.y&&t.min.y<=a.max.y},o.translate=function(t,a){t.min.x+=a.x,t.max.x+=a.x,t.min.y+=a.y,t.max.y+=a.y},o.shift=function(t,a){var p=t.max.x-t.min.x,c=t.max.y-t.min.y;t.min.x=a.x,t.max.x=a.x+p,t.min.y=a.y,t.max.y=a.y+c},o.wrap=function(t,a,p){var c=null,u=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(t.min.x>a.max.x?c=a.min.x-t.max.x:t.max.x<a.min.x&&(c=a.max.x-t.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(t.min.y>a.max.y?u=a.min.y-t.max.y:t.max.y<a.min.y&&(u=a.max.y-t.min.y)),c!==null||u!==null)return{x:c||0,y:u||0}}}()},74058:(r,o,t)=>{var a={};r.exports=a;var p=t(15647),c=t(53402);(function(){a.pathToVertices=function(u,h){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,d,v,f,g,m,x,y,b,M,C=[],w,S,I=0,T=0,k=0;h=h||15;var E=function(L,D,R){var N=R%2===1&&R>1;if(!b||L!=b.x||D!=b.y){b&&N?(w=b.x,S=b.y):(w=0,S=0);var P={x:w+L,y:S+D};(N||!b)&&(b=P),C.push(P),T=w+L,k=S+D}},A=function(L){var D=L.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":T=L.x,k=L.y;break;case"H":T=L.x;break;case"V":k=L.y;break}E(T,k,L.pathSegType)}};for(a._svgPathToAbsolute(u),v=u.getTotalLength(),m=[],l=0;l<u.pathSegList.numberOfItems;l+=1)m.push(u.pathSegList.getItem(l));for(x=m.concat();I<v;){if(M=u.getPathSegAtLength(I),g=m[M],g!=y){for(;x.length&&x[0]!=g;)A(x.shift());y=g}switch(g.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=u.getPointAtLength(I),E(f.x,f.y,0);break}I+=h}for(l=0,d=x.length;l<d;++l)A(x[l]);return C},a._svgPathToAbsolute=function(u){for(var h,l,d,v,f,g,m=u.pathSegList,x=0,y=0,b=m.numberOfItems,M=0;M<b;++M){var C=m.getItem(M),w=C.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in C&&(x=C.x),"y"in C&&(y=C.y);else switch("x1"in C&&(d=x+C.x1),"x2"in C&&(f=x+C.x2),"y1"in C&&(v=y+C.y1),"y2"in C&&(g=y+C.y2),"x"in C&&(x+=C.x),"y"in C&&(y+=C.y),w){case"m":m.replaceItem(u.createSVGPathSegMovetoAbs(x,y),M);break;case"l":m.replaceItem(u.createSVGPathSegLinetoAbs(x,y),M);break;case"h":m.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(x),M);break;case"v":m.replaceItem(u.createSVGPathSegLinetoVerticalAbs(y),M);break;case"c":m.replaceItem(u.createSVGPathSegCurvetoCubicAbs(x,y,d,v,f,g),M);break;case"s":m.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(x,y,f,g),M);break;case"q":m.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(x,y,d,v),M);break;case"t":m.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(x,y),M);break;case"a":m.replaceItem(u.createSVGPathSegArcAbs(x,y,C.r1,C.r2,C.angle,C.largeArcFlag,C.sweepFlag),M);break;case"z":case"Z":x=h,y=l;break}(w=="M"||w=="m")&&(h=x,l=y)}}})()},31725:r=>{var o={};r.exports=o,function(){o.create=function(t,a){return{x:t||0,y:a||0}},o.clone=function(t){return{x:t.x,y:t.y}},o.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},o.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},o.rotate=function(t,a,p){var c=Math.cos(a),u=Math.sin(a);p||(p={});var h=t.x*c-t.y*u;return p.y=t.x*u+t.y*c,p.x=h,p},o.rotateAbout=function(t,a,p,c){var u=Math.cos(a),h=Math.sin(a);c||(c={});var l=p.x+((t.x-p.x)*u-(t.y-p.y)*h);return c.y=p.y+((t.x-p.x)*h+(t.y-p.y)*u),c.x=l,c},o.normalise=function(t){var a=o.magnitude(t);return a===0?{x:0,y:0}:{x:t.x/a,y:t.y/a}},o.dot=function(t,a){return t.x*a.x+t.y*a.y},o.cross=function(t,a){return t.x*a.y-t.y*a.x},o.cross3=function(t,a,p){return(a.x-t.x)*(p.y-t.y)-(a.y-t.y)*(p.x-t.x)},o.add=function(t,a,p){return p||(p={}),p.x=t.x+a.x,p.y=t.y+a.y,p},o.sub=function(t,a,p){return p||(p={}),p.x=t.x-a.x,p.y=t.y-a.y,p},o.mult=function(t,a){return{x:t.x*a,y:t.y*a}},o.div=function(t,a){return{x:t.x/a,y:t.y/a}},o.perp=function(t,a){return a=a===!0?-1:1,{x:a*-t.y,y:a*t.x}},o.neg=function(t){return{x:-t.x,y:-t.y}},o.angle=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)},o._temp=[o.create(),o.create(),o.create(),o.create(),o.create(),o.create()]}()},41598:(r,o,t)=>{var a={};r.exports=a;var p=t(31725),c=t(53402);(function(){a.create=function(u,h){for(var l=[],d=0;d<u.length;d++){var v=u[d],f={x:v.x,y:v.y,index:d,body:h,isInternal:!1};l.push(f)}return l},a.fromPath=function(u,h){var l=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return u.replace(l,function(v,f,g){d.push({x:parseFloat(f),y:parseFloat(g)})}),a.create(d,h)},a.centre=function(u){for(var h=a.area(u,!0),l={x:0,y:0},d,v,f,g=0;g<u.length;g++)f=(g+1)%u.length,d=p.cross(u[g],u[f]),v=p.mult(p.add(u[g],u[f]),d),l=p.add(l,v);return p.div(l,6*h)},a.mean=function(u){for(var h={x:0,y:0},l=0;l<u.length;l++)h.x+=u[l].x,h.y+=u[l].y;return p.div(h,u.length)},a.area=function(u,h){for(var l=0,d=u.length-1,v=0;v<u.length;v++)l+=(u[d].x-u[v].x)*(u[d].y+u[v].y),d=v;return h?l/2:Math.abs(l)/2},a.inertia=function(u,h){for(var l=0,d=0,v=u,f,g,m=0;m<v.length;m++)g=(m+1)%v.length,f=Math.abs(p.cross(v[g],v[m])),l+=f*(p.dot(v[g],v[g])+p.dot(v[g],v[m])+p.dot(v[m],v[m])),d+=f;return h/6*(l/d)},a.translate=function(u,h,l){l=typeof l<"u"?l:1;var d=u.length,v=h.x*l,f=h.y*l,g;for(g=0;g<d;g++)u[g].x+=v,u[g].y+=f;return u},a.rotate=function(u,h,l){if(h!==0){var d=Math.cos(h),v=Math.sin(h),f=l.x,g=l.y,m=u.length,x,y,b,M;for(M=0;M<m;M++)x=u[M],y=x.x-f,b=x.y-g,x.x=f+(y*d-b*v),x.y=g+(y*v+b*d);return u}},a.contains=function(u,h){for(var l=h.x,d=h.y,v=u.length,f=u[v-1],g,m=0;m<v;m++){if(g=u[m],(l-f.x)*(g.y-f.y)+(d-f.y)*(f.x-g.x)>0)return!1;f=g}return!0},a.scale=function(u,h,l,d){if(h===1&&l===1)return u;d=d||a.centre(u);for(var v,f,g=0;g<u.length;g++)v=u[g],f=p.sub(v,d),u[g].x=d.x+f.x*h,u[g].y=d.y+f.y*l;return u},a.chamfer=function(u,h,l,d,v){typeof h=="number"?h=[h]:h=h||[8],l=typeof l<"u"?l:-1,d=d||2,v=v||14;for(var f=[],g=0;g<u.length;g++){var m=u[g-1>=0?g-1:u.length-1],x=u[g],y=u[(g+1)%u.length],b=h[g<h.length?g:h.length-1];if(b===0){f.push(x);continue}var M=p.normalise({x:x.y-m.y,y:m.x-x.x}),C=p.normalise({x:y.y-x.y,y:x.x-y.x}),w=Math.sqrt(2*Math.pow(b,2)),S=p.mult(c.clone(M),b),I=p.normalise(p.mult(p.add(M,C),.5)),T=p.sub(x,p.mult(I,w)),k=l;l===-1&&(k=Math.pow(b,.32)*1.75),k=c.clamp(k,d,v),k%2===1&&(k+=1);for(var E=Math.acos(p.dot(M,C)),A=E/k,L=0;L<k;L++)f.push(p.add(p.rotate(S,A*L),T))}return f},a.clockwiseSort=function(u){var h=a.mean(u);return u.sort(function(l,d){return p.angle(h,l)-p.angle(h,d)}),u},a.isConvex=function(u){var h=0,l=u.length,d,v,f,g;if(l<3)return null;for(d=0;d<l;d++)if(v=(d+1)%l,f=(d+2)%l,g=(u[v].x-u[d].x)*(u[f].y-u[v].y),g-=(u[v].y-u[d].y)*(u[f].x-u[v].x),g<0?h|=1:g>0&&(h|=2),h===3)return!1;return h!==0?!0:null},a.hull=function(u){var h=[],l=[],d,v;for(u=u.slice(0),u.sort(function(f,g){var m=f.x-g.x;return m!==0?m:f.y-g.y}),v=0;v<u.length;v+=1){for(d=u[v];l.length>=2&&p.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}for(v=u.length-1;v>=0;v-=1){for(d=u[v];h.length>=2&&p.cross3(h[h.length-2],h[h.length-1],d)<=0;)h.pop();h.push(d)}return h.pop(),l.pop(),h.concat(l)}})()},55973:r=>{r.exports={decomp:E,quickDecomp:R,isSimple:L,removeCollinearPoints:N,removeDuplicatePoints:P,makeCCW:y};function o(G,H,V){V=V||0;var B=[0,0],j,U,X,Z,$,J,Q;return j=G[1][1]-G[0][1],U=G[0][0]-G[1][0],X=j*G[0][0]+U*G[0][1],Z=H[1][1]-H[0][1],$=H[0][0]-H[1][0],J=Z*H[0][0]+$*H[0][1],Q=j*$-Z*U,O(Q,0,V)||(B[0]=($*X-U*J)/Q,B[1]=(j*J-Z*X)/Q),B}function t(G,H,V,B){var j=H[0]-G[0],U=H[1]-G[1],X=B[0]-V[0],Z=B[1]-V[1];if(X*U-Z*j===0)return!1;var $=(j*(V[1]-G[1])+U*(G[0]-V[0]))/(X*U-Z*j),J=(X*(G[1]-V[1])+Z*(V[0]-G[0]))/(Z*j-X*U);return $>=0&&$<=1&&J>=0&&J<=1}function a(G,H,V){return(H[0]-G[0])*(V[1]-G[1])-(V[0]-G[0])*(H[1]-G[1])}function p(G,H,V){return a(G,H,V)>0}function c(G,H,V){return a(G,H,V)>=0}function u(G,H,V){return a(G,H,V)<0}function h(G,H,V){return a(G,H,V)<=0}var l=[],d=[];function v(G,H,V,B){if(B){var j=l,U=d;j[0]=H[0]-G[0],j[1]=H[1]-G[1],U[0]=V[0]-H[0],U[1]=V[1]-H[1];var X=j[0]*U[0]+j[1]*U[1],Z=Math.sqrt(j[0]*j[0]+j[1]*j[1]),$=Math.sqrt(U[0]*U[0]+U[1]*U[1]),J=Math.acos(X/(Z*$));return J<B}else return a(G,H,V)===0}function f(G,H){var V=H[0]-G[0],B=H[1]-G[1];return V*V+B*B}function g(G,H){var V=G.length;return G[H<0?H%V+V:H%V]}function m(G){G.length=0}function x(G,H,V,B){for(var j=V;j<B;j++)G.push(H[j])}function y(G){for(var H=0,V=G,B=1;B<G.length;++B)(V[B][1]<V[H][1]||V[B][1]===V[H][1]&&V[B][0]>V[H][0])&&(H=B);return p(g(G,H-1),g(G,H),g(G,H+1))?!1:(b(G),!0)}function b(G){for(var H=[],V=G.length,B=0;B!==V;B++)H.push(G.pop());for(var B=0;B!==V;B++)G[B]=H[B]}function M(G,H){return u(g(G,H-1),g(G,H),g(G,H+1))}var C=[],w=[];function S(G,H,V){var B,j,U=C,X=w;if(c(g(G,H+1),g(G,H),g(G,V))&&h(g(G,H-1),g(G,H),g(G,V)))return!1;j=f(g(G,H),g(G,V));for(var Z=0;Z!==G.length;++Z)if(!((Z+1)%G.length===H||Z===H)&&c(g(G,H),g(G,V),g(G,Z+1))&&h(g(G,H),g(G,V),g(G,Z))&&(U[0]=g(G,H),U[1]=g(G,V),X[0]=g(G,Z),X[1]=g(G,Z+1),B=o(U,X),f(g(G,H),B)<j))return!1;return!0}function I(G,H,V){for(var B=0;B!==G.length;++B)if(!(B===H||B===V||(B+1)%G.length===H||(B+1)%G.length===V)&&t(g(G,H),g(G,V),g(G,B),g(G,B+1)))return!1;return!0}function T(G,H,V,B){var j=B||[];if(m(j),H<V)for(var U=H;U<=V;U++)j.push(G[U]);else{for(var U=0;U<=V;U++)j.push(G[U]);for(var U=H;U<G.length;U++)j.push(G[U])}return j}function k(G){for(var H=[],V=[],B=[],j=[],U=Number.MAX_VALUE,X=0;X<G.length;++X)if(M(G,X)){for(var Z=0;Z<G.length;++Z)if(S(G,X,Z)){V=k(T(G,X,Z,j)),B=k(T(G,Z,X,j));for(var $=0;$<B.length;$++)V.push(B[$]);V.length<U&&(H=V,U=V.length,H.push([g(G,X),g(G,Z)]))}}return H}function E(G){var H=k(G);return H.length>0?A(G,H):[G]}function A(G,H){if(H.length===0)return[G];if(H instanceof Array&&H.length&&H[0]instanceof Array&&H[0].length===2&&H[0][0]instanceof Array){for(var V=[G],B=0;B<H.length;B++)for(var j=H[B],U=0;U<V.length;U++){var X=V[U],Z=A(X,j);if(Z){V.splice(U,1),V.push(Z[0],Z[1]);break}}return V}else{var j=H,B=G.indexOf(j[0]),U=G.indexOf(j[1]);return B!==-1&&U!==-1?[T(G,B,U),T(G,U,B)]:!1}}function L(G){var H=G,V;for(V=0;V<H.length-1;V++)for(var B=0;B<V-1;B++)if(t(H[V],H[V+1],H[B],H[B+1]))return!1;for(V=1;V<H.length-2;V++)if(t(H[0],H[H.length-1],H[V],H[V+1]))return!1;return!0}function D(G,H,V,B,j){j=j||0;var U=H[1]-G[1],X=G[0]-H[0],Z=U*G[0]+X*G[1],$=B[1]-V[1],J=V[0]-B[0],Q=$*V[0]+J*V[1],_=U*J-$*X;return O(_,0,j)?[0,0]:[(J*Z-X*Q)/_,(U*Q-$*Z)/_]}function R(G,H,V,B,j,U,X){U=U||100,X=X||0,j=j||25,H=typeof H<"u"?H:[],V=V||[],B=B||[];var Z=[0,0],$=[0,0],J=[0,0],Q=0,_=0,ae=0,ce=0,he=0,de=0,Te=0,Fe=[],He=[],ue=G,Ie=G;if(Ie.length<3)return H;if(X++,X>U)return console.warn("quickDecomp: max level ("+U+") reached."),H;for(var Ve=0;Ve<G.length;++Ve)if(M(ue,Ve)){V.push(ue[Ve]),Q=_=Number.MAX_VALUE;for(var je=0;je<G.length;++je)p(g(ue,Ve-1),g(ue,Ve),g(ue,je))&&h(g(ue,Ve-1),g(ue,Ve),g(ue,je-1))&&(J=D(g(ue,Ve-1),g(ue,Ve),g(ue,je),g(ue,je-1)),u(g(ue,Ve+1),g(ue,Ve),J)&&(ae=f(ue[Ve],J),ae<_&&(_=ae,$=J,de=je))),p(g(ue,Ve+1),g(ue,Ve),g(ue,je+1))&&h(g(ue,Ve+1),g(ue,Ve),g(ue,je))&&(J=D(g(ue,Ve+1),g(ue,Ve),g(ue,je),g(ue,je+1)),p(g(ue,Ve-1),g(ue,Ve),J)&&(ae=f(ue[Ve],J),ae<Q&&(Q=ae,Z=J,he=je)));if(de===(he+1)%G.length)J[0]=($[0]+Z[0])/2,J[1]=($[1]+Z[1])/2,B.push(J),Ve<he?(x(Fe,ue,Ve,he+1),Fe.push(J),He.push(J),de!==0&&x(He,ue,de,ue.length),x(He,ue,0,Ve+1)):(Ve!==0&&x(Fe,ue,Ve,ue.length),x(Fe,ue,0,he+1),Fe.push(J),He.push(J),x(He,ue,de,Ve+1));else{if(de>he&&(he+=G.length),ce=Number.MAX_VALUE,he<de)return H;for(var je=de;je<=he;++je)c(g(ue,Ve-1),g(ue,Ve),g(ue,je))&&h(g(ue,Ve+1),g(ue,Ve),g(ue,je))&&(ae=f(g(ue,Ve),g(ue,je)),ae<ce&&I(ue,Ve,je)&&(ce=ae,Te=je%G.length));Ve<Te?(x(Fe,ue,Ve,Te+1),Te!==0&&x(He,ue,Te,Ie.length),x(He,ue,0,Ve+1)):(Ve!==0&&x(Fe,ue,Ve,Ie.length),x(Fe,ue,0,Te+1),x(He,ue,Te,Ve+1))}return Fe.length<He.length?(R(Fe,H,V,B,j,U,X),R(He,H,V,B,j,U,X)):(R(He,H,V,B,j,U,X),R(Fe,H,V,B,j,U,X)),H}return H.push(G),H}function N(G,H){for(var V=0,B=G.length-1;G.length>3&&B>=0;--B)v(g(G,B-1),g(G,B),g(G,B+1),H)&&(G.splice(B%G.length,1),V++);return V}function P(G,H){for(var V=G.length-1;V>=1;--V)for(var B=G[V],j=V-1;j>=0;--j)if(W(B,G[j],H)){G.splice(V,1);continue}}function O(G,H,V){return V=V||0,Math.abs(G-H)<=V}function W(G,H,V){return O(G[0],H[0],V)&&O(G[1],H[1],V)}},52018:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u){this.pluginManager=u,this.game=u.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=p},42363:r=>{var o={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};r.exports=o},37277:r=>{var o={},t={},a={};a.register=function(p,c,u,h){h===void 0&&(h=!1),o[p]={plugin:c,mapping:u,custom:h}},a.registerCustom=function(p,c,u,h){t[p]={plugin:c,mapping:u,data:h}},a.hasCore=function(p){return o.hasOwnProperty(p)},a.hasCustom=function(p){return t.hasOwnProperty(p)},a.getCore=function(p){return o[p]},a.getCustom=function(p){return t[p]},a.getCustomClass=function(p){return t.hasOwnProperty(p)?t[p].plugin:null},a.remove=function(p){o.hasOwnProperty(p)&&delete o[p]},a.removeCustom=function(p){t.hasOwnProperty(p)&&delete t[p]},a.destroyCorePlugins=function(){for(var p in o)o.hasOwnProperty(p)&&delete o[p]},a.destroyCustomPlugins=function(){for(var p in t)t.hasOwnProperty(p)&&delete t[p]},r.exports=a},77332:(r,o,t)=>{var a=t(83419),p=t(8443),c=t(50792),u=t(74099),h=t(44603),l=t(39429),d=t(95540),v=t(37277),f=t(72905),g=t(8054),m=new a({Extends:c,initialize:function(y){c.call(this),this.game=y,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],y.isBooted||y.config.renderType===g.HEADLESS?this.boot():y.events.once(p.BOOT,this.boot,this)},boot:function(){var x,y,b,M,C,w,S,I=this.game.config,T=I.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),x=0;x<T.length;x++)y=T[x],b=d(y,"key",null),M=d(y,"plugin",null),C=d(y,"start",!1),w=d(y,"mapping",null),S=d(y,"data",null),b&&(M?this.install(b,M,C,w,S):console.warn("Missing `plugin` for key: "+b));for(T=I.installScenePlugins,T=T.concat(this._pendingScene),x=0;x<T.length;x++)y=T[x],b=d(y,"key",null),M=d(y,"plugin",null),w=d(y,"mapping",null),b&&(M?this.installScenePlugin(b,M,w):console.warn("Missing `plugin` for key: "+b));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(x,y,b){var M,C,w,S=this.game,I=x.scene,T=x.settings.map,k=x.settings.isBooted;for(M=0;M<y.length;M++)C=y[M],S[C]?(x[C]=S[C],T.hasOwnProperty(C)&&(I[T[C]]=x[C])):C==="game"&&T.hasOwnProperty(C)&&(I[T[C]]=S);for(var E=0;E<b.length;E++)for(w=b[E],M=0;M<w.length;M++)if(C=w[M],!!v.hasCore(C)){var A=v.getCore(C),L=A.mapping,D=new A.plugin(I,this,L);x[L]=D,A.custom?I[L]=D:T.hasOwnProperty(L)&&(I[T[L]]=D),k&&D.boot()}for(w=this.plugins,M=0;M<w.length;M++){var R=w[M];R.mapping&&(I[R.mapping]=R.plugin)}},getDefaultScenePlugins:function(){var x=this.game.config.defaultPlugins;return x=x.concat(this.scenePlugins),x},installScenePlugin:function(x,y,b,M,C){if(C===void 0&&(C=!1),typeof y!="function"){console.warn("Invalid Scene Plugin: "+x);return}if(v.hasCore(x)||v.register(x,y,b,!0),this.scenePlugins.indexOf(x)===-1)this.scenePlugins.push(x);else if(!C&&v.hasCore(x)){console.warn("Scene Plugin key in use: "+x);return}if(M){var w=new y(M,this,x);M.sys[x]=w,b&&b!==""&&(M[b]=w),w.boot()}},install:function(x,y,b,M,C){if(b===void 0&&(b=!1),M===void 0&&(M=null),C===void 0&&(C=null),typeof y!="function")return console.warn("Invalid Plugin: "+x),null;if(v.hasCustom(x))return console.warn("Plugin key in use: "+x),null;if(M!==null&&(b=!0),!this.game.isBooted)this._pendingGlobal.push({key:x,plugin:y,start:b,mapping:M,data:C});else if(v.registerCustom(x,y,M,C),b)return this.start(x);return null},getIndex:function(x){for(var y=this.plugins,b=0;b<y.length;b++){var M=y[b];if(M.key===x)return b}return-1},getEntry:function(x){var y=this.getIndex(x);if(y!==-1)return this.plugins[y]},isActive:function(x){var y=this.getEntry(x);return y&&y.active},start:function(x,y){y===void 0&&(y=x);var b=this.getEntry(y);return b&&!b.active?(b.active=!0,b.plugin.start()):b||(b=this.createEntry(x,y)),b?b.plugin:null},createEntry:function(x,y){var b=v.getCustom(x);if(b){var M=new b.plugin(this);b={key:y,plugin:M,active:!0,mapping:b.mapping,data:b.data},this.plugins.push(b),M.init(b.data),M.start()}return b},stop:function(x){var y=this.getEntry(x);return y&&y.active&&(y.active=!1,y.plugin.stop()),this},get:function(x,y){y===void 0&&(y=!0);var b=this.getEntry(x);if(b)return b.plugin;var M=this.getClass(x);return M&&y?(b=this.createEntry(x,x),b?b.plugin:null):M||null},getClass:function(x){return v.getCustomClass(x)},removeGlobalPlugin:function(x){var y=this.getEntry(x);y&&f(this.plugins,y),v.removeCustom(x)},removeScenePlugin:function(x){f(this.scenePlugins,x),v.remove(x)},registerGameObject:function(x,y,b){return y&&l.register(x,y),b&&h.register(x,b),this},removeGameObject:function(x,y,b){return y===void 0&&(y=!0),b===void 0&&(b=!0),y&&l.remove(x),b&&h.remove(x),this},registerFileType:function(x,y,b){u.register(x,y),b&&b.sys.load&&(b.sys.load[x]=y)},destroy:function(){for(var x=0;x<this.plugins.length;x++)this.plugins[x].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});r.exports=m},45145:(r,o,t)=>{var a=t(52018),p=t(83419),c=t(44594),u=new p({Extends:a,initialize:function(l,d,v){a.call(this,d),this.scene=l,this.systems=l.sys,this.pluginKey=v,l.sys.events.once(c.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=u},18922:(r,o,t)=>{r.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(r){let o=performance.now(),t=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,p=(c,u)=>{let h=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(l>a){let d=this.mozFrameDelay||h.totalFrameDelay-t.totalFrameDelay||0,v=u-c;r(u,{presentationTime:u+d*1e3,expectedDisplayTime:u+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:l,processingDuration:d}),delete this._rvfcpolyfillmap[o]}else this._rvfcpolyfillmap[o]=requestAnimationFrame(d=>p(u,d))};return this._rvfcpolyfillmap[o]=requestAnimationFrame(c=>p(o,c)),o},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(r){cancelAnimationFrame(this._rvfcpolyfillmap[r]),delete this._rvfcpolyfillmap[r]})},10312:r=>{r.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:r=>{var o={DEFAULT:0,LINEAR:0,NEAREST:1};r.exports=o},68627:(r,o,t)=>{var a=t(19715),p=t(32880),c=t(83419),u=t(8054),h=t(50792),l=t(92503),d=t(56373),v=t(97480),f=t(69442),g=t(8443),m=t(61340),x=new c({Extends:h,initialize:function(b){h.call(this);var M=b.config;this.config={clearBeforeRender:M.clearBeforeRender,backgroundColor:M.backgroundColor,antialias:M.antialias,roundPixels:M.roundPixels,transparent:M.transparent},this.game=b,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=b.canvas;var C={alpha:M.transparent,desynchronized:M.desynchronized,willReadFrequently:!1};this.gameContext=M.context?M.context:this.gameCanvas.getContext("2d",C),this.currentContext=this.gameContext,this.antialias=M.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new m,this._tempMatrix2=new m,this._tempMatrix3=new m,this.isBooted=!1,this.init()},init:function(){var y=this.game;y.events.once(g.BOOT,function(){var b=this.config;if(!b.transparent){var M=this.gameContext,C=this.gameCanvas;M.fillStyle=b.backgroundColor.rgba,M.fillRect(0,0,C.width,C.height)}},this),y.textures.once(f.READY,this.boot,this)},boot:function(){var y=this.game,b=y.scale.baseSize;this.width=b.width,this.height=b.height,this.isBooted=!0,y.scale.on(v.RESIZE,this.onResize,this),this.resize(b.width,b.height)},onResize:function(y,b){(b.width!==this.width||b.height!==this.height)&&this.resize(b.width,b.height)},resize:function(y,b){this.width=y,this.height=b,this.emit(l.RESIZE,y,b)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(y){return this.currentContext.globalCompositeOperation=y,this},setContext:function(y){return this.currentContext=y||this.gameContext,this},setAlpha:function(y){return this.currentContext.globalAlpha=y,this},preRender:function(){var y=this.gameContext,b=this.config,M=this.width,C=this.height;y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),this.emit(l.PRE_RENDER_CLEAR),b.clearBeforeRender&&(y.clearRect(0,0,M,C),b.transparent||(y.fillStyle=b.backgroundColor.rgba,y.fillRect(0,0,M,C))),y.save(),this.drawCount=0,this.emit(l.PRE_RENDER)},render:function(y,b,M){var C=b.length;this.emit(l.RENDER,y,M);var w=M.x,S=M.y,I=M.width,T=M.height,k=M.renderToTexture?M.context:y.sys.context;k.save(),this.game.scene.customViewports&&(k.beginPath(),k.rect(w,S,I,T),k.clip()),M.emit(a.PRE_RENDER,M),this.currentContext=k;var E=M.mask;E&&E.preRenderCanvas(this,null,M._maskCamera),M.transparent||(k.fillStyle=M.backgroundColor.rgba,k.fillRect(w,S,I,T)),k.globalAlpha=M.alpha,k.globalCompositeOperation="source-over",this.drawCount+=C,M.renderToTexture&&M.emit(a.PRE_RENDER,M),M.matrix.copyToContext(k);for(var A=0;A<C;A++){var L=b[A];L.mask&&L.mask.preRenderCanvas(this,L,M),L.renderCanvas(this,L,M),L.mask&&L.mask.postRenderCanvas(this,L,M)}k.setTransform(1,0,0,1,0,0),k.globalCompositeOperation="source-over",k.globalAlpha=1,M.flashEffect.postRenderCanvas(k),M.fadeEffect.postRenderCanvas(k),M.dirty=!1,E&&E.postRenderCanvas(this),k.restore(),M.renderToTexture&&(M.emit(a.POST_RENDER,M),M.renderToGame&&y.sys.context.drawImage(M.canvas,w,S)),M.emit(a.POST_RENDER,M)},postRender:function(){var y=this.gameContext;y.restore(),this.emit(l.POST_RENDER);var b=this.snapshotState;b.callback&&(p(this.gameCanvas,b),b.callback=null)},snapshotCanvas:function(y,b,M,C,w,S,I,T,k){M===void 0&&(M=!1),this.snapshotArea(C,w,S,I,b,T,k);var E=this.snapshotState;return E.getPixel=M,p(y,E),E.callback=null,this},snapshot:function(y,b,M){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,y,b,M)},snapshotArea:function(y,b,M,C,w,S,I){var T=this.snapshotState;return T.callback=w,T.type=S,T.encoder=I,T.getPixel=!1,T.x=y,T.y=b,T.width=Math.min(M,this.gameCanvas.width),T.height=Math.min(C,this.gameCanvas.height),this},snapshotPixel:function(y,b,M){return this.snapshotArea(y,b,1,1,M),this.snapshotState.getPixel=!0,this},batchSprite:function(y,b,M,C){var w=M.alpha*y.alpha;if(w!==0){var S=this.currentContext,I=this._tempMatrix1,T=this._tempMatrix2,k=b.canvasData,E=k.x,A=k.y,L=b.cutWidth,D=b.cutHeight,R=b.customPivot,N=b.source.resolution,P=y.displayOriginX,O=y.displayOriginY,W=-P+b.x,G=-O+b.y;if(y.isCropped){var H=y._crop;(H.flipX!==y.flipX||H.flipY!==y.flipY)&&b.updateCropUVs(H,y.flipX,y.flipY),L=H.cw,D=H.ch,E=H.cx,A=H.cy,W=-P+H.x,G=-O+H.y,y.flipX&&(W>=0?W=-(W+L):W<0&&(W=Math.abs(W)-L)),y.flipY&&(G>=0?G=-(G+D):G<0&&(G=Math.abs(G)-D))}var V=1,B=1;y.flipX&&(R||(W+=-b.realWidth+P*2),V=-1),y.flipY&&(R||(G+=-b.realHeight+O*2),B=-1);var j=y.x,U=y.y;if(M.roundPixels&&(j=Math.floor(j),U=Math.floor(U)),T.applyITRS(j,U,y.rotation,y.scaleX*V,y.scaleY*B),I.copyFrom(M.matrix),C?(I.multiplyWithOffset(C,-M.scrollX*y.scrollFactorX,-M.scrollY*y.scrollFactorY),T.e=j,T.f=U):(T.e-=M.scrollX*y.scrollFactorX,T.f-=M.scrollY*y.scrollFactorY),I.multiply(T),M.renderRoundPixels&&(I.e=Math.floor(I.e+.5),I.f=Math.floor(I.f+.5)),S.save(),I.setToContext(S),S.globalCompositeOperation=this.blendModes[y.blendMode],S.globalAlpha=w,S.imageSmoothingEnabled=!b.source.scaleMode,y.mask&&y.mask.preRenderCanvas(this,y,M),L>0&&D>0){var X=L/N,Z=D/N;M.roundPixels&&(W=Math.floor(W+.5),G=Math.floor(G+.5),X+=.5,Z+=.5),S.drawImage(b.source.image,E,A,L,D,W,G,X,Z)}y.mask&&y.mask.postRenderCanvas(this,y,M),S.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});r.exports=x},55830:(r,o,t)=>{r.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(r,o,t)=>{var a=t(10312),p=t(89289),c=function(){var u=[],h=p.supportNewBlendModes,l="source-over";return u[a.NORMAL]=l,u[a.ADD]="lighter",u[a.MULTIPLY]=h?"multiply":l,u[a.SCREEN]=h?"screen":l,u[a.OVERLAY]=h?"overlay":l,u[a.DARKEN]=h?"darken":l,u[a.LIGHTEN]=h?"lighten":l,u[a.COLOR_DODGE]=h?"color-dodge":l,u[a.COLOR_BURN]=h?"color-burn":l,u[a.HARD_LIGHT]=h?"hard-light":l,u[a.SOFT_LIGHT]=h?"soft-light":l,u[a.DIFFERENCE]=h?"difference":l,u[a.EXCLUSION]=h?"exclusion":l,u[a.HUE]=h?"hue":l,u[a.SATURATION]=h?"saturation":l,u[a.COLOR]=h?"color":l,u[a.LUMINOSITY]=h?"luminosity":l,u[a.ERASE]="destination-out",u[a.SOURCE_IN]="source-in",u[a.SOURCE_OUT]="source-out",u[a.SOURCE_ATOP]="source-atop",u[a.DESTINATION_OVER]="destination-over",u[a.DESTINATION_IN]="destination-in",u[a.DESTINATION_OUT]="destination-out",u[a.DESTINATION_ATOP]="destination-atop",u[a.LIGHTER]="lighter",u[a.COPY]="copy",u[a.XOR]="xor",u};r.exports=c},20926:(r,o,t)=>{var a=t(91296),p=function(c,u,h,l,d){var v=l.alpha*h.alpha;if(v<=0)return!1;var f=a(h,l,d).calc;return u.globalCompositeOperation=c.blendModes[h.blendMode],u.globalAlpha=v,u.save(),f.setToContext(u),u.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:c.antialias,!0};r.exports=p},63899:r=>{r.exports="losewebgl"},6119:r=>{r.exports="postrender"},48070:r=>{r.exports="prerender"},15640:r=>{r.exports="render"},8912:r=>{r.exports="resize"},87124:r=>{r.exports="restorewebgl"},92503:(r,o,t)=>{r.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(r,o,t)=>{r.exports={Events:t(92503),Snapshot:t(89966)},r.exports.Canvas=t(55830),r.exports.WebGL=t(4159)},32880:(r,o,t)=>{var a=t(27919),p=t(40987),c=t(95540),u=function(h,l){var d=c(l,"callback"),v=c(l,"type","image/png"),f=c(l,"encoder",.92),g=Math.abs(Math.round(c(l,"x",0))),m=Math.abs(Math.round(c(l,"y",0))),x=Math.floor(c(l,"width",h.width)),y=Math.floor(c(l,"height",h.height)),b=c(l,"getPixel",!1);if(b){var M=h.getContext("2d",{willReadFrequently:!1}),C=M.getImageData(g,m,1,1),w=C.data;d.call(null,new p(w[0],w[1],w[2],w[3]))}else if(g!==0||m!==0||x!==h.width||y!==h.height){var S=a.createWebGL(this,x,y),I=S.getContext("2d",{willReadFrequently:!0});x>0&&y>0&&I.drawImage(h,g,m,x,y,0,0,x,y);var T=new Image;T.onerror=function(){d.call(null),a.remove(S)},T.onload=function(){d.call(null,T),a.remove(S)},T.src=S.toDataURL(v,f)}else{var k=new Image;k.onerror=function(){d.call(null)},k.onload=function(){d.call(null,k)},k.src=h.toDataURL(v,f)}};r.exports=u},88815:(r,o,t)=>{var a=t(27919),p=t(40987),c=t(95540),u=function(h,l){var d=h,v=c(l,"callback"),f=c(l,"type","image/png"),g=c(l,"encoder",.92),m=Math.abs(Math.round(c(l,"x",0))),x=Math.abs(Math.round(c(l,"y",0))),y=c(l,"getPixel",!1),b=c(l,"isFramebuffer",!1),M=b?c(l,"bufferWidth",1):d.drawingBufferWidth,C=b?c(l,"bufferHeight",1):d.drawingBufferHeight;if(y){var w=new Uint8Array(4),S=b?x:C-x;d.readPixels(m,S,1,1,d.RGBA,d.UNSIGNED_BYTE,w),v.call(null,new p(w[0],w[1],w[2],w[3]))}else{var I=Math.floor(c(l,"width",M)),T=Math.floor(c(l,"height",C)),k=I*T*4,E=new Uint8Array(k);d.readPixels(m,C-x-T,I,T,d.RGBA,d.UNSIGNED_BYTE,E);for(var A=a.createWebGL(this,I,T),L=A.getContext("2d",{willReadFrequently:!0}),D=L.getImageData(0,0,I,T),R=D.data,N=0;N<T;N++)for(var P=0;P<I;P++){var O=((T-N-1)*I+P)*4,W=b?k-(N*I+(I-P))*4:(N*I+P)*4;R[W+0]=E[O+0],R[W+1]=E[O+1],R[W+2]=E[O+2],R[W+3]=E[O+3]}L.putImageData(D,0,0);var G=new Image;G.onerror=function(){v.call(null),a.remove(A)},G.onload=function(){v.call(null,G),a.remove(A)},G.src=A.toDataURL(f,g)}};r.exports=u},89966:(r,o,t)=>{r.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(r,o,t)=>{var a=t(83419),p=t(36060),c=t(90330),u=t(82264),h=t(95540),l=t(32302),d=t(63448),v=t(31302),f=t(58918),g=t(14811),m=t(92651),x=t(96569),y=t(56527),b=t(57516),M=t(43439),C=t(81041),w=t(12385),S=t(7589),I=t(95428),T=t(72905),k=new a({initialize:function(A){this.game=A.game,this.renderer=A,this.classes=new c([[p.UTILITY_PIPELINE,S],[p.MULTI_PIPELINE,b],[p.BITMAPMASK_PIPELINE,v],[p.SINGLE_PIPELINE,w],[p.ROPE_PIPELINE,C],[p.LIGHT_PIPELINE,x],[p.POINTLIGHT_PIPELINE,M],[p.MOBILE_PIPELINE,y]]),this.postPipelineClasses=new c,this.pipelines=new c,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(E,A,L){var D=this.renderer,R=this.renderTargets;this.frameInc=Math.floor(h(E,"frameInc",32));var N=D.width,P=D.height,O=this.game.config.disablePreFX,W=this.game.config.disablePostFX;if(W||this.postPipelineClasses.setAll([[String(g.BARREL),f.Barrel],[String(g.BLOOM),f.Bloom],[String(g.BLUR),f.Blur],[String(g.BOKEH),f.Bokeh],[String(g.CIRCLE),f.Circle],[String(g.COLOR_MATRIX),f.ColorMatrix],[String(g.DISPLACEMENT),f.Displacement],[String(g.GLOW),f.Glow],[String(g.GRADIENT),f.Gradient],[String(g.PIXELATE),f.Pixelate],[String(g.SHADOW),f.Shadow],[String(g.SHINE),f.Shine],[String(g.VIGNETTE),f.Vignette],[String(g.WIPE),f.Wipe]]),!O){this.classes.set(p.FX_PIPELINE,m);for(var G=Math.min(N,P),H=Math.ceil(G/this.frameInc),V=1;V<H;V++){var B=V*this.frameInc;R.push(new l(D,B,B)),R.push(new l(D,B,B)),R.push(new l(D,B,B)),this.maxDimension=B}R.push(new l(D,N,P,1,0,!0,!0)),R.push(new l(D,N,P,1,0,!0,!0)),R.push(new l(D,N,P,1,0,!0,!0))}var j,U,X=this,Z=this.game;if(this.classes.each(function(J,Q){j=X.add(J,new Q({game:Z})),J===p.UTILITY_PIPELINE&&(X.UTILITY_PIPELINE=j,X.fullFrame1=j.fullFrame1,X.fullFrame2=j.fullFrame2,X.halfFrame1=j.halfFrame1,X.halfFrame2=j.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),O||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),E)for(U in E){var $=E[U];j=new $(Z),j.name=U,j.isPostFX?this.postPipelineClasses.set(U,$):this.has(U)||(this.classes.set(U,$),this.add(U,j))}this.default=this.get(A),L&&!u.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(E){var A=this.get(E);return A&&(this.default=A),A},add:function(E,A){if(A.isPostFX){console.warn(E+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,D=this.renderer;return L.has(E)?console.warn("Pipeline exists: "+E):(A.name=E,A.manager=this,L.set(E,A)),A.hasBooted||A.boot(),D.width!==0&&D.height!==0&&!A.isPreFX&&A.resize(D.width,D.height),A},addPostPipeline:function(E,A){this.postPipelineClasses.has(E)||this.postPipelineClasses.set(E,A)},flush:function(){this.current&&this.current.flush()},has:function(E){var A=this.pipelines;return typeof E=="string"?A.has(E):!!A.contains(E)},get:function(E){var A=this.pipelines;if(typeof E=="string")return A.get(E);if(A.contains(E))return E},getPostPipeline:function(E,A,L){var D=this.postPipelineClasses,R,N="",P=typeof E;if(P==="string"||P==="number"?(R=D.get(E),N=E):P==="function"?(D.contains(E)&&(R=E),N=E.name):P==="object"&&(R=D.get(E.name),N=E.name),R){var O=new R(this.game,L);return O.name=N,A&&(O.gameObject=A),this.postPipelineInstances.push(O),O}},removePostPipeline:function(E){T(this.postPipelineInstances,E)},remove:function(E,A,L){A===void 0&&(A=!0),L===void 0&&(L=!0),this.pipelines.delete(E),A&&this.classes.delete(E),L&&this.postPipelineClasses.delete(E)},set:function(E,A,L){if(!E.isPostFX)return this.isCurrent(E,L)||(this.flush(),this.current&&this.current.unbind(),this.current=E,E.bind(L)),E.updateProjectionMatrix(),E.onBind(A),E},preBatch:function(E){if(E.hasPostPipeline){this.flush();for(var A=E.postPipelines,L=A.length-1;L>=0;L--){var D=A[L];D.active&&D.preBatch(E)}}},postBatch:function(E){if(E.hasPostPipeline){this.flush();for(var A=E.postPipelines,L=0;L<A.length;L++){var D=A[L];D.active&&D.postBatch(E)}}},preBatchCamera:function(E){if(E.hasPostPipeline){this.flush();for(var A=E.postPipelines,L=A.length-1;L>=0;L--){var D=A[L];D.active&&D.preBatch(E)}}},postBatchCamera:function(E){if(E.hasPostPipeline){this.flush();for(var A=E.postPipelines,L=0;L<A.length;L++){var D=A[L];D.active&&D.postBatch(E)}}},isCurrent:function(E,A){var L=this.renderer,D=this.current;return D&&!A&&(A=D.currentShader),!(D!==E||A.program!==L.currentProgram)},copyFrame:function(E,A,L,D,R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(E,A,L,D,R),this},copyToGame:function(E){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(E),this},drawFrame:function(E,A,L,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(E,A,L,D),this},blendFrames:function(E,A,L,D,R){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(E,A,L,D,R),this},blendFramesAdditive:function(E,A,L,D,R){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(E,A,L,D,R),this},clearFrame:function(E,A){return this.UTILITY_PIPELINE.clearFrame(E,A),this},blitFrame:function(E,A,L,D,R,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(E,A,L,D,R,N),this},copyFrameRect:function(E,A,L,D,R,N,P,O){return this.UTILITY_PIPELINE.copyFrameRect(E,A,L,D,R,N,P,O),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(E){return this.UTILITY_PIPELINE.bind(E)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(E,A){A.restoreContext()}),I(this.postPipelineInstances,function(E){E.restoreContext()})},rebind:function(E){E===void 0&&this.previous&&(E=this.previous);var A=this.renderer,L=A.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),A.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,A.width,A.height),A.currentProgram=null,A.setBlendMode(0,!0);var D=A.vaoExtension;D&&D.bindVertexArrayOES(null);var R=this.pipelines.entries;for(var N in R)R[N].glReset=!0;E&&(this.current=E,E.rebind())},clear:function(){var E=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,E.currentProgram=null,E.setBlendMode(0,!0);var A=E.vaoExtension;A&&A.bindVertexArrayOES(null)},getRenderTarget:function(E){var A=this.renderTargets,L=3;if(E>this.maxDimension)return this.targetIndex=A.length-L,A[this.targetIndex];var D=(d(E,this.frameInc,0,!0)-1)*L;return this.targetIndex=D,A[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});r.exports=k},32302:(r,o,t)=>{var a=t(83419),p=t(92503),c=new a({initialize:function(h,l,d,v,f,g,m,x,y){v===void 0&&(v=1),f===void 0&&(f=0),g===void 0&&(g=!0),m===void 0&&(m=!1),x===void 0&&(x=!0),y===void 0&&(y=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=f,this.autoClear=g,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=y,this.init(l,d),m?this.renderer.on(p.RESIZE,this.resize,this):this.autoResize=!1},init:function(u,h){var l=this.renderer;this.texture=l.createTextureFromSource(null,u,h,this.minFilter,this.forceClamp),this.framebuffer=l.createFramebuffer(u,h,this.texture,this.hasDepthBuffer),this.width=u,this.height=h},setAutoResize:function(u){return u&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(u,h){if(this.autoResize&&this.willResize(u,h)){var l=this.renderer;l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.texture=l.createTextureFromSource(null,u,h,this.minFilter,this.forceClamp),this.framebuffer=l.createFramebuffer(u,h,this.texture,this.hasDepthBuffer),this.width=u,this.height=h}return this},willResize:function(u,h){return typeof u!="number"||typeof h!="number"?!1:(u=Math.round(u*this.scale),h=Math.round(h*this.scale),u=Math.max(u,1),h=Math.max(h,1),u!==this.width||h!==this.height)},bind:function(u,h,l){u===void 0&&(u=!1);var d=this.renderer;if(u&&d.flush(),h&&l&&this.resize(h,l),d.pushFramebuffer(this.framebuffer,!1,!1),u&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},clear:function(u,h,l,d){var v=this.renderer,f=v.gl;v.pushFramebuffer(this.framebuffer),u!==void 0&&h!==void 0&&l!==void 0&&d!==void 0?(f.enable(f.SCISSOR_TEST),f.scissor(u,h,l,d)):f.disable(f.SCISSOR_TEST),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),v.popFramebuffer(),v.resetScissor()},unbind:function(u){u===void 0&&(u=!1);var h=this.renderer;return u&&h.flush(),h.popFramebuffer()},destroy:function(){var u=this.renderer;u.off(p.RESIZE,this.resize,this),u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});r.exports=c},70554:r=>{r.exports={getTintFromFloats:function(o,t,a,p){var c=(o*255|0)&255,u=(t*255|0)&255,h=(a*255|0)&255,l=(p*255|0)&255;return(l<<24|c<<16|u<<8|h)>>>0},getTintAppendFloatAlpha:function(o,t){var a=(t*255|0)&255;return(a<<24|o)>>>0},getTintAppendFloatAlphaAndSwap:function(o,t){var a=(o>>16|0)&255,p=(o>>8|0)&255,c=(o|0)&255,u=(t*255|0)&255;return(u<<24|c<<16|p<<8|a)>>>0},getFloatsFromUintRGB:function(o){var t=(o>>16|0)&255,a=(o>>8|0)&255,p=(o|0)&255;return[t/255,a/255,p/255]},checkShaderMax:function(o,t){var a=Math.min(16,o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?a:Math.min(a,t)},parseFragmentShaderMaxTextures:function(o,t){if(!o)return"";for(var a="",p=0;p<t;p++)p>0&&(a+=`
	else `),p<t-1&&(a+="if (outTexId < "+p+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",a+=`
	}`;return o=o.replace(/%count%/gi,t.toString()),o.replace(/%forloop%/gi,a)},setGlowQuality:function(o,t,a,p){return a===void 0&&(a=t.config.glowFXQuality),p===void 0&&(p=t.config.glowFXDistance),o=o.replace(/__SIZE__/gi,(1/a/p).toFixed(7)),o=o.replace(/__DIST__/gi,p.toFixed(0)+".0"),o}}},29100:(r,o,t)=>{var a=t(83419),p=t(62644),c=t(50792),u=t(77085),h=t(95540),l=t(37867),d=t(92503),v=t(32302),f=t(70554),g=t(38683),m=new a({Extends:c,initialize:function(y){c.call(this);var b=y.game,M=b.renderer,C=M.gl;this.name=h(y,"name","WebGLPipeline"),this.game=b,this.renderer=M,this.manager,this.gl=C,this.view=b.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=h(y,"topology",C.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=h(y,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=y,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=h(y,"resizeUniform","")},boot:function(){var x,y=this.gl,b=this.config,M=this.renderer;this.isPostFX||(this.projectionMatrix=new l().identity());var C=this.renderTargets,w=h(b,"renderTarget",!1);typeof w=="boolean"&&w&&(w=1);var S=M.width,I=M.height;if(typeof w=="number")for(x=0;x<w;x++)C.push(new v(M,S,I,1,0,!0));else if(Array.isArray(w))for(x=0;x<w.length;x++){var T=h(w[x],"scale",1),k=h(w[x],"minFilter",0),E=h(w[x],"autoClear",1),A=h(w[x],"autoResize",!1),L=h(w[x],"width",null),D=h(w[x],"height",L);L?C.push(new v(M,L,D,1,k,E,A)):C.push(new v(M,S,I,T,k,E,A))}C.length&&(this.currentRenderTarget=C[0]),this.setShadersFromConfig(b);var R=this.shaders,N=0;for(x=0;x<R.length;x++)R[x].vertexSize>N&&(N=R[x].vertexSize);var P=h(b,"batchSize",M.config.batchSize);this.vertexCapacity=P*6;var O=new ArrayBuffer(this.vertexCapacity*N);this.vertexData=O,this.bytes=new Uint8Array(O),this.vertexViewF32=new Float32Array(O),this.vertexViewU32=new Uint32Array(O);var W=h(b,"vertices",null);for(W?(this.vertexViewF32.set(W),this.vertexBuffer=M.createVertexBuffer(O,y.STATIC_DRAW)):this.vertexBuffer=M.createVertexBuffer(O.byteLength,y.DYNAMIC_DRAW),this.setVertexBuffer(),x=R.length-1;x>=0;x--)R[x].rebind();this.hasBooted=!0,M.on(d.RESIZE,this.resize,this),M.on(d.PRE_RENDER,this.onPreRender,this),M.on(d.RENDER,this.onRender,this),M.on(d.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,y,b){var M=this.renderer;if(x!==this.currentShader||M.currentProgram!==this.currentShader.program){this.flush();var C=this.setVertexBuffer(b);C&&!y&&(y=!0),x.bind(y,!1),this.currentShader=x}return this},getShaderByName:function(x){for(var y=this.shaders,b=0;b<y.length;b++)if(y[b].name===x)return y[b]},setShadersFromConfig:function(x){var y,b=this.shaders,M=this.renderer;for(y=0;y<b.length;y++)b[y].destroy();var C="vertShader",w="fragShader",S="attributes",I=h(x,C,null),T=f.parseFragmentShaderMaxTextures(h(x,w,null),M.maxTextures),k=h(x,S,null),E=h(x,"shaders",[]),A=E.length;if(A===0)I&&T&&(this.shaders=[new g(this,"default",I,T,p(k))]);else{var L=[];for(y=0;y<A;y++){var D=E[y],R,N,P,O;if(typeof D=="string"?(R="default",N=I,P=f.parseFragmentShaderMaxTextures(D,M.maxTextures),O=k):(R=h(D,"name","default"),N=h(D,C,I),P=f.parseFragmentShaderMaxTextures(h(D,w,T),M.maxTextures),O=h(D,S,k)),R==="default"){var W=P.split(`
`),G=W[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(R=G.substring(20))}N&&P&&L.push(new g(this,R,N,P,p(O)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var y=this.currentBatch;y&&(y.texture.push(x),y.unit++,y.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var y=this.currentBatch,b=y.texture.indexOf(x);return b===-1?y.texture.length===this.renderer.maxTextures?this.createBatch(x):(y.unit++,y.maxUnit++,y.texture.push(x),this.currentUnit=y.unit,this.currentTexture=x,y.unit):(this.currentUnit=b,this.currentTexture=x,b)},setGameObject:function(x,y){return y===void 0&&(y=x.frame),this.pushBatch(y.source.glTexture)},shouldFlush:function(x){return x===void 0&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,y){(x!==this.width||y!==this.height)&&this.flush(),this.width=x,this.height=y;for(var b=this.renderTargets,M=0;M<b.length;M++)b[M].resize(x,y);return this.setProjectionMatrix(x,y),this.resizeUniform&&this.set2f(this.resizeUniform,x,y),this.emit(u.RESIZE,x,y,this),this.onResize(x,y),this},setProjectionMatrix:function(x,y){var b=this.projectionMatrix;if(!b)return this;this.projectionWidth=x,this.projectionHeight=y,b.ortho(0,x,y,0,-1e3,1e3);for(var M=this.shaders,C="uProjectionMatrix",w=0;w<M.length;w++){var S=M[w];S.hasUniform(C)&&(S.resetUniform(C),S.setMatrix4fv(C,!1,b.val,S))}return this},flipProjectionMatrix:function(x){x===void 0&&(x=!0);var y=this.projectionMatrix;if(!y)return this;var b=this.projectionWidth,M=this.projectionHeight;x?y.ortho(0,b,0,M,-1e3,1e3):y.ortho(0,b,M,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,y.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,y=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==y)&&this.setProjectionMatrix(x,y)}},bind:function(x){if(x===void 0&&(x=this.currentShader),this.glReset)return this.rebind(x);var y=!1,b=this.gl;return b.getParameter(b.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(b.bindBuffer(b.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,y=!0),x.bind(y),this.currentShader=x,this.activeTextures.length=0,this.emit(u.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var y=this.shaders,b=y.length-1;b>=0;b--){var M=y[b].rebind();(!x||M===x)&&(this.currentShader=M)}return this.activeTextures.length=0,this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,y=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,y&&this.setVertexBuffer();for(var b=0;b<x.length;b++){var M=x[b];M.syncUniforms(),y&&M.rebind()}},setVertexBuffer:function(x){if(x===void 0&&(x=this.vertexBuffer),x!==this.activeBuffer){var y=this.gl;return this.gl.bindBuffer(y.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0}return!1},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(x===void 0&&(x=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var y=this.gl,b=this.vertexCount,M=this.currentShader.vertexSize,C=this.topology;if(this.active){this.setVertexBuffer(),b===this.vertexCapacity?y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.DYNAMIC_DRAW):y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,b*M));var w,S,I,T=this.batch,k=this.activeTextures;if(this.forceZero)for(k[0]||y.activeTexture(y.TEXTURE0),w=0;w<T.length;w++)S=T[w],I=S.texture[0],k[0]!==I&&(y.bindTexture(y.TEXTURE_2D,I.webGLTexture),k[0]=I),y.drawArrays(C,S.start,S.count);else for(w=0;w<T.length;w++){S=T[w];for(var E=0;E<=S.maxUnit;E++)I=S.texture[E],k[E]!==I&&(y.activeTexture(y.TEXTURE0+E),y.bindTexture(y.TEXTURE_2D,I.webGLTexture),k[E]=I);y.drawArrays(C,S.start,S.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(u.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,y,b,M,C,w,S){var I=this.vertexViewF32,T=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;I[++k]=x,I[++k]=y,I[++k]=b,I[++k]=M,I[++k]=C,I[++k]=w,T[++k]=S,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,y,b,M,C,w,S,I,T,k,E,A,L,D,R,N,P,O,W,G){G===void 0&&(G=this.currentUnit);var H=!1;this.shouldFlush(6)&&(this.flush(),H=!0),this.currentBatch||(G=this.setTexture2D(W));var V=this.vertexViewF32,B=this.vertexViewU32,j=this.vertexCount*this.currentShader.vertexComponentCount-1;return V[++j]=y,V[++j]=b,V[++j]=k,V[++j]=E,V[++j]=G,V[++j]=O,B[++j]=D,V[++j]=M,V[++j]=C,V[++j]=k,V[++j]=L,V[++j]=G,V[++j]=O,B[++j]=N,V[++j]=w,V[++j]=S,V[++j]=A,V[++j]=L,V[++j]=G,V[++j]=O,B[++j]=P,V[++j]=y,V[++j]=b,V[++j]=k,V[++j]=E,V[++j]=G,V[++j]=O,B[++j]=D,V[++j]=w,V[++j]=S,V[++j]=A,V[++j]=L,V[++j]=G,V[++j]=O,B[++j]=P,V[++j]=I,V[++j]=T,V[++j]=A,V[++j]=E,V[++j]=G,V[++j]=O,B[++j]=R,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),H},batchTri:function(x,y,b,M,C,w,S,I,T,k,E,A,L,D,R,N,P){P===void 0&&(P=this.currentUnit);var O=!1;this.shouldFlush(3)&&(this.flush(),O=!0),this.currentBatch||(P=this.setTexture2D(N));var W=this.vertexViewF32,G=this.vertexViewU32,H=this.vertexCount*this.currentShader.vertexComponentCount-1;return W[++H]=y,W[++H]=b,W[++H]=I,W[++H]=T,W[++H]=P,W[++H]=R,G[++H]=A,W[++H]=M,W[++H]=C,W[++H]=I,W[++H]=E,W[++H]=P,W[++H]=R,G[++H]=L,W[++H]=w,W[++H]=S,W[++H]=k,W[++H]=E,W[++H]=P,W[++H]=R,G[++H]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),O},drawFillRect:function(x,y,b,M,C,w,S,I){S===void 0&&(S=this.renderer.whiteTexture),I===void 0&&(I=!0),x=Math.floor(x),y=Math.floor(y);var T=Math.floor(x+b),k=Math.floor(y+M),E=this.setTexture2D(S),A=f.getTintAppendFloatAlphaAndSwap(C,w),L=0,D=0,R=1,N=1;I&&(D=1,N=0),this.batchQuad(null,x,y,x,k,T,k,T,y,L,D,R,N,A,A,A,A,0,S,E)},setTexture2D:function(x){return x===void 0&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,y){y===void 0&&(y=0);var b=this.gl;return b.activeTexture(b.TEXTURE0+y),b.bindTexture(b.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,y){return this.bindTexture(x.texture,y)},setTime:function(x,y){return this.set1f(x,this.game.loop.getDuration(),y),this},setBoolean:function(x,y,b){return b===void 0&&(b=this.currentShader),b.setBoolean(x,y),this},set1f:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set1f(x,y),this},set2f:function(x,y,b,M){return M===void 0&&(M=this.currentShader),M.set2f(x,y,b),this},set3f:function(x,y,b,M,C){return C===void 0&&(C=this.currentShader),C.set3f(x,y,b,M),this},set4f:function(x,y,b,M,C,w){return w===void 0&&(w=this.currentShader),w.set4f(x,y,b,M,C),this},set1fv:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set1fv(x,y),this},set2fv:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set2fv(x,y),this},set3fv:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set3fv(x,y),this},set4fv:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set4fv(x,y),this},set1iv:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set1iv(x,y),this},set2iv:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set2iv(x,y),this},set3iv:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set3iv(x,y),this},set4iv:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set4iv(x,y),this},set1i:function(x,y,b){return b===void 0&&(b=this.currentShader),b.set1i(x,y),this},set2i:function(x,y,b,M){return M===void 0&&(M=this.currentShader),M.set2i(x,y,b),this},set3i:function(x,y,b,M,C){return C===void 0&&(C=this.currentShader),C.set3i(x,y,b,M),this},set4i:function(x,y,b,M,C,w){return w===void 0&&(w=this.currentShader),w.set4i(x,y,b,M,C),this},setMatrix2fv:function(x,y,b,M){return M===void 0&&(M=this.currentShader),M.setMatrix2fv(x,y,b),this},setMatrix3fv:function(x,y,b,M){return M===void 0&&(M=this.currentShader),M.setMatrix3fv(x,y,b),this},setMatrix4fv:function(x,y,b,M){return M===void 0&&(M=this.currentShader),M.setMatrix4fv(x,y,b),this},destroy:function(){this.emit(u.DESTROY,this);var x,y=this.shaders;for(x=0;x<y.length;x++)y[x].destroy();var b=this.renderTargets;for(x=0;x<b.length;x++)b[x].destroy();var M=this.renderer;return M.deleteBuffer(this.vertexBuffer),M.off(d.RESIZE,this.resize,this),M.off(d.PRE_RENDER,this.onPreRender,this),M.off(d.RENDER,this.onRender,this),M.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});r.exports=m},74797:(r,o,t)=>{var a=t(95428),p=t(72905),c=t(19715),u=t(83419),h=t(8054),l=t(50792),d=t(92503),v=t(50030),f=t(37867),g=t(29747),m=t(7530),x=t(32302),y=t(97480),b=t(69442),M=t(70554),C=t(88815),w=t(26128),S=t(1482),I=t(82751),T=t(84387),k=t(93567),E=t(57183),A=!1;if(0)var L;var D=new u({Extends:l,initialize:function(N){l.call(this);var P=N.config,O={alpha:P.transparent,desynchronized:P.desynchronized,depth:!0,antialias:P.antialiasGL,premultipliedAlpha:P.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:P.failIfMajorPerformanceCaveat,powerPreference:P.powerPreference,preserveDrawingBuffer:P.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:P.clearBeforeRender,antialias:P.antialias,backgroundColor:P.backgroundColor,contextCreation:O,roundPixels:P.roundPixels,maxTextures:P.maxTextures,maxTextureSize:P.maxTextureSize,batchSize:P.batchSize,maxLights:P.maxLights,mipmapFilter:P.mipmapFilter},this.game=N,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=N.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=g,this.contextRestoredHandler=g,this.previousContextLostHandler=g,this.previousContextRestoredHandler=g,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(R){var N,P=this.game,O=this.canvas,W=R.backgroundColor;if(A&&(this.spector=new L.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),P.config.context?N=P.config.context:N=O.getContext("webgl",R.contextCreation)||O.getContext("experimental-webgl",R.contextCreation),!N||N.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=N,this.setExtensions(),this.setContextHandlers(),P.context=N;for(var G=0;G<=27;G++)this.blendModes.push({func:[N.ONE,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_ADD});this.blendModes[1].func=[N.ONE,N.DST_ALPHA],this.blendModes[2].func=[N.DST_COLOR,N.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[N.ONE,N.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[N.ZERO,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_REVERSE_SUBTRACT},this.glFormats=[N.BYTE,N.SHORT,N.UNSIGNED_BYTE,N.UNSIGNED_SHORT,N.FLOAT],this.glFuncMap={mat2:{func:N.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:N.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:N.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:N.uniform1f,length:1},"1fv":{func:N.uniform1fv,length:1},"1i":{func:N.uniform1i,length:1},"1iv":{func:N.uniform1iv,length:1},"2f":{func:N.uniform2f,length:2},"2fv":{func:N.uniform2fv,length:1},"2i":{func:N.uniform2i,length:2},"2iv":{func:N.uniform2iv,length:1},"3f":{func:N.uniform3f,length:3},"3fv":{func:N.uniform3fv,length:1},"3i":{func:N.uniform3i,length:3},"3iv":{func:N.uniform3iv,length:1},"4f":{func:N.uniform4f,length:4},"4fv":{func:N.uniform4fv,length:1},"4i":{func:N.uniform4i,length:4},"4iv":{func:N.uniform4iv,length:1}},(!R.maxTextures||R.maxTextures===-1)&&(R.maxTextures=N.getParameter(N.MAX_TEXTURE_IMAGE_UNITS)),R.maxTextureSize||(R.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),N.disable(N.DEPTH_TEST),N.disable(N.CULL_FACE),N.enable(N.BLEND),N.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),N.clear(N.COLOR_BUFFER_BIT);var H=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return H.indexOf(R.mipmapFilter)!==-1&&(this.mipmapFilter=N[R.mipmapFilter]),this.maxTextures=M.checkShaderMax(N,R.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new m(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=new f().identity(),P.textures.once(b.READY,this.boot,this),this},boot:function(){var R=this.game,N=this.pipelines,P=R.scale.baseSize,O=P.width,W=P.height;this.width=O,this.height=W,this.isBooted=!0,this.renderTarget=new x(this,O,W,1,0,!0,!0),this.maskTarget=new x(this,O,W,1,0,!0,!0),this.maskSource=new x(this,O,W,1,0,!0,!0);var G=R.config;N.boot(G.pipeline,G.defaultPipeline,G.autoMobilePipeline),this.blankTexture=R.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=R.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=R.textures.getFrame("__WHITE").glTexture;var H=this.gl;H.bindFramebuffer(H.FRAMEBUFFER,null),H.enable(H.SCISSOR_TEST),R.scale.on(y.RESIZE,this.onResize,this),this.resize(O,W)},setExtensions:function(){var R=this.gl,N=R.getSupportedExtensions();this.supportedExtensions=N;var P="ANGLE_instanced_arrays";this.instancedArraysExtension=N.indexOf(P)>-1?R.getExtension(P):null;var O="OES_vertex_array_object";this.vaoExtension=N.indexOf(O)>-1?R.getExtension(O):null},setContextHandlers:function(R,N){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof R=="function"?this.contextLostHandler=R.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof N=="function"?this.contextRestoredHandler=N.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(R){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(d.LOSE_WEBGL,this),R.preventDefault()},dispatchContextRestored:function(R){var N=this.gl;if(N.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(h.BlendModes.NORMAL),N.disable(N.BLEND),N.disable(N.DEPTH_TEST),N.enable(N.CULL_FACE),this.compression=this.getCompressedTextures();var P=function(O){O.createResource()};a(this.glTextureWrappers,P),a(this.glBufferWrappers,P),a(this.glFramebufferWrappers,P),a(this.glProgramWrappers,P),a(this.glAttribLocationWrappers,P),a(this.glUniformLocationWrappers,P),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(d.RESTORE_WEBGL,this),R.preventDefault()},createTemporaryTextures:function(){for(var R=this.gl,N=0;N<this.maxTextures;N++){var P=R.createTexture();R.activeTexture(R.TEXTURE0+N),R.bindTexture(R.TEXTURE_2D,P),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(N)}},captureFrame:function(R,N){R===void 0&&(R=!1),N===void 0&&(N=!1),A&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,R,N),this._debugCapture=!0)},captureNextFrame:function(){A&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(A&&this.spector)return this.spector.getFps()},log:function(){if(A&&this.spector){var R=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(R)}},startCapture:function(R,N,P){R===void 0&&(R=0),N===void 0&&(N=!1),P===void 0&&(P=!1),A&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,R,N,P),this._debugCapture=!0)},stopCapture:function(){if(A&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(R){if(A){var N=this.spector.getResultUI();N.display(R),this._debugCapture=!1}},onResize:function(R,N){(N.width!==this.width||N.height!==this.height)&&this.resize(N.width,N.height)},beginCapture:function(R,N){R===void 0&&(R=this.width),N===void 0&&(N=this.height),this.renderTarget.bind(!0,R,N),this.setProjectionMatrix(R,N)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(R,N){var P=this.gl;return this.width=R,this.height=N,this.setProjectionMatrix(R,N),P.viewport(0,0,R,N),this.drawingBufferHeight=P.drawingBufferHeight,P.scissor(0,P.drawingBufferHeight-N,R,N),this.defaultScissor[2]=R,this.defaultScissor[3]=N,this.emit(d.RESIZE,R,N),this},getCompressedTextures:function(){var R="WEBGL_compressed_texture_",N="WEBKIT_"+R,P="EXT_texture_compression_",O=function(G,H){var V=G.getExtension(R+H)||G.getExtension(N+H)||G.getExtension(P+H);if(V){var B={};for(var j in V)B[V[j]]=j;return B}},W=this.gl;return{ETC:O(W,"etc"),ETC1:O(W,"etc1"),ATC:O(W,"atc"),ASTC:O(W,"astc"),BPTC:O(W,"bptc"),RGTC:O(W,"rgtc"),PVRTC:O(W,"pvrtc"),S3TC:O(W,"s3tc"),S3TCSRGB:O(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(R,N){var P=this.compression[R.toUpperCase()];if(N in P)return P[N]},supportsCompressedTexture:function(R,N){var P=this.compression[R.toUpperCase()];return P?N?N in P:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(R,N){return(R!==this.projectionWidth||N!==this.projectionHeight)&&(this.projectionWidth=R,this.projectionHeight=N,this.projectionMatrix.ortho(0,R,N,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(R){return this.supportedExtensions?this.supportedExtensions.indexOf(R):!1},getExtension:function(R){return this.hasExtension(R)?(R in this.extensions||(this.extensions[R]=this.gl.getExtension(R)),this.extensions[R]):null},flush:function(){this.pipelines.flush()},pushScissor:function(R,N,P,O,W){W===void 0&&(W=this.drawingBufferHeight);var G=this.scissorStack,H=[R,N,P,O];return G.push(H),this.setScissor(R,N,P,O,W),this.currentScissor=H,H},setScissor:function(R,N,P,O,W){W===void 0&&(W=this.drawingBufferHeight);var G=this.gl,H=this.currentScissor,V=P>0&&O>0;if(H&&V){var B=H[0],j=H[1],U=H[2],X=H[3];V=B!==R||j!==N||U!==P||X!==O}V&&(this.flush(),G.scissor(R,W-N-O,P,O))},resetScissor:function(){var R=this.gl;R.enable(R.SCISSOR_TEST);var N=this.currentScissor;if(N){var P=N[0],O=N[1],W=N[2],G=N[3];W>0&&G>0&&R.scissor(P,this.drawingBufferHeight-O-G,W,G)}},popScissor:function(){var R=this.scissorStack;R.pop();var N=R[R.length-1];N&&this.setScissor(N[0],N[1],N[2],N[3]),this.currentScissor=N},hasActiveStencilMask:function(){var R=this.currentMask.mask,N=this.currentCameraMask.mask;return R&&R.isStencil||N&&N.isStencil},resetViewport:function(){var R=this.gl;R.viewport(0,0,this.width,this.height),this.drawingBufferHeight=R.drawingBufferHeight},setBlendMode:function(R,N){N===void 0&&(N=!1);var P=this.gl,O=this.blendModes[R];return N||R!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==R?(this.flush(),P.enable(P.BLEND),P.blendEquation(O.equation),O.func.length>2?P.blendFuncSeparate(O.func[0],O.func[1],O.func[2],O.func[3]):P.blendFunc(O.func[0],O.func[1]),this.currentBlendMode=R,!0):!1},addBlendMode:function(R,N){var P=this.blendModes.push({func:R,equation:N});return P-1},updateBlendMode:function(R,N,P){return this.blendModes[R]&&(this.blendModes[R].func=N,P&&(this.blendModes[R].equation=P)),this},removeBlendMode:function(R){return R>17&&this.blendModes[R]&&this.blendModes.splice(R,1),this},pushFramebuffer:function(R,N,P,O,W){return R===this.currentFramebuffer?this:(this.fboStack.push(R),this.setFramebuffer(R,N,P,O,W))},setFramebuffer:function(R,N,P,O,W){if(N===void 0&&(N=!1),P===void 0&&(P=!0),O===void 0&&(O=null),W===void 0&&(W=!1),R===this.currentFramebuffer)return this;var G=this.gl,H=this.width,V=this.height;return R&&R.renderTexture&&P?(H=R.renderTexture.width,V=R.renderTexture.height):this.flush(),R?G.bindFramebuffer(G.FRAMEBUFFER,R.webGLFramebuffer):G.bindFramebuffer(G.FRAMEBUFFER,null),P&&G.viewport(0,0,H,V),O&&G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,O.webGLTexture,0),W&&(G.clearColor(0,0,0,0),G.clear(G.COLOR_BUFFER_BIT)),N&&(R?(this.drawingBufferHeight=V,this.pushScissor(0,0,H,V)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=R,this},popFramebuffer:function(R,N){R===void 0&&(R=!1),N===void 0&&(N=!0);var P=this.fboStack;P.pop();var O=P[P.length-1];return O||(O=null),this.setFramebuffer(O,R,N),O},restoreFramebuffer:function(R,N){R===void 0&&(R=!1),N===void 0&&(N=!0);var P=this.fboStack,O=P[P.length-1];O||(O=null),this.currentFramebuffer=null,this.setFramebuffer(O,R,N)},setProgram:function(R){return R!==this.currentProgram?(this.flush(),this.gl.useProgram(R.webGLProgram),this.currentProgram=R,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(R,N,P,O,W){W===void 0&&(W=!1);var G=this.gl,H=G.NEAREST,V=G.NEAREST,B=G.CLAMP_TO_EDGE,j=null;N=R?R.width:N,P=R?R.height:P;var U=v(N,P);if(U&&!W&&(B=G.REPEAT),O===h.ScaleModes.LINEAR&&this.config.antialias){var X=R&&R.compressed,Z=!X&&U||X&&R.mipmaps.length>1;H=this.mipmapFilter&&Z?this.mipmapFilter:G.LINEAR,V=G.LINEAR}return!R&&typeof N=="number"&&typeof P=="number"?j=this.createTexture2D(0,H,V,B,B,G.RGBA,null,N,P):j=this.createTexture2D(0,H,V,B,B,G.RGBA,R),j},createTexture2D:function(R,N,P,O,W,G,H,V,B,j,U,X){typeof V!="number"&&(V=H?H.width:1),typeof B!="number"&&(B=H?H.height:1);var Z=new I(this.gl,R,N,P,O,W,G,H,V,B,j,U,X);return this.glTextureWrappers.push(Z),Z},createFramebuffer:function(R,N,P,O){this.currentFramebuffer=null;var W=new T(this.gl,R,N,P,O);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(R,N){var P=this.gl;P&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==R&&(this.currentMask.mask=R,this.currentMask.camera=N))},drawBitmapMask:function(R,N,P){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),R.renderWebGL(this,R,N),this.maskSource.unbind(!0),this.maskTarget.unbind();var O=this.gl,W=this.getCurrentStencilMask();W?(O.enable(O.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(P),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,this.maskTarget.texture.webGLTexture),O.activeTexture(O.TEXTURE1),O.bindTexture(O.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(R,N){var P=new S(this.gl,R,N);return this.glProgramWrappers.push(P),P},createVertexBuffer:function(R,N){var P=this.gl,O=new w(P,R,P.ARRAY_BUFFER,N);return this.glBufferWrappers.push(O),O},createAttribLocation:function(R,N){var P=new k(this.gl,R,N);return this.glAttribLocationWrappers.push(P),P},createUniformLocation:function(R,N){var P=new E(this.gl,R,N);return this.glUniformLocationWrappers.push(P),P},createIndexBuffer:function(R,N){var P=this.gl,O=new w(P,R,P.ELEMENT_ARRAY_BUFFER,N);return this.glBufferWrappers.push(O),O},deleteTexture:function(R){if(R)return p(this.glTextureWrappers,R),R.destroy(),this},deleteFramebuffer:function(R){return R?(p(this.fboStack,R),p(this.glFramebufferWrappers,R),R.destroy(),this):this},deleteProgram:function(R){return R&&(p(this.glProgramWrappers,R),R.destroy()),this},deleteAttribLocation:function(R){return R&&(p(this.glAttribLocationWrappers,R),R.destroy()),this},deleteUniformLocation:function(R){return R&&(p(this.glUniformLocationWrappers,R),R.destroy()),this},deleteBuffer:function(R){return R?(p(this.glBufferWrappers,R),R.destroy(),this):this},preRenderCamera:function(R){var N=R.x,P=R.y,O=R.width,W=R.height,G=R.backgroundColor;if(R.emit(c.PRE_RENDER,R),this.pipelines.preBatchCamera(R),this.pushScissor(N,P,O,W),R.mask&&(this.currentCameraMask.mask=R.mask,this.currentCameraMask.camera=R._maskCamera,R.mask.preRenderWebGL(this,R,R._maskCamera)),G.alphaGL>0){var H=this.pipelines.setMulti();H.drawFillRect(N,P,O,W,M.getTintFromFloats(G.blueGL,G.greenGL,G.redGL,1),G.alphaGL)}},getCurrentStencilMask:function(){var R=null,N=this.maskStack,P=this.currentCameraMask;return N.length>0?R=N[N.length-1]:P.mask&&P.mask.isStencil&&(R=P),R},postRenderCamera:function(R){var N=R.flashEffect,P=R.fadeEffect;if(N.isRunning||P.isRunning||P.isComplete){var O=this.pipelines.setMulti();N.postRenderWebGL(O,M.getTintFromFloats),P.postRenderWebGL(O,M.getTintFromFloats)}R.dirty=!1,this.popScissor(),R.mask&&(this.currentCameraMask.mask=null,R.mask.postRenderWebGL(this,R._maskCamera)),this.pipelines.postBatchCamera(R),R.emit(c.POST_RENDER,R)},preRender:function(){if(!this.contextLost){var R=this.gl;if(R.bindFramebuffer(R.FRAMEBUFFER,null),this.emit(d.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var N=this.config.backgroundColor;R.clearColor(N.redGL,N.greenGL,N.blueGL,N.alphaGL),R.clear(R.COLOR_BUFFER_BIT|R.DEPTH_BUFFER_BIT|R.STENCIL_BUFFER_BIT)}R.enable(R.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&R.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function(R,N,P){if(!this.contextLost){var O=N.length;if(this.emit(d.RENDER,R,P),this.preRenderCamera(P),O===0){this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(P);return}this.currentType="";for(var W=this.currentMask,G=0;G<O;G++){this.finalType=G===O-1;var H=N[G],V=H.mask;W=this.currentMask,W.mask&&W.mask!==V&&W.mask.postRenderWebGL(this,W.camera),V&&W.mask!==V&&V.preRenderWebGL(this,H,P),H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);var B=H.type;B!==this.currentType&&(this.newType=!0,this.currentType=B),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=N[G+1].type===this.currentType,H.renderWebGL(this,H,P),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(P)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var R=this.snapshotState;R.callback&&(C(this.gl,R),R.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var R=this.gl,N=this.getCurrentStencilMask();if(N){var P=N.mask;R.enable(R.STENCIL_TEST),P.invertAlpha?R.stencilFunc(R.NOTEQUAL,P.level,255):R.stencilFunc(R.EQUAL,P.level,255)}},snapshot:function(R,N,P){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,R,N,P)},snapshotArea:function(R,N,P,O,W,G,H){var V=this.snapshotState;return V.callback=W,V.type=G,V.encoder=H,V.getPixel=!1,V.x=R,V.y=N,V.width=P,V.height=O,this},snapshotPixel:function(R,N,P){return this.snapshotArea(R,N,1,1,P),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(R,N,P,O,W,G,H,V,B,j,U){W===void 0&&(W=!1),G===void 0&&(G=0),H===void 0&&(H=0),V===void 0&&(V=N),B===void 0&&(B=P),j==="pixel"&&(W=!0,j="image/png");var X=this.currentFramebuffer;this.snapshotArea(G,H,V,B,O,j,U);var Z=this.snapshotState;return Z.getPixel=W,Z.isFramebuffer=!0,Z.bufferWidth=N,Z.bufferHeight=P,Z.width=Math.min(Z.width,N),Z.height=Math.min(Z.height,P),this.setFramebuffer(R),C(this.gl,Z),this.setFramebuffer(X),Z.callback=null,Z.isFramebuffer=!1,this},canvasToTexture:function(R,N,P,O){P===void 0&&(P=!1),O===void 0&&(O=!1);var W=this.gl,G=W.NEAREST,H=W.NEAREST,V=R.width,B=R.height,j=W.CLAMP_TO_EDGE,U=v(V,B);return!P&&U&&(j=W.REPEAT),this.config.antialias&&(G=U&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,H=W.LINEAR),N?(N.update(R,V,B,O,j,j,G,H,N.format),N):this.createTexture2D(0,G,H,j,j,W.RGBA,R,V,B,!0,!1,O)},createCanvasTexture:function(R,N,P){return N===void 0&&(N=!1),P===void 0&&(P=!1),this.canvasToTexture(R,null,N,P)},updateCanvasTexture:function(R,N,P,O){return P===void 0&&(P=!1),O===void 0&&(O=!1),this.canvasToTexture(R,N,O,P)},videoToTexture:function(R,N,P,O){P===void 0&&(P=!1),O===void 0&&(O=!1);var W=this.gl,G=W.NEAREST,H=W.NEAREST,V=R.videoWidth,B=R.videoHeight,j=W.CLAMP_TO_EDGE,U=v(V,B);return!P&&U&&(j=W.REPEAT),this.config.antialias&&(G=U&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,H=W.LINEAR),N?(N.update(R,V,B,O,j,j,G,H,N.format),N):this.createTexture2D(0,G,H,j,j,W.RGBA,R,V,B,!0,!0,O)},createVideoTexture:function(R,N,P){return N===void 0&&(N=!1),P===void 0&&(P=!1),this.videoToTexture(R,null,N,P)},updateVideoTexture:function(R,N,P,O){return P===void 0&&(P=!1),O===void 0&&(O=!1),this.videoToTexture(R,N,O,P)},createUint8ArrayTexture:function(R,N,P){var O=this.gl,W=O.NEAREST,G=O.NEAREST,H=O.CLAMP_TO_EDGE,V=v(N,P);return V&&(H=O.REPEAT),this.createTexture2D(0,W,G,H,H,O.RGBA,R,N,P)},setTextureFilter:function(R,N){var P=this.gl,O=N===0?P.LINEAR:P.NEAREST;P.activeTexture(P.TEXTURE0);var W=P.getParameter(P.TEXTURE_BINDING_2D);return P.bindTexture(P.TEXTURE_2D,R.webGLTexture),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,O),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,O),R.minFilter=O,R.magFilter=O,W&&P.bindTexture(P.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var R=function(N){N.destroy()};a(this.glAttribLocationWrappers,R),a(this.glBufferWrappers,R),a(this.glFramebufferWrappers,R),a(this.glProgramWrappers,R),a(this.glTextureWrappers,R),a(this.glUniformLocationWrappers,R),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,A&&(this.spector=null)}});r.exports=D},38683:(r,o,t)=>{var a=t(83419),p=t(95428),c=t(95540),u=t(14500),h=new a({initialize:function(d,v,f,g,m){this.pipeline=d,this.name=v,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=g,this.vertSrc=f,this.program=this.renderer.createProgram(f,g),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(m),this.createUniforms()},createAttributes:function(l){var d=0,v=0,f=[];this.vertexComponentCount=0;for(var g=0;g<l.length;g++){var m=l[g],x=m.name,y=c(m,"size",1),b=c(m,"type",u.FLOAT),M=b.enum,C=b.size,w=!!m.normalized;f.push({name:x,size:y,type:M,normalized:w,offset:v,enabled:!1,location:-1}),C===4?d+=y:d++,v+=y*C}this.vertexSize=v,this.vertexComponentCount=d,this.attributes=f},bind:function(l,d){return l===void 0&&(l=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),l&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(l){l===void 0&&(l=!1);for(var d=this.gl,v=this.renderer,f=this.vertexSize,g=this.attributes,m=this.program,x=0;x<g.length;x++){var y=g[x],b=y.size,M=y.type,C=y.offset,w=y.enabled,S=y.location,I=!!y.normalized;if(l){S!==-1&&v.deleteAttribLocation(S);var T=this.renderer.createAttribLocation(m,y.name);T.webGLAttribLocation>=0?(d.enableVertexAttribArray(T.webGLAttribLocation),d.vertexAttribPointer(T.webGLAttribLocation,b,M,I,f,C),y.enabled=!0,y.location=T):T.webGLAttribLocation!==-1&&d.disableVertexAttribArray(T.webGLAttribLocation)}else w?d.vertexAttribPointer(S.webGLAttribLocation,b,M,I,f,C):!w&&S!==-1&&S.webGLAttribLocation>-1&&(d.disableVertexAttribArray(S.webGLAttribLocation),y.location=-1)}return this},createUniforms:function(){var l=this.gl,d=this.program,v=this.uniforms,f,g,m,x=l.getProgramParameter(d.webGLProgram,l.ACTIVE_UNIFORMS);for(f=0;f<x;f++){var y=l.getActiveUniform(d.webGLProgram,f);if(y){g=y.name,m=this.renderer.createUniformLocation(d,g),m!==null&&(v[g]={name:g,location:m,setter:null,value1:null,value2:null,value3:null,value4:null});var b=g.indexOf("[");b>0&&(g=g.substr(0,b),v.hasOwnProperty(g)||(m=this.renderer.createUniformLocation(d,g),m!==null&&(v[g]={name:g,location:m,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var l=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var v=this.uniforms[d];v.setter&&v.setter.call(l,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},hasUniform:function(l){return this.uniforms.hasOwnProperty(l)},resetUniform:function(l){var d=this.uniforms[l];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(l,d,v,f){var g=this.uniforms[d];return g?((f||g.value1!==v)&&(g.setter||(g.setter=l),g.value1=v,this.renderer.setProgram(this.program),l.call(this.gl,g.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},setUniform2:function(l,d,v,f,g){var m=this.uniforms[d];return m?((g||m.value1!==v||m.value2!==f)&&(m.setter||(m.setter=l),m.value1=v,m.value2=f,this.renderer.setProgram(this.program),l.call(this.gl,m.location.webGLUniformLocation,v,f),this.pipeline.currentShader=this),this):this},setUniform3:function(l,d,v,f,g,m){var x=this.uniforms[d];return x?((m||x.value1!==v||x.value2!==f||x.value3!==g)&&(x.setter||(x.setter=l),x.value1=v,x.value2=f,x.value3=g,this.renderer.setProgram(this.program),l.call(this.gl,x.location.webGLUniformLocation,v,f,g),this.pipeline.currentShader=this),this):this},setUniform4:function(l,d,v,f,g,m,x){var y=this.uniforms[d];return y?((x||y.value1!==v||y.value2!==f||y.value3!==g||y.value4!==m)&&(y.setter||(y.setter=l),y.value1=v,y.value2=f,y.value3=g,y.value4=m,this.renderer.setProgram(this.program),l.call(this.gl,y.location.webGLUniformLocation,v,f,g,m),this.pipeline.currentShader=this),this):this},setBoolean:function(l,d){return this.setUniform1(this.gl.uniform1i,l,Number(d))},set1f:function(l,d){return this.setUniform1(this.gl.uniform1f,l,d)},set2f:function(l,d,v){return this.setUniform2(this.gl.uniform2f,l,d,v)},set3f:function(l,d,v,f){return this.setUniform3(this.gl.uniform3f,l,d,v,f)},set4f:function(l,d,v,f,g){return this.setUniform4(this.gl.uniform4f,l,d,v,f,g)},set1fv:function(l,d){return this.setUniform1(this.gl.uniform1fv,l,d,!0)},set2fv:function(l,d){return this.setUniform1(this.gl.uniform2fv,l,d,!0)},set3fv:function(l,d){return this.setUniform1(this.gl.uniform3fv,l,d,!0)},set4fv:function(l,d){return this.setUniform1(this.gl.uniform4fv,l,d,!0)},set1iv:function(l,d){return this.setUniform1(this.gl.uniform1iv,l,d,!0)},set2iv:function(l,d){return this.setUniform1(this.gl.uniform2iv,l,d,!0)},set3iv:function(l,d){return this.setUniform1(this.gl.uniform3iv,l,d,!0)},set4iv:function(l,d){return this.setUniform1(this.gl.uniform4iv,l,d,!0)},set1i:function(l,d){return this.setUniform1(this.gl.uniform1i,l,d)},set2i:function(l,d,v){return this.setUniform2(this.gl.uniform2i,l,d,v)},set3i:function(l,d,v,f){return this.setUniform3(this.gl.uniform3i,l,d,v,f)},set4i:function(l,d,v,f,g){return this.setUniform4(this.gl.uniform4i,l,d,v,f,g)},setMatrix2fv:function(l,d,v){return this.setUniform2(this.gl.uniformMatrix2fv,l,d,v,!0)},setMatrix3fv:function(l,d,v){return this.setUniform2(this.gl.uniformMatrix3fv,l,d,v,!0)},setMatrix4fv:function(l,d,v){return this.setUniform2(this.gl.uniformMatrix4fv,l,d,v,!0)},createProgram:function(l,d){return l===void 0&&(l=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=l,this.fragSrc=d,this.program=this.renderer.createProgram(l,d),this.createUniforms(),this.rebind()},destroy:function(){var l=this.renderer;p(this.uniforms,function(d){l.deleteUniformLocation(d.location)}),this.uniforms=null,p(this.attributes,function(d){l.deleteAttribLocation(d.location)}),this.attributes=null,l.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});r.exports=h},14500:r=>{var o={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};r.exports=o},4159:(r,o,t)=>{var a=t(14500),p=t(79291),c={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};c=p(!1,c,a),r.exports=c},31302:(r,o,t)=>{var a=t(83419),p=t(95540),c=t(78908),u=t(85191),h=t(14500),l=t(29100),d=new a({Extends:l,initialize:function(f){f.fragShader=p(f,"fragShader",c),f.vertShader=p(f,"vertShader",u),f.batchSize=p(f,"batchSize",1),f.vertices=p(f,"vertices",[-1,1,-1,-7,7,1]),f.attributes=p(f,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),l.call(this,f)},boot:function(){l.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(v,f){l.prototype.resize.call(this,v,f),this.set2f("uResolution",v,f)},beginMask:function(v,f,g){this.renderer.beginBitmapMask(v,g)},endMask:function(v,f,g){var m=this.gl,x=this.renderer,y=v.bitmapMask;y&&m&&(x.drawBitmapMask(y,f,this),g&&this.set2f("uResolution",g.width,g.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),m.drawArrays(this.topology,0,3),g&&this.set2f("uResolution",this.width,this.height),m.bindTexture(m.TEXTURE_2D,null))}});r.exports=d},92651:(r,o,t)=>{var a=t(83419),p=t(58918),c=t(14811),u=t(95540),h=t(43558),l=t(89350),d=t(70554),v=new a({Extends:h,initialize:function(g){g.shaders=[d.setGlowQuality(l.FXGlowFrag,g.game),l.FXShadowFrag,l.FXPixelateFrag,l.FXVignetteFrag,l.FXShineFrag,l.FXBlurLowFrag,l.FXBlurMedFrag,l.FXBlurHighFrag,l.FXGradientFrag,l.FXBloomFrag,l.ColorMatrixFrag,l.FXCircleFrag,l.FXBarrelFrag,l.FXDisplacementFrag,l.FXWipeFrag,l.FXBokehFrag],h.call(this,g);var m=this.game;this.glow=new p.Glow(m),this.shadow=new p.Shadow(m),this.pixelate=new p.Pixelate(m),this.vignette=new p.Vignette(m),this.shine=new p.Shine(m),this.gradient=new p.Gradient(m),this.circle=new p.Circle(m),this.barrel=new p.Barrel(m),this.wipe=new p.Wipe(m),this.bokeh=new p.Bokeh(m);var x=[];x[c.GLOW]=this.onGlow,x[c.SHADOW]=this.onShadow,x[c.PIXELATE]=this.onPixelate,x[c.VIGNETTE]=this.onVignette,x[c.SHINE]=this.onShine,x[c.BLUR]=this.onBlur,x[c.GRADIENT]=this.onGradient,x[c.BLOOM]=this.onBloom,x[c.COLOR_MATRIX]=this.onColorMatrix,x[c.CIRCLE]=this.onCircle,x[c.BARREL]=this.onBarrel,x[c.DISPLACEMENT]=this.onDisplacement,x[c.WIPE]=this.onWipe,x[c.BOKEH]=this.onBokeh,this.fxHandlers=x,this.source,this.target,this.swap},onDraw:function(f,g,m){this.source=f,this.target=g,this.swap=m;var x=f.width,y=f.height,b=this.tempSprite,M=this.fxHandlers;if(b&&b.preFX)for(var C=b.preFX.list,w=0;w<C.length;w++){var S=C[w];S.active&&M[S.type].call(this,S,x,y)}this.drawToGame(this.source)},runDraw:function(){var f=this.source,g=this.target;this.copy(f,g),this.source=g,this.target=f},onGlow:function(f,g,m){var x=this.shaders[c.GLOW];this.setShader(x),this.glow.onPreRender(f,x,g,m),this.runDraw()},onShadow:function(f){var g=this.shaders[c.SHADOW];this.setShader(g),this.shadow.onPreRender(f,g),this.runDraw()},onPixelate:function(f,g,m){var x=this.shaders[c.PIXELATE];this.setShader(x),this.pixelate.onPreRender(f,x,g,m),this.runDraw()},onVignette:function(f){var g=this.shaders[c.VIGNETTE];this.setShader(g),this.vignette.onPreRender(f,g),this.runDraw()},onShine:function(f,g,m){var x=this.shaders[c.SHINE];this.setShader(x),this.shine.onPreRender(f,x,g,m),this.runDraw()},onBlur:function(f,g,m){var x=u(f,"quality"),y=this.shaders[c.BLUR+x];this.setShader(y),this.set1i("uMainSampler",0),this.set2f("resolution",g,m),this.set1f("strength",u(f,"strength")),this.set3fv("color",u(f,"glcolor"));for(var b=u(f,"x"),M=u(f,"y"),C=u(f,"steps"),w=0;w<C;w++)this.set2f("offset",b,0),this.runDraw(),this.set2f("offset",0,M),this.runDraw()},onGradient:function(f){var g=this.shaders[c.GRADIENT];this.setShader(g),this.gradient.onPreRender(f,g),this.runDraw()},onBloom:function(f,g,m){var x=this.shaders[c.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",u(f,"blurStrength")),this.set3fv("color",u(f,"glcolor"));for(var y=2/g*u(f,"offsetX"),b=2/m*u(f,"offsetY"),M=u(f,"steps"),C=0;C<M;C++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,b),this.runDraw();this.blendFrames(this.swap,this.source,this.target,u(f,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(f){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",f.getData()),this.set1f("uAlpha",f.alpha),this.runDraw()},onCircle:function(f,g,m){var x=this.shaders[c.CIRCLE];this.setShader(x),this.circle.onPreRender(f,x,g,m),this.runDraw()},onBarrel:function(f){var g=this.shaders[c.BARREL];this.setShader(g),this.barrel.onPreRender(f,g),this.runDraw()},onDisplacement:function(f){this.setShader(this.shaders[c.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",f.x,f.y),this.bindTexture(f.glTexture,1),this.runDraw()},onWipe:function(f){var g=this.shaders[c.WIPE];this.setShader(g),this.wipe.onPreRender(f,g),this.runDraw()},onBokeh:function(f,g,m){var x=this.shaders[c.BOKEH];this.setShader(x),this.bokeh.onPreRender(f,x,g,m),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});r.exports=v},96569:(r,o,t)=>{var a=t(83419),p=t(95540),c=t(31063),u=t(57516),h=t(61340),l=t(26099),d=t(29100),v=new a({Extends:u,initialize:function(g){var m=p(g,"fragShader",c);g.fragShader=m.replace("%LIGHT_COUNT%",g.game.renderer.config.maxLights),u.call(this,g),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new l,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){d.prototype.boot.call(this)},onRender:function(f,g){var m=f.sys.lights;if(this.lightsActive=!1,!(!m||!m.active)){var x=m.getLights(g),y=x.length;this.lightsActive=!0;var b,M=this.renderer,C=M.height,w=g.matrix,S=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",g.x,g.y,g.rotation,g.zoom),this.set3f("uAmbientLightColor",m.ambientColor.r,m.ambientColor.g,m.ambientColor.b),this.set1i("uLightCount",y),b=0;b<y;b++){var I=x[b].light,T=I.color,k="uLights["+b+"].";w.transformPoint(I.x,I.y,S),this.set2f(k+"position",S.x-g.scrollX*I.scrollFactorX*g.zoom,C-(S.y-g.scrollY*I.scrollFactorY*g.zoom)),this.set3f(k+"color",T.r,T.g,T.b),this.set1f(k+"intensity",I.intensity),this.set1f(k+"radius",I.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(f){if(f!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var g=this.inverseRotationMatrix;if(f){var m=-f,x=Math.cos(m),y=Math.sin(m);g[1]=y,g[3]=-y,g[0]=g[4]=x}else g[0]=g[4]=1,g[1]=g[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,g),this.currentNormalMapRotation=f}},setTexture2D:function(f,g){var m=this.renderer;f===void 0&&(f=m.whiteTexture);var x=this.getNormalMap(g);this.isNewNormalMap(f,x)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(x),this.currentNormalMap=x);var y=0;if(g&&g.parentContainer){var b=g.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);y=b.rotationNormalized}else g&&(y=g.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(x)),this.setNormalMapRotation(y),0},setGameObject:function(f,g){g===void 0&&(g=f.frame);var m=g.glTexture,x=this.getNormalMap(f);if(this.isNewNormalMap(m,x)&&(this.flush(),this.createBatch(m),this.addTextureToBatch(x),this.currentNormalMap=x),f.parentContainer){var y=f.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(y.rotationNormalized)}else this.setNormalMapRotation(f.rotation);return this.currentBatch===null&&(this.createBatch(m),this.addTextureToBatch(x)),0},isNewNormalMap:function(f,g){return this.currentTexture!==f||this.currentNormalMap!==g},getNormalMap:function(f){var g;if(f)f.displayTexture?g=f.displayTexture.dataSource[f.displayFrame.sourceIndex]:f.texture?g=f.texture.dataSource[f.frame.sourceIndex]:f.tileset&&(Array.isArray(f.tileset)?g=f.tileset[0].image.dataSource[0]:g=f.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return g?g.glTexture:this.renderer.normalTexture},batchSprite:function(f,g,m){this.lightsActive&&u.prototype.batchSprite.call(this,f,g,m)},batchTexture:function(f,g,m,x,y,b,M,C,w,S,I,T,k,E,A,L,D,R,N,P,O,W,G,H,V,B,j,U,X,Z,$,J){this.lightsActive&&u.prototype.batchTexture.call(this,f,g,m,x,y,b,M,C,w,S,I,T,k,E,A,L,D,R,N,P,O,W,G,H,V,B,j,U,X,Z,$,J)},batchTextureFrame:function(f,g,m,x,y,b,M){this.lightsActive&&u.prototype.batchTextureFrame.call(this,f,g,m,x,y,b,M)}});r.exports=v},56527:(r,o,t)=>{var a=t(83419),p=t(95540),c=t(57516),u=t(45561),h=t(60722),l=t(14500),d=t(29100),v=new a({Extends:c,initialize:function(g){g.fragShader=p(g,"fragShader",u),g.vertShader=p(g,"vertShader",h),g.attributes=p(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),g.forceZero=!0,g.resizeUniform="uResolution",c.call(this,g)},boot:function(){d.prototype.boot.call(this);var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height)}});r.exports=v},57516:(r,o,t)=>{var a=t(83419),p=t(94811),c=t(95540),u=t(98840),h=t(44667),l=t(61340),d=t(70554),v=t(14500),f=t(29100),g=new a({Extends:f,initialize:function(x){var y=x.game.renderer,b=c(x,"fragShader",u);x.fragShader=d.parseFragmentShaderMaxTextures(b,y.maxTextures),x.vertShader=c(x,"vertShader",h),x.attributes=c(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",f.call(this,x),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.calcMatrix=new l,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){f.prototype.boot.call(this);var m=this.renderer;this.set1iv("uMainSampler",m.textureIndexes),this.set2f("uResolution",m.width,m.height)},batchSprite:function(m,x,y){this.manager.set(this,m);var b=this._tempMatrix1,M=this._tempMatrix2,C=this._tempMatrix3,w=m.frame,S=w.glTexture,I=w.u0,T=w.v0,k=w.u1,E=w.v1,A=w.x,L=w.y,D=w.cutWidth,R=w.cutHeight,N=w.customPivot,P=m.displayOriginX,O=m.displayOriginY,W=-P+A,G=-O+L;if(m.isCropped){var H=m._crop;(H.flipX!==m.flipX||H.flipY!==m.flipY)&&w.updateCropUVs(H,m.flipX,m.flipY),I=H.u0,T=H.v0,k=H.u1,E=H.v1,D=H.width,R=H.height,A=H.x,L=H.y,W=-P+A,G=-O+L}var V=1,B=1;m.flipX&&(N||(W+=-w.realWidth+P*2),V=-1),m.flipY&&(N||(G+=-w.realHeight+O*2),B=-1);var j=m.x,U=m.y;x.roundPixels&&(j=Math.floor(j),U=Math.floor(U)),M.applyITRS(j,U,m.rotation,m.scaleX*V,m.scaleY*B),b.copyFrom(x.matrix),y?(b.multiplyWithOffset(y,-x.scrollX*m.scrollFactorX,-x.scrollY*m.scrollFactorY),M.e=j,M.f=U):(M.e-=x.scrollX*m.scrollFactorX,M.f-=x.scrollY*m.scrollFactorY),b.multiply(M,C);var X=C.setQuad(W,G,W+D,G+R,x.renderRoundPixels),Z=d.getTintAppendFloatAlpha,$=x.alpha,J=Z(m.tintTopLeft,$*m._alphaTL),Q=Z(m.tintTopRight,$*m._alphaTR),_=Z(m.tintBottomLeft,$*m._alphaBL),ae=Z(m.tintBottomRight,$*m._alphaBR);this.shouldFlush(6)&&this.flush();var ce=this.setGameObject(m,w);this.manager.preBatch(m),this.batchQuad(m,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],I,T,k,E,J,Q,_,ae,m.tintFill,S,ce),this.manager.postBatch(m)},batchTexture:function(m,x,y,b,M,C,w,S,I,T,k,E,A,L,D,R,N,P,O,W,G,H,V,B,j,U,X,Z,$,J,Q,_,ae){ae===void 0&&(ae=!1),this.manager.set(this,m);var ce=this._tempMatrix1,he=this._tempMatrix2,de=this._tempMatrix3,Te=P/y+X,Fe=O/b+Z,He=(P+W)/y+X,ue=(O+G)/b+Z,Ie=w,Ve=S,je=-R,$e=-N;if(m.isCropped){var Yt=m._crop,oe=Yt.width,ie=Yt.height;Ie=oe,Ve=ie,w=oe,S=ie,P=Yt.x,O=Yt.y;var Pe=P,Ee=O;E&&(Pe=W-Yt.x-oe),A&&(Ee=G-Yt.y-ie),Te=Pe/y+X,Fe=Ee/b+Z,He=(Pe+oe)/y+X,ue=(Ee+ie)/b+Z,je=-R+P,$e=-N+O}A=A^(!Q&&x.isRenderTexture?1:0),E&&(Ie*=-1,je+=w),A&&(Ve*=-1,$e+=S),$.roundPixels&&(M=Math.floor(M),C=Math.floor(C)),he.applyITRS(M,C,k,I,T),ce.copyFrom($.matrix),J?(ce.multiplyWithOffset(J,-$.scrollX*L,-$.scrollY*D),he.e=M,he.f=C):(he.e-=$.scrollX*L,he.f-=$.scrollY*D),ce.multiply(he,de);var We=de.setQuad(je,$e,je+Ie,$e+Ve,$.renderRoundPixels);_==null&&(_=this.setTexture2D(x)),m&&!ae&&this.manager.preBatch(m),this.batchQuad(m,We[0],We[1],We[2],We[3],We[4],We[5],We[6],We[7],Te,Fe,He,ue,H,V,B,j,U,x,_),m&&!ae&&this.manager.postBatch(m)},batchTextureFrame:function(m,x,y,b,M,C,w){this.manager.set(this);var S=this._tempMatrix1.copyFrom(C),I=this._tempMatrix2;w?S.multiply(w,I):I=S;var T=I.setQuad(x,y,x+m.width,y+m.height),k=this.setTexture2D(m.source.glTexture);b=d.getTintAppendFloatAlpha(b,M),this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],m.u0,m.v0,m.u1,m.v1,b,b,b,b,0,m.glTexture,k)},batchFillRect:function(m,x,y,b,M,C){this.renderer.pipelines.set(this);var w=this.calcMatrix;C&&C.multiply(M,w);var S=w.setQuad(m,x,m+y,x+b),I=this.fillTint;this.batchQuad(null,S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],0,0,1,1,I.TL,I.TR,I.BL,I.BR,2)},batchFillTriangle:function(m,x,y,b,M,C,w,S){this.renderer.pipelines.set(this);var I=this.calcMatrix;S&&S.multiply(w,I);var T=I.getX(m,x),k=I.getY(m,x),E=I.getX(y,b),A=I.getY(y,b),L=I.getX(M,C),D=I.getY(M,C),R=this.fillTint;this.batchTri(null,T,k,E,A,L,D,0,0,1,1,R.TL,R.TR,R.BL,2)},batchStrokeTriangle:function(m,x,y,b,M,C,w,S,I){var T=this.tempTriangle;T[0].x=m,T[0].y=x,T[0].width=w,T[1].x=y,T[1].y=b,T[1].width=w,T[2].x=M,T[2].y=C,T[2].width=w,T[3].x=m,T[3].y=x,T[3].width=w,this.batchStrokePath(T,w,!1,S,I)},batchFillPath:function(m,x,y){this.renderer.pipelines.set(this);var b=this.calcMatrix;y&&y.multiply(x,b);for(var M=m.length,C=this.polygonCache,w,S,I=this.fillTint.TL,T=this.fillTint.TR,k=this.fillTint.BL,E=0;E<M;++E)S=m[E],C.push(S.x,S.y);w=p(C),M=w.length;for(var A=0;A<M;A+=3){var L=w[A+0]*2,D=w[A+1]*2,R=w[A+2]*2,N=C[L+0],P=C[L+1],O=C[D+0],W=C[D+1],G=C[R+0],H=C[R+1],V=b.getX(N,P),B=b.getY(N,P),j=b.getX(O,W),U=b.getY(O,W),X=b.getX(G,H),Z=b.getY(G,H);this.batchTri(null,V,B,j,U,X,Z,0,0,1,1,I,T,k,2)}C.length=0},batchStrokePath:function(m,x,y,b,M){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var C=m.length-1,w=0;w<C;w++){var S=m[w],I=m[w+1];this.batchLine(S.x,S.y,I.x,I.y,S.width/2,I.width/2,x,w,!y&&w===C-1,b,M)}},batchLine:function(m,x,y,b,M,C,w,S,I,T,k){this.renderer.pipelines.set(this);var E=this.calcMatrix;k&&k.multiply(T,E);var A=y-m,L=b-x,D=Math.sqrt(A*A+L*L);if(D!==0){var R=M*(b-x)/D,N=M*(m-y)/D,P=C*(b-x)/D,O=C*(m-y)/D,W=y-P,G=b-O,H=m-R,V=x-N,B=y+P,j=b+O,U=m+R,X=x+N,Z=E.getX(W,G),$=E.getY(W,G),J=E.getX(H,V),Q=E.getY(H,V),_=E.getX(B,j),ae=E.getY(B,j),ce=E.getX(U,X),he=E.getY(U,X),de=this.strokeTint,Te=de.TL,Fe=de.TR,He=de.BL,ue=de.BR;if(this.batchQuad(null,ce,he,J,Q,Z,$,_,ae,0,0,1,1,Te,Fe,He,ue,2),!(w<=2)){var Ie=this.prevQuad,Ve=this.firstQuad;S>0&&Ie[4]?this.batchQuad(null,ce,he,J,Q,Ie[0],Ie[1],Ie[2],Ie[3],0,0,1,1,Te,Fe,He,ue,2):(Ve[0]=ce,Ve[1]=he,Ve[2]=J,Ve[3]=Q,Ve[4]=1),I&&Ve[4]?this.batchQuad(null,Z,$,_,ae,Ve[0],Ve[1],Ve[2],Ve[3],0,0,1,1,Te,Fe,He,ue,2):(Ie[0]=Z,Ie[1]=$,Ie[2]=_,Ie[3]=ae,Ie[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,f.prototype.destroy.call(this),this}});r.exports=g},43439:(r,o,t)=>{var a=t(83419),p=t(95540),c=t(4127),u=t(89924),h=t(29100),l=new a({Extends:h,initialize:function(v){v.vertShader=p(v,"vertShader",u),v.fragShader=p(v,"fragShader",c),v.attributes=p(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,v)},onRender:function(d,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},batchPointLight:function(d,v,f,g,m,x,y,b,M,C,w,S){var I=d.color,T=d.intensity,k=d.radius,E=d.attenuation,A=I.r*T,L=I.g*T,D=I.b*T,R=v.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(f,g,w,S,k,E,A,L,D,R),this.batchLightVert(m,x,w,S,k,E,A,L,D,R),this.batchLightVert(y,b,w,S,k,E,A,L,D,R),this.batchLightVert(f,g,w,S,k,E,A,L,D,R),this.batchLightVert(y,b,w,S,k,E,A,L,D,R),this.batchLightVert(M,C,w,S,k,E,A,L,D,R),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,v,f,g,m,x,y,b,M,C){var w=this.vertexViewF32,S=this.vertexCount*this.currentShader.vertexComponentCount-1;w[++S]=d,w[++S]=v,w[++S]=f,w[++S]=g,w[++S]=m,w[++S]=x,w[++S]=y,w[++S]=b,w[++S]=M,w[++S]=C,this.vertexCount++}});r.exports=l},84057:(r,o,t)=>{var a=t(83419),p=t(89422),c=t(95540),u=t(27681),h=t(49627),l=t(29100),d=new a({Extends:l,initialize:function(f){f.renderTarget=c(f,"renderTarget",1),f.fragShader=c(f,"fragShader",u),f.vertShader=c(f,"vertShader",h),f.attributes=c(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.batchSize=1,f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],l.call(this,f),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){l.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height);for(var g=this.renderTargets,m=0;m<g.length;m++)g[m].autoResize=!0},postBatch:function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(v){this.bindAndDraw(v)},getController:function(v){return v!==void 0?v:this.controller?this.controller:this},copySprite:function(v,f,g){g===void 0&&(g=!1);var m=this.gl;m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,v.texture.webGLTexture);var x=m.getParameter(m.FRAMEBUFFER_BINDING);m.bindFramebuffer(m.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,f.texture.webGLTexture,0),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),g&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,x))},copyFrame:function(v,f,g,m,x){this.manager.copyFrame(v,f,g,m,x)},copyToGame:function(v){this.manager.copyToGame(v)},drawFrame:function(v,f,g){this.manager.drawFrame(v,f,g,this.colorMatrix)},blendFrames:function(v,f,g,m,x){this.manager.blendFrames(v,f,g,m,x)},blendFramesAdditive:function(v,f,g,m,x){this.manager.blendFramesAdditive(v,f,g,m,x)},clearFrame:function(v,f){this.manager.clearFrame(v,f)},blitFrame:function(v,f,g,m,x,y){this.manager.blitFrame(v,f,g,m,x,y)},copyFrameRect:function(v,f,g,m,x,y,b,M){this.manager.copyFrameRect(v,f,g,m,x,y,b,M)},bindAndDraw:function(v,f,g,m,x){g===void 0&&(g=!0),m===void 0&&(m=!0);var y=this.gl,b=this.renderer;this.bind(x),this.set1i("uMainSampler",0),f?(y.viewport(0,0,f.width,f.height),y.bindFramebuffer(y.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f.texture.webGLTexture,0),g&&(m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT))):(b.popFramebuffer(!1,!1),b.currentFramebuffer||y.viewport(0,0,b.width,b.height)),b.restoreStencilMask(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,v.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),f&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,b.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),l.prototype.destroy.call(this),this}});r.exports=d},43558:(r,o,t)=>{var a=t(10312),p=t(67502),c=t(83419),u=t(96293),h=t(95540),l=t(57516),d=t(27681),v=t(87841),f=t(32302),g=t(45561),m=t(60722),x=t(29100),y=new c({Extends:l,initialize:function(M){var C=h(M,"fragShader",d),w=h(M,"vertShader",m),S=h(M,"drawShader",d),I=[{name:"DrawSprite",fragShader:g,vertShader:m},{name:"CopySprite",fragShader:C,vertShader:w},{name:"DrawGame",fragShader:S,vertShader:m},{name:"ColorMatrix",fragShader:u}],T=h(M,"shaders",[]);M.shaders=I.concat(T),M.vertShader||(M.vertShader=w),M.batchSize=1,l.call(this,M),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var b=this.shaders,M=this.renderer;this.drawSpriteShader=b[0],this.copyShader=b[1],this.gameShader=b[2],this.colorMatrixShader=b[3],this.fsTarget=new f(M,M.width,M.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var C=new ArrayBuffer(168);this.quadVertexData=C,this.quadVertexViewF32=new Float32Array(C),this.quadVertexBuffer=M.createVertexBuffer(C,this.gl.STATIC_DRAW),this.onResize(M.width,M.height),this.currentShader=this.copyShader,this.set2f("uResolution",M.width,M.height)},onResize:function(b,M){var C=this.quadVertexViewF32;C[1]=M,C[22]=M,C[14]=b,C[28]=b,C[35]=b,C[36]=M},batchQuad:function(b,M,C,w,S,I,T,k,E,A,L,D,R,N,P,O,W,G,H){var V=Math.min(M,w,I,k),B=Math.min(C,S,T,E),j=Math.max(M,w,I,k),U=Math.max(C,S,T,E),X=j-V,Z=U-B,$=this.spriteBounds.setTo(V,B,X,Z),J=b?b.preFX.padding:0,Q=X+J*2,_=Z+J*2,ae=Math.abs(Math.max(Q,_)),ce=this.manager.getRenderTarget(ae),he=this.targetBounds.setTo(0,0,ce.width,ce.height);p(he,Math.round($.centerX),Math.round($.centerY)),this.tempSprite=b;var de=this.gl,Te=this.renderer;Te.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Te.width,Te.height),this.flipProjectionMatrix(!0),b&&(this.onDrawSprite(b,ce),b.preFX.onFX(this));var Fe=this.fsTarget;return this.flush(),de.viewport(0,0,Te.width,Te.height),de.bindFramebuffer(de.FRAMEBUFFER,Fe.framebuffer.webGLFramebuffer),de.framebufferTexture2D(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_2D,Fe.texture.webGLTexture,0),de.clearColor(0,0,0,0),de.clear(de.COLOR_BUFFER_BIT),this.setTexture2D(H),this.batchVert(M,C,A,L,0,G,N),this.batchVert(w,S,A,R,0,G,O),this.batchVert(I,T,D,R,0,G,W),this.batchVert(M,C,A,L,0,G,N),this.batchVert(I,T,D,R,0,G,W),this.batchVert(k,E,D,L,0,G,P),this.flush(),this.flipProjectionMatrix(!1),de.activeTexture(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,ce.texture.webGLTexture),de.copyTexSubImage2D(de.TEXTURE_2D,0,0,0,he.x,he.y,he.width,he.height),de.bindFramebuffer(de.FRAMEBUFFER,null),de.bindTexture(de.TEXTURE_2D,null),this.onBatch(b),this.currentShader=this.copyShader,this.onDraw(ce,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(b,M,C,w,S,I,T){C===void 0&&(C=!0),w===void 0&&(w=!0),S===void 0&&(S=!1),T===void 0&&(T=this.copyShader);var k=this.gl,E=this.tempSprite;I&&(T=this.colorMatrixShader),this.currentShader=T;var A=this.setVertexBuffer(this.quadVertexBuffer);T.bind(A,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),E.preFX.onFXCopy(this),this.onCopySprite(b,M,E),I&&(this.set1fv("uColorMatrix",I.getData()),this.set1f("uAlpha",I.alpha)),k.activeTexture(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,b.texture.webGLTexture),b.height>M.height)k.viewport(0,0,b.width,b.height),this.setTargetUVs(b,M);else{var D=M.height-b.height;k.viewport(0,D,b.width,b.height),this.resetUVs()}if(k.bindFramebuffer(k.FRAMEBUFFER,M.framebuffer.webGLFramebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,M.texture.webGLTexture,0),C&&(k.clearColor(0,0,0,+!w),k.clear(k.COLOR_BUFFER_BIT)),S){var R=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}k.bufferData(k.ARRAY_BUFFER,this.quadVertexData,k.STATIC_DRAW),k.drawArrays(k.TRIANGLES,0,6),S&&this.renderer.setBlendMode(R),k.bindFramebuffer(k.FRAMEBUFFER,null)},copy:function(b,M){var C=this.gl;this.set1i("uMainSampler",0),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,b.texture.webGLTexture),C.viewport(0,0,b.width,b.height),this.setUVs(0,0,0,1,1,1,1,0),C.bindFramebuffer(C.FRAMEBUFFER,M.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,M.texture.webGLTexture,0),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null)},blendFrames:function(b,M,C,w,S){this.manager.blendFrames(b,M,C,w,S)},blendFramesAdditive:function(b,M,C,w,S){this.manager.blendFramesAdditive(b,M,C,w,S)},drawToGame:function(b){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(b)},copyToGame:function(b){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(b)},bindAndDraw:function(b){var M=this.gl,C=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(b.texture);var w=this._tempMatrix1.loadIdentity(),S=this.targetBounds.x,I=this.targetBounds.y,T=S+b.width,k=I+b.height,E=w.getX(S,I),A=w.getX(S,k),L=w.getX(T,k),D=w.getX(T,I),R=w.getY(S,I),N=w.getY(S,k),P=w.getY(T,k),O=w.getY(T,I),W=16777215;this.batchVert(E,R,0,0,0,0,W),this.batchVert(A,N,0,1,0,0,W),this.batchVert(L,P,1,1,0,0,W),this.batchVert(E,R,0,0,0,0,W),this.batchVert(L,P,1,1,0,0,W),this.batchVert(D,O,1,0,0,0,W),C.restoreFramebuffer(!1,!0),C.currentFramebuffer||M.viewport(0,0,C.width,C.height),C.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(b){this.drawToGame(b)},setUVs:function(b,M,C,w,S,I,T,k){var E=this.quadVertexViewF32;E[2]=b,E[3]=M,E[9]=C,E[10]=w,E[16]=S,E[17]=I,E[23]=b,E[24]=M,E[30]=S,E[31]=I,E[37]=T,E[38]=k},setTargetUVs:function(b,M){var C=M.height/b.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,l.prototype.destroy.call(this),this}});r.exports=y},81041:(r,o,t)=>{var a=t(83419),p=t(95540),c=t(57516),u=new a({Extends:c,initialize:function(l){l.topology=5,l.batchSize=p(l,"batchSize",256),c.call(this,l)}});r.exports=u},12385:(r,o,t)=>{var a=t(83419),p=t(95540),c=t(57516),u=t(45561),h=t(60722),l=t(29100),d=new a({Extends:c,initialize:function(f){f.fragShader=p(f,"fragShader",u),f.vertShader=p(f,"vertShader",h),f.forceZero=!0,c.call(this,f)},boot:function(){l.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height)}});r.exports=d},7589:(r,o,t)=>{var a=t(35407),p=t(10312),c=t(83419),u=t(89422),h=t(96293),l=t(36682),d=t(95540),v=t(48247),f=t(49627),g=t(29100),m=new c({Extends:g,initialize:function(y){y.renderTarget=d(y,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),y.vertShader=d(y,"vertShader",f),y.shaders=d(y,"shaders",[{name:"Copy",fragShader:l},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:h}]),y.attributes=d(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),y.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],y.batchSize=1,g.call(this,y),this.colorMatrix=new u,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){g.prototype.boot.call(this);var x=this.shaders,y=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=y[0],this.fullFrame2=y[1],this.halfFrame1=y[2],this.halfFrame2=y[3]},copyFrame:function(x,y,b,M,C){b===void 0&&(b=1),M===void 0&&(M=!0),C===void 0&&(C=!0);var w=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",b),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,x.texture.webGLTexture),y?(w.viewport(0,0,y.width,y.height),w.bindFramebuffer(w.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,y.texture.webGLTexture,0)):w.viewport(0,0,x.width,x.height),M&&(C?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blitFrame:function(x,y,b,M,C,w,S){b===void 0&&(b=1),M===void 0&&(M=!0),C===void 0&&(C=!0),w===void 0&&(w=!1),S===void 0&&(S=!1);var I=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",b),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,x.texture.webGLTexture),x.height>y.height)I.viewport(0,0,x.width,x.height),this.setTargetUVs(x,y);else{var T=y.height-x.height;I.viewport(0,T,x.width,x.height)}if(I.bindFramebuffer(I.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,y.texture.webGLTexture,0),M&&(C?I.clearColor(0,0,0,0):I.clearColor(0,0,0,1),I.clear(I.COLOR_BUFFER_BIT)),w){var k=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}S&&this.flipY(),I.bufferData(I.ARRAY_BUFFER,this.vertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),w&&this.renderer.setBlendMode(k),I.bindFramebuffer(I.FRAMEBUFFER,null),I.bindTexture(I.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,y,b,M,C,w,S,I){S===void 0&&(S=!0),I===void 0&&(I=!0);var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,x.texture.webGLTexture,0),S&&(I?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,y.texture.webGLTexture),T.copyTexSubImage2D(T.TEXTURE_2D,0,0,0,b,M,C,w),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},copyToGame:function(x){var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,x.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6)},drawFrame:function(x,y,b,M){b===void 0&&(b=!0),M===void 0&&(M=this.colorMatrix);var C=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",M.getData()),this.set1f("uAlpha",M.alpha),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,x.texture.webGLTexture),y?(C.viewport(0,0,y.width,y.height),C.bindFramebuffer(C.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,y.texture.webGLTexture,0)):C.viewport(0,0,x.width,x.height),b?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFrames:function(x,y,b,M,C,w){M===void 0&&(M=1),C===void 0&&(C=!0),w===void 0&&(w=this.linearShader);var S=this.gl;this.setShader(w),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",M),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,x.texture.webGLTexture),S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,y.texture.webGLTexture),b?(S.bindFramebuffer(S.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,b.texture.webGLTexture,0),S.viewport(0,0,b.width,b.height)):S.viewport(0,0,x.width,x.height),C?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFramesAdditive:function(x,y,b,M,C){this.blendFrames(x,y,b,M,C,this.addShader)},clearFrame:function(x,y){y===void 0&&(y=!0);var b=this.gl;b.viewport(0,0,x.width,x.height),b.bindFramebuffer(b.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),y?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT);var M=this.renderer.currentFramebuffer;b.bindFramebuffer(b.FRAMEBUFFER,M.webGLFramebuffer)},setUVs:function(x,y,b,M,C,w,S,I){var T=this.vertexViewF32;T[2]=x,T[3]=y,T[6]=b,T[7]=M,T[10]=C,T[11]=w,T[14]=x,T[15]=y,T[18]=C,T[19]=w,T[22]=S,T[23]=I},setTargetUVs:function(x,y){var b=y.height/x.height;b>.5?b=.5-(b-.5):b=.5+(.5-b),this.setUVs(0,b,0,1+b,1,1+b,1,b)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});r.exports=m},36060:r=>{var o={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};r.exports=o},84817:r=>{r.exports="pipelineafterflush"},36712:r=>{r.exports="pipelinebeforeflush"},40285:r=>{r.exports="pipelinebind"},65918:r=>{r.exports="pipelineboot"},92852:r=>{r.exports="pipelinedestroy"},56072:r=>{r.exports="pipelinerebind"},57566:r=>{r.exports="pipelineresize"},77085:(r,o,t)=>{r.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(r,o,t)=>{var a=t(83419),p=t(99155),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.amount=1},onPreRender:function(h,l){h=this.getController(h),this.set1f("amount",h.amount,l)}});r.exports=u},67329:(r,o,t)=>{var a=t(83419),p=t(24400),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var l=this.getController(),d=this.fullFrame1,v=this.fullFrame2;this.copyFrame(h,v);for(var f=2/h.width*l.offsetX,g=2/h.height*l.offsetY,m=0;m<l.steps;m++)this.set2f("offset",f,0),this.copySprite(h,d),this.set2f("offset",0,g),this.copySprite(d,h);this.blendFrames(v,h,d,l.strength),this.copyToGame(d)}});r.exports=u},8861:(r,o,t)=>{var a=t(83419),p=t(41514),c=t(51078),u=t(94328),h=t(84057),l=new a({Extends:h,initialize:function(v){h.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:c},{name:"Gaussian13",fragShader:u}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var v=this.getController(),f=this.gl,g=this.fullFrame1,m=f.getParameter(f.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),f.activeTexture(f.TEXTURE0),f.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var x=0;x<v.steps;x++)this.set2f("offset",v.x,0),this.copySprite(d,g),this.set2f("offset",0,v.y),this.copySprite(g,d);f.bindFramebuffer(f.FRAMEBUFFER,m),f.bindTexture(f.TEXTURE_2D,null),this.copyToGame(d)}});r.exports=l},51051:(r,o,t)=>{var a=t(83419),p=t(90610),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,l,d,v){h=this.getController(h),this.set1f("radius",h.radius,l),this.set1f("amount",h.amount,l),this.set1f("contrast",h.contrast,l),this.set1f("strength",h.strength,l),this.set2f("blur",h.blurX,h.blurY,l),this.setBoolean("isTiltShift",h.isTiltShift,l),d&&v&&this.set2f("resolution",d,v,l)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=u},89428:(r,o,t)=>{var a=t(83419),p=t(91899),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,l,d,v){h=this.getController(h),this.set1f("scale",h.scale,l),this.set1f("feather",h.feather,l),this.set1f("thickness",h.thickness,l),this.set3fv("color",h.glcolor,l),this.set4fv("backgroundColor",h.glcolor2,l),d&&v&&this.set2f("resolution",d,v,l)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=u},88904:(r,o,t)=>{var a=t(83419),p=t(84057),c=new a({Extends:p,initialize:function(h){p.call(this,{game:h})},onDraw:function(u){var h=this.fullFrame1;this.controller?this.manager.drawFrame(u,h,!0,this.controller):this.drawFrame(u,h),this.copyToGame(h)}});r.exports=c},63563:(r,o,t)=>{var a=t(83419),p=t(47838),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var l=this.game.textures.getFrame(h);l&&(this.glTexture=l.glTexture)},onDraw:function(h){var l=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",l.x,l.y),this.bindTexture(l.glTexture,1),this.copySprite(h,d),this.copyToGame(d)}});r.exports=u},94045:(r,o,t)=>{var a=t(83419),p=t(95540),c=t(98656),u=t(84057),h=t(70554),l=new a({Extends:u,initialize:function(v,f){var g=p(f,"quality",.1),m=p(f,"distance",10);u.call(this,{game:v,fragShader:h.setGlowQuality(c,v,g,m)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,v,f,g){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,v),this.set1f("innerStrength",d.innerStrength,v),this.set4fv("glowColor",d.glcolor,v),this.setBoolean("knockout",d.knockout,v),f&&g&&this.set2f("resolution",f,g,v)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});r.exports=l},74088:(r,o,t)=>{var a=t(83419),p=t(70463),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,l){h=this.getController(h),this.set1f("alpha",h.alpha,l),this.set1i("size",h.size,l),this.set3fv("color1",h.glcolor1,l),this.set3fv("color2",h.glcolor2,l),this.set2f("positionFrom",h.fromX,h.fromY,l),this.set2f("positionTo",h.toX,h.toY,l)}});r.exports=u},99636:(r,o,t)=>{var a=t(83419),p=t(50831),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.amount=1},onPreRender:function(h,l,d,v){h=this.getController(h),this.set1f("amount",h.amount,l),d&&v&&this.set2f("resolution",d,v,l)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=u},34700:(r,o,t)=>{var a=t(83419),p=t(92595),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,l){h=this.getController(h);var d=h.samples;this.set1i("samples",d,l),this.set1f("intensity",h.intensity,l),this.set1f("decay",h.decay,l),this.set1f("power",h.power/d,l),this.set2f("lightPosition",h.x,h.y,l),this.set4fv("color",h.glcolor,l)}});r.exports=u},91157:(r,o,t)=>{var a=t(83419),p=t(72464),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,l,d,v){h=this.getController(h),this.setTime("time",l),this.set1f("speed",h.speed,l),this.set1f("lineWidth",h.lineWidth,l),this.set1f("gradient",h.gradient,l),this.setBoolean("reveal",h.reveal,l),d&&v&&this.set2f("resolution",d,v,l)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=u},27797:(r,o,t)=>{var a=t(83419),p=t(39249),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,l){h=this.getController(h),this.set1f("radius",h.radius,l),this.set1f("strength",h.strength,l),this.set2f("position",h.x,h.y,l)}});r.exports=u},67603:(r,o,t)=>{var a=t(83419),p=t(2878),c=t(84057),u=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,l){h=this.getController(h);var d=h.progress,v=h.wipeWidth,f=h.direction,g=h.axis;this.set4f("config",d,v,f,g,l),this.setBoolean("reveal",h.reveal,l)}});r.exports=u},58918:(r,o,t)=>{var a={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};r.exports=a},96615:(r,o,t)=>{var a=t(36060),p=t(79291),c={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};c=p(!1,c,a),r.exports=c},35407:r=>{r.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:r=>{r.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:r=>{r.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:r=>{r.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:r=>{r.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:r=>{r.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:r=>{r.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:r=>{r.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:r=>{r.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:r=>{r.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:r=>{r.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:r=>{r.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:r=>{r.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:r=>{r.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:r=>{r.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:r=>{r.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:r=>{r.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:r=>{r.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:r=>{r.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:r=>{r.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:r=>{r.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:r=>{r.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(r,o,t)=>{r.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l){this.webGLAttribLocation=-1,this.gl=u,this.program=h,this.name=l,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var c=this.gl;c.isContextLost()||(this.webGLAttribLocation=c.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});r.exports=p},26128:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l,d){this.webGLBuffer=null,this.gl=u,this.initialDataOrSize=h,this.bufferType=l,this.bufferUsage=d,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var c=this.gl;if(!c.isContextLost()){var u=this.bufferType,h=c.createBuffer();this.webGLBuffer=h,c.bindBuffer(u,this.webGLBuffer),c.bufferData(u,this.initialDataOrSize,this.bufferUsage),c.bindBuffer(u,null)}}},destroy:function(){var c=this.gl;c.isContextLost()||c.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});r.exports=p},84387:(r,o,t)=>{var a=t(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},c=new a({initialize:function(h,l,d,v,f){this.webGLFramebuffer=null,this.gl=h,this.width=l,this.height=d,this.renderTexture=v,this.addDepthStencilBuffer=!!f,this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){var h=this.renderTexture,l=0,d=u.createFramebuffer();if(this.webGLFramebuffer=d,u.bindFramebuffer(u.FRAMEBUFFER,d),h.isRenderTexture=!0,h.isAlphaPremultiplied=!1,u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,h.webGLTexture,0),l=u.checkFramebufferStatus(u.FRAMEBUFFER),l!==u.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[l]||l));if(this.addDepthStencilBuffer){var v=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,v),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,this.width,this.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,v)}u.bindFramebuffer(u.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var u=this.gl;if(!u.isContextLost()){u.bindFramebuffer(u.FRAMEBUFFER,this.webGLFramebuffer);var h=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);h!==null&&(u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,null,0),u.deleteTexture(h));var l=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&u.deleteRenderbuffer(l),u.bindFramebuffer(u.FRAMEBUFFER,null),u.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});r.exports=c},1482:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l){this.webGLProgram=null,this.gl=u,this.vertexSource=h,this.fragmentSource=l,this.createResource()},createResource:function(){var c=this.gl;if(!c.isContextLost()){var u=c.createProgram(),h=c.createShader(c.VERTEX_SHADER),l=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(h,this.vertexSource),c.shaderSource(l,this.fragmentSource),c.compileShader(h),c.compileShader(l);var d=`Shader failed:
`;if(!c.getShaderParameter(h,c.COMPILE_STATUS))throw new Error("Vertex "+d+c.getShaderInfoLog(h));if(!c.getShaderParameter(l,c.COMPILE_STATUS))throw new Error("Fragment "+d+c.getShaderInfoLog(l));if(c.attachShader(u,h),c.attachShader(u,l),c.linkProgram(u),!c.getProgramParameter(u,c.LINK_STATUS))throw new Error("Link "+d+c.getProgramInfoLog(u));c.useProgram(u),this.webGLProgram=u}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});r.exports=p},82751:(r,o,t)=>{var a=t(83419),p=t(50030),c=new a({initialize:function(h,l,d,v,f,g,m,x,y,b,M,C,w){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=h,this.mipLevel=l,this.minFilter=d,this.magFilter=v,this.wrapT=f,this.wrapS=g,this.format=m,this.pixels=x,this.width=y,this.height=b,this.pma=M??!0,this.forceSize=!!C,this.flipY=!!w,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){if(this.pixels instanceof c){this.webGLTexture=this.pixels.webGLTexture;return}var h=u.createTexture();h.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=h,this._processTexture()}},update:function(u,h,l,d,v,f,g,m,x){if(!(h===0||l===0)){this.pixels=u,this.width=h,this.height=l,this.flipY=d,this.wrapS=v,this.wrapT=f,this.minFilter=g,this.magFilter=m,this.format=x;var y=this.gl;y.isContextLost()||this._processTexture()}},_processTexture:function(){var u=this.gl;u.activeTexture(u.TEXTURE0);var h=u.getParameter(u.TEXTURE_BINDING_2D);u.bindTexture(u.TEXTURE_2D,this.webGLTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.minFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.magFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,this.wrapS),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,this.wrapT),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,this.flipY);var l=this.pixels,d=this.mipLevel,v=this.width,f=this.height,g=this.format,m=!1;if(l==null)u.texImage2D(u.TEXTURE_2D,d,g,v,f,0,g,u.UNSIGNED_BYTE,null),m=p(v,f);else if(l.compressed){v=l.width,f=l.height,m=l.generateMipmap;for(var x=0;x<l.mipmaps.length;x++)u.compressedTexImage2D(u.TEXTURE_2D,x,l.internalFormat,l.mipmaps[x].width,l.mipmaps[x].height,0,l.mipmaps[x].data)}else l instanceof Uint8Array?(u.texImage2D(u.TEXTURE_2D,d,g,v,f,0,g,u.UNSIGNED_BYTE,l),m=p(v,f)):(this.forceSize||(v=l.width,f=l.height),u.texImage2D(u.TEXTURE_2D,d,g,g,u.UNSIGNED_BYTE,l),m=p(v,f));m&&u.generateMipmap(u.TEXTURE_2D),h?u.bindTexture(u.TEXTURE_2D,h):u.bindTexture(u.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(u){this.__SPECTOR_Metadata=u,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=u)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof c||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});r.exports=c},57183:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l){this.webGLUniformLocation=null,this.gl=u,this.program=h,this.name=l,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var c=this.gl;c.isContextLost()||(this.webGLUniformLocation=c.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});r.exports=p},9503:(r,o,t)=>{var a={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};r.exports=a},76531:(r,o,t)=>{var a=t(13560),p=t(83419),c=t(50792),u=t(97480),h=t(8443),l=t(57811),d=t(74403),v=t(45818),f=t(29747),g=t(87841),m=t(86555),x=t(56583),y=t(26099),b=t(38058),M=new p({Extends:c,initialize:function(w){c.call(this),this.game=w,this.canvas,this.canvasBounds=new g,this.parent=null,this.parentIsWindow=!1,this.parentSize=new m,this.gameSize=new m,this.baseSize=new m,this.displaySize=new m,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new y(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:f,windowResize:f,fullScreenChange:f,fullScreenError:f}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var C=this.game;this.canvas=C.canvas,this.fullscreen=C.device.fullscreen;var w=this.scaleMode;w!==a.SCALE_MODE.RESIZE&&w!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(w),w===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),C.events.on(h.PRE_STEP,this.step,this),C.events.once(h.READY,this.refresh,this),C.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(C){this.getParent(C),this.getParentBounds();var w=C.width,S=C.height,I=C.scaleMode,T=C.zoom,k=C.autoRound;if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var E=this.parentSize.width;E===0&&(E=window.innerWidth);var A=parseInt(w,10)/100;w=Math.floor(E*A)}if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var D=parseInt(S,10)/100;S=Math.floor(L*D)}this.scaleMode=I,this.autoRound=k,this.autoCenter=C.autoCenter,this.resizeInterval=C.resizeInterval,k&&(w=Math.floor(w),S=Math.floor(S)),this.gameSize.setSize(w,S),T===a.ZOOM.MAX_ZOOM&&(T=this.getMaxZoom()),this.zoom=T,T!==1&&(this._resetZoom=!0),this.baseSize.setSize(w,S),k&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),C.minWidth>0&&this.displaySize.setMin(C.minWidth*T,C.minHeight*T),C.maxWidth>0&&this.displaySize.setMax(C.maxWidth*T,C.maxHeight*T),this.displaySize.setSize(w,S),(C.snapWidth>0||C.snapHeight>0)&&this.displaySize.setSnap(C.snapWidth,C.snapHeight),this.orientation=v(w,S)},getParent:function(C){var w=C.parent;if(w!==null){if(this.parent=d(w),this.parentIsWindow=this.parent===document.body,C.expandParent&&C.scaleMode!==a.SCALE_MODE.NONE){var S=this.parent.getBoundingClientRect();(this.parentIsWindow||S.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",S=this.parent.getBoundingClientRect(),!this.parentIsWindow&&S.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}C.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=d(C.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var C=this.parentSize,w=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(w.height=l(!0));var S=w.width,I=w.height;if(C.width!==S||C.height!==I)return C.setSize(S,I),!0;if(this.canvas){var T=this.canvasBounds,k=this.canvas.getBoundingClientRect();if(k.x!==T.x||k.y!==T.y)return!0}return!1},lockOrientation:function(C){var w=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return w?w.call(screen,C):!1},setParentSize:function(C,w){return this.parentSize.setSize(C,w),this.refresh()},setGameSize:function(C,w){var S=this.autoRound;S&&(C=Math.floor(C),w=Math.floor(w));var I=this.width,T=this.height;return this.gameSize.resize(C,w),this.baseSize.resize(C,w),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(C/w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(I,T)},resize:function(C,w){var S=this.zoom,I=this.autoRound;I&&(C=Math.floor(C),w=Math.floor(w));var T=this.width,k=this.height;this.gameSize.resize(C,w),this.baseSize.resize(C,w),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(C*S,w*S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var E=this.canvas.style,A=C*S,L=w*S;return I&&(A=Math.floor(A),L=Math.floor(L)),(A!==C||L!==w)&&(E.width=A+"px",E.height=L+"px"),this.refresh(T,k)},setZoom:function(C){return this.zoom=C,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(C,w){return C===void 0&&(C=0),w===void 0&&(w=C),this.displaySize.setSnap(C,w),this.refresh()},refresh:function(C,w){C===void 0&&(C=this.width),w===void 0&&(w=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var S=this.game.domContainer;if(S){this.baseSize.setCSS(S);var I=this.canvas.style,T=S.style;T.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",T.marginLeft=I.marginLeft,T.marginTop=I.marginTop}return this.emit(u.RESIZE,this.gameSize,this.baseSize,this.displaySize,C,w),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var C=v(this.width,this.height);C!==this.orientation&&(this.orientation=C,this.emit(u.ORIENTATION_CHANGE,C))}},updateScale:function(){var C=this.canvas.style,w=this.gameSize.width,S=this.gameSize.height,I,T,k=this.zoom,E=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(w*k,S*k),I=this.displaySize.width,T=this.displaySize.height,E&&(I=Math.floor(I),T=Math.floor(T)),this._resetZoom&&(C.width=I+"px",C.height=T+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),I=this.displaySize.width,T=this.displaySize.height,E&&(I=Math.floor(I),T=Math.floor(T)),this.canvas.width=I,this.canvas.height=T;else if(this.scaleMode===a.SCALE_MODE.EXPAND){var A=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),I=this.displaySize.width,T=this.displaySize.height,E&&(I=Math.floor(I),T=Math.floor(T)),C.width=I+"px",C.height=T+"px";var D=this.parentSize.width/A,R=this.parentSize.height/L;D<R&&D!==0?this.baseSize.setSize(A,this.parentSize.height/D):R!==0&&this.baseSize.setSize(this.displaySize.width/R,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),I=this.baseSize.width,T=this.baseSize.height,E&&(I=Math.floor(I),T=Math.floor(T)),this.canvas.width=I,this.canvas.height=T}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),I=this.displaySize.width,T=this.displaySize.height,E&&(I=Math.floor(I),T=Math.floor(T)),C.width=I+"px",C.height=T+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var C=x(this.parentSize.width,this.gameSize.width,0,!0),w=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(C,w),1)},updateCenter:function(){var C=this.autoCenter;if(C!==a.CENTER.NO_CENTER){var w=this.canvas,S=w.style,I=w.getBoundingClientRect(),T=I.width,k=I.height,E=Math.floor((this.parentSize.width-T)/2),A=Math.floor((this.parentSize.height-k)/2);C===a.CENTER.CENTER_HORIZONTALLY?A=0:C===a.CENTER.CENTER_VERTICALLY&&(E=0),S.marginLeft=E+"px",S.marginTop=A+"px"}},updateBounds:function(){var C=this.canvasBounds,w=this.canvas.getBoundingClientRect();C.x=w.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),C.y=w.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),C.width=w.width,C.height=w.height},transformX:function(C){return(C-this.canvasBounds.left)*this.displayScale.x},transformY:function(C){return(C-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(C){C===void 0&&(C={navigationUI:"hide"});var w=this.fullscreen;if(!w.available){this.emit(u.FULLSCREEN_UNSUPPORTED);return}if(!w.active){var S=this.getFullscreenTarget();w.keyboard?S[w.request](Element.ALLOW_KEYBOARD_INPUT):S[w.request](C)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(u.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(C){this.removeFullscreenTarget(),this.emit(u.FULLSCREEN_FAILED,C)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var C=document.createElement("div");C.style.margin="0",C.style.padding="0",C.style.width="100%",C.style.height="100%",this.fullscreenTarget=C,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var w=this.canvas.parentNode;w.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var C=this.fullscreenTarget;if(C&&C.parentNode){var w=C.parentNode;w.insertBefore(this.canvas,C),w.removeChild(C)}}},stopFullscreen:function(){var C=this.fullscreen;if(!C.available)return this.emit(u.FULLSCREEN_UNSUPPORTED),!1;C.active&&document[C.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(u.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(C){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(C)},startListeners:function(){var C=this,w=this.domlisteners;if(w.orientationChange=function(){C.updateBounds(),C._checkOrientation=!0,C.dirty=!0,C.refresh()},w.windowResize=function(){C.updateBounds(),C.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",w.orientationChange,!1):window.addEventListener("orientationchange",w.orientationChange,!1),window.addEventListener("resize",w.windowResize,!1),this.fullscreen.available){w.fullScreenChange=function(I){return C.onFullScreenChange(I)},w.fullScreenError=function(I){return C.onFullScreenError(I)};var S=["webkit","moz",""];S.forEach(function(I){document.addEventListener(I+"fullscreenchange",w.fullScreenChange,!1),document.addEventListener(I+"fullscreenerror",w.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.addEventListener("MSFullscreenError",w.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(C,w){C instanceof b||(w=C,C=void 0),w===void 0&&(w=new g);var S=this.baseSize,I=this.parentSize,T=this.canvasBounds,k=this.displayScale,E=T.x>=0?0:-(T.x*k.x),A=T.y>=0?0:-(T.y*k.y),L;I.width>=T.width?L=S.width:L=S.width-(T.width-I.width)*k.x;var D;return I.height>=T.height?D=S.height:D=S.height-(T.height-I.height)*k.y,w.setTo(E,A,L,D),C&&(w.width/=C.zoomX,w.height/=C.zoomY,w.centerX=C.centerX+C.scrollX,w.centerY=C.centerY+C.scrollY),w},step:function(C,w){this.parent&&(this._lastCheck+=w,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var C=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",C.orientationChange,!1):window.removeEventListener("orientationchange",C.orientationChange,!1),window.removeEventListener("resize",C.windowResize,!1);var w=["webkit","moz",""];w.forEach(function(S){document.removeEventListener(S+"fullscreenchange",C.fullScreenChange,!1),document.removeEventListener(S+"fullscreenerror",C.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",C.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});r.exports=M},64743:r=>{r.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:r=>{r.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:r=>{r.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:r=>{r.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(r,o,t)=>{var a={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};r.exports=a},56139:r=>{r.exports="enterfullscreen"},2336:r=>{r.exports="fullscreenfailed"},47412:r=>{r.exports="fullscreenunsupported"},51452:r=>{r.exports="leavefullscreen"},20666:r=>{r.exports="orientationchange"},47945:r=>{r.exports="resize"},97480:(r,o,t)=>{r.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(r,o,t)=>{var a=t(79291),p=t(13560),c={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};c=a(!1,c,p.CENTER),c=a(!1,c,p.ORIENTATION),c=a(!1,c,p.SCALE_MODE),c=a(!1,c,p.ZOOM),r.exports=c},27397:(r,o,t)=>{var a=t(95540),p=t(35355),c=function(u){var h=u.game.config.defaultPhysicsSystem,l=a(u.settings,"physics",!1);if(!(!h&&!l)){var d=[];if(h&&d.push(p(h+"Physics")),l)for(var v in l)v=p(v.concat("Physics")),d.indexOf(v)===-1&&d.push(v);return d}};r.exports=c},52106:(r,o,t)=>{var a=t(95540),p=function(c){var u=c.plugins.getDefaultScenePlugins(),h=a(c.settings,"plugins",!1);return Array.isArray(h)?h:u||[]};r.exports=p},87033:r=>{var o={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};r.exports=o},97482:(r,o,t)=>{var a=t(83419),p=t(2368),c=new a({initialize:function(h){this.sys=new p(this,h),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});r.exports=c},60903:(r,o,t)=>{var a=t(83419),p=t(89993),c=t(44594),u=t(8443),h=t(35154),l=t(54899),d=t(29747),v=t(97482),f=t(2368),g=new a({initialize:function(x,y){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,y){Array.isArray(y)||(y=[y]);for(var b=0;b<y.length;b++)this._pending.push({key:"default",scene:y[b],autoStart:b===0,data:{}})}x.events.once(u.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(u.SYSTEM_READY,this.systemScene,this);var m,x,y,b;for(m=0;m<this._pending.length;m++){x=this._pending[m],y=x.key,b=x.scene;var M;b instanceof v?M=this.createSceneFromInstance(y,b):typeof b=="object"?M=this.createSceneFromObject(y,b):typeof b=="function"&&(M=this.createSceneFromFunction(y,b)),y=M.sys.settings.key,this.keys[y]=M,this.scenes.push(M),this._data[y]&&(M.sys.settings.data=this._data[y].data,this._data[y].autoStart&&(x.autoStart=!0)),(x.autoStart||M.sys.settings.active)&&this._start.push(y)}for(this._pending.length=0,this._data={},this.isBooted=!0,m=0;m<this._start.length;m++)x=this._start[m],this.start(x);this._start.length=0}},processQueue:function(){var m=this._pending.length,x=this._queue.length;if(!(m===0&&x===0)){var y,b;if(m){for(y=0;y<m;y++)b=this._pending[y],this.add(b.key,b.scene,b.autoStart,b.data);for(y=0;y<this._start.length;y++)b=this._start[y],this.start(b);this._start.length=0,this._pending.length=0}for(y=0;y<this._queue.length;y++)b=this._queue[y],this[b.op](b.keyA,b.keyB,b.data);this._queue.length=0}},add:function(m,x,y,b){if(y===void 0&&(y=!1),b===void 0&&(b={}),this.isProcessing||!this.isBooted)return this._pending.push({key:m,scene:x,autoStart:y,data:b}),this.isBooted||(this._data[m]={data:b}),null;m=this.getKey(m,x);var M;return x instanceof v?M=this.createSceneFromInstance(m,x):typeof x=="object"?(x.key=m,M=this.createSceneFromObject(m,x)):typeof x=="function"&&(M=this.createSceneFromFunction(m,x)),M.sys.settings.data=b,m=M.sys.settings.key,this.keys[m]=M,this.scenes.push(M),(y||M.sys.settings.active)&&(this._pending.length?this._start.push(m):this.start(m)),M},remove:function(m){if(this.isProcessing)return this.queueOp("remove",m);var x=this.getScene(m);if(!x||x.sys.isTransitioning())return this;var y=this.scenes.indexOf(x),b=x.sys.settings.key;return y>-1&&(delete this.keys[b],this.scenes.splice(y,1),this._start.indexOf(b)>-1&&(y=this._start.indexOf(b),this._start.splice(y,1)),x.sys.destroy()),this},bootScene:function(m){var x=m.sys,y=x.settings;x.sceneUpdate=d,m.init&&(m.init.call(m,y.data),y.status=p.INIT,y.isTransition&&x.events.emit(c.TRANSITION_INIT,y.transitionFrom,y.transitionDuration));var b;x.load&&(b=x.load,b.reset()),b&&m.preload?(m.preload.call(m),y.status=p.LOADING,b.once(l.COMPLETE,this.loadComplete,this),b.start()):this.create(m)},loadComplete:function(m){this.create(m.scene)},payloadComplete:function(m){this.bootScene(m.scene)},update:function(m,x){this.processQueue(),this.isProcessing=!0;for(var y=this.scenes.length-1;y>=0;y--){var b=this.scenes[y].sys;b.settings.status>p.START&&b.settings.status<=p.RUNNING&&b.step(m,x),b.scenePlugin&&b.scenePlugin._target&&b.scenePlugin.step(m,x)}},render:function(m){for(var x=0;x<this.scenes.length;x++){var y=this.scenes[x].sys;y.settings.visible&&y.settings.status>=p.LOADING&&y.settings.status<p.SLEEPING&&y.render(m)}this.isProcessing=!1},create:function(m){var x=m.sys,y=x.settings;m.create&&(y.status=p.CREATING,m.create.call(m,y.data),y.status===p.DESTROYED)||(y.isTransition&&x.events.emit(c.TRANSITION_START,y.transitionFrom,y.transitionDuration),m.update&&(x.sceneUpdate=m.update),y.status=p.RUNNING,x.events.emit(c.CREATE,m))},createSceneFromFunction:function(m,x){var y=new x;if(y instanceof v){var b=y.sys.settings.key;if(b!==""&&(m=b),this.keys.hasOwnProperty(m))throw new Error("Cannot add Scene with duplicate key: "+m);return this.createSceneFromInstance(m,y)}else return y.sys=new f(y),y.sys.settings.key=m,y.sys.init(this.game),y},createSceneFromInstance:function(m,x){var y=x.sys.settings.key;return y===""&&(x.sys.settings.key=m),x.sys.init(this.game),x},createSceneFromObject:function(m,x){var y=new v(x),b=y.sys.settings.key;b!==""?m=b:y.sys.settings.key=m,y.sys.init(this.game);for(var M=["init","preload","create","update","render"],C=0;C<M.length;C++){var w=h(x,M[C],null);w&&(y[M[C]]=w)}if(x.hasOwnProperty("extend")){for(var S in x.extend)if(x.extend.hasOwnProperty(S)){var I=x.extend[S];S==="data"&&y.hasOwnProperty("data")&&typeof I=="object"?y.data.merge(I):S!=="sys"&&(y[S]=I)}}return y},getKey:function(m,x){if(m||(m="default"),typeof x=="function")return m;if(x instanceof v?m=x.sys.settings.key:typeof x=="object"&&x.hasOwnProperty("key")&&(m=x.key),this.keys.hasOwnProperty(m))throw new Error("Cannot add Scene with duplicate key: "+m);return m},getScenes:function(m,x){m===void 0&&(m=!0),x===void 0&&(x=!1);for(var y=[],b=this.scenes,M=0;M<b.length;M++){var C=b[M];C&&(!m||m&&C.sys.isActive())&&y.push(C)}return x?y.reverse():y},getScene:function(m){if(typeof m=="string"){if(this.keys[m])return this.keys[m]}else for(var x=0;x<this.scenes.length;x++)if(m===this.scenes[x])return m;return null},isActive:function(m){var x=this.getScene(m);return x?x.sys.isActive():null},isPaused:function(m){var x=this.getScene(m);return x?x.sys.isPaused():null},isVisible:function(m){var x=this.getScene(m);return x?x.sys.isVisible():null},isSleeping:function(m){var x=this.getScene(m);return x?x.sys.isSleeping():null},pause:function(m,x){var y=this.getScene(m);return y&&y.sys.pause(x),this},resume:function(m,x){var y=this.getScene(m);return y&&y.sys.resume(x),this},sleep:function(m,x){var y=this.getScene(m);return y&&!y.sys.isTransitioning()&&y.sys.sleep(x),this},wake:function(m,x){var y=this.getScene(m);return y&&y.sys.wake(x),this},run:function(m,x){var y=this.getScene(m);if(!y){for(var b=0;b<this._pending.length;b++)if(this._pending[b].key===m){this.queueOp("start",m,x);break}return this}y.sys.isSleeping()?y.sys.wake(x):y.sys.isPaused()?y.sys.resume(x):this.start(m,x)},start:function(m,x){if(!this.isBooted)return this._data[m]={autoStart:!0,data:x},this;var y=this.getScene(m);if(!y)return console.warn("Scene key not found: "+m),this;var b=y.sys,M=b.settings.status;if(M>=p.START&&M<=p.CREATING)return this;if(M>=p.RUNNING&&M<=p.SLEEPING)b.shutdown(),b.sceneUpdate=d,b.start(x);else{b.sceneUpdate=d,b.start(x);var C;if(b.load&&(C=b.load),C&&b.settings.hasOwnProperty("pack")&&(C.reset(),C.addPack({payload:b.settings.pack})))return b.settings.status=p.LOADING,C.once(l.COMPLETE,this.payloadComplete,this),C.start(),this}return this.bootScene(y),this},stop:function(m,x){var y=this.getScene(m);if(y&&!y.sys.isTransitioning()&&y.sys.settings.status!==p.SHUTDOWN){var b=y.sys.load;b&&(b.off(l.COMPLETE,this.loadComplete,this),b.off(l.COMPLETE,this.payloadComplete,this)),y.sys.shutdown(x)}return this},switch:function(m,x,y){var b=this.getScene(m),M=this.getScene(x);return b&&M&&b!==M&&(this.sleep(m),this.isSleeping(x)?this.wake(x,y):this.start(x,y)),this},getAt:function(m){return this.scenes[m]},getIndex:function(m){var x=this.getScene(m);return this.scenes.indexOf(x)},bringToTop:function(m){if(this.isProcessing)return this.queueOp("bringToTop",m);var x=this.getIndex(m),y=this.scenes;if(x!==-1&&x<y.length){var b=this.getScene(m);y.splice(x,1),y.push(b)}return this},sendToBack:function(m){if(this.isProcessing)return this.queueOp("sendToBack",m);var x=this.getIndex(m);if(x!==-1&&x>0){var y=this.getScene(m);this.scenes.splice(x,1),this.scenes.unshift(y)}return this},moveDown:function(m){if(this.isProcessing)return this.queueOp("moveDown",m);var x=this.getIndex(m);if(x>0){var y=x-1,b=this.getScene(m),M=this.getAt(y);this.scenes[x]=M,this.scenes[y]=b}return this},moveUp:function(m){if(this.isProcessing)return this.queueOp("moveUp",m);var x=this.getIndex(m);if(x<this.scenes.length-1){var y=x+1,b=this.getScene(m),M=this.getAt(y);this.scenes[x]=M,this.scenes[y]=b}return this},moveAbove:function(m,x){if(m===x)return this;if(this.isProcessing)return this.queueOp("moveAbove",m,x);var y=this.getIndex(m),b=this.getIndex(x);if(y!==-1&&b!==-1&&b<y){var M=this.getAt(b);this.scenes.splice(b,1),this.scenes.splice(y+(b>y),0,M)}return this},moveBelow:function(m,x){if(m===x)return this;if(this.isProcessing)return this.queueOp("moveBelow",m,x);var y=this.getIndex(m),b=this.getIndex(x);if(y!==-1&&b!==-1&&b>y){var M=this.getAt(b);this.scenes.splice(b,1),y===0?this.scenes.unshift(M):this.scenes.splice(y-(b<y),0,M)}return this},queueOp:function(m,x,y,b){return this._queue.push({op:m,keyA:x,keyB:y,data:b}),this},swapPosition:function(m,x){if(m===x)return this;if(this.isProcessing)return this.queueOp("swapPosition",m,x);var y=this.getIndex(m),b=this.getIndex(x);if(y!==b&&y!==-1&&b!==-1){var M=this.getAt(y);this.scenes[y]=this.scenes[b],this.scenes[b]=M}return this},dump:function(){for(var m=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],y=0;y<this.scenes.length;y++){var b=this.scenes[y].sys,M=b.settings.visible&&(b.settings.status===p.RUNNING||b.settings.status===p.PAUSED)?"[*] ":"[-] ";M+=b.settings.key+" ("+x[b.settings.status]+")",m.push(M)}console.log(m.join(`
`))},destroy:function(){for(var m=0;m<this.scenes.length;m++){var x=this.scenes[m].sys;x.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});r.exports=g},52209:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(44594),u=t(95540),h=t(37277),l=new p({initialize:function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},start:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,v),this},restart:function(d){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,d),this},transition:function(d){d===void 0&&(d={});var v=u(d,"target",!1),f=this.manager.getScene(v);if(!v||!this.checkValidTransition(f))return!1;var g=u(d,"duration",1e3);this._elapsed=0,this._target=f,this._duration=g,this._willSleep=u(d,"sleep",!1),this._willRemove=u(d,"remove",!1);var m=u(d,"onUpdate",null);m&&(this._onUpdate=m,this._onUpdateScope=u(d,"onUpdateScope",this.scene));var x=u(d,"allowInput",!1);this.settings.transitionAllowInput=x;var y=f.sys.settings;y.isTransition=!0,y.transitionFrom=this.scene,y.transitionDuration=g,y.transitionAllowInput=x,u(d,"moveAbove",!1)?this.manager.moveAbove(this.key,v):u(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),f.sys.isSleeping()?f.sys.wake(u(d,"data")):this.manager.start(v,u(d,"data"));var b=u(d,"onStart",null),M=u(d,"onStartScope",this.scene);return b&&b.call(M,this.scene,f,g),this.systems.events.emit(c.TRANSITION_OUT,f,g),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,v){this._elapsed+=v,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var d=this._target.sys,v=this._target.sys.settings;d.events.emit(c.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,v,f,g){return this.manager.add(d,v,f,g)},launch:function(d,v){return d&&d!==this.key&&this.manager.queueOp("start",d,v),this},run:function(d,v){return d&&d!==this.key&&this.manager.queueOp("run",d,v),this},pause:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,v),this},resume:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,v),this},sleep:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,v),this},wake:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,v),this},switch:function(d,v){return d!==this.key&&this.manager.queueOp("switch",this.key,d,v),this},stop:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,v),this},setActive:function(d,v,f){v===void 0&&(v=this.key);var g=this.manager.getScene(v);return g&&g.sys.setActive(d,f),this},setVisible:function(d,v){v===void 0&&(v=this.key);var f=this.manager.getScene(v);return f&&f.sys.setVisible(d),this},isSleeping:function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.swapPosition(d,v),this},moveAbove:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.moveAbove(d,v),this},moveBelow:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.moveBelow(d,v),this},remove:function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var v=this.manager.getScene(d);if(v)return v.sys.getStatus()},getIndex:function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(c.SHUTDOWN,this.shutdown,this),d.off(c.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",l,"scenePlugin"),r.exports=l},55681:(r,o,t)=>{var a=t(89993),p=t(35154),c=t(46975),u=t(87033),h={create:function(l){return typeof l=="string"?l={key:l}:l===void 0&&(l={}),{status:a.PENDING,key:p(l,"key",""),active:p(l,"active",!1),visible:p(l,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(l,"pack",!1),cameras:p(l,"cameras",null),map:p(l,"map",c(u,p(l,"mapAdd",{}))),physics:p(l,"physics",{}),loader:p(l,"loader",{}),plugins:p(l,"plugins",!1),input:p(l,"input",{})}}};r.exports=h},2368:(r,o,t)=>{var a=t(83419),p=t(89993),c=t(42363),u=t(44594),h=t(27397),l=t(52106),d=t(29747),v=t(55681),f=new a({initialize:function(m,x){this.scene=m,this.game,this.renderer,this.config=x,this.settings=v.create(x),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},init:function(g){this.settings.status=p.INIT,this.sceneUpdate=d,this.game=g,this.renderer=g.renderer,this.canvas=g.canvas,this.context=g.context;var m=g.plugins;this.plugins=m,m.addToScene(this,c.Global,[c.CoreScene,l(this),h(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},step:function(g,m){var x=this.events;x.emit(u.PRE_UPDATE,g,m),x.emit(u.UPDATE,g,m),this.sceneUpdate.call(this.scene,g,m),x.emit(u.POST_UPDATE,g,m)},render:function(g){var m=this.displayList;m.depthSort(),this.events.emit(u.PRE_RENDER,g),this.cameras.render(g,m),this.events.emit(u.RENDER,g)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(g){var m=this.settings,x=this.getStatus();return x!==p.CREATING&&x!==p.RUNNING?console.warn("Cannot pause non-running Scene",m.key):this.settings.active&&(m.status=p.PAUSED,m.active=!1,this.events.emit(u.PAUSE,this,g)),this},resume:function(g){var m=this.events,x=this.settings;return this.settings.active||(x.status=p.RUNNING,x.active=!0,m.emit(u.RESUME,this,g)),this},sleep:function(g){var m=this.settings,x=this.getStatus();return x!==p.CREATING&&x!==p.RUNNING?console.warn("Cannot sleep non-running Scene",m.key):(m.status=p.SLEEPING,m.active=!1,m.visible=!1,this.events.emit(u.SLEEP,this,g)),this},wake:function(g){var m=this.events,x=this.settings;return x.status=p.RUNNING,x.active=!0,x.visible=!0,m.emit(u.WAKE,this,g),x.isTransition&&m.emit(u.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var g=this.settings.status;return g>p.PENDING&&g<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(g){return this.settings.visible=g,this},setActive:function(g,m){return g?this.resume(m):this.pause(m)},start:function(g){var m=this.events,x=this.settings;g&&(x.data=g),x.status=p.START,x.active=!0,x.visible=!0,m.emit(u.START,this),m.emit(u.READY,this,g)},shutdown:function(g){var m=this.events,x=this.settings;m.off(u.TRANSITION_INIT),m.off(u.TRANSITION_START),m.off(u.TRANSITION_COMPLETE),m.off(u.TRANSITION_OUT),x.status=p.SHUTDOWN,x.active=!1,x.visible=!1,m.emit(u.SHUTDOWN,this,g)},destroy:function(){var g=this.events,m=this.settings;m.status=p.DESTROYED,m.active=!1,m.visible=!1,g.emit(u.DESTROY,this),g.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],y=0;y<x.length;y++)this[x[y]]=null}});r.exports=f},89993:r=>{var o={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};r.exports=o},69830:r=>{r.exports="addedtoscene"},7919:r=>{r.exports="boot"},46763:r=>{r.exports="create"},11763:r=>{r.exports="destroy"},71555:r=>{r.exports="pause"},36735:r=>{r.exports="postupdate"},3809:r=>{r.exports="prerender"},90716:r=>{r.exports="preupdate"},58262:r=>{r.exports="ready"},91633:r=>{r.exports="removedfromscene"},10319:r=>{r.exports="render"},87132:r=>{r.exports="resume"},81961:r=>{r.exports="shutdown"},90194:r=>{r.exports="sleep"},6265:r=>{r.exports="start"},33178:r=>{r.exports="transitioncomplete"},43063:r=>{r.exports="transitioninit"},11259:r=>{r.exports="transitionout"},61611:r=>{r.exports="transitionstart"},45209:r=>{r.exports="transitionwake"},22966:r=>{r.exports="update"},21747:r=>{r.exports="wake"},44594:(r,o,t)=>{r.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(r,o,t)=>{var a=t(89993),p=t(79291),c={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};c=p(!1,c,a),r.exports=c},30341:(r,o,t)=>{var a=t(83419),p=t(50792),c=t(14463),u=t(79291),h=t(29747),l=new a({Extends:p,initialize:function(v,f,g){p.call(this),this.manager=v,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,g),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=u(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},updateMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=u(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},removeMarker:function(d){var v=this.markers[d];return v?(this.markers[d]=null,v):null},play:function(d,v){if(d===void 0&&(d=""),typeof d=="object"&&(v=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=u(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var d=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,f=Math.pow(d,v);this.totalRate=this.currentConfig.rate*this.manager.rate*f},destroy:function(){this.pendingRemove||(this.stop(),this.emit(c.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});r.exports=l},85034:(r,o,t)=>{var a=t(83419),p=t(41786),c=t(50792),u=t(14463),h=t(8443),l=t(46710),d=t(58731),v=t(29747),f=t(26099),g=new a({Extends:c,initialize:function(x){c.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new f;var y=x.events;y.on(h.BLUR,this.onGameBlur,this),y.on(h.FOCUS,this.onGameFocus,this),y.on(h.PRE_STEP,this.update,this),y.once(h.DESTROY,this.destroy,this)},add:v,addAudioSprite:function(m,x){x===void 0&&(x={});var y=this.add(m,x);y.spritemap=this.jsonCache.get(m).spritemap;for(var b in y.spritemap)if(y.spritemap.hasOwnProperty(b)){var M=p(x),C=y.spritemap[b];M.loop=C.hasOwnProperty("loop")?C.loop:!1,y.addMarker({name:b,start:C.start,duration:C.end-C.start,config:M})}return y},get:function(m){return d(this.sounds,"key",m)},getAll:function(m){return m?l(this.sounds,"key",m):l(this.sounds)},getAllPlaying:function(){return l(this.sounds,"isPlaying",!0)},play:function(m,x){var y=this.add(m);return y.once(u.COMPLETE,y.destroy,y),x?x.name?(y.addMarker(x),y.play(x.name)):y.play(x):y.play()},playAudioSprite:function(m,x,y){var b=this.addAudioSprite(m);return b.once(u.COMPLETE,b.destroy,b),b.play(x,y)},remove:function(m){var x=this.sounds.indexOf(m);return x!==-1?(m.destroy(),this.sounds.splice(x,1),!0):!1},removeAll:function(){this.sounds.forEach(function(m){m.destroy()}),this.sounds.length=0},removeByKey:function(m){for(var x=0,y=this.sounds.length-1;y>=0;y--){var b=this.sounds[y];b.key===m&&(b.destroy(),this.sounds.splice(y,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(m){m.pause()}),this.emit(u.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(m){m.resume()}),this.emit(u.RESUME_ALL,this)},setListenerPosition:v,stopAll:function(){this.forEachActiveSound(function(m){m.stop()}),this.emit(u.STOP_ALL,this)},stopByKey:function(m){var x=0;return this.getAll(m).forEach(function(y){y.stop()&&x++}),x},isPlaying:function(m){var x=this.sounds,y=x.length-1,b;if(m===void 0){for(;y>=0;y--)if(b=this.sounds[y],b.isPlaying)return!0}else for(;y>=0;y--)if(b=this.sounds[y],b.key===m&&b.isPlaying)return!0;return!1},unlock:v,onBlur:v,onFocus:v,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(m,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var y=this.sounds.length-1;y>=0;y--)this.sounds[y].pendingRemove&&this.sounds.splice(y,1);this.sounds.forEach(function(b){b.update(m,x)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(m,x){var y=this;this.sounds.forEach(function(b,M){b&&!b.pendingRemove&&m.call(x||y,b,M,y.sounds)})},setRate:function(m){return this.rate=m,this},rate:{get:function(){return this._rate},set:function(m){this._rate=m,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(u.GLOBAL_RATE,this,m)}},setDetune:function(m){return this.detune=m,this},detune:{get:function(){return this._detune},set:function(m){this._detune=m,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,m)}}});r.exports=g},14747:(r,o,t)=>{var a=t(33684),p=t(25960),c=t(57490),u={create:function(h){var l=h.config.audio,d=h.device.audio;return l.noAudio||!d.webAudio&&!d.audioData?new p(h):d.webAudio&&!l.disableWebAudio?new c(h):new a(h)}};r.exports=u},19723:r=>{r.exports="complete"},98882:r=>{r.exports="decodedall"},57506:r=>{r.exports="decoded"},73146:r=>{r.exports="destroy"},11305:r=>{r.exports="detune"},40577:r=>{r.exports="detune"},30333:r=>{r.exports="mute"},20394:r=>{r.exports="rate"},21802:r=>{r.exports="volume"},1299:r=>{r.exports="looped"},99190:r=>{r.exports="loop"},97125:r=>{r.exports="mute"},89259:r=>{r.exports="pan"},79986:r=>{r.exports="pauseall"},17586:r=>{r.exports="pause"},19618:r=>{r.exports="play"},42306:r=>{r.exports="rate"},10387:r=>{r.exports="resumeall"},48959:r=>{r.exports="resume"},9960:r=>{r.exports="seek"},19180:r=>{r.exports="stopall"},98328:r=>{r.exports="stop"},50401:r=>{r.exports="unlocked"},52498:r=>{r.exports="volume"},14463:(r,o,t)=>{r.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(r,o,t)=>{var a=t(30341),p=t(83419),c=t(14463),u=t(45319),h=new p({Extends:a,initialize:function(d,v,f){if(f===void 0&&(f={}),this.tags=d.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,d,v,f)},play:function(l,d){return this.manager.isLocked(this,"play",[l,d])||!a.prototype.play.call(this,l,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(c.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var l=this.currentConfig.seek,d=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+l;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var l=0;l<this.tags.length;l++){var d=this.tags[l];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(g){g.key===this.key&&g.audio&&v.push(g)},this),v.sort(function(g,m){return g.loop===m.loop?m.seek/m.duration-g.seek/g.duration:g.loop?1:-1});var f=v[0];return this.audio=f.audio,f.reset(),f.audio=null,f.startTime=0,f.previousTime=0,!0},playCatchPromise:function(){var l=this.audio.play();l&&l.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(l){if(this.isPlaying){if(this.startTime>0){this.startTime<l-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,l-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,v=d+this.duration,f=this.audio.currentTime;if(this.currentConfig.loop)f>=v-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,f-v),f=this.audio.currentTime):f<d&&(this.audio.currentTime+=d,f=this.audio.currentTime),f<this.previousTime&&this.emit(c.LOOPED,this);else if(f>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(c.COMPLETE,this);return}this.previousTime=f}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(l){this.currentConfig.mute=l,!this.manager.isLocked(this,"mute",l)&&(this.updateMute(),this.emit(c.MUTE,this,l))}},setMute:function(l){return this.mute=l,this},volume:{get:function(){return this.currentConfig.volume},set:function(l){this.currentConfig.volume=l,!this.manager.isLocked(this,"volume",l)&&(this.updateVolume(),this.emit(c.VOLUME,this,l))}},setVolume:function(l){return this.volume=l,this},rate:{get:function(){return this.currentConfig.rate},set:function(l){this.currentConfig.rate=l,!this.manager.isLocked(this,c.RATE,l)&&(this.calculateRate(),this.emit(c.RATE,this,l))}},setRate:function(l){return this.rate=l,this},detune:{get:function(){return this.currentConfig.detune},set:function(l){this.currentConfig.detune=l,!this.manager.isLocked(this,c.DETUNE,l)&&(this.calculateRate(),this.emit(c.DETUNE,this,l))}},setDetune:function(l){return this.detune=l,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(l){this.manager.isLocked(this,"seek",l)||this.startTime>0||(this.isPlaying||this.isPaused)&&(l=Math.min(Math.max(0,l),this.duration),this.isPlaying?(this.previousTime=l,this.audio.currentTime=l):this.isPaused&&(this.currentConfig.seek=l),this.emit(c.SEEK,this,l))}},setSeek:function(l){return this.seek=l,this},loop:{get:function(){return this.currentConfig.loop},set:function(l){this.currentConfig.loop=l,!this.manager.isLocked(this,"loop",l)&&(this.audio&&(this.audio.loop=l),this.emit(c.LOOP,this,l))}},setLoop:function(l){return this.loop=l,this},pan:{get:function(){return this.currentConfig.pan},set:function(l){this.currentConfig.pan=l,this.emit(c.PAN,this,l)}},setPan:function(l){return this.pan=l,this}});r.exports=h},33684:(r,o,t)=>{var a=t(85034),p=t(83419),c=t(14463),u=t(64895),h=new p({Extends:a,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,d)},add:function(l,d){var v=new u(this,l,d);return this.sounds.push(v),v},unlock:function(){this.locked=!1;var l=this;if(this.game.cache.audio.entries.each(function(g,m){for(var x=0;x<m.length;x++)if(m[x].dataset.locked==="true")return l.locked=!0,!1;return!0}),!!this.locked){var d=!1,v=function(){d=!0},f=function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",f);var g=[];if(l.game.cache.audio.entries.each(function(x,y){for(var b=0;b<y.length;b++){var M=y[b];M.dataset.locked==="true"&&g.push(M)}return!0}),g.length!==0){var m=g[g.length-1];m.oncanplaythrough=function(){m.oncanplaythrough=null,g.forEach(function(x){x.dataset.locked="false"}),l.unlocked=!0},g.forEach(function(x){x.load()})}};this.once(c.UNLOCKED,function(){for(this.forEachActiveSound(function(m){m.currentMarker===null&&m.duration===0&&(m.duration=m.tags[0].duration),m.totalDuration=m.tags[0].duration});this.lockedActionsQueue.length;){var g=this.lockedActionsQueue.shift();g.sound[g.prop].apply?g.sound[g.prop].apply(g.sound,g.value||[]):g.sound[g.prop]=g.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",f,!1)}},onBlur:function(){this.forEachActiveSound(function(l){l.isPlaying&&(this.onBlurPausedSounds.push(l),l.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(l){l.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(l,d,v){return l.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:l,prop:d,value:v}),!0):!1},setMute:function(l){return this.mute=l,this},mute:{get:function(){return this._mute},set:function(l){this._mute=l,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(c.GLOBAL_MUTE,this,l)}},setVolume:function(l){return this.volume=l,this},volume:{get:function(){return this._volume},set:function(l){this._volume=l,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(c.GLOBAL_VOLUME,this,l)}}});r.exports=h},23717:(r,o,t)=>{r.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(r,o,t)=>{var a=t(30341),p=t(83419),c=t(50792),u=t(79291),h=t(29747),l=function(){return!1},d=function(){return null},v=function(){return this},f=new p({Extends:c,initialize:function(m,x,y){y===void 0&&(y={}),c.call(this),this.manager=m,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},y),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:l,updateMarker:l,removeMarker:d,play:l,pause:l,resume:l,stop:l,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:d,resetConfig:d,update:h,calculateRate:d,destroy:function(){a.prototype.destroy.call(this)}});r.exports=f},25960:(r,o,t)=>{var a=t(85034),p=t(83419),c=t(50792),u=t(4603),h=t(29747),l=new p({Extends:c,initialize:function(v){c.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,v){var f=new u(this,d,v);return this.sounds.push(f),f},addAudioSprite:function(d,v){var f=this.add(d,v);return f.spritemap={},f},get:function(d){return a.prototype.get.call(this,d)},getAll:function(d){return a.prototype.getAll.call(this,d)},play:function(d,v){return!1},playAudioSprite:function(d,v,f){return!1},remove:function(d){return a.prototype.remove.call(this,d)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(d){return a.prototype.removeByKey.call(this,d)},stopByKey:function(d){return a.prototype.stopByKey.call(this,d)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(d,v){a.prototype.forEachActiveSound.call(this,d,v)},destroy:function(){a.prototype.destroy.call(this)}});r.exports=l},71741:(r,o,t)=>{var a=t(30341),p=t(83419),c=t(14463),u=t(95540),h=new p({Extends:a,initialize:function(d,v,f){if(f===void 0&&(f={}),this.audioBuffer=d.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,d,v,f)},play:function(l,d){return a.prototype.play.call(this,l,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(c.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(c.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(c.STOP,this),!0):!1},createAndStartBufferSource:function(){var l=this.currentConfig.seek,d=this.currentConfig.delay,v=this.manager.context.currentTime+d,f=(this.currentMarker?this.currentMarker.start:0)+l,g=this.duration-l;this.playTime=v-l,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,f),Math.max(0,g)),this.resetConfig()},createAndStartLoopBufferSource:function(){var l=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=l,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,l),Math.max(0,d),Math.max(0,v))},createBufferSource:function(){var l=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(v){var f=v.target;(f===l.source||f===l.loopSource)&&(l.currentConfig.loop?l.hasLooped=!0:l.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var l=this.source;this.source=null,l.stop(),l.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var l=this.currentConfig.source;if(l&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=u(l,"panningModel","equalpower"),d.distanceModel=u(l,"distanceModel","inverse"),d.orientationX.value=u(l,"orientationX",0),d.orientationY.value=u(l,"orientationY",0),d.orientationZ.value=u(l,"orientationZ",-1),d.refDistance=u(l,"refDistance",1),d.maxDistance=u(l,"maxDistance",1e4),d.rolloffFactor=u(l,"rolloffFactor",1),d.coneInnerAngle=u(l,"coneInnerAngle",360),d.coneOuterAngle=u(l,"coneOuterAngle",0),d.coneOuterGain=u(l,"coneOuterGain",0),this.spatialSource=u(l,"follow",null),this.spatialSource||(d.positionX.value=u(l,"x",0),d.positionY.value=u(l,"y",0),d.positionZ.value=u(l,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(l){this.spatialNode&&(this.spatialNode.positionX.value=l)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(l){this.spatialNode&&(this.spatialNode.positionY.value=l)}},update:function(){if(this.isPlaying&&this.spatialSource){var l=u(this.spatialSource,"x",null),d=u(this.spatialSource,"y",null);l&&l!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=l),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(c.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(c.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var l=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,l),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,l)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var l=0,d=0;d<this.rateUpdates.length;d++){var v=0;d<this.rateUpdates.length-1?v=this.rateUpdates[d+1].time:v=this.manager.context.currentTime-this.playTime,l+=(v-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return l},getLoopTime:function(){for(var l=0,d=0;d<this.rateUpdates.length-1;d++)l+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-l)/v.rate},rate:{get:function(){return this.currentConfig.rate},set:function(l){this.currentConfig.rate=l,this.calculateRate(),this.emit(c.RATE,this,l)}},setRate:function(l){return this.rate=l,this},detune:{get:function(){return this.currentConfig.detune},set:function(l){this.currentConfig.detune=l,this.calculateRate(),this.emit(c.DETUNE,this,l)}},setDetune:function(l){return this.detune=l,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(l){this.currentConfig.mute=l,this.muteNode.gain.setValueAtTime(l?0:1,0),this.emit(c.MUTE,this,l)}},setMute:function(l){return this.mute=l,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(l){this.currentConfig.volume=l,this.volumeNode.gain.setValueAtTime(l,0),this.emit(c.VOLUME,this,l)}},setVolume:function(l){return this.volume=l,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(l){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(l=Math.min(Math.max(0,l),this.duration),this.currentConfig.seek=l,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(c.SEEK,this,l))}},setSeek:function(l){return this.seek=l,this},loop:{get:function(){return this.currentConfig.loop},set:function(l){this.currentConfig.loop=l,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),l&&this.createAndStartLoopBufferSource()),this.emit(c.LOOP,this,l)}},setLoop:function(l){return this.loop=l,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(l){this.currentConfig.pan=l,this.pannerNode&&this.pannerNode.pan.setValueAtTime(l,this.manager.context.currentTime),this.emit(c.PAN,this,l)}},setPan:function(l){return this.pan=l,this}});r.exports=h},57490:(r,o,t)=>{var a=t(53134),p=t(85034),c=t(83419),u=t(14463),h=t(8443),l=t(71741),d=t(95540),v=new c({Extends:p,initialize:function(g){this.context=this.createAudioContext(g),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",p.call(this,g),this.locked&&(g.isBooted?this.unlock():g.events.once(h.BOOT,this.unlock,this)),g.events.on(h.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var f=this.context;window.setTimeout(function(){f&&(f.suspend(),f.resume())},100)},createAudioContext:function(f){var g=f.config.audio;if(g.context)return g.context.resume(),g.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(f){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=f,this.masterMuteNode=f.createGain(),this.masterVolumeNode=f.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(f.destination),this.destination=this.masterMuteNode,this},add:function(f,g){var m=new l(this,f,g);return this.sounds.push(m),m},decodeAudio:function(f,g){var m;Array.isArray(f)?m=f:m=[{key:f,data:g}];for(var x=this.game.cache.audio,y=m.length,b=0;b<m.length;b++){var M=m[b],C=M.key,w=M.data;typeof w=="string"&&(w=a(w));var S=function(T,k){x.add(T,k),this.emit(u.DECODED,T),y--,y===0&&this.emit(u.DECODED_ALL)}.bind(this,C),I=function(T,k){console.error("Error decoding audio: "+T+" - ",k?k.message:""),y--,y===0&&this.emit(u.DECODED_ALL)}.bind(this,C);this.context.decodeAudioData(w,S,I)}},setListenerPosition:function(f,g){return f===void 0&&(f=this.game.scale.width/2),g===void 0&&(g=this.game.scale.height/2),this.listenerPosition.set(f,g),this},unlock:function(){var f=this,g=document.body,m=function x(){if(f.context&&g){var y=g.removeEventListener.bind(g);f.context.resume().then(function(){y("touchstart",x),y("touchend",x),y("mousedown",x),y("mouseup",x),y("keydown",x),f.unlocked=!0},function(){y("touchstart",x),y("touchend",x),y("mousedown",x),y("mouseup",x),y("keydown",x)})}};g&&(g.addEventListener("touchstart",m,!1),g.addEventListener("touchend",m,!1),g.addEventListener("mousedown",m,!1),g.addEventListener("mouseup",m,!1),g.addEventListener("keydown",m,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var f=this.context;f&&!this.locked&&(f.state==="suspended"||f.state==="interrupted")&&f.resume()},update:function(f,g){var m=this.context.listener;if(m&&m.positionX!==void 0){var x=d(this.listenerPosition,"x",null),y=d(this.listenerPosition,"y",null);x&&x!==this._spatialx&&(this._spatialx=m.positionX.value=x),y&&y!==this._spatialy&&(this._spatialy=m.positionY.value=y)}p.prototype.update.call(this,f,g),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var f=this;this.context.close().then(function(){f.context=null})}this.game.events.off(h.VISIBLE,this.onGameVisible,this),p.prototype.destroy.call(this)},setMute:function(f){return this.mute=f,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(f){this.masterMuteNode.gain.setValueAtTime(f?0:1,0),this.emit(u.GLOBAL_MUTE,this,f)}},setVolume:function(f){return this.volume=f,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(f){this.masterVolumeNode.gain.setValueAtTime(f,0),this.emit(u.GLOBAL_VOLUME,this,f)}}});r.exports=v},73162:(r,o,t)=>{var a=t(37105),p=t(83419),c=t(29747),u=t(19186),h=new p({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=c,this.removeCallback=c,this._sortKey=""},add:function(l,d){return d?a.Add(this.list,l):a.Add(this.list,l,0,this.addCallback,this)},addAt:function(l,d,v){return v?a.AddAt(this.list,l,d):a.AddAt(this.list,l,d,0,this.addCallback,this)},getAt:function(l){return this.list[l]},getIndex:function(l){return this.list.indexOf(l)},sort:function(l,d){return l?(d===void 0&&(d=function(v,f){return v[l]-f[l]}),u(this.list,d),this):this},getByName:function(l){return a.GetFirst(this.list,"name",l)},getRandom:function(l,d){return a.GetRandom(this.list,l,d)},getFirst:function(l,d,v,f){return a.GetFirst(this.list,l,d,v,f)},getAll:function(l,d,v,f){return a.GetAll(this.list,l,d,v,f)},count:function(l,d){return a.CountAllMatching(this.list,l,d)},swap:function(l,d){a.Swap(this.list,l,d)},moveTo:function(l,d){return a.MoveTo(this.list,l,d)},moveAbove:function(l,d){return a.MoveAbove(this.list,l,d)},moveBelow:function(l,d){return a.MoveBelow(this.list,l,d)},remove:function(l,d){return d?a.Remove(this.list,l):a.Remove(this.list,l,this.removeCallback,this)},removeAt:function(l,d){return d?a.RemoveAt(this.list,l):a.RemoveAt(this.list,l,this.removeCallback,this)},removeBetween:function(l,d,v){return v?a.RemoveBetween(this.list,l,d):a.RemoveBetween(this.list,l,d,this.removeCallback,this)},removeAll:function(l){for(var d=this.list.length;d--;)this.remove(this.list[d],l);return this},bringToTop:function(l){return a.BringToTop(this.list,l)},sendToBack:function(l){return a.SendToBack(this.list,l)},moveUp:function(l){return a.MoveUp(this.list,l),l},moveDown:function(l){return a.MoveDown(this.list,l),l},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(l,d){return a.Replace(this.list,l,d)},exists:function(l){return this.list.indexOf(l)>-1},setAll:function(l,d,v,f){return a.SetAll(this.list,l,d,v,f),this},each:function(l,d){for(var v=[null],f=2;f<arguments.length;f++)v.push(arguments[f]);for(f=0;f<this.list.length;f++)v[0]=this.list[f],l.apply(d,v)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});r.exports=h},90330:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u){this.entries={},this.size=0,this.setAll(u)},setAll:function(c){if(Array.isArray(c))for(var u=0;u<c.length;u++)this.set(c[u][0],c[u][1]);return this},set:function(c,u){return this.has(c)||this.size++,this.entries[c]=u,this},get:function(c){if(this.has(c))return this.entries[c]},getArray:function(){var c=[],u=this.entries;for(var h in u)c.push(u[h]);return c},has:function(c){return this.entries.hasOwnProperty(c)},delete:function(c){return this.has(c)&&(delete this.entries[c],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(c){delete this.entries[c]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var c=[],u=this.entries;for(var h in u)c.push(u[h]);return c},dump:function(){var c=this.entries;console.group("Map");for(var u in c)console.log(u,c[u]);console.groupEnd()},each:function(c){var u=this.entries;for(var h in u)if(c(h,u[h])===!1)break;return this},contains:function(c){var u=this.entries;for(var h in u)if(u[h]===c)return!0;return!1},merge:function(c,u){u===void 0&&(u=!1);var h=this.entries,l=c.entries;for(var d in l)h.hasOwnProperty(d)&&u?h[d]=l[d]:this.set(d,l[d]);return this}});r.exports=p},25774:(r,o,t)=>{var a=t(83419),p=t(50792),c=t(82348),u=new a({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive(h)&&!this.isDestroying(h)||this.isPending(h)||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var l=this._pending,d=l.indexOf(h);d!==-1&&l.splice(d,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,l=this._destroy,d=h.length;d--;)l.push(h[d]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var h=this._destroy,l=this._active,d,v;for(d=0;d<h.length;d++){v=h[d];var f=l.indexOf(v);f!==-1&&(l.splice(f,1),this.emit(c.PROCESS_QUEUE_REMOVE,v))}for(h.length=0,h=this._pending,d=0;d<h.length;d++)v=h[d],(!this.checkQueue||this.checkQueue&&l.indexOf(v)===-1)&&(l.push(v),this.emit(c.PROCESS_QUEUE_ADD,v));return h.length=0,this._toProcess=0,l},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});r.exports=u},59542:(r,o,t)=>{var a=t(43886);function p(w){var S=[".left",".top",".right",".bottom"];if(!(this instanceof p))return new p(w,S);this._maxEntries=Math.max(4,w||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(w){var S=this.data,I=[],T=this.toBBox;if(!b(w,S))return I;for(var k=[],E,A,L,D;S;){for(E=0,A=S.children.length;E<A;E++)L=S.children[E],D=S.leaf?T(L):L,b(w,D)&&(S.leaf?I.push(L):y(w,D)?this._all(L,I):k.push(L));S=k.pop()}return I},collides:function(w){var S=this.data,I=this.toBBox;if(!b(w,S))return!1;for(var T=[],k,E,A,L;S;){for(k=0,E=S.children.length;k<E;k++)if(A=S.children[k],L=S.leaf?I(A):A,b(w,L)){if(S.leaf||y(w,L))return!0;T.push(A)}S=T.pop()}return!1},load:function(w){if(!(w&&w.length))return this;if(w.length<this._minEntries){for(var S=0,I=w.length;S<I;S++)this.insert(w[S]);return this}var T=this._build(w.slice(),0,w.length-1,0);if(!this.data.children.length)this.data=T;else if(this.data.height===T.height)this._splitRoot(this.data,T);else{if(this.data.height<T.height){var k=this.data;this.data=T,T=k}this._insert(T,this.data.height-T.height-1,!0)}return this},insert:function(w){return w&&this._insert(w,this.data.height-1),this},clear:function(){return this.data=M([]),this},remove:function(w,S){if(!w)return this;for(var I=this.data,T=this.toBBox(w),k=[],E=[],A,L,D,R;I||k.length;){if(I||(I=k.pop(),L=k[k.length-1],A=E.pop(),R=!0),I.leaf&&(D=c(w,I.children,S),D!==-1))return I.children.splice(D,1),k.push(I),this._condense(k),this;!R&&!I.leaf&&y(I,T)?(k.push(I),E.push(A),A=0,L=I,I=I.children[0]):L?(A++,I=L.children[A],R=!1):I=null}return this},toBBox:function(w){return w},compareMinX:d,compareMinY:v,toJSON:function(){return this.data},fromJSON:function(w){return this.data=w,this},_all:function(w,S){for(var I=[];w;)w.leaf?S.push.apply(S,w.children):I.push.apply(I,w.children),w=I.pop();return S},_build:function(w,S,I,T){var k=I-S+1,E=this._maxEntries,A;if(k<=E)return A=M(w.slice(S,I+1)),u(A,this.toBBox),A;T||(T=Math.ceil(Math.log(k)/Math.log(E)),E=Math.ceil(k/Math.pow(E,T-1))),A=M([]),A.leaf=!1,A.height=T;var L=Math.ceil(k/E),D=L*Math.ceil(Math.sqrt(E)),R,N,P,O;for(C(w,S,I,D,this.compareMinX),R=S;R<=I;R+=D)for(P=Math.min(R+D-1,I),C(w,R,P,L,this.compareMinY),N=R;N<=P;N+=L)O=Math.min(N+L-1,P),A.children.push(this._build(w,N,O,T-1));return u(A,this.toBBox),A},_chooseSubtree:function(w,S,I,T){for(var k,E,A,L,D,R,N,P;T.push(S),!(S.leaf||T.length-1===I);){for(N=P=1/0,k=0,E=S.children.length;k<E;k++)A=S.children[k],D=f(A),R=m(w,A)-D,R<P?(P=R,N=D<N?D:N,L=A):R===P&&D<N&&(N=D,L=A);S=L||S.children[0]}return S},_insert:function(w,S,I){var T=this.toBBox,k=I?w:T(w),E=[],A=this._chooseSubtree(k,this.data,S,E);for(A.children.push(w),l(A,k);S>=0&&E[S].children.length>this._maxEntries;)this._split(E,S),S--;this._adjustParentBBoxes(k,E,S)},_split:function(w,S){var I=w[S],T=I.children.length,k=this._minEntries;this._chooseSplitAxis(I,k,T);var E=this._chooseSplitIndex(I,k,T),A=M(I.children.splice(E,I.children.length-E));A.height=I.height,A.leaf=I.leaf,u(I,this.toBBox),u(A,this.toBBox),S?w[S-1].children.push(A):this._splitRoot(I,A)},_splitRoot:function(w,S){this.data=M([w,S]),this.data.height=w.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(w,S,I){var T,k,E,A,L,D,R,N;for(D=R=1/0,T=S;T<=I-S;T++)k=h(w,0,T,this.toBBox),E=h(w,T,I,this.toBBox),A=x(k,E),L=f(k)+f(E),A<D?(D=A,N=T,R=L<R?L:R):A===D&&L<R&&(R=L,N=T);return N},_chooseSplitAxis:function(w,S,I){var T=w.leaf?this.compareMinX:d,k=w.leaf?this.compareMinY:v,E=this._allDistMargin(w,S,I,T),A=this._allDistMargin(w,S,I,k);E<A&&w.children.sort(T)},_allDistMargin:function(w,S,I,T){w.children.sort(T);var k=this.toBBox,E=h(w,0,S,k),A=h(w,I-S,I,k),L=g(E)+g(A),D,R;for(D=S;D<I-S;D++)R=w.children[D],l(E,w.leaf?k(R):R),L+=g(E);for(D=I-S-1;D>=S;D--)R=w.children[D],l(A,w.leaf?k(R):R),L+=g(A);return L},_adjustParentBBoxes:function(w,S,I){for(var T=I;T>=0;T--)l(S[T],w)},_condense:function(w){for(var S=w.length-1,I;S>=0;S--)w[S].children.length===0?S>0?(I=w[S-1].children,I.splice(I.indexOf(w[S]),1)):this.clear():u(w[S],this.toBBox)},compareMinX:function(w,S){return w.left-S.left},compareMinY:function(w,S){return w.top-S.top},toBBox:function(w){return{minX:w.left,minY:w.top,maxX:w.right,maxY:w.bottom}}};function c(w,S,I){if(!I)return S.indexOf(w);for(var T=0;T<S.length;T++)if(I(w,S[T]))return T;return-1}function u(w,S){h(w,0,w.children.length,S,w)}function h(w,S,I,T,k){k||(k=M(null)),k.minX=1/0,k.minY=1/0,k.maxX=-1/0,k.maxY=-1/0;for(var E=S,A;E<I;E++)A=w.children[E],l(k,w.leaf?T(A):A);return k}function l(w,S){return w.minX=Math.min(w.minX,S.minX),w.minY=Math.min(w.minY,S.minY),w.maxX=Math.max(w.maxX,S.maxX),w.maxY=Math.max(w.maxY,S.maxY),w}function d(w,S){return w.minX-S.minX}function v(w,S){return w.minY-S.minY}function f(w){return(w.maxX-w.minX)*(w.maxY-w.minY)}function g(w){return w.maxX-w.minX+(w.maxY-w.minY)}function m(w,S){return(Math.max(S.maxX,w.maxX)-Math.min(S.minX,w.minX))*(Math.max(S.maxY,w.maxY)-Math.min(S.minY,w.minY))}function x(w,S){var I=Math.max(w.minX,S.minX),T=Math.max(w.minY,S.minY),k=Math.min(w.maxX,S.maxX),E=Math.min(w.maxY,S.maxY);return Math.max(0,k-I)*Math.max(0,E-T)}function y(w,S){return w.minX<=S.minX&&w.minY<=S.minY&&S.maxX<=w.maxX&&S.maxY<=w.maxY}function b(w,S){return S.minX<=w.maxX&&S.minY<=w.maxY&&S.maxX>=w.minX&&S.maxY>=w.minY}function M(w){return{children:w,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function C(w,S,I,T,k){for(var E=[S,I],A;E.length;)I=E.pop(),S=E.pop(),!(I-S<=T)&&(A=S+Math.ceil((I-S)/T/2)*T,a(w,A,S,I,k),E.push(S,A,A,I))}r.exports=p},35072:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u){if(this.entries=[],Array.isArray(u))for(var h=0;h<u.length;h++)this.set(u[h])},set:function(c){return this.entries.indexOf(c)===-1&&this.entries.push(c),this},get:function(c,u){for(var h=0;h<this.entries.length;h++){var l=this.entries[h];if(l[c]===u)return l}},getArray:function(){return this.entries.slice(0)},delete:function(c){var u=this.entries.indexOf(c);return u>-1&&this.entries.splice(u,1),this},dump:function(){console.group("Set");for(var c=0;c<this.entries.length;c++){var u=this.entries[c];console.log(u)}console.groupEnd()},each:function(c,u){var h,l=this.entries.slice(),d=l.length;if(u)for(h=0;h<d&&c.call(u,l[h],h)!==!1;h++);else for(h=0;h<d&&c(l[h],h)!==!1;h++);return this},iterate:function(c,u){var h,l=this.entries.length;if(u)for(h=0;h<l&&c.call(u,this.entries[h],h)!==!1;h++);else for(h=0;h<l&&c(this.entries[h],h)!==!1;h++);return this},iterateLocal:function(c){var u,h=[];for(u=1;u<arguments.length;u++)h.push(arguments[u]);var l=this.entries.length;for(u=0;u<l;u++){var d=this.entries[u];d[c].apply(d,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(c){return this.entries.indexOf(c)>-1},union:function(c){var u=new p;return c.entries.forEach(function(h){u.set(h)}),this.entries.forEach(function(h){u.set(h)}),u},intersect:function(c){var u=new p;return this.entries.forEach(function(h){c.contains(h)&&u.set(h)}),u},difference:function(c){var u=new p;return this.entries.forEach(function(h){c.contains(h)||u.set(h)}),u},size:{get:function(){return this.entries.length},set:function(c){return c<this.entries.length?this.entries.length=c:this.entries.length}}});r.exports=p},86555:(r,o,t)=>{var a=t(45319),p=t(83419),c=t(56583),u=t(26099),h=new p({initialize:function(d,v,f,g){d===void 0&&(d=0),v===void 0&&(v=d),f===void 0&&(f=0),g===void 0&&(g=null),this._width=d,this._height=v,this._parent=g,this.aspectMode=f,this.aspectRatio=v===0?1:d/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},setAspectMode:function(l){return l===void 0&&(l=0),this.aspectMode=l,this.setSize(this._width,this._height)},setSnap:function(l,d){return l===void 0&&(l=0),d===void 0&&(d=l),this.snapTo.set(l,d),this.setSize(this._width,this._height)},setParent:function(l){return this._parent=l,this.setSize(this._width,this._height)},setMin:function(l,d){return l===void 0&&(l=0),d===void 0&&(d=l),this.minWidth=a(l,0,this.maxWidth),this.minHeight=a(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(l,d){return l===void 0&&(l=Number.MAX_VALUE),d===void 0&&(d=l),this.maxWidth=a(l,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(l,d){switch(l===void 0&&(l=0),d===void 0&&(d=l),this.aspectMode){case h.NONE:this._width=this.getNewWidth(c(l,this.snapTo.x)),this._height=this.getNewHeight(c(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(c(l,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(c(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(l,d,!0);break;case h.ENVELOP:this.constrain(l,d,!1);break}return this},setAspectRatio:function(l){return this.aspectRatio=l,this.setSize(this._width,this._height)},resize:function(l,d){return this._width=this.getNewWidth(c(l,this.snapTo.x)),this._height=this.getNewHeight(c(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(l,d){return d===void 0&&(d=!0),l=a(l,this.minWidth,this.maxWidth),d&&this._parent&&l>this._parent.width&&(l=Math.max(this.minWidth,this._parent.width)),l},getNewHeight:function(l,d){return d===void 0&&(d=!0),l=a(l,this.minHeight,this.maxHeight),d&&this._parent&&l>this._parent.height&&(l=Math.max(this.minHeight,this._parent.height)),l},constrain:function(l,d,v){l===void 0&&(l=0),d===void 0&&(d=l),v===void 0&&(v=!0),l=this.getNewWidth(l),d=this.getNewHeight(d);var f=this.snapTo,g=d===0?1:l/d;return v&&this.aspectRatio>g||!v&&this.aspectRatio<g?(l=c(l,f.x),d=l/this.aspectRatio,f.y>0&&(d=c(d,f.y),l=d*this.aspectRatio)):(v&&this.aspectRatio<g||!v&&this.aspectRatio>g)&&(d=c(d,f.y),l=d*this.aspectRatio,f.x>0&&(l=c(l,f.x),d=l*(1/this.aspectRatio))),this._width=l,this._height=d,this},fitTo:function(l,d){return this.constrain(l,d,!0)},envelop:function(l,d){return this.constrain(l,d,!1)},setWidth:function(l){return this.setSize(l,this._height)},setHeight:function(l){return this.setSize(this._width,l)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(l){l&&l.style&&(l.style.width=this._width+"px",l.style.height=this._height+"px")},copy:function(l){return l.setAspectMode(this.aspectMode),l.aspectRatio=this.aspectRatio,l.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(l){this.setSize(l,this._height)}},height:{get:function(){return this._height},set:function(l){this.setSize(this._width,l)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,r.exports=h},15238:r=>{r.exports="add"},56187:r=>{r.exports="remove"},82348:(r,o,t)=>{r.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(r,o,t)=>{r.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(r,o,t)=>{var a=t(83419),p=t(45319),c=t(40987),u=t(8054),h=t(50030),l=t(79237),d=new a({Extends:l,initialize:function(f,g,m,x,y){l.call(this,f,g,m,x,y),this.add("__BASE",0,0,0,x,y),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=y,this.imageData=this.context.getImageData(0,0,x,y),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},draw:function(v,f,g,m){return m===void 0&&(m=!0),this.context.drawImage(g,v,f),m&&this.update(),this},drawFrame:function(v,f,g,m,x){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=!0);var y=this.manager.getFrame(v,f);if(y){var b=y.canvasData,M=y.cutWidth,C=y.cutHeight,w=y.source.resolution;this.context.drawImage(y.source.image,b.x,b.y,M,C,g,m,M/w,C/w),x&&this.update()}return this},setPixel:function(v,f,g,m,x,y){y===void 0&&(y=255),v=Math.abs(Math.floor(v)),f=Math.abs(Math.floor(f));var b=this.getIndex(v,f);if(b>-1){var M=this.context.getImageData(v,f,1,1);M.data[0]=g,M.data[1]=m,M.data[2]=x,M.data[3]=y,this.context.putImageData(M,v,f)}return this},putData:function(v,f,g,m,x,y,b){return m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=v.width),b===void 0&&(b=v.height),this.context.putImageData(v,f,g,m,x,y,b),this},getData:function(v,f,g,m){v=p(Math.floor(v),0,this.width-1),f=p(Math.floor(f),0,this.height-1),g=p(g,1,this.width-v),m=p(m,1,this.height-f);var x=this.context.getImageData(v,f,g,m);return x},getPixel:function(v,f,g){g||(g=new c);var m=this.getIndex(v,f);if(m>-1){var x=this.data,y=x[m+0],b=x[m+1],M=x[m+2],C=x[m+3];g.setTo(y,b,M,C)}return g},getPixels:function(v,f,g,m){v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=this.width),m===void 0&&(m=g),v=Math.abs(Math.round(v)),f=Math.abs(Math.round(f));for(var x=p(v,0,this.width),y=p(v+g,0,this.width),b=p(f,0,this.height),M=p(f+m,0,this.height),C=new c,w=[],S=b;S<M;S++){for(var I=[],T=x;T<y;T++)C=this.getPixel(T,S,C),I.push({x:T,y:S,color:C.color,alpha:C.alphaGL});w.push(I)}return w},getIndex:function(v,f){return v=Math.abs(Math.round(v)),f=Math.abs(Math.round(f)),v<this.width&&f<this.height?(v+f*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(v,f,g,m,x){return v===void 0&&(v=0),f===void 0&&(f=0),g===void 0&&(g=this.width),m===void 0&&(m=this.height),x===void 0&&(x=!0),this.context.clearRect(v,f,g,m),x&&this.update(),this},setSize:function(v,f){return f===void 0&&(f=v),(v!==this.width||f!==this.height)&&(this.canvas.width=v,this.canvas.height=f,this._source.width=v,this._source.height=f,this._source.isPowerOf2=h(v,f),this.frames.__BASE.setSize(v,f,0,0),this.width=v,this.height=f,this.refresh()),this},destroy:function(){l.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});r.exports=d},81320:(r,o,t)=>{var a=t(10312),p=t(38058),c=t(27919),u=t(83419),h=t(8054),l=t(4327),d=t(95540),v=t(36060),f=t(32302),g=t(79237),m=t(70554),x=new u({Extends:g,initialize:function(b,M,C,w,S){C===void 0&&(C=256),w===void 0&&(w=256),S===void 0&&(S=!0),this.type="DynamicTexture";var I=b.game.renderer,T=I&&I.type===h.CANVAS,k=T?c.create2D(this,C,w):[this];g.call(this,b,M,k,C,w),this.add("__BASE",0,0,0,C,w),this.renderer=I,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=T?k:null,this.context=T?k.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,C,w).setScene(b.game.scene.systemScene,!1),this.renderTarget=T?null:new f(I,C,w,1,0,!1,!1,!0,!1),this.pipeline=T?null:I.pipelines.get(v.SINGLE_PIPELINE),this.setSize(C,w,S)},setSize:function(y,b,M){b===void 0&&(b=y),M===void 0&&(M=!0),M&&(y=Math.floor(y),b=Math.floor(b),y%2!==0&&y++,b%2!==0&&b++);var C=this.get(),w=C.source;if(y!==this.width||b!==this.height){this.canvas&&(this.canvas.width=y,this.canvas.height=b);var S=this.renderTarget;S&&(S.willResize(y,b)&&S.resize(y,b),S.texture!==w.glTexture&&this.renderer.deleteTexture(w.glTexture),this.setFromRenderTarget()),this.camera.setSize(y,b),w.width=y,w.height=b,C.setSize(y,b),this.width=y,this.height=b}else{var I=this.getSourceImage();C.cutX+y>I.width&&(y=I.width-C.cutX),C.cutY+b>I.height&&(b=I.height-C.cutY),C.setSize(y,b,C.cutX,C.cutY)}return this},setFromRenderTarget:function(){var y=this.get(),b=y.source,M=this.renderTarget;return b.isRenderTexture=!0,b.isGLTexture=!0,b.glTexture=M.texture,this},setIsSpriteTexture:function(y){return this.isSpriteTexture=y,this},fill:function(y,b,M,C,w,S){var I=this.camera,T=this.renderer;b===void 0&&(b=1),M===void 0&&(M=0),C===void 0&&(C=0),w===void 0&&(w=this.width),S===void 0&&(S=this.height);var k=y>>16&255,E=y>>8&255,A=y&255,L=this.renderTarget;if(I.preRender(),L){L.bind(!0);var D=this.pipeline.manager.set(this.pipeline),R=T.width/L.width,N=T.height/L.height,P=L.height-(C+S);D.drawFillRect(M*R,P*N,w*R,S*N,m.getTintFromFloats(A/255,E/255,k/255,1),b),L.unbind(!0)}else{var O=this.context;T.setContext(O),O.globalCompositeOperation="source-over",O.fillStyle="rgba("+k+","+E+","+A+","+b+")",O.fillRect(M,C,w,S),T.setContext()}return this.dirty=!0,this},clear:function(y,b,M,C){if(this.dirty){var w=this.context,S=this.renderTarget;S?S.clear(y,b,M,C):w&&(y!==void 0&&b!==void 0&&M!==void 0&&C!==void 0?w.clearRect(y,b,M,C):(w.save(),w.setTransform(1,0,0,1,0,0),w.clearRect(0,0,this.width,this.height),w.restore())),this.dirty=!1}return this},stamp:function(y,b,M,C,w){M===void 0&&(M=0),C===void 0&&(C=0);var S=d(w,"alpha",1),I=d(w,"tint",16777215),T=d(w,"angle",0),k=d(w,"rotation",0),E=d(w,"scale",1),A=d(w,"scaleX",E),L=d(w,"scaleY",E),D=d(w,"originX",.5),R=d(w,"originY",.5),N=d(w,"blendMode",0),P=d(w,"erase",!1),O=d(w,"skipBatch",!1),W=this.manager.resetStamp(S,I);return W.setAngle(0),T!==0?W.setAngle(T):k!==0&&W.setRotation(k),W.setScale(A,L),W.setTexture(y,b),W.setOrigin(D,R),W.setBlendMode(N),P&&(this._eraseMode=!0),O?this.batchGameObject(W,M,C):this.draw(W,M,C),P&&(this._eraseMode=!1),this},erase:function(y,b,M){return this._eraseMode=!0,this.draw(y,b,M),this._eraseMode=!1,this},draw:function(y,b,M,C,w){return this.beginDraw(),this.batchDraw(y,b,M,C,w),this.endDraw(),this},drawFrame:function(y,b,M,C,w,S){return this.beginDraw(),this.batchDrawFrame(y,b,M,C,w,S),this.endDraw(),this},repeat:function(y,b,M,C,w,S,I,T,k){if(M===void 0&&(M=0),C===void 0&&(C=0),w===void 0&&(w=this.width),S===void 0&&(S=this.height),I===void 0&&(I=1),T===void 0&&(T=16777215),k===void 0&&(k=!1),y instanceof l?b=y:b=this.manager.getFrame(y,b),!b)return this;var E=this.manager.resetStamp(I,T);E.setFrame(b),E.setOrigin(0);var A=b.width,L=b.height;w=Math.floor(w),S=Math.floor(S);var D=Math.ceil(w/A),R=Math.ceil(S/L),N=D*A-w,P=R*L-S;N>0&&(N=A-N),P>0&&(P=L-P),M<0&&(D+=Math.ceil(Math.abs(M)/A)),C<0&&(R+=Math.ceil(Math.abs(C)/L));var O=M,W=C,G=!1,H=this.manager.stampCrop.setTo(0,0,A,L);k||this.beginDraw();for(var V=0;V<R;V++){if(W+L<0){W+=L;continue}for(var B=0;B<D;B++){if(G=!1,O+A<0){O+=A;continue}else O<0&&(G=!0,H.width=A+O,H.x=A-H.width);W<0&&(G=!0,H.height=L+W,H.y=L-H.height),N>0&&B===D-1&&(G=!0,H.width=N),P>0&&V===R-1&&(G=!0,H.height=P),G&&E.setCrop(H),this.batchGameObject(E,O,W),E.isCropped=!1,H.setTo(0,0,A,L),O+=A}O=M,W+=L}return k||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var y=this.camera,b=this.renderer,M=this.renderTarget;y.preRender(),M?b.beginCapture(M.width,M.height):b.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(y,b,M,C,w){return Array.isArray(y)||(y=[y]),this.batchList(y,b,M,C,w),this},batchDrawFrame:function(y,b,M,C,w,S){M===void 0&&(M=0),C===void 0&&(C=0),w===void 0&&(w=1),S===void 0&&(S=16777215);var I=this.manager.getFrame(y,b);return I&&(this.renderTarget?this.pipeline.batchTextureFrame(I,M,C,S,w,this.camera.matrix,null):this.batchTextureFrame(I,M,C,w,S)),this},endDraw:function(y){if(y===void 0&&(y=this._eraseMode),this.isDrawing){var b=this.renderer,M=this.renderTarget;if(M){var C=b.endCapture(),w=b.pipelines.setUtility();w.blitFrame(C,M,1,!1,!1,y,this.isSpriteTexture),b.resetScissor(),b.resetViewport()}else b.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(y,b,M,C,w){var S=y.length;if(S!==0)for(var I=0;I<S;I++){var T=y[I];!T||T===this||(T.renderWebGL||T.renderCanvas?this.batchGameObject(T,b,M):T.isParent||T.list?this.batchGroup(T.getChildren(),b,M):typeof T=="string"?this.batchTextureFrameKey(T,null,b,M,C,w):T instanceof l?this.batchTextureFrame(T,b,M,C,w):Array.isArray(T)&&this.batchList(T,b,M,C,w))}},batchGroup:function(y,b,M){b===void 0&&(b=0),M===void 0&&(M=0);for(var C=0;C<y.length;C++){var w=y[C];w.willRender(this.camera)&&this.batchGameObject(w,w.x+b,w.y+M)}},batchGameObject:function(y,b,M){b===void 0&&(b=y.x),M===void 0&&(M=y.y);var C=y.x,w=y.y,S=this.camera,I=this.renderer,T=this._eraseMode,k=y.mask;if(y.setPosition(b,M),this.canvas){if(T){var E=y.blendMode;y.blendMode=a.ERASE}k&&k.preRenderCanvas(I,y,S),y.renderCanvas(I,y,S,null),k&&k.postRenderCanvas(I,y,S),T&&(y.blendMode=E)}else I&&(k&&k.preRenderWebGL(I,y,S),T||I.setBlendMode(y.blendMode),y.renderWebGL(I,y,S),k&&k.postRenderWebGL(I,S,this.renderTarget));y.setPosition(C,w)},batchTextureFrameKey:function(y,b,M,C,w,S){var I=this.manager.getFrame(y,b);I&&this.batchTextureFrame(I,M,C,w,S)},batchTextureFrame:function(y,b,M,C,w){b===void 0&&(b=0),M===void 0&&(M=0),C===void 0&&(C=1),w===void 0&&(w=16777215);var S=this.camera.matrix,I=this.renderTarget;if(I)this.pipeline.batchTextureFrame(y,b,M,w,C,S,null);else{var T=this.context,k=y.canvasData,E=y.source.image;T.save(),T.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",T.globalAlpha=C,S.setToContext(T),k.width>0&&k.height>0&&T.drawImage(E,k.x,k.y,k.width,k.height,b,M,k.width,k.height),T.restore()}},snapshotArea:function(y,b,M,C,w,S,I){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,w,!1,y,b,M,C,S,I):this.renderer.snapshotCanvas(this.canvas,w,!1,y,b,M,C,S,I),this},snapshot:function(y,b,M){return this.snapshotArea(0,0,this.width,this.height,y,b,M)},snapshotPixel:function(y,b,M){return this.snapshotArea(y,b,1,1,M,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(y,b,M,C){var w=this.manager.resetStamp();w.setTexture(this),w.setOrigin(0),w.renderWebGL(y,w,M,C)},renderCanvas:function(){},destroy:function(){var y=this.manager.stamp;y&&y.texture===this&&this.manager.resetStamp(),g.prototype.destroy.call(this),c.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});r.exports=x},4327:(r,o,t)=>{var a=t(83419),p=t(45319),c=t(79291),u=new a({initialize:function(l,d,v,f,g,m,x){this.texture=l,this.name=d,this.source=l.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(m,x,f,g)},setCutPosition:function(h,l){return h===void 0&&(h=0),l===void 0&&(l=0),this.cutX=h,this.cutY=l,this.updateUVs()},setCutSize:function(h,l){return this.cutWidth=h,this.cutHeight=l,this.updateUVs()},setSize:function(h,l,d,v){d===void 0&&(d=0),v===void 0&&(v=0),this.setCutPosition(d,v),this.setCutSize(h,l),this.width=h,this.height=l,this.halfWidth=Math.floor(h*.5),this.halfHeight=Math.floor(l*.5),this.centerX=Math.floor(h/2),this.centerY=Math.floor(l/2);var f=this.data,g=f.cut;g.x=d,g.y=v,g.w=h,g.h=l,g.r=d+h,g.b=v+l,f.sourceSize.w=h,f.sourceSize.h=l,f.spriteSourceSize.w=h,f.spriteSourceSize.h=l,f.radius=.5*Math.sqrt(h*h+l*l);var m=f.drawImage;return m.x=d,m.y=v,m.width=h,m.height=l,this.updateUVs()},setTrim:function(h,l,d,v,f,g){var m=this.data,x=m.spriteSourceSize;return m.trim=!0,m.sourceSize.w=h,m.sourceSize.h=l,x.x=d,x.y=v,x.w=f,x.h=g,x.r=d+f,x.b=v+g,this.x=d,this.y=v,this.width=f,this.height=g,this.halfWidth=f*.5,this.halfHeight=g*.5,this.centerX=Math.floor(f/2),this.centerY=Math.floor(g/2),this.updateUVs()},setScale9:function(h,l,d,v){var f=this.data;return f.scale9=!0,f.is3Slice=l===0&&v===this.height,f.scale9Borders.x=h,f.scale9Borders.y=l,f.scale9Borders.w=d,f.scale9Borders.h=v,this},setCropUVs:function(h,l,d,v,f,g,m){var x=this.cutX,y=this.cutY,b=this.cutWidth,M=this.cutHeight,C=this.realWidth,w=this.realHeight;l=p(l,0,C),d=p(d,0,w),v=p(v,0,C-l),f=p(f,0,w-d);var S=x+l,I=y+d,T=v,k=f,E=this.data;if(E.trim){var A=E.spriteSourceSize;v=p(v,0,A.x+b-l),f=p(f,0,A.y+M-d);var L=l+v,D=d+f,R=!(A.r<l||A.b<d||A.x>L||A.y>D);if(R){var N=Math.max(A.x,l),P=Math.max(A.y,d),O=Math.min(A.r,L)-N,W=Math.min(A.b,D)-P;T=O,k=W,g?S=x+(b-(N-A.x)-O):S=x+(N-A.x),m?I=y+(M-(P-A.y)-W):I=y+(P-A.y),l=N,d=P,v=O,f=W}else S=0,I=0,T=0,k=0}else g&&(S=x+(b-l-v)),m&&(I=y+(M-d-f));var G=this.source.width,H=this.source.height;return h.u0=Math.max(0,S/G),h.v0=Math.max(0,I/H),h.u1=Math.min(1,(S+T)/G),h.v1=Math.min(1,(I+k)/H),h.x=l,h.y=d,h.cx=S,h.cy=I,h.cw=T,h.ch=k,h.width=v,h.height=f,h.flipX=g,h.flipY=m,h},updateCropUVs:function(h,l,d){return this.setCropUVs(h,h.x,h.y,h.width,h.height,l,d)},setUVs:function(h,l,d,v,f,g){var m=this.data.drawImage;return m.width=h,m.height=l,this.u0=d,this.v0=v,this.u1=f,this.v1=g,this},updateUVs:function(){var h=this.cutX,l=this.cutY,d=this.cutWidth,v=this.cutHeight,f=this.data.drawImage;f.width=d,f.height=v;var g=this.source.width,m=this.source.height;return this.u0=h/g,this.v0=l/m,this.u1=(h+d)/g,this.v1=(l+v)/m,this},updateUVsInverted:function(){var h=this.source.width,l=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/l,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/l,this},clone:function(){var h=new u(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=c(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});r.exports=u},79237:(r,o,t)=>{var a=t(83419),p=t(4327),c=t(11876),u='Texture "%s" has no frame "%s"',h=new a({initialize:function(d,v,f,g,m){Array.isArray(f)||(f=[f]),this.manager=d,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<f.length;x++)this.source.push(new c(this,f[x],g,m))},add:function(l,d,v,f,g,m){if(this.has(l))return null;var x=new p(this,l,d,v,f,g,m);return this.frames[l]=x,this.firstFrame==="__BASE"&&(this.firstFrame=l),this.frameTotal++,x},remove:function(l){if(this.has(l)){var d=this.get(l);return d.destroy(),delete this.frames[l],!0}return!1},has:function(l){return this.frames.hasOwnProperty(l)},get:function(l){l||(l=this.firstFrame);var d=this.frames[l];return d||(console.warn(u,this.key,l),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(l){for(var d=0;d<this.source.length;d++)if(this.source[d]===l)return d;return-1},getFramesFromTextureSource:function(l,d){d===void 0&&(d=!1);var v=[];for(var f in this.frames)if(!(f==="__BASE"&&!d)){var g=this.frames[f];g.sourceIndex===l&&v.push(g)}return v},getFrameBounds:function(l){l===void 0&&(l=0);for(var d=this.getFramesFromTextureSource(l,!0),v=d[0],f=v.cutX,g=v.cutY,m=v.cutX+v.cutWidth,x=v.cutY+v.cutHeight,y=1;y<d.length;y++){var b=d[y];b.cutX<f&&(f=b.cutX),b.cutY<g&&(g=b.cutY),b.cutX+b.cutWidth>m&&(m=b.cutX+b.cutWidth),b.cutY+b.cutHeight>x&&(x=b.cutY+b.cutHeight)}return{x:f,y:g,width:m-f,height:x-g}},getFrameNames:function(l){l===void 0&&(l=!1);var d=Object.keys(this.frames);if(!l){var v=d.indexOf("__BASE");v!==-1&&d.splice(v,1)}return d},getSourceImage:function(l){(l==null||this.frameTotal===1)&&(l="__BASE");var d=this.frames[l];return d?d.source.image:(console.warn(u,this.key,l),this.frames.__BASE.source.image)},getDataSourceImage:function(l){(l==null||this.frameTotal===1)&&(l="__BASE");var d=this.frames[l],v;return d?v=d.sourceIndex:(console.warn(u,this.key,l),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},setDataSource:function(l){Array.isArray(l)||(l=[l]);for(var d=0;d<l.length;d++){var v=this.source[d];this.dataSource.push(new c(this,l[d],v.width,v.height))}},setFilter:function(l){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(l);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(l)},destroy:function(){var l,d=this.source,v=this.dataSource;for(l=0;l<d.length;l++)d[l]&&d[l].destroy();for(l=0;l<v.length;l++)v[l]&&v[l].destroy();for(var f in this.frames){var g=this.frames[f];g&&g.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});r.exports=h},17130:(r,o,t)=>{var a=t(27919),p=t(57382),c=t(83419),u=t(40987),h=t(8054),l=t(81320),d=t(50792),v=t(69442),f=t(4327),g=t(8443),m=t(99584),x=t(35154),y=t(88571),b=t(41212),M=t(61309),C=t(87841),w=t(79237),S=new c({Extends:d,initialize:function(T){d.call(this),this.game=T,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new C,this.silentWarnings=!1,T.events.once(g.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var I=this.game.config;I.defaultImage!==null&&this.addBase64("__DEFAULT",I.defaultImage),I.missingImage!==null&&this.addBase64("__MISSING",I.missingImage),I.whiteImage!==null&&this.addBase64("__WHITE",I.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(g.DESTROY,this.destroy,this),this.game.events.once(g.SYSTEM_READY,function(T){this.stamp=new y(T).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},checkKey:function(I){return!I||typeof I!="string"||this.exists(I)?(this.silentWarnings||console.error("Texture key already in use: "+I),!1):!0},remove:function(I){if(typeof I=="string")if(this.exists(I))I=this.get(I);else return this.silentWarnings||console.warn("No texture found matching key: "+I),this;var T=I.key;return this.list.hasOwnProperty(T)&&(I.destroy(),this.emit(v.REMOVE,T),this.emit(v.REMOVE_KEY+T)),this},removeKey:function(I){return this.list.hasOwnProperty(I)&&delete this.list[I],this},addBase64:function(I,T){if(this.checkKey(I)){var k=this,E=new Image;E.onerror=function(){k.emit(v.ERROR,I)},E.onload=function(){var A=k.create(I,E);A&&(M.Image(A,0),k.emit(v.ADD,I,A),k.emit(v.ADD_KEY+I,A),k.emit(v.LOAD,I,A))},E.src=T}return this},getBase64:function(I,T,k,E){k===void 0&&(k="image/png"),E===void 0&&(E=.92);var A="",L=this.getFrame(I,T);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var D=L.canvasData,R=a.create2D(this,D.width,D.height),N=R.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&N.drawImage(L.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),A=R.toDataURL(k,E),a.remove(R)}return A},addImage:function(I,T,k){var E=null;return this.checkKey(I)&&(E=this.create(I,T),M.Image(E,0),k&&E.setDataSource(k),this.emit(v.ADD,I,E),this.emit(v.ADD_KEY+I,E)),E},addGLTexture:function(I,T){var k=null;if(this.checkKey(I)){var E=T.width,A=T.height;k=this.create(I,T,E,A),k.add("__BASE",0,0,0,E,A),this.emit(v.ADD,I,k),this.emit(v.ADD_KEY+I,k)}return k},addCompressedTexture:function(I,T,k){var E=null;if(this.checkKey(I)){if(E=this.create(I,T),E.add("__BASE",0,0,0,T.width,T.height),k){var A=function(D,R,N){Array.isArray(N.textures)||Array.isArray(N.frames)?M.JSONArray(D,R,N):M.JSONHash(D,R,N)};if(Array.isArray(k))for(var L=0;L<k.length;L++)A(E,L,k[L]);else A(E,0,k)}this.emit(v.ADD,I,E),this.emit(v.ADD_KEY+I,E)}return E},addRenderTexture:function(I,T){var k=null;return this.checkKey(I)&&(k=this.create(I,T),k.add("__BASE",0,0,0,T.width,T.height),this.emit(v.ADD,I,k),this.emit(v.ADD_KEY+I,k)),k},generate:function(I,T){if(this.checkKey(I)){var k=a.create(this,1,1);return T.canvas=k,m(T),this.addCanvas(I,k)}else return null},createCanvas:function(I,T,k){if(T===void 0&&(T=256),k===void 0&&(k=256),this.checkKey(I)){var E=a.create(this,T,k,h.CANVAS,!0);return this.addCanvas(I,E)}return null},addCanvas:function(I,T,k){k===void 0&&(k=!1);var E=null;return k?E=new p(this,I,T,T.width,T.height):this.checkKey(I)&&(E=new p(this,I,T,T.width,T.height),this.list[I]=E,this.emit(v.ADD,I,E),this.emit(v.ADD_KEY+I,E)),E},addDynamicTexture:function(I,T,k){var E=null;return typeof I=="string"&&!this.exists(I)?E=new l(this,I,T,k):(E=I,I=E.key),this.checkKey(I)?(this.list[I]=E,this.emit(v.ADD,I,E),this.emit(v.ADD_KEY+I,E)):E=null,E},addAtlas:function(I,T,k,E){return Array.isArray(k.textures)||Array.isArray(k.frames)?this.addAtlasJSONArray(I,T,k,E):this.addAtlasJSONHash(I,T,k,E)},addAtlasJSONArray:function(I,T,k,E){var A=null;if(T instanceof w?(I=T.key,A=T):this.checkKey(I)&&(A=this.create(I,T)),A){if(Array.isArray(k))for(var L=k.length===1,D=0;D<A.source.length;D++){var R=L?k[0]:k[D];M.JSONArray(A,D,R)}else M.JSONArray(A,0,k);E&&A.setDataSource(E),this.emit(v.ADD,I,A),this.emit(v.ADD_KEY+I,A)}return A},addAtlasJSONHash:function(I,T,k,E){var A=null;if(T instanceof w?(I=T.key,A=T):this.checkKey(I)&&(A=this.create(I,T)),A){if(Array.isArray(k))for(var L=0;L<k.length;L++)M.JSONHash(A,L,k[L]);else M.JSONHash(A,0,k);E&&A.setDataSource(E),this.emit(v.ADD,I,A),this.emit(v.ADD_KEY+I,A)}return A},addAtlasXML:function(I,T,k,E){var A=null;return T instanceof w?(I=T.key,A=T):this.checkKey(I)&&(A=this.create(I,T)),A&&(M.AtlasXML(A,0,k),E&&A.setDataSource(E),this.emit(v.ADD,I,A),this.emit(v.ADD_KEY+I,A)),A},addUnityAtlas:function(I,T,k,E){var A=null;return T instanceof w?(I=T.key,A=T):this.checkKey(I)&&(A=this.create(I,T)),A&&(M.UnityYAML(A,0,k),E&&A.setDataSource(E),this.emit(v.ADD,I,A),this.emit(v.ADD_KEY+I,A)),A},addSpriteSheet:function(I,T,k,E){var A=null;if(T instanceof w?(I=T.key,A=T):this.checkKey(I)&&(A=this.create(I,T)),A){var L=A.source[0].width,D=A.source[0].height;M.SpriteSheet(A,0,0,0,L,D,k),E&&A.setDataSource(E),this.emit(v.ADD,I,A),this.emit(v.ADD_KEY+I,A)}return A},addSpriteSheetFromAtlas:function(I,T){if(!this.checkKey(I))return null;var k=x(T,"atlas",null),E=x(T,"frame",null);if(!(!k||!E)){var A=this.get(k),L=A.get(E);if(L){var D=L.source.image;D||(D=L.source.glTexture);var R=this.create(I,D);return L.trimmed?M.SpriteSheetFromAtlas(R,L,T):M.SpriteSheet(R,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,T),this.emit(v.ADD,I,R),this.emit(v.ADD_KEY+I,R),R}}},addUint8Array:function(I,T,k,E){if(!this.checkKey(I)||T.length/4!==k*E)return null;var A=this.create(I,T,k,E);return A.add("__BASE",0,0,0,k,E),this.emit(v.ADD,I,A),this.emit(v.ADD_KEY+I,A),A},create:function(I,T,k,E){var A=null;return this.checkKey(I)&&(A=new w(this,I,T,k,E),this.list[I]=A),A},exists:function(I){return this.list.hasOwnProperty(I)},get:function(I){return I===void 0&&(I="__DEFAULT"),this.list[I]?this.list[I]:I instanceof w?I:I instanceof f?I.texture:this.list.__MISSING},cloneFrame:function(I,T){if(this.list[I])return this.list[I].get(T).clone()},getFrame:function(I,T){if(this.list[I])return this.list[I].get(T)},parseFrame:function(I){if(I){if(typeof I=="string")return this.getFrame(I);if(Array.isArray(I)&&I.length===2)return this.getFrame(I[0],I[1]);if(b(I))return this.getFrame(I.key,I.frame);if(I instanceof w)return I.get();if(I instanceof f)return I}else return},getTextureKeys:function(){var I=[];for(var T in this.list)T!=="__DEFAULT"&&T!=="__MISSING"&&T!=="__WHITE"&&T!=="__NORMAL"&&I.push(T);return I},getPixel:function(I,T,k,E){var A=this.getFrame(k,E);if(A){I-=A.x,T-=A.y;var L=A.data.cut;if(I+=L.x,T+=L.y,I>=L.x&&I<L.r&&T>=L.y&&T<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(A.source.image,I,T,1,1,0,0,1,1);var R=D.getImageData(0,0,1,1);return new u(R.data[0],R.data[1],R.data[2],R.data[3])}}return null},getPixelAlpha:function(I,T,k,E){var A=this.getFrame(k,E);if(A){I-=A.x,T-=A.y;var L=A.data.cut;if(I+=L.x,T+=L.y,I>=L.x&&I<L.r&&T>=L.y&&T<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(A.source.image,I,T,1,1,0,0,1,1);var R=D.getImageData(0,0,1,1);return R.data[3]}}return null},setTexture:function(I,T,k){return this.list[T]&&(I.texture=this.list[T],I.frame=I.texture.get(k)),I},renameTexture:function(I,T){var k=this.get(I);return k&&I!==T?(k.key=T,this.list[T]=k,delete this.list[I],!0):!1},each:function(I,T){for(var k=[null],E=1;E<arguments.length;E++)k.push(arguments[E]);for(var A in this.list)k[0]=this.list[A],I.apply(T,k)},resetStamp:function(I,T){I===void 0&&(I=1),T===void 0&&(T=16777215);var k=this.stamp;return k.setCrop(),k.setPosition(0),k.setAngle(0),k.setScale(1),k.setAlpha(I),k.setTint(T),k.setTexture("__WHITE"),k},destroy:function(){for(var I in this.list)this.list[I].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});r.exports=S},11876:(r,o,t)=>{var a=t(27919),p=t(83419),c=t(50030),u=t(29795),h=t(82751),l=new p({initialize:function(v,f,g,m,x){x===void 0&&(x=!1);var y=v.manager.game;this.renderer=y.renderer,this.texture=v,this.source=f,this.image=f.compressed?null:f,this.compressionAlgorithm=f.compressed?f.format:null,this.resolution=1,this.width=g||f.naturalWidth||f.videoWidth||f.width||0,this.height=m||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture"||f.type==="DynamicTexture",this.isGLTexture=f instanceof h,this.isPowerOf2=c(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(y)},init:function(d){var v=this.renderer;if(v){var f=this.source;if(v.gl){var g=this.image,m=this.flipY,x=this.width,y=this.height,b=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(g,!1,m):this.isVideo?this.glTexture=v.createVideoTexture(g,!1,m):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,x,y,b):this.isGLTexture?this.glTexture=f:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(f,void 0,void 0,b):f instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(f,x,y,b):this.glTexture=v.createTextureFromSource(g,x,y,b)}else this.isRenderTexture&&(this.image=f.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},update:function(){var d=this.renderer,v=this.image,f=this.flipY,g=d.gl;g&&this.isCanvas?d.updateCanvasTexture(v,this.glTexture,f):g&&this.isVideo&&d.updateVideoTexture(v,this.glTexture,f)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});r.exports=l},19673:r=>{var o={LINEAR:0,NEAREST:1};r.exports=o},44538:r=>{r.exports="addtexture"},63486:r=>{r.exports="addtexture-"},94851:r=>{r.exports="onerror"},29099:r=>{r.exports="onload"},8678:r=>{r.exports="ready"},86415:r=>{r.exports="removetexture"},30879:r=>{r.exports="removetexture-"},69442:(r,o,t)=>{r.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(r,o,t)=>{var a=t(79291),p=t(19673),c={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:p,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};c=a(!1,c,p),r.exports=c},89905:r=>{var o=function(t,a,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var c=t.source[a];t.add("__BASE",a,0,0,c.width,c.height);for(var u=p.getElementsByTagName("SubTexture"),h,l=0;l<u.length;l++){var d=u[l].attributes,v=d.name.value,f=parseInt(d.x.value,10),g=parseInt(d.y.value,10),m=parseInt(d.width.value,10),x=parseInt(d.height.value,10);if(h=t.add(v,a,f,g,m,x),d.frameX){var y=Math.abs(parseInt(d.frameX.value,10)),b=Math.abs(parseInt(d.frameY.value,10)),M=parseInt(d.frameWidth.value,10),C=parseInt(d.frameHeight.value,10);h.setTrim(m,x,y,b,M,C)}}return t};r.exports=o},72893:r=>{var o=function(t,a){var p=t.source[a];return t.add("__BASE",a,0,0,p.width,p.height),t};r.exports=o},4832:r=>{var o=function(t,a){var p=t.source[a];return t.add("__BASE",a,0,0,p.width,p.height),t};r.exports=o},78566:(r,o,t)=>{var a=t(41786),p=function(c,u,h){if(!h.frames&&!h.textures){console.warn("Invalid Texture Atlas JSON Array");return}var l=c.source[u];c.add("__BASE",u,0,0,l.width,l.height);for(var d=Array.isArray(h.textures)?h.textures[u].frames:h.frames,v,f=0;f<d.length;f++){var g=d[f];if(v=c.add(g.filename,u,g.frame.x,g.frame.y,g.frame.w,g.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+g.filename);continue}g.trimmed&&v.setTrim(g.sourceSize.w,g.sourceSize.h,g.spriteSourceSize.x,g.spriteSourceSize.y,g.spriteSourceSize.w,g.spriteSourceSize.h),g.rotated&&(v.rotated=!0,v.updateUVsInverted());var m=g.anchor||g.pivot;m&&(v.customPivot=!0,v.pivotX=m.x,v.pivotY=m.y),g.scale9Borders&&v.setScale9(g.scale9Borders.x,g.scale9Borders.y,g.scale9Borders.w,g.scale9Borders.h),v.customData=a(g)}for(var x in h)x!=="frames"&&(Array.isArray(h[x])?c.customData[x]=h[x].slice(0):c.customData[x]=h[x]);return c};r.exports=p},39711:(r,o,t)=>{var a=t(41786),p=function(c,u,h){if(!h.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var l=c.source[u];c.add("__BASE",u,0,0,l.width,l.height);var d=h.frames,v;for(var f in d)if(d.hasOwnProperty(f)){var g=d[f];if(v=c.add(f,u,g.frame.x,g.frame.y,g.frame.w,g.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+f);continue}g.trimmed&&v.setTrim(g.sourceSize.w,g.sourceSize.h,g.spriteSourceSize.x,g.spriteSourceSize.y,g.spriteSourceSize.w,g.spriteSourceSize.h),g.rotated&&(v.rotated=!0,v.updateUVsInverted());var m=g.anchor||g.pivot;m&&(v.customPivot=!0,v.pivotX=m.x,v.pivotY=m.y),g.scale9Borders&&v.setScale9(g.scale9Borders.x,g.scale9Borders.y,g.scale9Borders.w,g.scale9Borders.h),v.customData=a(g)}for(var x in h)x!=="frames"&&(Array.isArray(h[x])?c.customData[x]=h[x].slice(0):c.customData[x]=h[x]);return c};r.exports=p},31403:r=>{var o=function(t){var a=[171,75,84,88,32,49,49,187,13,10,26,10],p,c=new Uint8Array(t,0,12);for(p=0;p<c.length;p++)if(c[p]!==a[p]){console.warn("KTXParser - Invalid file format");return}var u=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(t,12,13*u),l=h.getUint32(0,!0)===67305985,d=h.getUint32(1*u,l);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=h.getUint32(4*u,l),f=h.getUint32(6*u,l),g=h.getUint32(7*u,l),m=Math.max(1,h.getUint32(11*u,l)),x=h.getUint32(12*u,l),y=new Array(m),b=12+13*4+x,M=f,C=g;for(p=0;p<m;p++){var w=new Int32Array(t,b,1)[0];b+=4,y[p]={data:new Uint8Array(t,b,w),width:M,height:C},M=Math.max(1,M>>1),C=Math.max(1,C>>1),b+=w}return{mipmaps:y,width:f,height:g,internalFormat:v,compressed:!0,generateMipmap:!1}};r.exports=o},82038:r=>{function o(T,k,E,A,L,D,R){return R===void 0&&(R=16),Math.floor((T+E)/L)*Math.floor((k+A)/D)*R}function t(T,k){return T=Math.max(T,16),k=Math.max(k,8),T*k/4}function a(T,k){return T=Math.max(T,8),k=Math.max(k,8),T*k/2}function p(T,k){return Math.ceil(T/4)*Math.ceil(k/4)*16}function c(T,k){return o(T,k,3,3,4,4,8)}function u(T,k){return o(T,k,3,3,4,4)}function h(T,k){return o(T,k,4,3,5,4)}function l(T,k){return o(T,k,4,4,5,5)}function d(T,k){return o(T,k,5,4,6,5)}function v(T,k){return o(T,k,5,5,6,6)}function f(T,k){return o(T,k,7,4,8,5)}function g(T,k){return o(T,k,7,5,8,6)}function m(T,k){return o(T,k,7,7,8,8)}function x(T,k){return o(T,k,9,4,10,5)}function y(T,k){return o(T,k,9,5,10,6)}function b(T,k){return o(T,k,9,7,10,8)}function M(T,k){return o(T,k,9,9,10,10)}function C(T,k){return o(T,k,11,9,12,10)}function w(T,k){return o(T,k,11,11,12,12)}var S={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:c,glFormat:[36196]},7:{sizeFunc:c,glFormat:[33776,35916]},8:{sizeFunc:u,glFormat:[33777,35917]},9:{sizeFunc:u,glFormat:[33778,35918]},11:{sizeFunc:u,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:c,glFormat:[37492,37493]},23:{sizeFunc:u,glFormat:[37496,37497]},24:{sizeFunc:c,glFormat:[37494,37495]},25:{sizeFunc:c,glFormat:[37488]},26:{sizeFunc:u,glFormat:[37490]},27:{sizeFunc:u,glFormat:[37808,37840]},28:{sizeFunc:h,glFormat:[37809,37841]},29:{sizeFunc:l,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:f,glFormat:[37813,37845]},33:{sizeFunc:g,glFormat:[37814,37846]},34:{sizeFunc:m,glFormat:[37815,37847]},35:{sizeFunc:x,glFormat:[37816,37848]},36:{sizeFunc:y,glFormat:[37817,37849]},37:{sizeFunc:b,glFormat:[37818,37850]},38:{sizeFunc:M,glFormat:[37819,37851]},39:{sizeFunc:C,glFormat:[37820,37852]},40:{sizeFunc:w,glFormat:[37821,37853]}},I=function(T){for(var k=new Uint32Array(T,0,13),E=k[0],A=E===55727696,L=A?k[2]:k[3],D=k[4],R=S[L].glFormat[D],N=S[L].sizeFunc,P=k[11],O=k[7],W=k[6],G=52+k[12],H=new Uint8Array(T,G),V=new Array(P),B=0,j=O,U=W,X=0;X<P;X++){var Z=N(j,U);V[X]={data:new Uint8Array(H.buffer,H.byteOffset+B,Z),width:j,height:U},j=Math.max(1,j>>1),U=Math.max(1,U>>1),B+=Z}return{mipmaps:V,width:O,height:W,internalFormat:R,compressed:!0,generateMipmap:!1}};r.exports=I},75549:(r,o,t)=>{var a=t(95540),p=function(c,u,h,l,d,v,f){var g=a(f,"frameWidth",null),m=a(f,"frameHeight",g);if(g===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=c.source[u];c.add("__BASE",u,0,0,x.width,x.height);var y=a(f,"startFrame",0),b=a(f,"endFrame",-1),M=a(f,"margin",0),C=a(f,"spacing",0),w=Math.floor((d-M+C)/(g+C)),S=Math.floor((v-M+C)/(m+C)),I=w*S;I===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",c.key),(y>I||y<-I)&&(y=0),y<0&&(y=I+y),(b===-1||b>I||b<y)&&(b=I);for(var T=M,k=M,E=0,A=0,L=0,D=0;D<I;D++){E=0,A=0;var R=T+g,N=k+m;R>d&&(E=R-d),N>v&&(A=N-v),D>=y&&D<=b&&(c.add(L,u,h+T,l+k,g-E,m-A),L++),T+=g+C,T+g>d&&(T=M,k+=m+C)}return c};r.exports=p},47534:(r,o,t)=>{var a=t(95540),p=function(c,u,h){var l=a(h,"frameWidth",null),d=a(h,"frameHeight",l);if(!l)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=c.source[0];c.add("__BASE",0,0,0,v.width,v.height);var f=a(h,"startFrame",0),g=a(h,"endFrame",-1),m=a(h,"margin",0),x=a(h,"spacing",0),y=u.cutX,b=u.cutY,M=u.cutWidth,C=u.cutHeight,w=u.realWidth,S=u.realHeight,I=Math.floor((w-m+x)/(l+x)),T=Math.floor((S-m+x)/(d+x)),k=I*T,E=u.x,A=l-E,L=l-(w-M-E),D=u.y,R=d-D,N=d-(S-C-D);(f>k||f<-k)&&(f=0),f<0&&(f=k+f),g!==-1&&(k=f+(g+1));for(var P,O=m,W=m,G=0,H=0,V=0;V<T;V++){for(var B=V===0,j=V===T-1,U=0;U<I;U++){var X=U===0,Z=U===I-1;if(P=c.add(G,H,y+O,b+W,l,d),X||B||Z||j){var $=X?E:0,J=B?D:0,Q=0,_=0;X&&(Q+=l-A),Z&&(Q+=l-L),B&&(_+=d-R),j&&(_+=d-N);var ae=l-Q,ce=d-_;P.cutWidth=ae,P.cutHeight=ce,P.setTrim(l,d,$,J,ae,ce)}O+=x,X?O+=A:Z?O+=L:O+=l,G++}O=m,W+=x,B?W+=R:j?W+=N:W+=d}return c};r.exports=p},86147:r=>{var o=0,t=function(p,c,u,h){var l=o-h.y-h.height;p.add(u,c,h.x,l,h.width,h.height)},a=function(p,c,u){var h=p.source[c];p.add("__BASE",c,0,0,h.width,h.height),o=h.height;for(var l=u.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",f="",g={x:0,y:0,width:0,height:0},m=0;m<l.length;m++){var x=l[m].match(d);if(x){var y=x[1]==="- ",b=x[2],M=x[3];if(y&&(f!==v&&(t(p,c,f,g),v=f),g={x:0,y:0,width:0,height:0}),b==="name"){f=M;continue}switch(b){case"x":case"y":case"width":case"height":g[b]=parseInt(M,10);break}}}return f!==v&&t(p,c,f,g),p};r.exports=a},55222:(r,o,t)=>{var a=t(50030),p=function(v){for(var f=v.mipmaps,g=1;g<f.length;g++){var m=f[g].width,x=f[g].height;if(!a(m,x))return console.warn("Mip level "+g+" is not a power-of-two size: "+m+"x"+x),!1}var y=d[v.internalFormat];return y?y(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)};function c(v){for(var f=v.mipmaps,g=0;g<f.length;g++){var m=f[g].width,x=f[g].height;if((m<<g)%4!==0||(x<<g)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+g+" is "+m+"x"+x),!1}return!0}function u(){return!0}function h(v){var f=v.mipmaps,g=f[0];return a(g.width,g.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+g.width+"x"+g.height),!1)}function l(v){var f=v.mipmaps,g=f[0];return g.width%4!==0||g.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+g.width+"x"+g.height+" pixels"),!1):!0}var d={37488:u,37489:u,37490:u,37491:u,37492:u,37493:u,37494:u,37495:u,37496:u,37497:u,36196:u,37808:u,37809:u,37810:u,37811:u,37812:u,37813:u,37814:u,37815:u,37816:u,37817:u,37818:u,37819:u,37820:u,37821:u,37840:u,37841:u,37842:u,37843:u,37844:u,37845:u,37846:u,37847:u,37848:u,37849:u,37850:u,37851:u,37852:u,37853:u,36492:c,36493:c,36494:c,36495:c,36283:c,36284:c,36285:c,36286:c,35840:h,35841:h,35842:h,35843:h,33776:c,33777:c,33778:c,33779:c,35916:l,35917:l,35918:l,35919:l};r.exports=p},61309:(r,o,t)=>{r.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:r=>{r.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u,h,l,d,v,f,g){(l===void 0||l<=0)&&(l=32),(d===void 0||d<=0)&&(d=32),v===void 0&&(v=0),f===void 0&&(f=0),this.name=u,this.firstgid=h|0,this.imageWidth=l|0,this.imageHeight=d|0,this.imageMargin=v|0,this.imageSpacing=f|0,this.properties=g||{},this.images=[],this.total=0},containsImageIndex:function(c){return c>=this.firstgid&&c<this.firstgid+this.total},addImage:function(c,u,h,l){return this.images.push({gid:c,image:u,width:h,height:l}),this.total++,this}});r.exports=p},27462:(r,o,t)=>{var a=t(83419),p=new a({initialize:function(u){if(this.gids=[],u!==void 0)for(var h=0;h<u.length;++h)for(var l=u[h],d=0;d<l.total;++d)this.gids[l.firstgid+d]=l;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(c){this.gids=c?this._gids:void 0}},getTypeIncludingTile:function(c){if(c.type!==void 0&&c.type!=="")return c.type;if(!(!this.gids||c.gid===void 0)){var u=this.gids[c.gid];if(u){var h=u.getTileData(c.gid);if(h)return h.type}}},setTextureAndFrame:function(c,u,h,l){if(u===null&&this.gids&&l.gid!==void 0){var d=this.gids[l.gid];d&&(u===null&&d.image!==void 0&&(u=d.image.key),h===null&&(h=l.gid-d.firstgid),c.scene.textures.getFrame(u,h)||(u=null,h=null))}c.setTexture(u,h)},setPropertiesFromTiledObject:function(c,u){if(this.gids!==void 0&&u.gid!==void 0){var h=this.gids[u.gid];h!==void 0&&this.setFromJSON(c,h.getTileProperties(u.gid))}this.setFromJSON(c,u.properties)},setFromJSON:function(c,u){if(u){if(Array.isArray(u)){for(var h=0;h<u.length;h++){var l=u[h];c[l.name]!==void 0?c[l.name]=l.value:c.setData(l.name,l.value)}return}for(var d in u)c[d]!==void 0?c[d]=u[d]:c.setData(d,u[d])}}});r.exports=p},31989:(r,o,t)=>{var a=t(80341),p=t(87010),c=t(46177),u=t(49075),h=function(l,d,v,f,g,m,x,y){v===void 0&&(v=32),f===void 0&&(f=32),g===void 0&&(g=10),m===void 0&&(m=10),y===void 0&&(y=!1);var b=null;if(Array.isArray(x)){var M=d!==void 0?d:"map";b=c(M,a.ARRAY_2D,x,v,f,y)}else if(d!==void 0){var C=l.cache.tilemap.get(d);C?b=c(d,C.format,C.data,v,f,y):console.warn("No map data found for key "+d)}return b===null&&(b=new p({tileWidth:v,tileHeight:f,width:g,height:m})),new u(l,b)};r.exports=h},23029:(r,o,t)=>{var a=t(83419),p=t(31401),c=t(91907),u=t(62644),h=t(93232),l=new a({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(v,f,g,m,x,y,b,M){this.layer=v,this.index=f,this.x=g,this.y=m,this.width=x,this.height=y,this.right,this.bottom,this.baseWidth=b!==void 0?b:x,this.baseHeight=M!==void 0?M:y,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,v){return!(d<this.pixelX||v<this.pixelY||d>this.right||v>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=u(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var v=this.tilemapLayer;if(v){var f=v.tileToWorldXY(this.x,this.y,void 0,d);return f.x}return this.x*this.baseWidth},getRight:function(d){var v=this.tilemapLayer;return v?this.getLeft(d)+this.width*v.scaleX:this.getLeft(d)+this.width},getTop:function(d){var v=this.tilemapLayer;if(v){var f=v.tileToWorldXY(this.x,this.y,void 0,d);return f.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var v=this.tilemapLayer;return v?this.getTop(d)+this.height*v.scaleY:this.getTop(d)+this.height},getBounds:function(d,v){return v===void 0&&(v=new h),v.x=this.getLeft(d),v.y=this.getTop(d),v.width=this.getRight(d)-v.x,v.height=this.getBottom(d)-v.y,v},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,v,f,g){return!(f<=this.pixelX||g<=this.pixelY||d>=this.right||v>=this.bottom)},isInteresting:function(d,v){return d&&v?this.canCollide||this.hasInterestingFace:d?this.collides:v?this.hasInterestingFace:!1},resetCollision:function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,v,f,g,m){if(v===void 0&&(v=d),f===void 0&&(f=d),g===void 0&&(g=d),m===void 0&&(m=!0),this.collideLeft=d,this.collideRight=v,this.collideUp=f,this.collideDown=g,this.faceLeft=d,this.faceRight=v,this.faceTop=f,this.faceBottom=g,m){var x=this.tilemapLayer;x&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(d,v){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=v),this},setSize:function(d,v,f,g){return d!==void 0&&(this.width=d),v!==void 0&&(this.height=v),f!==void 0&&(this.baseWidth=f),g!==void 0&&(this.baseHeight=g),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===c.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===c.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===c.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===c.HEXAGONAL){var v=this.layer.staggerAxis,f=this.layer.staggerIndex,g=this.layer.hexSideLength,m,x;v==="y"?(x=(this.baseHeight-g)/2+g,f==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):v==="x"&&(m=(this.baseWidth-g)/2+g,this.pixelX=this.x*m,f==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var v=d.gidMap[this.index];if(v)return v}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});r.exports=l},49075:(r,o,t)=>{var a=t(84101),p=t(83419),c=t(39506),u=t(80341),h=t(95540),l=t(14977),d=t(27462),v=t(91907),f=t(36305),g=t(19133),m=t(68287),x=t(23029),y=t(81086),b=t(20442),M=t(33629),C=new p({initialize:function(S,I){this.scene=S,this.tileWidth=I.tileWidth,this.tileHeight=I.tileHeight,this.width=I.width,this.height=I.height,this.orientation=I.orientation,this.renderOrder=I.renderOrder,this.format=I.format,this.version=I.version,this.properties=I.properties,this.widthInPixels=I.widthInPixels,this.heightInPixels=I.heightInPixels,this.imageCollections=I.imageCollections,this.images=I.images,this.layers=I.layers,this.tiles=I.tiles,this.tilesets=I.tilesets,this.objects=I.objects,this.currentLayerIndex=0,this.hexSideLength=I.hexSideLength;var T=this.orientation;this._convert={WorldToTileXY:y.GetWorldToTileXYFunction(T),WorldToTileX:y.GetWorldToTileXFunction(T),WorldToTileY:y.GetWorldToTileYFunction(T),TileToWorldXY:y.GetTileToWorldXYFunction(T),TileToWorldX:y.GetTileToWorldXFunction(T),TileToWorldY:y.GetTileToWorldYFunction(T),GetTileCorners:y.GetTileCornersFunction(T)}},setRenderOrder:function(w){var S=["right-down","left-down","right-up","left-up"];return typeof w=="number"&&(w=S[w]),S.indexOf(w)>-1&&(this.renderOrder=w),this},addTilesetImage:function(w,S,I,T,k,E,A,L){if(w===void 0)return null;S==null&&(S=w);var D=this.scene.sys.textures;if(!D.exists(S))return console.warn('Texture key "%s" not found',S),null;var R=D.get(S),N=this.getTilesetIndex(w);if(N===null&&this.format===u.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',w,this.tilesets),null;var P=this.tilesets[N];return P?((I||T)&&P.setTileSize(I,T),(k||E)&&P.setSpacing(k,E),P.setImage(R),P):(I===void 0&&(I=this.tileWidth),T===void 0&&(T=this.tileHeight),k===void 0&&(k=0),E===void 0&&(E=0),A===void 0&&(A=0),L===void 0&&(L={x:0,y:0}),P=new M(w,A,I,T,k,E,void 0,void 0,L),P.setImage(R),this.tilesets.push(P),this.tiles=a(this),P)},copy:function(w,S,I,T,k,E,A,L){return L=this.getLayer(L),L!==null?(y.Copy(w,S,I,T,k,E,A,L),this):null},createBlankLayer:function(w,S,I,T,k,E,A,L){I===void 0&&(I=0),T===void 0&&(T=0),k===void 0&&(k=this.width),E===void 0&&(E=this.height),A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight);var D=this.getLayerIndex(w);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+w),null;for(var R=new l({name:w,tileWidth:A,tileHeight:L,width:k,height:E,orientation:this.orientation,hexSideLength:this.hexSideLength}),N,P=0;P<E;P++){N=[];for(var O=0;O<k;O++)N.push(new x(R,-1,O,P,A,L,this.tileWidth,this.tileHeight));R.data.push(N)}this.layers.push(R),this.currentLayerIndex=this.layers.length-1;var W=new b(this.scene,this,this.currentLayerIndex,S,I,T);return W.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(W),W},createLayer:function(w,S,I,T){var k=this.getLayerIndex(w);if(k===null)return console.warn("Invalid Tilemap Layer ID: "+w),typeof w=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var E=this.layers[k];if(E.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+w),null;this.currentLayerIndex=k,I===void 0&&(I=E.x),T===void 0&&(T=E.y);var A=new b(this.scene,this,k,S,I,T);return A.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(A),A},createFromObjects:function(w,S,I){I===void 0&&(I=!0);var T=[],k=this.getObjectLayer(w);if(!k)return console.warn("createFromObjects: Invalid objectLayerName given: "+w),T;var E=new d(I?this.tilesets:void 0);Array.isArray(S)||(S=[S]);for(var A=k.objects,L=0;L<S.length;L++){var D=S[L],R=h(D,"id",null),N=h(D,"gid",null),P=h(D,"name",null),O=h(D,"type",null);E.enabled=!h(D,"ignoreTileset",null);for(var W,G=[],H=0;H<A.length;H++)W=A[H],(R===null&&N===null&&P===null&&O===null||R!==null&&W.id===R||N!==null&&W.gid===N||P!==null&&W.name===P||O!==null&&E.getTypeIncludingTile(W)===O)&&G.push(W);for(var V=h(D,"classType",m),B=h(D,"scene",this.scene),j=h(D,"container",null),U=h(D,"key",null),X=h(D,"frame",null),Z=0;Z<G.length;Z++){W=G[Z];var $=new V(B);if($.setName(W.name),$.setPosition(W.x,W.y),E.setTextureAndFrame($,U,X,W),W.width&&($.displayWidth=W.width),W.height&&($.displayHeight=W.height),this.orientation===v.ISOMETRIC){var J=this.tileWidth/this.tileHeight,Q={x:$.x-$.y,y:($.x+$.y)/J};$.x=Q.x,$.y=Q.y}var _={x:$.originX*W.width,y:($.originY-(W.gid?1:0))*W.height};if(W.rotation){var ae=c(W.rotation);f(_,ae),$.rotation=ae}$.x+=_.x,$.y+=_.y,(W.flippedHorizontal!==void 0||W.flippedVertical!==void 0)&&$.setFlip(W.flippedHorizontal,W.flippedVertical),W.visible||($.visible=!1),E.setPropertiesFromTiledObject($,W),j?j.add($):B.add.existing($),T.push($)}}return T},createFromTiles:function(w,S,I,T,k,E){return E=this.getLayer(E),E===null?null:y.CreateFromTiles(w,S,I,T,k,E)},fill:function(w,S,I,T,k,E,A){return E===void 0&&(E=!0),A=this.getLayer(A),A===null?null:(y.Fill(w,S,I,T,k,E,A),this)},filterObjects:function(w,S,I){if(typeof w=="string"){var T=w;if(w=this.getObjectLayer(w),!w)return console.warn("No object layer found with the name: "+T),null}return w.objects.filter(S,I)},filterTiles:function(w,S,I,T,k,E,A,L){return L=this.getLayer(L),L===null?null:y.FilterTiles(w,S,I,T,k,E,A,L)},findByIndex:function(w,S,I,T){return T=this.getLayer(T),T===null?null:y.FindByIndex(w,S,I,T)},findObject:function(w,S,I){if(typeof w=="string"){var T=w;if(w=this.getObjectLayer(w),!w)return console.warn("No object layer found with the name: "+T),null}return w.objects.find(S,I)||null},findTile:function(w,S,I,T,k,E,A,L){return L=this.getLayer(L),L===null?null:y.FindTile(w,S,I,T,k,E,A,L)},forEachTile:function(w,S,I,T,k,E,A,L){return L=this.getLayer(L),L===null?null:(y.ForEachTile(w,S,I,T,k,E,A,L),this)},getImageIndex:function(w){return this.getIndex(this.images,w)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(w){return w.name})},getIndex:function(w,S){for(var I=0;I<w.length;I++)if(w[I].name===S)return I;return null},getLayer:function(w){var S=this.getLayerIndex(w);return S!==null?this.layers[S]:null},getObjectLayer:function(w){var S=this.getIndex(this.objects,w);return S!==null?this.objects[S]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(w){return w.name})},getLayerIndex:function(w){return w===void 0?this.currentLayerIndex:typeof w=="string"?this.getLayerIndexByName(w):typeof w=="number"&&w<this.layers.length?w:w instanceof b&&w.tilemap===this?w.layerIndex:null},getLayerIndexByName:function(w){return this.getIndex(this.layers,w)},getTileAt:function(w,S,I,T){return T=this.getLayer(T),T===null?null:y.GetTileAt(w,S,I,T)},getTileAtWorldXY:function(w,S,I,T,k){return k=this.getLayer(k),k===null?null:y.GetTileAtWorldXY(w,S,I,T,k)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(w){return w.name})},getTilesWithin:function(w,S,I,T,k,E){return E=this.getLayer(E),E===null?null:y.GetTilesWithin(w,S,I,T,k,E)},getTilesWithinShape:function(w,S,I,T){return T=this.getLayer(T),T===null?null:y.GetTilesWithinShape(w,S,I,T)},getTilesWithinWorldXY:function(w,S,I,T,k,E,A){return A=this.getLayer(A),A===null?null:y.GetTilesWithinWorldXY(w,S,I,T,k,E,A)},getTileset:function(w){var S=this.getIndex(this.tilesets,w);return S!==null?this.tilesets[S]:null},getTilesetIndex:function(w){return this.getIndex(this.tilesets,w)},hasTileAt:function(w,S,I){return I=this.getLayer(I),I===null?null:y.HasTileAt(w,S,I)},hasTileAtWorldXY:function(w,S,I,T){return T=this.getLayer(T),T===null?null:y.HasTileAtWorldXY(w,S,I,T)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(w){this.setLayer(w)}},putTileAt:function(w,S,I,T,k){return T===void 0&&(T=!0),k=this.getLayer(k),k===null?null:y.PutTileAt(w,S,I,T,k)},putTileAtWorldXY:function(w,S,I,T,k,E){return T===void 0&&(T=!0),E=this.getLayer(E),E===null?null:y.PutTileAtWorldXY(w,S,I,T,k,E)},putTilesAt:function(w,S,I,T,k){return T===void 0&&(T=!0),k=this.getLayer(k),k===null?null:(y.PutTilesAt(w,S,I,T,k),this)},randomize:function(w,S,I,T,k,E){return E=this.getLayer(E),E===null?null:(y.Randomize(w,S,I,T,k,E),this)},calculateFacesAt:function(w,S,I){return I=this.getLayer(I),I===null?null:(y.CalculateFacesAt(w,S,I),this)},calculateFacesWithin:function(w,S,I,T,k){return k=this.getLayer(k),k===null?null:(y.CalculateFacesWithin(w,S,I,T,k),this)},removeLayer:function(w){var S=this.getLayerIndex(w);if(S!==null){g(this.layers,S);for(var I=S;I<this.layers.length;I++)this.layers[I].tilemapLayer&&this.layers[I].tilemapLayer.layerIndex--;return this.currentLayerIndex===S&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(w){var S=this.getLayerIndex(w);return S!==null?(w=this.layers[S],w.tilemapLayer.destroy(),g(this.layers,S),this.currentLayerIndex===S&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var w=this.layers,S=0;S<w.length;S++)w[S].tilemapLayer&&w[S].tilemapLayer.destroy(!1);return w.length=0,this.currentLayerIndex=0,this},removeTile:function(w,S,I){S===void 0&&(S=-1),I===void 0&&(I=!0);var T=[];Array.isArray(w)||(w=[w]);for(var k=0;k<w.length;k++){var E=w[k];T.push(this.removeTileAt(E.x,E.y,!0,I,E.tilemapLayer)),S>-1&&this.putTileAt(S,E.x,E.y,I,E.tilemapLayer)}return T},removeTileAt:function(w,S,I,T,k){return I===void 0&&(I=!0),T===void 0&&(T=!0),k=this.getLayer(k),k===null?null:y.RemoveTileAt(w,S,I,T,k)},removeTileAtWorldXY:function(w,S,I,T,k,E){return I===void 0&&(I=!0),T===void 0&&(T=!0),E=this.getLayer(E),E===null?null:y.RemoveTileAtWorldXY(w,S,I,T,k,E)},renderDebug:function(w,S,I){return I=this.getLayer(I),I===null?null:(this.orientation===v.ORTHOGONAL&&y.RenderDebug(w,S,I),this)},renderDebugFull:function(w,S){for(var I=this.layers,T=0;T<I.length;T++)y.RenderDebug(w,S,I[T]);return this},replaceByIndex:function(w,S,I,T,k,E,A){return A=this.getLayer(A),A===null?null:(y.ReplaceByIndex(w,S,I,T,k,E,A),this)},setCollision:function(w,S,I,T,k){return S===void 0&&(S=!0),I===void 0&&(I=!0),k===void 0&&(k=!0),T=this.getLayer(T),T===null?null:(y.SetCollision(w,S,I,T,k),this)},setCollisionBetween:function(w,S,I,T,k){return I===void 0&&(I=!0),T===void 0&&(T=!0),k=this.getLayer(k),k===null?null:(y.SetCollisionBetween(w,S,I,T,k),this)},setCollisionByProperty:function(w,S,I,T){return S===void 0&&(S=!0),I===void 0&&(I=!0),T=this.getLayer(T),T===null?null:(y.SetCollisionByProperty(w,S,I,T),this)},setCollisionByExclusion:function(w,S,I,T){return S===void 0&&(S=!0),I===void 0&&(I=!0),T=this.getLayer(T),T===null?null:(y.SetCollisionByExclusion(w,S,I,T),this)},setCollisionFromCollisionGroup:function(w,S,I){return w===void 0&&(w=!0),S===void 0&&(S=!0),I=this.getLayer(I),I===null?null:(y.SetCollisionFromCollisionGroup(w,S,I),this)},setTileIndexCallback:function(w,S,I,T){return T=this.getLayer(T),T===null?null:(y.SetTileIndexCallback(w,S,I,T),this)},setTileLocationCallback:function(w,S,I,T,k,E,A){return A=this.getLayer(A),A===null?null:(y.SetTileLocationCallback(w,S,I,T,k,E,A),this)},setLayer:function(w){var S=this.getLayerIndex(w);return S!==null&&(this.currentLayerIndex=S),this},setBaseTileSize:function(w,S){this.tileWidth=w,this.tileHeight=S,this.widthInPixels=this.width*w,this.heightInPixels=this.height*S;for(var I=0;I<this.layers.length;I++){this.layers[I].baseTileWidth=w,this.layers[I].baseTileHeight=S;for(var T=this.layers[I].data,k=this.layers[I].width,E=this.layers[I].height,A=0;A<E;A++)for(var L=0;L<k;L++){var D=T[A][L];D!==null&&D.setSize(void 0,void 0,w,S)}}return this},setLayerTileSize:function(w,S,I){if(I=this.getLayer(I),I===null)return this;I.tileWidth=w,I.tileHeight=S;for(var T=I.data,k=I.width,E=I.height,A=0;A<E;A++)for(var L=0;L<k;L++){var D=T[A][L];D!==null&&D.setSize(w,S)}return this},shuffle:function(w,S,I,T,k){return k=this.getLayer(k),k===null?null:(y.Shuffle(w,S,I,T,k),this)},swapByIndex:function(w,S,I,T,k,E,A){return A=this.getLayer(A),A===null?null:(y.SwapByIndex(w,S,I,T,k,E,A),this)},tileToWorldX:function(w,S,I){return I=this.getLayer(I),I===null?null:this._convert.TileToWorldX(w,S,I)},tileToWorldY:function(w,S,I){return I=this.getLayer(I),I===null?null:this._convert.TileToWorldY(w,S,I)},tileToWorldXY:function(w,S,I,T,k){return k=this.getLayer(k),k===null?null:this._convert.TileToWorldXY(w,S,I,T,k)},getTileCorners:function(w,S,I,T){return T=this.getLayer(T),T===null?null:this._convert.GetTileCorners(w,S,I,T)},weightedRandomize:function(w,S,I,T,k,E){return E=this.getLayer(E),E===null?null:(y.WeightedRandomize(S,I,T,k,w,E),this)},worldToTileX:function(w,S,I,T){return T=this.getLayer(T),T===null?null:this._convert.WorldToTileX(w,S,I,T)},worldToTileY:function(w,S,I,T){return T=this.getLayer(T),T===null?null:this._convert.WorldToTileY(w,S,I,T)},worldToTileXY:function(w,S,I,T,k,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileXY(w,S,I,T,k,E)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});r.exports=C},45939:(r,o,t)=>{var a=t(44603),p=t(31989);a.register("tilemap",function(c){var u=c!==void 0?c:{};return p(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})},46029:(r,o,t)=>{var a=t(39429),p=t(31989);a.register("tilemap",function(c,u,h,l,d,v,f){return c===null&&(c=void 0),u===null&&(u=void 0),h===null&&(h=void 0),l===null&&(l=void 0),d===null&&(d=void 0),p(this.scene,c,u,h,l,d,v,f)})},20442:(r,o,t)=>{var a=t(83419),p=t(78389),c=t(31401),u=t(95643),h=t(81086),l=t(19218),d=t(26099),v=new a({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,p,l],initialize:function(g,m,x,y,b,M){u.call(this,g,"TilemapLayer"),this.isTilemap=!0,this.tilemap=m,this.layerIndex=x,this.layer=m.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(y),this.setAlpha(this.layer.alpha),this.setPosition(b,M),this.setOrigin(0,0),this.setSize(m.tileWidth*this.layer.width,m.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(f){var g=[],m=[],x=this.tilemap;Array.isArray(f)||(f=[f]);for(var y=0;y<f.length;y++){var b=f[y];if(typeof b=="string"&&(b=x.getTileset(b)),b){m.push(b);for(var M=b.firstgid,C=0;C<b.total;C++)g[M+C]=b}}this.gidMap=g,this.tileset=m},setRenderOrder:function(f){var g=["right-down","left-down","right-up","left-up"];return typeof f=="string"&&(f=g.indexOf(f)),f>=0&&f<4&&(this._renderOrder=f),this},calculateFacesAt:function(f,g){return h.CalculateFacesAt(f,g,this.layer),this},calculateFacesWithin:function(f,g,m,x){return h.CalculateFacesWithin(f,g,m,x,this.layer),this},createFromTiles:function(f,g,m,x,y){return h.CreateFromTiles(f,g,m,x,y,this.layer)},cull:function(f){return this.cullCallback(this.layer,f,this.culledTiles,this._renderOrder)},copy:function(f,g,m,x,y,b,M){return h.Copy(f,g,m,x,y,b,M,this.layer),this},fill:function(f,g,m,x,y,b){return h.Fill(f,g,m,x,y,b,this.layer),this},filterTiles:function(f,g,m,x,y,b,M){return h.FilterTiles(f,g,m,x,y,b,M,this.layer)},findByIndex:function(f,g,m){return h.FindByIndex(f,g,m,this.layer)},findTile:function(f,g,m,x,y,b,M){return h.FindTile(f,g,m,x,y,b,M,this.layer)},forEachTile:function(f,g,m,x,y,b,M){return h.ForEachTile(f,g,m,x,y,b,M,this.layer),this},setTint:function(f,g,m,x,y,b){f===void 0&&(f=16777215);var M=function(C){C.tint=f,C.tintFill=!1};return this.forEachTile(M,this,g,m,x,y,b)},setTintFill:function(f,g,m,x,y,b){f===void 0&&(f=16777215);var M=function(C){C.tint=f,C.tintFill=!0};return this.forEachTile(M,this,g,m,x,y,b)},getTileAt:function(f,g,m){return h.GetTileAt(f,g,m,this.layer)},getTileAtWorldXY:function(f,g,m,x){return h.GetTileAtWorldXY(f,g,m,x,this.layer)},getIsoTileAtWorldXY:function(f,g,m,x,y){m===void 0&&(m=!0);var b=this.tempVec;return h.IsometricWorldToTileXY(f,g,!0,b,y,this.layer,m),this.getTileAt(b.x,b.y,x)},getTilesWithin:function(f,g,m,x,y){return h.GetTilesWithin(f,g,m,x,y,this.layer)},getTilesWithinShape:function(f,g,m){return h.GetTilesWithinShape(f,g,m,this.layer)},getTilesWithinWorldXY:function(f,g,m,x,y,b){return h.GetTilesWithinWorldXY(f,g,m,x,y,b,this.layer)},hasTileAt:function(f,g){return h.HasTileAt(f,g,this.layer)},hasTileAtWorldXY:function(f,g,m){return h.HasTileAtWorldXY(f,g,m,this.layer)},putTileAt:function(f,g,m,x){return h.PutTileAt(f,g,m,x,this.layer)},putTileAtWorldXY:function(f,g,m,x,y){return h.PutTileAtWorldXY(f,g,m,x,y,this.layer)},putTilesAt:function(f,g,m,x){return h.PutTilesAt(f,g,m,x,this.layer),this},randomize:function(f,g,m,x,y){return h.Randomize(f,g,m,x,y,this.layer),this},removeTileAt:function(f,g,m,x){return h.RemoveTileAt(f,g,m,x,this.layer)},removeTileAtWorldXY:function(f,g,m,x,y){return h.RemoveTileAtWorldXY(f,g,m,x,y,this.layer)},renderDebug:function(f,g){return h.RenderDebug(f,g,this.layer),this},replaceByIndex:function(f,g,m,x,y,b){return h.ReplaceByIndex(f,g,m,x,y,b,this.layer),this},setSkipCull:function(f){return f===void 0&&(f=!0),this.skipCull=f,this},setCullPadding:function(f,g){return f===void 0&&(f=1),g===void 0&&(g=1),this.cullPaddingX=f,this.cullPaddingY=g,this},setCollision:function(f,g,m,x){return h.SetCollision(f,g,m,this.layer,x),this},setCollisionBetween:function(f,g,m,x){return h.SetCollisionBetween(f,g,m,x,this.layer),this},setCollisionByProperty:function(f,g,m){return h.SetCollisionByProperty(f,g,m,this.layer),this},setCollisionByExclusion:function(f,g,m){return h.SetCollisionByExclusion(f,g,m,this.layer),this},setCollisionFromCollisionGroup:function(f,g){return h.SetCollisionFromCollisionGroup(f,g,this.layer),this},setTileIndexCallback:function(f,g,m){return h.SetTileIndexCallback(f,g,m,this.layer),this},setTileLocationCallback:function(f,g,m,x,y,b){return h.SetTileLocationCallback(f,g,m,x,y,b,this.layer),this},shuffle:function(f,g,m,x){return h.Shuffle(f,g,m,x,this.layer),this},swapByIndex:function(f,g,m,x,y,b){return h.SwapByIndex(f,g,m,x,y,b,this.layer),this},tileToWorldX:function(f,g){return this.tilemap.tileToWorldX(f,g,this)},tileToWorldY:function(f,g){return this.tilemap.tileToWorldY(f,g,this)},tileToWorldXY:function(f,g,m,x){return this.tilemap.tileToWorldXY(f,g,m,x,this)},getTileCorners:function(f,g,m){return this.tilemap.getTileCorners(f,g,m,this)},weightedRandomize:function(f,g,m,x,y){return h.WeightedRandomize(g,m,x,y,f,this.layer),this},worldToTileX:function(f,g,m){return this.tilemap.worldToTileX(f,g,m,this)},worldToTileY:function(f,g,m){return this.tilemap.worldToTileY(f,g,m,this)},worldToTileXY:function(f,g,m,x,y){return this.tilemap.worldToTileXY(f,g,m,x,y,this)},destroy:function(f){f===void 0&&(f=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),f&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],u.prototype.destroy.call(this))}});r.exports=v},16153:(r,o,t)=>{var a=t(61340),p=new a,c=new a,u=new a,h=function(l,d,v,f){var g=d.cull(v),m=g.length,x=v.alpha*d.alpha;if(!(m===0||x<=0)){var y=p,b=c,M=u;b.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),y.copyFrom(v.matrix);var C=l.currentContext,w=d.gidMap;C.save(),f?(y.multiplyWithOffset(f,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),b.e=d.x,b.f=d.y,y.multiply(b,M),M.copyToContext(C)):(b.e-=v.scrollX*d.scrollFactorX,b.f-=v.scrollY*d.scrollFactorY,b.copyToContext(C)),(!l.antialias||d.scaleX>1||d.scaleY>1)&&(C.imageSmoothingEnabled=!1);for(var S=0;S<m;S++){var I=g[S],T=w[I.index];if(T){var k=T.image.getSourceImage(),E=T.getTileTextureCoordinates(I.index),A=T.tileWidth,L=T.tileHeight;if(!(E===null||A===0||L===0)){var D=A*.5,R=L*.5;E.x+=T.tileOffset.x,E.y+=T.tileOffset.y,C.save(),C.translate(I.pixelX+D,I.pixelY+R),I.rotation!==0&&C.rotate(I.rotation),(I.flipX||I.flipY)&&C.scale(I.flipX?-1:1,I.flipY?-1:1),C.globalAlpha=x*I.alpha,C.drawImage(k,E.x,E.y,A,L,-D,-R,A,L),C.restore()}}}C.restore()}};r.exports=h},19218:(r,o,t)=>{var a=t(29747),p=a,c=a;p=t(99558),c=t(16153),r.exports={renderWebGL:p,renderCanvas:c}},99558:(r,o,t)=>{var a=t(70554),p=function(c,u,h){var l=u.cull(h),d=l.length,v=h.alpha*u.alpha;if(!(d===0||v<=0)){var f=u.gidMap,g=c.pipelines.set(u.pipeline,u),m=a.getTintAppendFloatAlpha,x=u.scrollFactorX,y=u.scrollFactorY,b=u.x,M=u.y,C=u.scaleX,w=u.scaleY;c.pipelines.preBatch(u);for(var S=0;S<d;S++){var I=l[S],T=f[I.index];if(T){var k=T.getTileTextureCoordinates(I.index),E=T.tileWidth,A=T.tileHeight;if(!(!k||E===0||A===0)){var L=E*.5,D=A*.5,R=T.glTexture,N=g.setTexture2D(R,u),P=E,O=A,W=k.x,G=k.y,H=T.tileOffset.x,V=T.tileOffset.y,B=m(I.tint,v*I.alpha);g.batchTexture(u,R,R.width,R.height,b+I.pixelX*C+(L*C-H),M+I.pixelY*w+(D*w-V),E,A,C,w,I.rotation,I.flipX,I.flipY,x,y,L,D,W,G,P,O,B,B,B,B,I.tintFill,0,0,h,null,!0,N,!0)}}}c.pipelines.postBatch(u)}};r.exports=p},33629:(r,o,t)=>{var a=t(83419),p=t(26099),c=new a({initialize:function(h,l,d,v,f,g,m,x,y){(d===void 0||d<=0)&&(d=32),(v===void 0||v<=0)&&(v=32),f===void 0&&(f=0),g===void 0&&(g=0),m===void 0&&(m={}),x===void 0&&(x={}),this.name=h,this.firstgid=l,this.tileWidth=d,this.tileHeight=v,this.tileMargin=f,this.tileSpacing=g,this.tileProperties=m,this.tileData=x,this.tileOffset=new p,y!==void 0&&this.tileOffset.set(y.x,y.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(u){return this.containsTileIndex(u)?this.tileProperties[u-this.firstgid]:null},getTileData:function(u){return this.containsTileIndex(u)?this.tileData[u-this.firstgid]:null},getTileCollisionGroup:function(u){var h=this.getTileData(u);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(u){return u>=this.firstgid&&u<this.firstgid+this.total},getTileTextureCoordinates:function(u){return this.containsTileIndex(u)?this.texCoordinates[u-this.firstgid]:null},setImage:function(u){this.image=u;var h=u.get(),l=u.getFrameBounds();return this.glTexture=h.source.glTexture,h.width>l.width||h.height>l.height?this.updateTileData(h.width,h.height):this.updateTileData(l.width,l.height,l.x,l.y),this},setTileSize:function(u,h){return u!==void 0&&(this.tileWidth=u),h!==void 0&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(u,h){return u!==void 0&&(this.tileMargin=u),h!==void 0&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(u,h,l,d){l===void 0&&(l=0),d===void 0&&(d=0);var v=(h-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),f=(u-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||f%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),f=Math.floor(f),this.rows=v,this.columns=f,this.total=v*f,this.texCoordinates.length=0;for(var g=this.tileMargin+l,m=this.tileMargin+d,x=0;x<this.rows;x++){for(var y=0;y<this.columns;y++)this.texCoordinates.push({x:g,y:m}),g+=this.tileWidth+this.tileSpacing;g=this.tileMargin+l,m+=this.tileHeight+this.tileSpacing}return this}});r.exports=c},72023:(r,o,t)=>{var a=t(7423),p=function(c,u,h){var l=a(c,u,!0,h),d=a(c,u-1,!0,h),v=a(c,u+1,!0,h),f=a(c-1,u,!0,h),g=a(c+1,u,!0,h),m=l&&l.collides;return m&&(l.faceTop=!0,l.faceBottom=!0,l.faceLeft=!0,l.faceRight=!0),d&&d.collides&&(m&&(l.faceTop=!1),d.faceBottom=!m),v&&v.collides&&(m&&(l.faceBottom=!1),v.faceTop=!m),f&&f.collides&&(m&&(l.faceLeft=!1),f.faceRight=!m),g&&g.collides&&(m&&(l.faceRight=!1),g.faceLeft=!m),l&&!l.collides&&l.resetFaces(),l};r.exports=p},42573:(r,o,t)=>{var a=t(7423),p=t(7386),c=function(u,h,l,d,v){for(var f=null,g=null,m=null,x=null,y=p(u,h,l,d,null,v),b=0;b<y.length;b++){var M=y[b];M&&(M.collides?(f=a(M.x,M.y-1,!0,v),g=a(M.x,M.y+1,!0,v),m=a(M.x-1,M.y,!0,v),x=a(M.x+1,M.y,!0,v),M.faceTop=!(f&&f.collides),M.faceBottom=!(g&&g.collides),M.faceLeft=!(m&&m.collides),M.faceRight=!(x&&x.collides)):M.resetFaces())}};r.exports=c},33528:(r,o,t)=>{var a=t(26099),p=new a,c=function(u,h,l,d){var v=l.tilemapLayer,f=v.cullPaddingX,g=v.cullPaddingY,m=v.tilemap.tileToWorldXY(u,h,p,d,v);return m.x>d.worldView.x+v.scaleX*l.tileWidth*(-f-.5)&&m.x<d.worldView.right+v.scaleX*l.tileWidth*(f-.5)&&m.y>d.worldView.y+v.scaleY*l.tileHeight*(-g-1)&&m.y<d.worldView.bottom+v.scaleY*l.tileHeight*(g-.5)};r.exports=c},1785:(r,o,t)=>{var a=t(42573),p=t(7386),c=t(62991),u=t(23029),h=function(l,d,v,f,g,m,x,y){x===void 0&&(x=!0);var b=p(l,d,v,f,null,y),M=[];b.forEach(function(E){var A=new u(E.layer,E.index,E.x,E.y,E.width,E.height,E.baseWidth,E.baseHeight);A.copy(E),M.push(A)});for(var C=g-l,w=m-d,S=0;S<M.length;S++){var I=M[S],T=I.x+C,k=I.y+w;c(T,k,y)&&y.data[k][T]&&(I.x=T,I.y=k,I.updatePixelXY(),y.data[k][T]=I)}x&&a(g-1,m-1,v+2,f+2,y),b.length=0,M.length=0};r.exports=h},78419:(r,o,t)=>{var a=t(62644),p=t(7386),c=t(27987),u=function(h,l,d,v,f,g){d||(d={}),Array.isArray(h)||(h=[h]);var m=g.tilemapLayer;v||(v=m.scene),f||(f=v.cameras.main);var x=g.width,y=g.height,b=p(0,0,x,y,null,g),M=[],C,w=function(k,E,A){for(var L=0;L<A.length;L++){var D=A[L];k.hasOwnProperty(D)||(k[D]=E[D])}};for(C=0;C<b.length;C++){var S=b[C],I=a(d);if(h.indexOf(S.index)!==-1){var T=m.tileToWorldXY(S.x,S.y,void 0,f,g);I.x=T.x,I.y=T.y,w(I,S,["rotation","flipX","flipY","alpha","visible","tint"]),I.hasOwnProperty("origin")||(I.x+=S.width*.5,I.y+=S.height*.5),I.hasOwnProperty("useSpriteSheet")&&(I.key=S.tileset.image,I.frame=S.index-1),M.push(v.make.sprite(I))}}if(Array.isArray(l))for(C=0;C<h.length;C++)c(h[C],l[C],0,0,x,y,g);else if(l!==null)for(C=0;C<h.length;C++)c(h[C],l,0,0,x,y,g);return M};r.exports=u},19545:(r,o,t)=>{var a=t(87841),p=t(63448),c=t(56583),u=new a,h=function(l,d){var v=l.tilemapLayer.tilemap,f=l.tilemapLayer,g=Math.floor(v.tileWidth*f.scaleX),m=Math.floor(v.tileHeight*f.scaleY),x=c(d.worldView.x-f.x,g,0,!0)-f.cullPaddingX,y=p(d.worldView.right-f.x,g,0,!0)+f.cullPaddingX,b=c(d.worldView.y-f.y,m,0,!0)-f.cullPaddingY,M=p(d.worldView.bottom-f.y,m,0,!0)+f.cullPaddingY;return u.setTo(x,b,y-x,M-b)};r.exports=h},30003:(r,o,t)=>{var a=t(19545),p=t(32483),c=function(u,h,l,d){l===void 0&&(l=[]),d===void 0&&(d=0),l.length=0;var v=u.tilemapLayer,f=a(u,h);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),p(u,f,d,l),l};r.exports=c},35137:(r,o,t)=>{var a=t(7386),p=t(42573),c=t(20576),u=function(h,l,d,v,f,g,m){for(var x=m.collideIndexes.indexOf(h)!==-1,y=a(l,d,v,f,null,m),b=0;b<y.length;b++)y[b].index=h,c(y[b],x);g&&p(l-1,d-1,v+2,f+2,m)};r.exports=u},40253:(r,o,t)=>{var a=t(7386),p=function(c,u,h,l,d,v,f,g){var m=a(h,l,d,v,f,g);return m.filter(c,u)};r.exports=p},52692:r=>{var o=function(t,a,p,c){a===void 0&&(a=0),p===void 0&&(p=!1);var u=0,h,l,d;if(p){for(l=c.height-1;l>=0;l--)for(h=c.width-1;h>=0;h--)if(d=c.data[l][h],d&&d.index===t){if(u===a)return d;u+=1}}else for(l=0;l<c.height;l++)for(h=0;h<c.width;h++)if(d=c.data[l][h],d&&d.index===t){if(u===a)return d;u+=1}return null};r.exports=o},66151:(r,o,t)=>{var a=t(7386),p=function(c,u,h,l,d,v,f,g){var m=a(h,l,d,v,f,g);return m.find(c,u)||null};r.exports=p},97560:(r,o,t)=>{var a=t(7386),p=function(c,u,h,l,d,v,f,g){var m=a(h,l,d,v,f,g);m.forEach(c,u)};r.exports=p},43305:(r,o,t)=>{var a=t(91907),p=t(30003),c=t(9474),u=t(14018),h=t(29747),l=t(54503),d=function(v){return v===a.ORTHOGONAL?p:v===a.HEXAGONAL?c:v===a.STAGGERED?l:v===a.ISOMETRIC?u:h};r.exports=d},7423:(r,o,t)=>{var a=t(62991),p=function(c,u,h,l){if(a(c,u,l)){var d=l.data[u][c]||null;return d?d.index===-1?h?d:null:d:null}else return null};r.exports=p},60540:(r,o,t)=>{var a=t(7423),p=t(26099),c=new p,u=function(h,l,d,v,f){return f.tilemapLayer.worldToTileXY(h,l,!0,c,v),a(c.x,c.y,d,f)};r.exports=u},55826:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l){var d=l.baseTileWidth,v=l.baseTileHeight,f=l.tilemapLayer,g=0,m=0;f&&(h||(h=f.scene.cameras.main),g=f.x+h.scrollX*(1-f.scrollFactorX),m=f.y+h.scrollY*(1-f.scrollFactorY),d*=f.scaleX,v*=f.scaleY);var x=g+c*d,y=m+u*v;return[new a(x,y),new a(x+d,y),new a(x+d,y+v),new a(x,y+v)]};r.exports=p},11758:(r,o,t)=>{var a=t(91907),p=t(27229),c=t(29747),u=t(55826),h=function(l){return l===a.ORTHOGONAL?u:l===a.ISOMETRIC?c:l===a.HEXAGONAL?p:(l===a.STAGGERED,c)};r.exports=h},39167:(r,o,t)=>{var a=t(91907),p=t(29747),c=t(97281),u=function(h){return h===a.ORTHOGONAL?c:p};r.exports=u},62e3:(r,o,t)=>{var a=t(91907),p=t(19951),c=t(14127),u=t(29747),h=t(97202),l=t(70326),d=function(v){return v===a.ORTHOGONAL?l:v===a.ISOMETRIC?c:v===a.HEXAGONAL?p:v===a.STAGGERED?h:u};r.exports=d},5984:(r,o,t)=>{var a=t(91907),p=t(29747),c=t(28054),u=t(29650),h=function(l){return l===a.ORTHOGONAL?u:l===a.STAGGERED?c:p};r.exports=h},7386:(r,o,t)=>{var a=t(95540),p=function(c,u,h,l,d,v){c===void 0&&(c=0),u===void 0&&(u=0),h===void 0&&(h=v.width),l===void 0&&(l=v.height),d||(d={});var f=a(d,"isNotEmpty",!1),g=a(d,"isColliding",!1),m=a(d,"hasInterestingFace",!1);c<0&&(h+=c,c=0),u<0&&(l+=u,u=0),c+h>v.width&&(h=Math.max(v.width-c,0)),u+l>v.height&&(l=Math.max(v.height-u,0));for(var x=[],y=u;y<u+l;y++)for(var b=c;b<c+h;b++){var M=v.data[y][b];if(M!==null){if(f&&M.index===-1||g&&!M.collides||m&&!M.hasInterestingFace)continue;x.push(M)}}return x};r.exports=p},91141:(r,o,t)=>{var a=t(55738),p=t(7386),c=t(91865),u=t(29747),h=t(26099),l=t(91907),d=function(x,y){return c.RectangleToTriangle(y,x)},v=new h,f=new h,g=new h,m=function(x,y,b,M){if(M.orientation!==l.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(x===void 0)return[];var C=u;x instanceof a.Circle?C=c.CircleToRectangle:x instanceof a.Rectangle?C=c.RectangleToRectangle:x instanceof a.Triangle?C=d:x instanceof a.Line&&(C=c.LineToRectangle),M.tilemapLayer.worldToTileXY(x.left,x.top,!0,f,b);var w=f.x,S=f.y;M.tilemapLayer.worldToTileXY(x.right,x.bottom,!1,g,b);var I=Math.ceil(g.x),T=Math.ceil(g.y),k=Math.max(I-w,1),E=Math.max(T-S,1),A=p(w,S,k,E,y,M),L=M.tileWidth,D=M.tileHeight;M.tilemapLayer&&(L*=M.tilemapLayer.scaleX,D*=M.tilemapLayer.scaleY);for(var R=[],N=new a.Rectangle(0,0,L,D),P=0;P<A.length;P++){var O=A[P];M.tilemapLayer.tileToWorldXY(O.x,O.y,v,b),N.x=v.x,N.y=v.y,C(x,N)&&R.push(O)}return R};r.exports=m},96523:(r,o,t)=>{var a=t(7386),p=t(26099),c=new p,u=new p,h=function(l,d,v,f,g,m,x){var y=x.tilemapLayer.tilemap._convert.WorldToTileXY;y(l,d,!0,c,m,x);var b=c.x,M=c.y;y(l+v,d+f,!1,u,m,x);var C=Math.ceil(u.x),w=Math.ceil(u.y);return a(b,M,C-b,w-M,g,x)};r.exports=h},96113:(r,o,t)=>{var a=t(91907),p=t(20242),c=t(10095),u=function(h){return h===a.ORTHOGONAL?c:p};r.exports=u},16926:(r,o,t)=>{var a=t(91907),p=t(86625),c=t(96897),u=t(29747),h=t(15108),l=t(85896),d=function(v){return v===a.ORTHOGONAL?l:v===a.ISOMETRIC?c:v===a.HEXAGONAL?p:v===a.STAGGERED?h:u};r.exports=d},55762:(r,o,t)=>{var a=t(91907),p=t(20242),c=t(51900),u=t(63288),h=function(l){return l===a.ORTHOGONAL?u:l===a.STAGGERED?c:p};r.exports=h},45091:(r,o,t)=>{var a=t(62991),p=function(c,u,h){if(a(c,u,h)){var l=h.data[u][c];return l!==null&&l.index>-1}else return!1};r.exports=p},24152:(r,o,t)=>{var a=t(45091),p=t(26099),c=new p,u=function(h,l,d,v){v.tilemapLayer.worldToTileXY(h,l,!0,c,d);var f=c.x,g=c.y;return a(f,g,v)};r.exports=u},90454:(r,o,t)=>{var a=t(63448),p=t(56583),c=function(u,h){var l=u.tilemapLayer.tilemap,d=u.tilemapLayer,v=Math.floor(l.tileWidth*d.scaleX),f=Math.floor(l.tileHeight*d.scaleY),g=u.hexSideLength,m,x,y,b;if(u.staggerAxis==="y"){var M=(f-g)/2+g;m=p(h.worldView.x-d.x,v,0,!0)-d.cullPaddingX,x=a(h.worldView.right-d.x,v,0,!0)+d.cullPaddingX,y=p(h.worldView.y-d.y,M,0,!0)-d.cullPaddingY,b=a(h.worldView.bottom-d.y,M,0,!0)+d.cullPaddingY}else{var C=(v-g)/2+g;m=p(h.worldView.x-d.x,C,0,!0)-d.cullPaddingX,x=a(h.worldView.right-d.x,C,0,!0)+d.cullPaddingX,y=p(h.worldView.y-d.y,f,0,!0)-d.cullPaddingY,b=a(h.worldView.bottom-d.y,f,0,!0)+d.cullPaddingY}return{left:m,right:x,top:y,bottom:b}};r.exports=c},9474:(r,o,t)=>{var a=t(90454),p=t(32483),c=function(u,h,l,d){l===void 0&&(l=[]),d===void 0&&(d=0),l.length=0;var v=u.tilemapLayer,f=a(u,h);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),p(u,f,d,l),l};r.exports=c},27229:(r,o,t)=>{var a=t(19951),p=t(26099),c=new p,u=function(h,l,d,v){var f=v.baseTileWidth,g=v.baseTileHeight,m=v.tilemapLayer;m&&(f*=m.scaleX,g*=m.scaleY);var x=a(h,l,c,d,v),y=[],b=.5773502691896257,M,C;v.staggerAxis==="y"?(M=b*f,C=g/2):(M=f/2,C=b*g);for(var w=0;w<6;w++){var S=2*Math.PI*(.5-w)/6;y.push(new p(x.x+M*Math.cos(S),x.y+C*Math.sin(S)))}return y};r.exports=u},19951:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d){h||(h=new a);var v=d.baseTileWidth,f=d.baseTileHeight,g=d.tilemapLayer,m=0,x=0;g&&(l||(l=g.scene.cameras.main),m=g.x+l.scrollX*(1-g.scrollFactorX),x=g.y+l.scrollY*(1-g.scrollFactorY),v*=g.scaleX,f*=g.scaleY);var y=v/2,b=f/2,M,C,w=d.staggerAxis,S=d.staggerIndex;return w==="y"?(M=m+v*c+v,C=x+1.5*u*b+b,u%2===0&&(S==="odd"?M-=y:M+=y)):w==="x"&&S==="odd"&&(M=m+1.5*c*y+y,C=x+f*c+f,c%2===0&&(S==="odd"?C-=b:C+=b)),h.set(M,C)};r.exports=p},86625:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d,v){l||(l=new a);var f=v.baseTileWidth,g=v.baseTileHeight,m=v.tilemapLayer;m&&(d||(d=m.scene.cameras.main),c=c-(m.x+d.scrollX*(1-m.scrollFactorX)),u=u-(m.y+d.scrollY*(1-m.scrollFactorY)),f*=m.scaleX,g*=m.scaleY);var x=.5773502691896257,y=-.3333333333333333,b=0,M=.6666666666666666,C=f/2,w=g/2,S,I,T,k,E;v.staggerAxis==="y"?(S=(c-C)/(x*f),I=(u-w)/w,T=x*S+y*I,k=b*S+M*I):(S=(c-C)/C,I=(u-w)/(x*g),T=y*S+x*I,k=M*S+b*I),E=-T-k;var A=Math.round(T),L=Math.round(k),D=Math.round(E),R=Math.abs(A-T),N=Math.abs(L-k),P=Math.abs(D-E);R>N&&R>P?A=-L-D:N>P&&(L=-A-D);var O,W=L;return v.staggerIndex==="odd"?O=W%2===0?L/2+A:L/2+A-.5:O=W%2===0?L/2+A:L/2+A+.5,l.set(O,W)};r.exports=p},62991:r=>{var o=function(t,a,p){return t>=0&&t<p.width&&a>=0&&a<p.height};r.exports=o},14018:(r,o,t)=>{var a=t(33528),p=function(c,u,h,l){h===void 0&&(h=[]),l===void 0&&(l=0),h.length=0;var d=c.tilemapLayer,v=c.data,f=c.width,g=c.height,m=d.skipCull,x=0,y=f,b=0,M=g,C,w,S;if(l===0)for(w=b;w<M;w++)for(C=x;C<y;C++)S=v[w][C],!(!S||S.index===-1||!S.visible||S.alpha===0)&&(!m&&!a(C,w,c,u)||h.push(S));else if(l===1)for(w=b;w<M;w++)for(C=y;C>=x;C--)S=v[w][C],!(!S||S.index===-1||!S.visible||S.alpha===0)&&(!m&&!a(C,w,c,u)||h.push(S));else if(l===2)for(w=M;w>=b;w--)for(C=x;C<y;C++)S=v[w][C],!(!S||S.index===-1||!S.visible||S.alpha===0)&&(!m&&!a(C,w,c,u)||h.push(S));else if(l===3)for(w=M;w>=b;w--)for(C=y;C>=x;C--)S=v[w][C],!(!S||S.index===-1||!S.visible||S.alpha===0)&&(!m&&!a(C,w,c,u)||h.push(S));return d.tilesDrawn=h.length,d.tilesTotal=f*g,h};r.exports=p},14127:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d){h||(h=new a);var v=d.baseTileWidth,f=d.baseTileHeight,g=d.tilemapLayer,m=0,x=0;g&&(l||(l=g.scene.cameras.main),m=g.x+l.scrollX*(1-g.scrollFactorX),v*=g.scaleX,x=g.y+l.scrollY*(1-g.scrollFactorY),f*=g.scaleY);var y=m+(c-u)*(v/2),b=x+(c+u)*(f/2);return h.set(y,b)};r.exports=p},96897:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d,v,f){l||(l=new a);var g=v.baseTileWidth,m=v.baseTileHeight,x=v.tilemapLayer;x&&(d||(d=x.scene.cameras.main),u=u-(x.y+d.scrollY*(1-x.scrollFactorY)),m*=x.scaleY,c=c-(x.x+d.scrollX*(1-x.scrollFactorX)),g*=x.scaleX);var y=g/2,b=m/2;c=c-y,f||(u=u-m);var M=.5*(c/y+u/b),C=.5*(-c/y+u/b);return h&&(M=Math.floor(M),C=Math.floor(C)),l.set(M,C)};r.exports=p},71558:(r,o,t)=>{var a=t(23029),p=t(62991),c=t(72023),u=t(20576),h=function(l,d,v,f,g){if(f===void 0&&(f=!0),!p(d,v,g))return null;var m,x=g.data[v][d],y=x&&x.collides;l instanceof a?(g.data[v][d]===null&&(g.data[v][d]=new a(g,l.index,d,v,g.tileWidth,g.tileHeight)),g.data[v][d].copy(l)):(m=l,g.data[v][d]===null?g.data[v][d]=new a(g,m,d,v,g.tileWidth,g.tileHeight):g.data[v][d].index=m);var b=g.data[v][d],M=g.collideIndexes.indexOf(b.index)!==-1;if(m=l instanceof a?l.index:l,m===-1)b.width=g.tileWidth,b.height=g.tileHeight;else{var C=g.tilemapLayer.tilemap,w=C.tiles,S=w[m][2],I=C.tilesets[S];b.width=I.tileWidth,b.height=I.tileHeight}return u(b,M),f&&y!==b.collides&&c(d,v,g),b};r.exports=h},26303:(r,o,t)=>{var a=t(71558),p=t(26099),c=new p,u=function(h,l,d,v,f,g){return g.tilemapLayer.worldToTileXY(l,d,!0,c,f,g),a(h,c.x,c.y,v,g)};r.exports=u},14051:(r,o,t)=>{var a=t(42573),p=t(71558),c=function(u,h,l,d,v){if(d===void 0&&(d=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var f=u.length,g=u[0].length,m=0;m<f;m++)for(var x=0;x<g;x++){var y=u[m][x];p(y,h+x,l+m,!1,v)}d&&a(h-1,l-1,g+2,f+2,v)};r.exports=c},77389:(r,o,t)=>{var a=t(7386),p=t(26546),c=function(u,h,l,d,v,f){var g,m=a(u,h,l,d,{},f);if(!v)for(v=[],g=0;g<m.length;g++)v.indexOf(m[g].index)===-1&&v.push(m[g].index);for(g=0;g<m.length;g++)m[g].index=p(v)};r.exports=c},63557:(r,o,t)=>{var a=t(23029),p=t(62991),c=t(72023),u=function(h,l,d,v,f){if(d===void 0&&(d=!0),v===void 0&&(v=!0),!p(h,l,f))return null;var g=f.data[l][h];if(g)f.data[l][h]=d?null:new a(f,-1,h,l,f.tileWidth,f.tileHeight);else return null;return v&&g&&g.collides&&c(h,l,f),g};r.exports=u},94178:(r,o,t)=>{var a=t(63557),p=t(26099),c=new p,u=function(h,l,d,v,f,g){return g.tilemapLayer.worldToTileXY(h,l,!0,c,f,g),a(c.x,c.y,d,v,g)};r.exports=u},15533:(r,o,t)=>{var a=t(7386),p=t(3956),c=new p(105,210,231,150),u=new p(243,134,48,200),h=new p(40,39,37,150),l=function(d,v,f){v===void 0&&(v={});var g=v.tileColor!==void 0?v.tileColor:c,m=v.collidingTileColor!==void 0?v.collidingTileColor:u,x=v.faceColor!==void 0?v.faceColor:h,y=a(0,0,f.width,f.height,null,f);d.translateCanvas(f.tilemapLayer.x,f.tilemapLayer.y),d.scaleCanvas(f.tilemapLayer.scaleX,f.tilemapLayer.scaleY);for(var b=0;b<y.length;b++){var M=y[b],C=M.tileset?M.tileset.tileOffset:{x:0,y:0},w=M.width,S=M.height,I=M.pixelX-C.x,T=M.pixelY-C.y,k=M.collides?m:g;k!==null&&(d.fillStyle(k.color,k.alpha/255),d.fillRect(I,T,w,S)),I+=1,T+=1,w-=2,S-=2,x!==null&&(d.lineStyle(1,x.color,x.alpha/255),M.faceTop&&d.lineBetween(I,T,I+w,T),M.faceRight&&d.lineBetween(I+w,T,I+w,T+S),M.faceBottom&&d.lineBetween(I,T+S,I+w,T+S),M.faceLeft&&d.lineBetween(I,T,I,T+S))}};r.exports=l},27987:(r,o,t)=>{var a=t(7386),p=function(c,u,h,l,d,v,f){for(var g=a(h,l,d,v,null,f),m=0;m<g.length;m++)g[m]&&g[m].index===c&&(g[m].index=u)};r.exports=p},32483:r=>{var o=function(t,a,p,c){var u=t.data,h=t.width,l=t.height,d=t.tilemapLayer,v=Math.max(0,a.left),f=Math.min(h,a.right),g=Math.max(0,a.top),m=Math.min(l,a.bottom),x,y,b;if(p===0)for(y=g;y<m;y++)for(x=v;u[y]&&x<f;x++)b=u[y][x],!(!b||b.index===-1||!b.visible||b.alpha===0)&&c.push(b);else if(p===1)for(y=g;y<m;y++)for(x=f;u[y]&&x>=v;x--)b=u[y][x],!(!b||b.index===-1||!b.visible||b.alpha===0)&&c.push(b);else if(p===2)for(y=m;y>=g;y--)for(x=v;u[y]&&x<f;x++)b=u[y][x],!(!b||b.index===-1||!b.visible||b.alpha===0)&&c.push(b);else if(p===3)for(y=m;y>=g;y--)for(x=f;u[y]&&x>=v;x--)b=u[y][x],!(!b||b.index===-1||!b.visible||b.alpha===0)&&c.push(b);return d.tilesDrawn=c.length,d.tilesTotal=h*l,c};r.exports=o},57068:(r,o,t)=>{var a=t(20576),p=t(42573),c=t(9589),u=function(h,l,d,v,f){l===void 0&&(l=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);for(var g=0;g<h.length;g++)c(h[g],l,v);if(f)for(var m=0;m<v.height;m++)for(var x=0;x<v.width;x++){var y=v.data[m][x];y&&h.indexOf(y.index)!==-1&&a(y,l)}d&&p(0,0,v.width,v.height,v)};r.exports=u},37266:(r,o,t)=>{var a=t(20576),p=t(42573),c=t(9589),u=function(h,l,d,v,f,g){if(d===void 0&&(d=!0),v===void 0&&(v=!0),g===void 0&&(g=!0),!(h>l)){for(var m=h;m<=l;m++)c(m,d,f);if(g)for(var x=0;x<f.height;x++)for(var y=0;y<f.width;y++){var b=f.data[x][y];b&&b.index>=h&&b.index<=l&&a(b,d)}v&&p(0,0,f.width,f.height,f)}};r.exports=u},75661:(r,o,t)=>{var a=t(20576),p=t(42573),c=t(9589),u=function(h,l,d,v){l===void 0&&(l=!0),d===void 0&&(d=!0),Array.isArray(h)||(h=[h]);for(var f=0;f<v.height;f++)for(var g=0;g<v.width;g++){var m=v.data[f][g];m&&h.indexOf(m.index)===-1&&(a(m,l),c(m.index,l,v))}d&&p(0,0,v.width,v.height,v)};r.exports=u},64740:(r,o,t)=>{var a=t(20576),p=t(42573),c=t(97022),u=function(h,l,d,v){l===void 0&&(l=!0),d===void 0&&(d=!0);for(var f=0;f<v.height;f++)for(var g=0;g<v.width;g++){var m=v.data[f][g];if(m){for(var x in h)if(c(m.properties,x)){var y=h[x];Array.isArray(y)||(y=[y]);for(var b=0;b<y.length;b++)m.properties[x]===y[b]&&a(m,l)}}}d&&p(0,0,v.width,v.height,v)};r.exports=u},63307:(r,o,t)=>{var a=t(20576),p=t(42573),c=function(u,h,l){u===void 0&&(u=!0),h===void 0&&(h=!0);for(var d=0;d<l.height;d++)for(var v=0;v<l.width;v++){var f=l.data[d][v];if(f){var g=f.getCollisionGroup();g&&g.objects&&g.objects.length>0&&a(f,u)}}h&&p(0,0,l.width,l.height,l)};r.exports=c},9589:r=>{var o=function(t,a,p){var c=p.collideIndexes.indexOf(t);a&&c===-1?p.collideIndexes.push(t):!a&&c!==-1&&p.collideIndexes.splice(c,1)};r.exports=o},20576:r=>{var o=function(t,a){a?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};r.exports=o},79583:r=>{var o=function(t,a,p,c){if(typeof t=="number")c.callbacks[t]=a!==null?{callback:a,callbackContext:p}:void 0;else for(var u=0,h=t.length;u<h;u++)c.callbacks[t[u]]=a!==null?{callback:a,callbackContext:p}:void 0};r.exports=o},93254:(r,o,t)=>{var a=t(7386),p=function(c,u,h,l,d,v,f){for(var g=a(c,u,h,l,null,f),m=0;m<g.length;m++)g[m].setCollisionCallback(d,v)};r.exports=p},32903:(r,o,t)=>{var a=t(7386),p=t(33680),c=function(u,h,l,d,v){var f=a(u,h,l,d,null,v),g=f.map(function(x){return x.index});p(g);for(var m=0;m<f.length;m++)f[m].index=g[m]};r.exports=c},61325:(r,o,t)=>{var a=t(63448),p=t(56583),c=function(u,h){var l=u.tilemapLayer.tilemap,d=u.tilemapLayer,v=Math.floor(l.tileWidth*d.scaleX),f=Math.floor(l.tileHeight*d.scaleY),g=p(h.worldView.x-d.x,v,0,!0)-d.cullPaddingX,m=a(h.worldView.right-d.x,v,0,!0)+d.cullPaddingX,x=p(h.worldView.y-d.y,f/2,0,!0)-d.cullPaddingY,y=a(h.worldView.bottom-d.y,f/2,0,!0)+d.cullPaddingY;return{left:g,right:m,top:x,bottom:y}};r.exports=c},54503:(r,o,t)=>{var a=t(61325),p=t(32483),c=function(u,h,l,d){l===void 0&&(l=[]),d===void 0&&(d=0),l.length=0;var v=u.tilemapLayer,f=a(u,h);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),p(u,f,d,l),l};r.exports=c},97202:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d){h||(h=new a);var v=d.baseTileWidth,f=d.baseTileHeight,g=d.tilemapLayer,m=0,x=0;g&&(l||(l=g.scene.cameras.main),m=g.x+l.scrollX*(1-g.scrollFactorX),v*=g.scaleX,x=g.y+l.scrollY*(1-g.scrollFactorY),f*=g.scaleY);var y=m+c*v+u%2*(v/2),b=x+u*(f/2);return h.set(y,b)};r.exports=p},28054:r=>{var o=function(t,a,p){var c=p.baseTileHeight,u=p.tilemapLayer,h=0;return u&&(a===void 0&&(a=u.scene.cameras.main),h=u.y+a.scrollY*(1-u.scrollFactorY),c*=u.scaleY),h+t*(c/2)+c};r.exports=o},15108:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d,v){l||(l=new a);var f=v.baseTileWidth,g=v.baseTileHeight,m=v.tilemapLayer;m&&(d||(d=m.scene.cameras.main),u=u-(m.y+d.scrollY*(1-m.scrollFactorY)),g*=m.scaleY,c=c-(m.x+d.scrollX*(1-m.scrollFactorX)),f*=m.scaleX);var x=h?Math.floor(u/(g/2)):u/(g/2),y=h?Math.floor((c+x%2*.5*f)/f):(c+x%2*.5*f)/f;return l.set(y,x)};r.exports=p},51900:r=>{var o=function(t,a,p,c){var u=c.baseTileHeight,h=c.tilemapLayer;return h&&(p||(p=h.scene.cameras.main),t=t-(h.y+p.scrollY*(1-h.scrollFactorY)),u*=h.scaleY),a?Math.floor(t/(u/2)):t/(u/2)};r.exports=o},86560:(r,o,t)=>{var a=t(7386),p=function(c,u,h,l,d,v,f){for(var g=a(h,l,d,v,null,f),m=0;m<g.length;m++)g[m]&&(g[m].index===c?g[m].index=u:g[m].index===u&&(g[m].index=c))};r.exports=p},97281:r=>{var o=function(t,a,p){var c=p.baseTileWidth,u=p.tilemapLayer,h=0;return u&&(a||(a=u.scene.cameras.main),h=u.x+a.scrollX*(1-u.scrollFactorX),c*=u.scaleX),h+t*c};r.exports=o},70326:(r,o,t)=>{var a=t(97281),p=t(29650),c=t(26099),u=function(h,l,d,v,f){return d||(d=new c(0,0)),d.x=a(h,v,f),d.y=p(l,v,f),d};r.exports=u},29650:r=>{var o=function(t,a,p){var c=p.baseTileHeight,u=p.tilemapLayer,h=0;return u&&(a||(a=u.scene.cameras.main),h=u.y+a.scrollY*(1-u.scrollFactorY),c*=u.scaleY),h+t*c};r.exports=o},77366:(r,o,t)=>{var a=t(7386),p=t(75508),c=function(u,h,l,d,v,f){if(v){var g,m=a(u,h,l,d,null,f),x=0;for(g=0;g<v.length;g++)x+=v[g].weight;if(!(x<=0))for(g=0;g<m.length;g++){for(var y=p.RND.frac()*x,b=0,M=-1,C=0;C<v.length;C++)if(b+=v[C].weight,y<=b){var w=v[C].index;M=Array.isArray(w)?w[Math.floor(p.RND.frac()*w.length)]:w;break}m[g].index=M}}};r.exports=c},10095:(r,o,t)=>{var a=t(85896),p=t(26099),c=new p,u=function(h,l,d,v){return a(h,0,l,c,d,v),c.x};r.exports=u},85896:(r,o,t)=>{var a=t(26099),p=function(c,u,h,l,d,v){h===void 0&&(h=!0),l||(l=new a);var f=v.baseTileWidth,g=v.baseTileHeight,m=v.tilemapLayer;m&&(d||(d=m.scene.cameras.main),c=c-(m.x+d.scrollX*(1-m.scrollFactorX)),u=u-(m.y+d.scrollY*(1-m.scrollFactorY)),f*=m.scaleX,g*=m.scaleY);var x=c/f,y=u/g;return h&&(x=Math.floor(x),y=Math.floor(y)),l.set(x,y)};r.exports=p},63288:(r,o,t)=>{var a=t(85896),p=t(26099),c=new p,u=function(h,l,d,v){return a(0,h,l,c,d,v),c.y};r.exports=u},81086:(r,o,t)=>{r.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:r=>{r.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(r,o,t)=>{var a={ORIENTATION:t(91907)};r.exports=a},62501:(r,o,t)=>{var a=t(79291),p=t(21829),c={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};c=a(!1,c,p.ORIENTATION),r.exports=c},14977:(r,o,t)=>{var a=t(83419),p=t(91907),c=t(95540),u=new a({initialize:function(l){l===void 0&&(l={}),this.name=c(l,"name","layer"),this.id=c(l,"id",0),this.x=c(l,"x",0),this.y=c(l,"y",0),this.width=c(l,"width",0),this.height=c(l,"height",0),this.tileWidth=c(l,"tileWidth",0),this.tileHeight=c(l,"tileHeight",0),this.baseTileWidth=c(l,"baseTileWidth",this.tileWidth),this.baseTileHeight=c(l,"baseTileHeight",this.tileHeight),this.orientation=c(l,"orientation",p.ORTHOGONAL),this.widthInPixels=c(l,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=c(l,"heightInPixels",this.height*this.baseTileHeight),this.alpha=c(l,"alpha",1),this.visible=c(l,"visible",!0),this.properties=c(l,"properties",[]),this.indexes=c(l,"indexes",[]),this.collideIndexes=c(l,"collideIndexes",[]),this.callbacks=c(l,"callbacks",[]),this.bodies=c(l,"bodies",[]),this.data=c(l,"data",[]),this.tilemapLayer=c(l,"tilemapLayer",null),this.hexSideLength=c(l,"hexSideLength",0),this.staggerAxis=c(l,"staggerAxis","y"),this.staggerIndex=c(l,"staggerIndex","odd")}});r.exports=u},87010:(r,o,t)=>{var a=t(83419),p=t(91907),c=t(95540),u=new a({initialize:function(l){l===void 0&&(l={}),this.name=c(l,"name","map"),this.width=c(l,"width",0),this.height=c(l,"height",0),this.infinite=c(l,"infinite",!1),this.tileWidth=c(l,"tileWidth",0),this.tileHeight=c(l,"tileHeight",0),this.widthInPixels=c(l,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=c(l,"heightInPixels",this.height*this.tileHeight),this.format=c(l,"format",null),this.orientation=c(l,"orientation",p.ORTHOGONAL),this.renderOrder=c(l,"renderOrder","right-down"),this.version=c(l,"version","1"),this.properties=c(l,"properties",{}),this.layers=c(l,"layers",[]),this.images=c(l,"images",[]),this.objects=c(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=c(l,"collision",{}),this.tilesets=c(l,"tilesets",[]),this.imageCollections=c(l,"imageCollections",[]),this.tiles=c(l,"tiles",[]),this.hexSideLength=c(l,"hexSideLength",0),this.staggerAxis=c(l,"staggerAxis","y"),this.staggerIndex=c(l,"staggerIndex","odd")}});r.exports=u},48700:(r,o,t)=>{var a=t(83419),p=t(95540),c=new a({initialize:function(h){h===void 0&&(h={}),this.name=p(h,"name","object layer"),this.id=p(h,"id",0),this.opacity=p(h,"opacity",1),this.properties=p(h,"properties",{}),this.propertyTypes=p(h,"propertytypes",{}),this.type=p(h,"type","objectgroup"),this.visible=p(h,"visible",!0),this.objects=p(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});r.exports=c},6641:(r,o,t)=>{var a=t(91907),p=function(c){return c=c.toLowerCase(),c==="isometric"?a.ISOMETRIC:c==="staggered"?a.STAGGERED:c==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};r.exports=p},46177:(r,o,t)=>{var a=t(80341),p=t(2342),c=t(82593),u=t(46594),h=t(87021),l=function(d,v,f,g,m,x){var y;switch(v){case a.ARRAY_2D:y=p(d,f,g,m,x);break;case a.CSV:y=c(d,f,g,m,x);break;case a.TILED_JSON:y=u(d,f,x);break;case a.WELTMEISTER:y=h(d,f,x);break;default:console.warn("Unrecognized tilemap data format: "+v),y=null}return y};r.exports=l},2342:(r,o,t)=>{var a=t(80341),p=t(14977),c=t(87010),u=t(23029),h=function(l,d,v,f,g){for(var m=new p({tileWidth:v,tileHeight:f}),x=new c({name:l,tileWidth:v,tileHeight:f,format:a.ARRAY_2D,layers:[m]}),y=[],b=d.length,M=0,C=0;C<d.length;C++){y[C]=[];for(var w=d[C],S=0;S<w.length;S++){var I=parseInt(w[S],10);isNaN(I)||I===-1?y[C][S]=g?null:new u(m,-1,S,C,v,f):y[C][S]=new u(m,I,S,C,v,f)}M===0&&(M=w.length)}return x.width=m.width=M,x.height=m.height=b,x.widthInPixels=m.widthInPixels=M*v,x.heightInPixels=m.heightInPixels=b*f,m.data=y,x};r.exports=h},82593:(r,o,t)=>{var a=t(80341),p=t(2342),c=function(u,h,l,d,v){var f=h.trim().split(`
`).map(function(m){return m.split(",")}),g=p(u,f,l,d,v);return g.format=a.CSV,g};r.exports=c},6656:(r,o,t)=>{var a=t(14977),p=t(23029),c=function(u,h){for(var l=[],d=0;d<u.layer.length;d++){for(var v=u.layer[d],f=new a({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),g=[],m=[],x=0;x<v.data.length;x++){for(var y=0;y<v.data[x].length;y++){var b=v.data[x][y]-1,M;b>-1?M=new p(f,b,y,x,v.tilesize,v.tilesize):M=h?null:new p(f,-1,y,x,v.tilesize,v.tilesize),g.push(M)}m.push(g),g=[]}f.data=m,l.push(f)}return l};r.exports=c},96483:(r,o,t)=>{var a=t(33629),p=function(c){for(var u=[],h=[],l=0;l<c.layer.length;l++){var d=c.layer[l],v=d.tilesetName;v!==""&&h.indexOf(v)===-1&&(h.push(v),u.push(new a(v,0,d.tilesize,d.tilesize,0,0)))}return u};r.exports=p},87021:(r,o,t)=>{var a=t(80341),p=t(87010),c=t(6656),u=t(96483),h=function(l,d,v){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+l),null;for(var f=0,g=0,m=0;m<d.layer.length;m++)d.layer[m].width>f&&(f=d.layer[m].width),d.layer[m].height>g&&(g=d.layer[m].height);var x=new p({width:f,height:g,name:l,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:a.WELTMEISTER});return x.layers=c(d,v),x.tilesets=u(d),x};r.exports=h},52833:(r,o,t)=>{r.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(r,o,t)=>{r.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(r,o,t)=>{var a=t(79291),p=function(c){for(var u,h,l,d,v,f=0;f<c.layers.length;f++){u=c.layers[f],d=null;for(var g=0;g<u.data.length;g++){v=u.data[g];for(var m=0;m<v.length;m++)h=v[m],!(h===null||h.index<0)&&(l=c.tiles[h.index][2],d=c.tilesets[l],h.width=d.tileWidth,h.height=d.tileHeight,d.tileProperties&&d.tileProperties[h.index-d.firstgid]&&(h.properties=a(h.properties,d.tileProperties[h.index-d.firstgid])))}}};r.exports=p},41868:r=>{var o=function(t){for(var a=window.atob(t),p=a.length,c=new Array(p/4),u=0;u<p;u+=4)c[u/4]=(a.charCodeAt(u)|a.charCodeAt(u+1)<<8|a.charCodeAt(u+2)<<16|a.charCodeAt(u+3)<<24)>>>0;return c};r.exports=o},84101:(r,o,t)=>{var a=t(33629),p=function(c){var u,h,l=[];for(u=0;u<c.imageCollections.length;u++)for(var d=c.imageCollections[u],v=d.images,f=0;f<v.length;f++){var g=v[f],m={x:0,y:g.height-c.tileHeight};h=new a(g.image,g.gid,g.width,g.height,0,0,null,null,m),h.updateTileData(g.width,g.height),c.tilesets.push(h)}for(u=0;u<c.tilesets.length;u++){h=c.tilesets[u];for(var x=h.tileMargin,y=h.tileMargin,b=0,M=0,C=0,w=h.firstgid;w<h.firstgid+h.total&&(l[w]=[x,y,u],x+=h.tileWidth+h.tileSpacing,b++,!(b===h.total||(M++,M===h.columns&&(x=h.tileMargin,y+=h.tileHeight+h.tileSpacing,M=0,C++,C===h.rows))));w++);}return l};r.exports=p},79677:(r,o,t)=>{var a=t(95540),p=function(c,u,h){if(!u)return{i:0,layers:c.layers,name:"",opacity:1,visible:!0,x:0,y:0};var l=u.x+a(u,"startx",0)*c.tilewidth+a(u,"offsetx",0),d=u.y+a(u,"starty",0)*c.tileheight+a(u,"offsety",0);return{i:0,layers:u.layers,name:h.name+u.name+"/",opacity:h.opacity*u.opacity,visible:h.visible&&u.visible,x:h.x+l,y:h.y+d}};r.exports=p},29920:r=>{var o=2147483648,t=1073741824,a=536870912,p=function(c){var u=!!(c&o),h=!!(c&t),l=!!(c&a);c=c&~(o|t|a);var d=0,v=!1;return u&&h&&l?(d=Math.PI/2,v=!0):u&&h&&!l?(d=Math.PI,v=!1):u&&!h&&l?(d=Math.PI/2,v=!1):u&&!h&&!l?(d=0,v=!0):!u&&h&&l?(d=3*Math.PI/2,v=!1):!u&&h&&!l?(d=Math.PI,v=!0):!u&&!h&&l?(d=3*Math.PI/2,v=!0):!u&&!h&&!l&&(d=0,v=!1),{gid:c,flippedHorizontal:u,flippedVertical:h,flippedAntiDiagonal:l,rotation:d,flipped:v}};r.exports=p},12635:(r,o,t)=>{var a=t(95540),p=t(79677),c=function(u){for(var h=[],l=[],d=p(u);d.i<d.layers.length||l.length>0;){if(d.i>=d.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=l.pop();continue}var v=d.layers[d.i];if(d.i++,v.type!=="imagelayer"){if(v.type==="group"){var f=p(u,v,d);l.push(d),d=f}continue}var g=a(v,"offsetx",0)+a(v,"startx",0),m=a(v,"offsety",0)+a(v,"starty",0);h.push({name:d.name+v.name,image:v.image,x:d.x+g+v.x,y:d.y+m+v.y,alpha:d.opacity*v.opacity,visible:d.visible&&v.visible,properties:a(v,"properties",{})})}return h};r.exports=c},46594:(r,o,t)=>{var a=t(51233),p=t(84101),c=t(91907),u=t(62644),h=t(80341),l=t(6641),d=t(87010),v=t(12635),f=t(22611),g=t(28200),m=t(24619),x=function(y,b,M){var C=u(b),w=new d({width:C.width,height:C.height,name:y,tileWidth:C.tilewidth,tileHeight:C.tileheight,orientation:l(C.orientation),format:h.TILED_JSON,version:C.version,properties:C.properties,renderOrder:C.renderorder,infinite:C.infinite});if(w.orientation===c.HEXAGONAL)if(w.hexSideLength=C.hexsidelength,w.staggerAxis=C.staggeraxis,w.staggerIndex=C.staggerindex,w.staggerAxis==="y"){var S=(w.tileHeight-w.hexSideLength)/2;w.widthInPixels=w.tileWidth*(w.width+.5),w.heightInPixels=w.height*(w.hexSideLength+S)+S}else{var I=(w.tileWidth-w.hexSideLength)/2;w.widthInPixels=w.width*(w.hexSideLength+I)+I,w.heightInPixels=w.tileHeight*(w.height+.5)}w.layers=g(C,M),w.images=v(C);var T=m(C);return w.tilesets=T.tilesets,w.imageCollections=T.imageCollections,w.objects=f(C),w.tiles=p(w),a(w),w};r.exports=x},52205:(r,o,t)=>{var a=t(18254),p=t(29920),c=function(l){return{x:l.x,y:l.y}},u=["id","name","type","rotation","properties","visible","x","y","width","height"],h=function(l,d,v){d===void 0&&(d=0),v===void 0&&(v=0);var f=a(l,u);if(f.x+=d,f.y+=v,l.gid){var g=p(l.gid);f.gid=g.gid,f.flippedHorizontal=g.flippedHorizontal,f.flippedVertical=g.flippedVertical,f.flippedAntiDiagonal=g.flippedAntiDiagonal}else l.polyline?f.polyline=l.polyline.map(c):l.polygon?f.polygon=l.polygon.map(c):l.ellipse?f.ellipse=l.ellipse:l.text?f.text=l.text:l.point?f.point=!0:f.rectangle=!0;return f};r.exports=h},22611:(r,o,t)=>{var a=t(95540),p=t(52205),c=t(48700),u=t(79677),h=function(l){for(var d=[],v=[],f=u(l);f.i<f.layers.length||v.length>0;){if(f.i>=f.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=v.pop();continue}var g=f.layers[f.i];if(f.i++,g.opacity*=f.opacity,g.visible=f.visible&&g.visible,g.type!=="objectgroup"){if(g.type==="group"){var m=u(l,g,f);v.push(f),f=m}continue}g.name=f.name+g.name;for(var x=f.x+a(g,"startx",0)+a(g,"offsetx",0),y=f.y+a(g,"starty",0)+a(g,"offsety",0),b=[],M=0;M<g.objects.length;M++){var C=p(g.objects[M],x,y);b.push(C)}var w=new c(g);w.objects=b,d.push(w)}return d};r.exports=h},28200:(r,o,t)=>{var a=t(41868),p=t(91907),c=t(79677),u=t(6641),h=t(95540),l=t(14977),d=t(29920),v=t(23029),f=function(g,m){for(var x=h(g,"infinite",!1),y=[],b=[],M=c(g);M.i<M.layers.length||b.length>0;){if(M.i>=M.layers.length){if(b.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}M=b.pop();continue}var C=M.layers[M.i];if(M.i++,C.type!=="tilelayer"){if(C.type==="group"){var w=c(g,C,M);b.push(M),M=w}continue}if(C.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+C.name+"'");continue}else if(C.encoding&&C.encoding==="base64"){if(C.chunks)for(var S=0;S<C.chunks.length;S++)C.chunks[S].data=a(C.chunks[S].data);C.data&&(C.data=a(C.data)),delete C.encoding}var I,T,k,E,A,L,D=[],R=0;if(x){var N=h(C,"startx",0)+C.x,P=h(C,"starty",0)+C.y;I=new l({name:M.name+C.name,id:C.id,x:M.x+h(C,"offsetx",0)+N*g.tilewidth,y:M.y+h(C,"offsety",0)+P*g.tileheight,width:C.width,height:C.height,tileWidth:g.tilewidth,tileHeight:g.tileheight,alpha:M.opacity*C.opacity,visible:M.visible&&C.visible,properties:h(C,"properties",[]),orientation:u(g.orientation)}),I.orientation===p.HEXAGONAL&&(I.hexSideLength=g.hexsidelength,I.staggerAxis=g.staggeraxis,I.staggerIndex=g.staggerindex,I.staggerAxis==="y"?(A=(I.tileHeight-I.hexSideLength)/2,I.widthInPixels=I.tileWidth*(I.width+.5),I.heightInPixels=I.height*(I.hexSideLength+A)+A):(L=(I.tileWidth-I.hexSideLength)/2,I.widthInPixels=I.width*(I.hexSideLength+L)+L,I.heightInPixels=I.tileHeight*(I.height+.5)));for(var O=0;O<C.height;O++){D[O]=[null];for(var W=0;W<C.width;W++)D[O][W]=null}for(O=0,Q=C.chunks.length;O<Q;O++)for(var G=C.chunks[O],H=G.x-N,V=G.y-P,B=0,j=0,U=G.data.length;j<U;j++){var X=R+H,Z=B+V;T=d(G.data[j]),T.gid>0?(k=new v(I,T.gid,X,Z,g.tilewidth,g.tileheight),k.rotation=T.rotation,k.flipX=T.flipped,D[Z][X]=k):(E=m?null:new v(I,-1,X,Z,g.tilewidth,g.tileheight),D[Z][X]=E),R++,R===G.width&&(B++,R=0)}}else{I=new l({name:M.name+C.name,id:C.id,x:M.x+h(C,"offsetx",0)+C.x,y:M.y+h(C,"offsety",0)+C.y,width:C.width,height:C.height,tileWidth:g.tilewidth,tileHeight:g.tileheight,alpha:M.opacity*C.opacity,visible:M.visible&&C.visible,properties:h(C,"properties",[]),orientation:u(g.orientation)}),I.orientation===p.HEXAGONAL&&(I.hexSideLength=g.hexsidelength,I.staggerAxis=g.staggeraxis,I.staggerIndex=g.staggerindex,I.staggerAxis==="y"?(A=(I.tileHeight-I.hexSideLength)/2,I.widthInPixels=I.tileWidth*(I.width+.5),I.heightInPixels=I.height*(I.hexSideLength+A)+A):(L=(I.tileWidth-I.hexSideLength)/2,I.widthInPixels=I.width*(I.hexSideLength+L)+L,I.heightInPixels=I.tileHeight*(I.height+.5)));for(var $=[],J=0,Q=C.data.length;J<Q;J++)T=d(C.data[J]),T.gid>0?(k=new v(I,T.gid,R,D.length,g.tilewidth,g.tileheight),k.rotation=T.rotation,k.flipX=T.flipped,$.push(k)):(E=m?null:new v(I,-1,R,D.length,g.tilewidth,g.tileheight),$.push(E)),R++,R===C.width&&(D.push($),R=0,$=[])}I.data=D,y.push(I)}return y};r.exports=f},24619:(r,o,t)=>{var a=t(33629),p=t(16536),c=t(52205),u=t(57880),h=function(l){for(var d=[],v=[],f=null,g,m=0;m<l.tilesets.length;m++){var x=l.tilesets[m];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var y=new a(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(l.version>1){var b=void 0,M=void 0;if(Array.isArray(x.tiles)){b=b||{},M=M||{};for(var C=0;C<x.tiles.length;C++){var w=x.tiles[C];if(w.properties){var S={};w.properties.forEach(function(O){S[O.name]=O.value}),M[w.id]=S}if(w.objectgroup&&((b[w.id]||(b[w.id]={})).objectgroup=w.objectgroup,w.objectgroup.objects)){var I=w.objectgroup.objects.map(function(O){return c(O)});b[w.id].objectgroup.objects=I}w.animation&&((b[w.id]||(b[w.id]={})).animation=w.animation),w.type&&((b[w.id]||(b[w.id]={})).type=w.type)}}Array.isArray(x.wangsets)&&(b=b||{},M=M||{},u(x.wangsets,b)),b&&(y.tileData=b,y.tileProperties=M)}else if(x.tileproperties&&(y.tileProperties=x.tileproperties),x.tiles){y.tileData=x.tiles;for(g in y.tileData){var T=y.tileData[g].objectgroup;if(T&&T.objects){var k=T.objects.map(function(O){return c(O)});y.tileData[g].objectgroup.objects=k}}}y.updateTileData(x.imagewidth,x.imageheight),d.push(y)}else{var E=new p(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),A=0;for(C=0;C<x.tiles.length;C++){w=x.tiles[C];var L=w.image,D=parseInt(w.id,10),R=x.firstgid+D,N=w.imagewidth,P=w.imageheight;E.addImage(R,L,N,P),A=Math.max(D,A)}E.maxId=A,v.push(E)}f&&(f.lastgid=x.firstgid-1),f=x}return{tilesets:d,imageCollections:v}};r.exports=h},57880:r=>{var o=function(t,a){for(var p=0;p<t.length;p++){var c=t[p],u=p;if(c.name&&c.name!==""&&(u=c.name),Array.isArray(c.wangtiles)&&c.wangtiles.length>0){var h={},l={},d,v,f;if(Array.isArray(c.edgecolors))for(d=0;d<c.edgecolors.length;d++)f=1+d,v=c.edgecolors[d],v.name!==""&&(h[f]=v.name);if(Array.isArray(c.cornercolors))for(d=0;d<c.cornercolors.length;d++)f=1+d,v=c.cornercolors[d],v.name!==""&&(l[f]=v.name);if(Array.isArray(c.colors))for(d=0;d<c.colors.length;d++)v=c.colors[d],f=1+d,v.name!==""&&(h[f]=l[f]=v.name);for(var g=[h,l,h,l,h,l,h,l],m=0;m<c.wangtiles.length;m++){var x=c.wangtiles[m],y=a[x.tileid]||(a[x.tileid]={});y=y.wangid||(y.wangid={});for(var b=[],M=0;M<Math.min(g.length,x.wangid.length);M++){if(v=x.wangid[M],v===0){b.push(void 0);continue}var C=g[M][v];if(C!==void 0){b.push(C);continue}b.push(v)}y[u]=b}}}};r.exports=o},96761:(r,o,t)=>{r.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(r,o,t)=>{var a=t(83419),p=t(37277),c=t(44594),u=t(94880),h=t(72905),l=new a({initialize:function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(c.PRE_UPDATE,this.preUpdate,this),d.on(c.UPDATE,this.update,this),d.once(c.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var v;if(d instanceof u){if(v=d,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat,v.delay<=0&&v.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else v=new u(d);return this._pendingInsertion.push(v),v},delayedCall:function(d,v,f,g){return this.addEvent({delay:d,callback:v,args:f,callbackScope:g})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var f=d[v];h(this._pendingRemoval,f),h(this._pendingInsertion,f),h(this._active,f)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(d===0&&v===0)){var f,g;for(f=0;f<d;f++){g=this._pendingRemoval[f];var m=this._active.indexOf(g);m>-1&&this._active.splice(m,1),g.destroy()}for(f=0;f<v;f++)g=this._pendingInsertion[f],this._active.push(g);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,v){if(this.now=d,!this.paused){v*=this.timeScale;for(var f=0;f<this._active.length;f++){var g=this._active[f];if(!g.paused&&(g.elapsed+=v*g.timeScale,g.elapsed>=g.delay)){var m=g.elapsed-g.delay;if(g.elapsed=g.delay,!g.hasDispatched&&g.callback&&(g.hasDispatched=!0,g.callback.apply(g.callbackScope,g.args)),g.repeatCount>0){if(g.repeatCount--,m>=g.delay)for(;m>=g.delay&&g.repeatCount>0;)g.callback&&g.callback.apply(g.callbackScope,g.args),m-=g.delay,g.repeatCount--;g.elapsed=m,g.hasDispatched=!1}else g.hasDispatched&&this._pendingRemoval.push(g)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(c.PRE_UPDATE,this.preUpdate,this),v.off(c.UPDATE,this.update,this),v.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",l,"time"),r.exports=l},96120:(r,o,t)=>{var a=t(83419),p=t(50792),c=t(39429),u=t(95540),h=t(44594),l=t(89809),d=new a({Extends:p,initialize:function(f,g){p.call(this),this.scene=f,this.systems=f.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var m=this.systems.events;m.on(h.PRE_UPDATE,this.preUpdate,this),m.on(h.UPDATE,this.update,this),m.once(h.SHUTDOWN,this.destroy,this),g&&this.add(g)},preUpdate:function(v,f){this.paused||(this.elapsed+=f*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var v,f=this.events,g=!1,m=this.systems,x;for(v=0;v<f.length;v++){var y=f[v];if(!y.complete&&y.time<=this.elapsed){if(y.complete=!0,this.totalComplete++,x=y.target?y.target:this,y.if&&!y.if.call(x,y))continue;if(y.once&&(g=!0),y.set&&y.target)for(var b in y.set)y.target[b]=y.set[b];this.iteration&&y.repeat++,y.loop&&y.repeat&&y.loop.call(x),y.tween&&(y.tweenInstance=m.tweens.add(y.tween)),y.sound&&(typeof y.sound=="string"?m.sound.play(y.sound):m.sound.play(y.sound.key,y.sound.config)),y.event&&this.emit(y.event,x),y.run&&y.run.call(x),y.stop&&this.stop()}}if(g)for(v=0;v<f.length;v++)f[v].complete&&f[v].once&&(f.splice(v,1),v--);this.totalComplete>=f.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(l.COMPLETE,this)}},play:function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},pause:function(){this.paused=!0;for(var v=this.events,f=0;f<v.length;f++){var g=v[f];g.tweenInstance&&(g.tweenInstance.paused=!0)}return this},repeat:function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},resume:function(){this.paused=!1;for(var v=this.events,f=0;f<v.length;f++){var g=v[f];g.tweenInstance&&(g.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var f=this.events,g=0;g<f.length;g++){var m=f[g];m.complete=!1,v||(m.repeat=0),m.tweenInstance&&m.tweenInstance.stop()}return this.play(!1)},add:function(v){Array.isArray(v)||(v=[v]);var f=this.events,g=0;f.length>0&&(g=f[f.length-1].time);for(var m=0;m<v.length;m++){var x=v[m],y=u(x,"at",0),b=u(x,"in",null);b!==null&&(y=this.elapsed+b);var M=u(x,"from",null);M!==null&&(y=g+M),f.push({complete:!1,time:y,repeat:0,if:u(x,"if",null),run:u(x,"run",null),loop:u(x,"loop",null),event:u(x,"event",null),target:u(x,"target",null),set:u(x,"set",null),tween:u(x,"tween",null),sound:u(x,"sound",null),once:u(x,"once",!1),stop:u(x,"stop",!1)}),g=y}return this.complete=!1,this},clear:function(){for(var v=this.events,f=0;f<v.length;f++){var g=v[f];g.tweenInstance&&g.tweenInstance.stop()}return v=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},destroy:function(){var v=this.systems.events;v.off(h.PRE_UPDATE,this.preUpdate,this),v.off(h.UPDATE,this.update,this),v.off(h.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});c.register("timeline",function(v){return new d(this.scene,v)}),r.exports=d},94880:(r,o,t)=>{var a=t(83419),p=t(95540),c=new a({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(u){if(this.delay=p(u,"delay",0),this.repeat=p(u,"repeat",0),this.loop=p(u,"loop",!1),this.callback=p(u,"callback",void 0),this.callbackScope=p(u,"callbackScope",this),this.args=p(u,"args",[]),this.timeScale=p(u,"timeScale",1),this.startAt=p(u,"startAt",0),this.paused=p(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var u=this.delay+this.delay*this.repeat,h=this.elapsed+this.delay*(this.repeat-this.repeatCount);return h/u}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(u){u===void 0&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});r.exports=c},35945:r=>{r.exports="complete"},89809:(r,o,t)=>{r.exports={COMPLETE:t(35945)}},90291:(r,o,t)=>{r.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(r,o,t)=>{var a=t(72905),p=t(83419),c=t(43491),u=t(88032),h=t(37277),l=t(44594),d=t(93109),v=t(86081),f=t(8357),g=t(43960),m=t(26012),x=new p({initialize:function(b){this.scene=b,this.events=b.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(l.UPDATE,this.update,this),this.events.once(l.SHUTDOWN,this.shutdown,this)},create:function(y){Array.isArray(y)||(y=[y]);for(var b=[],M=0;M<y.length;M++){var C=y[M];C instanceof v||C instanceof g?b.push(C):Array.isArray(C.tweens)?b.push(m(this,C)):b.push(f(this,C))}return b.length===1?b[0]:b},add:function(y){var b=y,M=this.tweens;return b instanceof v||b instanceof g||(Array.isArray(b.tweens)?b=m(this,b):b=f(this,b)),M.push(b.reset()),b},addMultiple:function(y){for(var b,M=[],C=this.tweens,w=0;w<y.length;w++)b=y[w],b instanceof v||b instanceof g||(Array.isArray(b.tweens)?b=m(this,b):b=f(this,b)),C.push(b.reset()),M.push(b);return M},chain:function(y){var b=m(this,y);return this.tweens.push(b.init()),b},getChainedTweens:function(y){return y.getChainedTweens()},has:function(y){return this.tweens.indexOf(y)>-1},existing:function(y){return this.has(y)||this.tweens.push(y.reset()),this},addCounter:function(y){var b=u(this,y);return this.tweens.push(b.reset()),b},stagger:function(y,b){return d(y,b)},setLagSmooth:function(y,b){return y===void 0&&(y=1/1e-8),b===void 0&&(b=0),this.maxLag=y,this.lagSkip=Math.min(b,this.maxLag),this},setFps:function(y){return y===void 0&&(y=240),this.gap=1e3/y,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(y){var b=Date.now()-this.prevTime;b>this.maxLag&&(this.startTime+=b-this.lagSkip),this.prevTime+=b;var M=this.prevTime-this.startTime,C=M-this.nextTime,w=M-this.time*1e3;return C>0||y?(M/=1e3,this.time=M,this.nextTime+=C+(C>=this.gap?4:this.gap-C)):w=0,w},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(y){y===void 0&&(y=!1);var b=this.getDelta(y);if(!(b<=0)){this.processing=!0;var M,C,w=[],S=this.tweens;for(M=0;M<S.length;M++)C=S[M],C.update(b)&&w.push(C);var I=w.length;if(I&&S.length>0){for(M=0;M<I;M++){C=w[M];var T=S.indexOf(C);T>-1&&(C.isPendingRemove()||C.isDestroyed())&&(S.splice(T,1),C.destroy())}w.length=0}this.processing=!1}},remove:function(y){return this.processing?y.setPendingRemoveState():(a(this.tweens,y),y.setRemovedState()),this},reset:function(y){return this.existing(y),y.seek(),y.setActiveState(),this},makeActive:function(y){return this.existing(y),y.setActiveState(),this},each:function(y,b){var M,C=[null];for(M=1;M<arguments.length;M++)C.push(arguments[M]);return this.tweens.forEach(function(w){C[0]=w,y.apply(b,C)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(y){var b=[],M=this.tweens;Array.isArray(y)?y=c(y):y=[y];for(var C=y.length,w=0;w<M.length;w++)for(var S=M[w],I=0;I<C;I++)!S.isDestroyed()&&S.hasTarget(y[I])&&b.push(S);return b},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(y){return this.timeScale=y,this},isTweening:function(y){for(var b=this.tweens,M,C=0;C<b.length;C++)if(M=b[C],M.isPlaying()&&M.hasTarget(y))return!0;return!1},killAll:function(){for(var y=this.processing?this.getTweens():this.tweens,b=0;b<y.length;b++)y[b].destroy();return this.processing||(y.length=0),this},killTweensOf:function(y){for(var b=this.getTweensOf(y),M=0;M<b.length;M++)b[M].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(l.UPDATE,this.update,this),this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",x,"tweens"),r.exports=x},57355:r=>{var o=function(t,a,p){return t&&t.hasOwnProperty(a)?t[a]:p};r.exports=o},6113:(r,o,t)=>{var a=t(62640),p=t(35355),c=function(u,h){var l=a.Power0;if(typeof u=="string")if(a.hasOwnProperty(u))l=a[u];else{var d="";if(u.indexOf(".")){d=u.substring(u.indexOf(".")+1);var v=d.toLowerCase();v==="in"?d="easeIn":v==="out"?d="easeOut":v==="inout"&&(d="easeInOut")}u=p(u.substring(0,u.indexOf(".")+1)+d),a.hasOwnProperty(u)&&(l=a[u])}else typeof u=="function"&&(l=u);if(!h)return l;var f=h.slice(0);return f.unshift(0),function(g){return f[0]=g,l.apply(this,f)}};r.exports=c},91389:(r,o,t)=>{var a=t(89318),p=t(77259),c=t(28392),u={bezier:a,catmull:p,catmullrom:p,linear:c},h=function(l){if(l===null)return null;var d=u.linear;return typeof l=="string"?u.hasOwnProperty(l)&&(d=u[l]):typeof l=="function"&&(d=l),d};r.exports=h},55292:r=>{var o=function(t,a,p){var c;if(t.hasOwnProperty(a)){var u=typeof t[a];u==="function"?c=function(h,l,d,v,f,g){return t[a](h,l,d,v,f,g)}:c=function(){return t[a]}}else typeof p=="function"?c=p:c=function(){return p};return c};r.exports=o},82985:(r,o,t)=>{var a=t(81076),p=function(c){var u,h=[];if(c.hasOwnProperty("props"))for(u in c.props)u.substring(0,1)!=="_"&&h.push({key:u,value:c.props[u]});else for(u in c)a.indexOf(u)===-1&&u.substring(0,1)!=="_"&&h.push({key:u,value:c[u]});return h};r.exports=p},62329:(r,o,t)=>{var a=t(35154),p=function(c){var u=a(c,"targets",null);return u===null||(typeof u=="function"&&(u=u.call()),Array.isArray(u)||(u=[u])),u};r.exports=p},17777:(r,o,t)=>{var a=t(30976),p=t(99472);function c(v){return!!v.getActive&&typeof v.getActive=="function"}function u(v){return!!v.getStart&&typeof v.getStart=="function"}function h(v){return!!v.getEnd&&typeof v.getEnd=="function"}function l(v){return u(v)||h(v)||c(v)}var d=function(v,f){var g,m=function(O,W,G){return G},x=function(O,W,G){return G},y=null,b=typeof f;if(b==="number")m=function(){return f};else if(Array.isArray(f))x=function(){return f[0]},m=function(){return f[f.length-1]};else if(b==="string"){var M=f.toLowerCase(),C=M.substring(0,6)==="random",w=M.substring(0,3)==="int";if(C||w){var S=M.indexOf("("),I=M.indexOf(")"),T=M.indexOf(",");if(S&&I&&T){var k=parseFloat(M.substring(S+1,T)),E=parseFloat(M.substring(T+1,I));C?m=function(){return p(k,E)}:m=function(){return a(k,E)}}else throw new Error("invalid random() format")}else{M=M[0];var A=parseFloat(f.substr(2));switch(M){case"+":m=function(O,W,G){return G+A};break;case"-":m=function(O,W,G){return G-A};break;case"*":m=function(O,W,G){return G*A};break;case"/":m=function(O,W,G){return G/A};break;default:m=function(){return parseFloat(f)}}}}else if(b==="function")m=f;else if(b==="object")if(l(f))c(f)&&(y=f.getActive),h(f)&&(m=f.getEnd),u(f)&&(x=f.getStart);else if(f.hasOwnProperty("value"))g=d(v,f.value);else{var L=f.hasOwnProperty("to"),D=f.hasOwnProperty("from"),R=f.hasOwnProperty("start");if(L&&(D||R)){if(g=d(v,f.to),R){var N=d(v,f.start);g.getActive=N.getEnd}if(D){var P=d(v,f.from);g.getStart=P.getEnd}}}return g||(g={getActive:y,getEnd:m,getStart:x}),g};r.exports=d},88032:(r,o,t)=>{var a=t(70402),p=t(69902),c=t(23568),u=t(57355),h=t(6113),l=t(95540),d=t(55292),v=t(35154),f=t(17777),g=t(269),m=t(86081),x=function(y,b,M){if(b instanceof m)return b.parent=y,b;M===void 0?M=p:M=g(p,M);var C=l(b,"from",0),w=l(b,"to",1),S=[{value:C}],I=l(b,"delay",M.delay),T=l(b,"easeParams",M.easeParams),k=l(b,"ease",M.ease),E=f("value",w),A=new m(y,S),L=A.add(0,"value",E.getEnd,E.getStart,E.getActive,h(l(b,"ease",k),l(b,"easeParams",T)),d(b,"delay",I),l(b,"duration",M.duration),u(b,"yoyo",M.yoyo),l(b,"hold",M.hold),l(b,"repeat",M.repeat),l(b,"repeatDelay",M.repeatDelay),!1,!1);L.start=C,L.current=C,A.completeDelay=c(b,"completeDelay",0),A.loop=Math.round(c(b,"loop",0)),A.loopDelay=Math.round(c(b,"loopDelay",0)),A.paused=u(b,"paused",!1),A.persist=u(b,"persist",!1),A.isNumberTween=!0,A.callbackScope=v(b,"callbackScope",A);for(var D=a.TYPES,R=0;R<D.length;R++){var N=D[R],P=v(b,N,!1);if(P){var O=v(b,N+"Params",[]);A.setCallback(N,P,O)}}return A};r.exports=x},93109:(r,o,t)=>{var a=t(6113),p=t(35154),c=t(36383),u=function(h,l){l===void 0&&(l={});var d,v=p(l,"start",0),f=p(l,"ease",null),g=p(l,"grid",null),m=p(l,"from",0),x=m==="first",y=m==="center",b=m==="last",M=typeof m=="number",C=Array.isArray(h),w=parseFloat(C?h[0]:h),S=C?parseFloat(h[1]):0,I=Math.max(w,S);if(C&&(v+=w),g){var T=g[0],k=g[1],E=0,A=0,L=0,D=0,R=[];b?(E=T-1,A=k-1):M?(E=m%T,A=Math.floor(m/T)):y&&(E=(T-1)/2,A=(k-1)/2);for(var N=c.MIN_SAFE_INTEGER,P=0;P<k;P++){R[P]=[];for(var O=0;O<T;O++){L=E-O,D=A-P;var W=Math.sqrt(L*L+D*D);W>N&&(N=W),R[P][O]=W}}}var G=f?a(f):null;return g?d=function(H,V,B,j){var U=0,X=j%T,Z=Math.floor(j/T);X>=0&&X<T&&Z>=0&&Z<k&&(U=R[Z][X]);var $;if(C){var J=S-w;G?$=U/N*J*G(U/N):$=U/N*J}else G?$=U*w*G(U/N):$=U*w;return $+v}:d=function(H,V,B,j,U){U--;var X;x?X=j:y?X=Math.abs(U/2-j):b?X=U-j:M&&(X=Math.abs(m-j));var Z;if(C){var $;y?$=(S-w)/U*(X*2):$=(S-w)/U*X,G?Z=$*G(X/U):Z=$}else G?Z=U*I*G(X/U):Z=X*w;return Z+v},d};r.exports=u},8357:(r,o,t)=>{var a=t(70402),p=t(69902),c=t(23568),u=t(57355),h=t(6113),l=t(95540),d=t(91389),v=t(55292),f=t(82985),g=t(62329),m=t(35154),x=t(17777),y=t(269),b=t(86081),M=function(C,w,S){if(w instanceof b)return w.parent=C,w;S===void 0?S=p:S=y(p,S);var I=g(w);!I&&S.targets&&(I=S.targets);for(var T=f(w),k=l(w,"delay",S.delay),E=l(w,"duration",S.duration),A=l(w,"easeParams",S.easeParams),L=l(w,"ease",S.ease),D=l(w,"hold",S.hold),R=l(w,"repeat",S.repeat),N=l(w,"repeatDelay",S.repeatDelay),P=u(w,"yoyo",S.yoyo),O=u(w,"flipX",S.flipX),W=u(w,"flipY",S.flipY),G=l(w,"interpolation",S.interpolation),H=function(ae,ce,he,de){if(he==="texture"){var Te=de,Fe=void 0;Array.isArray(de)?(Te=de[0],Fe=de[1]):de.hasOwnProperty("value")?(Te=de.value,Array.isArray(de.value)?(Te=de.value[0],Fe=de.value[1]):typeof de.value=="string"&&(Te=de.value)):typeof de=="string"&&(Te=de),ae.addFrame(ce,Te,Fe,v(de,"delay",k),l(de,"duration",E),l(de,"hold",D),l(de,"repeat",R),l(de,"repeatDelay",N),u(de,"flipX",O),u(de,"flipY",W))}else{var He=x(he,de),ue=d(l(de,"interpolation",G));ae.add(ce,he,He.getEnd,He.getStart,He.getActive,h(l(de,"ease",L),l(de,"easeParams",A)),v(de,"delay",k),l(de,"duration",E),u(de,"yoyo",P),l(de,"hold",D),l(de,"repeat",R),l(de,"repeatDelay",N),u(de,"flipX",O),u(de,"flipY",W),ue,ue?de:null)}},V=new b(C,I),B=0;B<T.length;B++)for(var j=T[B].key,U=T[B].value,X=0;X<I.length;X++)j==="scale"&&!I[X].hasOwnProperty("scale")?(H(V,X,"scaleX",U),H(V,X,"scaleY",U)):H(V,X,j,U);V.completeDelay=c(w,"completeDelay",0),V.loop=Math.round(c(w,"loop",0)),V.loopDelay=Math.round(c(w,"loopDelay",0)),V.paused=u(w,"paused",!1),V.persist=u(w,"persist",!1),V.callbackScope=l(w,"callbackScope",V);for(var Z=a.TYPES,$=0;$<Z.length;$++){var J=Z[$],Q=m(w,J,!1);if(Q){var _=m(w,J+"Params",[]);V.setCallback(J,Q,_)}}return V};r.exports=M},26012:(r,o,t)=>{var a=t(70402),p=t(23568),c=t(57355),u=t(62329),h=t(35154),l=t(8357),d=t(43960),v=function(f,g){if(g instanceof d)return g.parent=f,g;var m=new d(f);m.startDelay=h(g,"delay",0),m.completeDelay=p(g,"completeDelay",0),m.loop=Math.round(p(g,"loop",h(g,"repeat",0))),m.loopDelay=Math.round(p(g,"loopDelay",h(g,"repeatDelay",0))),m.paused=c(g,"paused",!1),m.persist=c(g,"persist",!1),m.callbackScope=h(g,"callbackScope",m);var x,y=a.TYPES;for(x=0;x<y.length;x++){var b=y[x],M=h(g,b,!1);if(M){var C=h(g,b+"Params",[]);m.setCallback(b,M,C)}}var w=h(g,"tweens",null);if(Array.isArray(w)){var S=[],I=u(g),T=void 0;for(I&&(T={targets:I}),x=0;x<w.length;x++)S.push(l(m,w[x],T));m.add(S)}return m};r.exports=v},30231:(r,o,t)=>{r.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:r=>{r.exports="active"},98540:r=>{r.exports="complete"},67233:r=>{r.exports="loop"},2859:r=>{r.exports="pause"},98336:r=>{r.exports="repeat"},25764:r=>{r.exports="resume"},32193:r=>{r.exports="start"},84371:r=>{r.exports="stop"},70766:r=>{r.exports="update"},55659:r=>{r.exports="yoyo"},842:(r,o,t)=>{r.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(r,o,t)=>{var a={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};r.exports=a},70402:(r,o,t)=>{var a=t(83419),p=t(50792),c=t(842),u=t(86353),h=new a({Extends:p,initialize:function(d){p.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(l){return this.timeScale=l,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(c.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(c.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(c.TWEEN_COMPLETE,"onComplete")},complete:function(l){return l===void 0&&(l=0),l?(this.setCompleteDelayState(),this.countdown=l):this.onCompleteHandler(),this},completeAfterLoop:function(l){return l===void 0&&(l=0),this.loopCounter>l&&(this.loopCounter=l),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(c.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(l){this.countdown-=l,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(l){return this.countdown-=l,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(c.TWEEN_START,"onStart"),l=0),l},updateCompleteDelay:function(l){this.countdown-=l,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(l,d,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(l)&&(this.callbacks[l]={func:d,params:v}),this},setPendingState:function(){this.state=u.PENDING},setActiveState:function(){this.state=u.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=u.LOOP_DELAY},setCompleteDelayState:function(){this.state=u.COMPLETE_DELAY},setStartDelayState:function(){this.state=u.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=u.PENDING_REMOVE},setRemovedState:function(){this.state=u.REMOVED},setFinishedState:function(){this.state=u.FINISHED},setDestroyedState:function(){this.state=u.DESTROYED},isPending:function(){return this.state===u.PENDING},isActive:function(){return this.state===u.ACTIVE},isLoopDelayed:function(){return this.state===u.LOOP_DELAY},isCompleteDelayed:function(){return this.state===u.COMPLETE_DELAY},isStartDelayed:function(){return this.state===u.START_DELAY},isPendingRemove:function(){return this.state===u.PENDING_REMOVE},isRemoved:function(){return this.state===u.REMOVED},isFinished:function(){return this.state===u.FINISHED},isDestroyed:function(){return this.state===u.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(l){l.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],r.exports=h},95042:(r,o,t)=>{var a=t(83419),p=t(842),c=t(86353),u=new a({initialize:function(l,d,v,f,g,m,x,y,b,M){this.tween=l,this.targetIndex=d,this.duration=f<=0?.01:f,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=g,this.hold=m,this.repeat=x,this.repeatDelay=y,this.repeatCounter=0,this.flipX=b,this.flipY=M,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){h===void 0&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=c.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=c.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=c.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=c.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=c.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=c.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=c.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=c.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===c.CREATED},isDelayed:function(){return this.state===c.DELAY},isPendingRender:function(){return this.state===c.PENDING_RENDER},isPlayingForward:function(){return this.state===c.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===c.PLAYING_BACKWARD},isHolding:function(){return this.state===c.HOLD_DELAY},isRepeating:function(){return this.state===c.REPEAT_DELAY},isComplete:function(){return this.state===c.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,l=h.totalTargets,d=this.targetIndex,v=h.targets[d],f=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,f,0,d,l,h),this.repeatCounter=this.repeat===-1?c.MAX:this.repeat,this.setPendingRenderState();var g=this.duration+this.hold;this.yoyo&&(g+=this.duration);var m=g+this.repeatDelay;this.totalDuration=this.delay+g,this.repeat===-1?(this.totalDuration+=m*c.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=m*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,l,d){var v=this.tween,f=v.totalTargets,g=this.targetIndex,m=v.targets[g],x=this.key,y=x!=="texture";if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&m.toggleFlipX(),this.flipY&&m.toggleFlipY(),y&&(l||d)&&(this.start=this.getStartValue(m,x,this.start,g,f,v)),d){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,y&&(this.end=this.getEndValue(m,x,this.start,g,f,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,y&&(this.current=this.start,m[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});r.exports=u},69902:r=>{var o={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};r.exports=o},81076:r=>{r.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(r,o,t)=>{var a=t(70402),p=t(83419),c=t(842),u=t(44603),h=t(39429),l=t(36383),d=t(86353),v=t(48177),f=t(42220),g=new p({Extends:a,initialize:function(x,y){a.call(this,x),this.targets=y,this.totalTargets=y.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(m,x,y,b,M,C,w,S,I,T,k,E,A,L,D,R){var N=new v(this,m,x,y,b,M,C,w,S,I,T,k,E,A,L,D,R);return this.totalData=this.data.push(N),N},addFrame:function(m,x,y,b,M,C,w,S,I,T){var k=new f(this,m,x,y,b,M,C,w,S,I,T);return this.totalData=this.data.push(k),k},getValue:function(m){m===void 0&&(m=0);var x=null;return this.data&&(x=this.data[m].current),x},hasTarget:function(m){return this.targets&&this.targets.indexOf(m)!==-1},updateTo:function(m,x,y){if(y===void 0&&(y=!1),m!=="texture")for(var b=0;b<this.totalData;b++){var M=this.data[b];M.key===m&&(M.isPlayingForward()||M.isPlayingBackward())&&(M.end=x,y&&(M.start=M.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(m,x,y){if(m===void 0&&(m=0),x===void 0&&(x=16.6),y===void 0&&(y=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;y||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive");var b=this.paused;if(this.paused=!1,m>0){for(var M=Math.floor(m/x),C=m-M*x,w=0;w<M;w++)this.update(x);C>0&&this.update(C)}return this.paused=b,this.isSeeking=!1,this},initTweenData:function(m){m===void 0&&(m=!1),this.duration=0,this.startDelay=l.MAX_SAFE_INTEGER;for(var x=this.data,y=0;y<this.totalData;y++)x[y].reset(m);this.duration=Math.max(this.duration,.01);var b=this.duration,M=this.completeDelay,C=this.loopCounter,w=this.loopDelay;C>0?this.totalDuration=b+M+(b+w)*C:this.totalDuration=b+M},reset:function(m){return m===void 0&&(m=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),m||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")),this},update:function(m){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(m*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(m),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(m),!1;this.hasStarted||(this.startDelay-=m,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(c.TWEEN_START,"onStart"),m=0));var x=!1;if(this.isActive())for(var y=this.data,b=0;b<this.totalData;b++)y[b].update(m)&&(x=!0);this.elapsed+=m,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=m,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var M=this.isPendingRemove();return M&&this.persist&&(this.setFinishedState(),M=!1),M},forward:function(m){return this.update(m),this},rewind:function(m){return this.update(-m),this},dispatchEvent:function(m,x){if(!this.isSeeking){if(this.emit(m,this,this.targets),!this.callbacks)return;var y=this.callbacks[x];y&&y.func.apply(this.callbackScope,[this,this.targets].concat(y.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(m){return this.scene.sys.tweens.add(m)}),u.register("tween",function(m){return this.scene.sys.tweens.create(m)}),r.exports=g},43960:(r,o,t)=>{var a=t(72905),p=t(70402),c=t(83419),u=t(842),h=t(44603),l=t(39429),d=t(86353),v=new c({Extends:p,initialize:function(g){p.call(this,g),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(f){var g=this.parent.create(f);Array.isArray(g)||(g=[g]);for(var m=this.data,x=0;x<g.length;x++){var y=g[x];y.parent=this,m.push(y.reset())}return this.totalData=m.length,this},remove:function(f){return a(this.data,f),f.setRemovedState(),f===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(f){for(var g=this.data,m=0;m<this.totalData;m++)if(g[m].hasTarget(f))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(f){return f.seek(),f.setActiveState(),this},makeActive:function(f){return f.reset(),f.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var f=this.data,g=this.totalData,m=0;m<g;m++)f[m].reset(!1);this.setCurrentTween(0)},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(f*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(u.TWEEN_START,"onStart"),f=0));var g=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(f)&&this.nextTween()&&this.nextState(),g=this.isPendingRemove(),g&&this.persist&&(this.setFinishedState(),g=!1)),g},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(f){this.currentIndex=f,this.currentTween=this.data[f],this.currentTween.setActiveState()},dispatchEvent:function(f,g){this.emit(f,this);var m=this.callbacks[g];m&&m.func.apply(this.callbackScope,[this].concat(m.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});l.register("tweenchain",function(f){return this.scene.sys.tweens.chain(f)}),h.register("tweenchain",function(f){return this.scene.sys.tweens.create(f)}),r.exports=v},48177:(r,o,t)=>{var a=t(95042),p=t(45319),c=t(83419),u=t(842),h=new c({Extends:a,initialize:function(d,v,f,g,m,x,y,b,M,C,w,S,I,T,k,E,A){a.call(this,d,v,b,M,C,w,S,I,T,k),this.key=f,this.getActiveValue=x,this.getEndValue=g,this.getStartValue=m,this.ease=y,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=E,this.interpolationData=A},reset:function(l){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],v=this.key;l&&(d[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[v]=this.getActiveValue(d,v,0))},update:function(l){var d=this.tween,v=d.totalTargets,f=this.targetIndex,g=d.targets[f],m=this.key;if(!g)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=l,this.elapsed<=0&&(this.elapsed=0,l=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(g,m,g[m],f,v,d),this.end=this.getEndValue(g,m,this.start,f,v,d),this.current=this.start,g[m]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),y=this.isPlayingBackward();if(x||y){var b=this.elapsed,M=this.duration,C=0,w=!1;b+=l,b>=M?(C=b-M,b=M,w=!0):b<0&&(b=0);var S=p(b/M,0,1);this.elapsed=b,this.progress=S,this.previous=this.current,x||(S=1-S);var I=this.ease(S);this.interpolation?this.current=this.interpolation(this.interpolationData,I):this.current=this.start+(this.end-this.start)*I,g[m]=this.current,w&&(x?(d.isNumberTween&&(this.current=this.end,g[m]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(d.isNumberTween&&(this.current=this.start,g[m]=this.current),this.setStateFromStart(C))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(l,d){var v=this.tween;if(!v.isSeeking){var f=v.targets[this.targetIndex],g=this.key,m=this.current,x=this.previous;v.emit(l,v,g,f,m,x);var y=v.callbacks[d];y&&y.func.apply(v.callbackScope,[v,f,g,m,x].concat(y.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});r.exports=h},42220:(r,o,t)=>{var a=t(95042),p=t(45319),c=t(83419),u=t(842),h=new c({Extends:a,initialize:function(d,v,f,g,m,x,y,b,M,C,w){a.call(this,d,v,m,x,!1,y,b,M,C,w),this.key="texture",this.startTexture=null,this.endTexture=f,this.startFrame=null,this.endFrame=g,this.yoyo=b!==0},reset:function(l){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),l&&d.setTexture(this.startTexture,this.startFrame)},update:function(l){var d=this.tween,v=this.targetIndex,f=d.targets[v];if(!f)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=l,this.elapsed<=0&&(this.elapsed=0,l=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&f.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),m=this.isPlayingBackward();if(g||m){var x=this.elapsed,y=this.duration,b=0,M=!1;x+=l,x>=y?(b=x-y,x=y,M=!0):x<0&&(x=0);var C=p(x/y,0,1);this.elapsed=x,this.progress=C,M&&(g?(f.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(b)):(f.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(b))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(l,d){var v=this.tween;if(!v.isSeeking){var f=v.targets[this.targetIndex],g=this.key;v.emit(l,v,g,f);var m=v.callbacks[d];m&&m.func.apply(v.callbackScope,[v,f,g].concat(m.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});r.exports=h},86353:r=>{var o={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};r.exports=o},83419:r=>{function o(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}function t(h,l,d){var v=d?h[l]:Object.getOwnPropertyDescriptor(h,l);return!d&&v.value&&typeof v.value=="object"&&(v=v.value),v&&o(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}function a(h,l){var d=Object.getOwnPropertyDescriptor(h,l);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}function p(h,l,d,v){for(var f in l)if(l.hasOwnProperty(f)){var g=t(l,f,d);if(g!==!1){var m=v||h;if(a(m.prototype,f)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+f+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,f,g)}else h.prototype[f]=l[f]}}function c(h,l){if(l){Array.isArray(l)||(l=[l]);for(var d=0;d<l.length;d++)p(h,l[d].prototype||l[d])}}function u(h){h||(h={});var l,d;if(h.initialize){if(typeof h.initialize!="function")throw new Error("initialize must be a function");l=h.initialize,delete h.initialize}else if(h.Extends){var v=h.Extends;l=function(){v.apply(this,arguments)}}else l=function(){};h.Extends?(l.prototype=Object.create(h.Extends.prototype),l.prototype.constructor=l,d=h.Extends,delete h.Extends):l.prototype.constructor=l;var f=null;return h.Mixins&&(f=h.Mixins,delete h.Mixins),c(l,f),p(l,h,!0,d),l}u.extend=p,u.mixin=c,u.ignoreFinals=!1,r.exports=u},29747:r=>{var o=function(){};r.exports=o},20242:r=>{var o=function(){return null};r.exports=o},71146:r=>{var o=function(t,a,p,c,u){if(u===void 0&&(u=t),p>0){var h=p-t.length;if(h<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.push(a),c&&c.call(u,a),a):null;for(var l=a.length-1;l>=0;)t.indexOf(a[l])!==-1&&a.splice(l,1),l--;if(l=a.length,l===0)return null;p>0&&l>h&&(a.splice(h),l=h);for(var d=0;d<l;d++){var v=a[d];t.push(v),c&&c.call(u,v)}return a};r.exports=o},51067:r=>{var o=function(t,a,p,c,u,h){if(p===void 0&&(p=0),h===void 0&&(h=t),c>0){var l=c-t.length;if(l<=0)return null}if(!Array.isArray(a))return t.indexOf(a)===-1?(t.splice(p,0,a),u&&u.call(h,a),a):null;for(var d=a.length-1;d>=0;)t.indexOf(a[d])!==-1&&a.pop(),d--;if(d=a.length,d===0)return null;c>0&&d>l&&(a.splice(l),d=l);for(var v=d-1;v>=0;v--){var f=a[v];t.splice(p,0,f),u&&u.call(h,f)}return a};r.exports=o},66905:r=>{var o=function(t,a){var p=t.indexOf(a);return p!==-1&&p<t.length&&(t.splice(p,1),t.push(a)),a};r.exports=o},21612:(r,o,t)=>{var a=t(82011),p=function(c,u,h,l,d){l===void 0&&(l=0),d===void 0&&(d=c.length);var v=0;if(a(c,l,d))for(var f=l;f<d;f++){var g=c[f];g[u]===h&&v++}return v};r.exports=p},95428:r=>{var o=function(t,a,p){var c,u=[null];for(c=3;c<arguments.length;c++)u.push(arguments[c]);for(c=0;c<t.length;c++)u[0]=t[c],a.apply(p,u);return t};r.exports=o},36914:(r,o,t)=>{var a=t(82011),p=function(c,u,h,l,d){if(l===void 0&&(l=0),d===void 0&&(d=c.length),a(c,l,d)){var v,f=[null];for(v=5;v<arguments.length;v++)f.push(arguments[v]);for(v=l;v<d;v++)f[0]=c[v],u.apply(h,f)}return c};r.exports=p},81957:r=>{var o=function(t,a,p){if(a.length){if(a.length===1)return a[0]}else return NaN;var c=1,u,h;if(p){if(t<a[0][p])return a[0];for(;a[c][p]<t;)c++}else for(;a[c]<t;)c++;return c>a.length&&(c=a.length),p?(u=a[c-1][p],h=a[c][p],h-t<=t-u?a[c]:a[c-1]):(u=a[c-1],h=a[c],h-t<=t-u?h:u)};r.exports=o},43491:r=>{var o=function(t,a){a===void 0&&(a=[]);for(var p=0;p<t.length;p++)Array.isArray(t[p])?o(t[p],a):a.push(t[p]);return a};r.exports=o},46710:(r,o,t)=>{var a=t(82011),p=function(c,u,h,l,d){l===void 0&&(l=0),d===void 0&&(d=c.length);var v=[];if(a(c,l,d))for(var f=l;f<d;f++){var g=c[f];(!u||u&&h===void 0&&g.hasOwnProperty(u)||u&&h!==void 0&&g[u]===h)&&v.push(g)}return v};r.exports=p},58731:(r,o,t)=>{var a=t(82011),p=function(c,u,h,l,d){if(l===void 0&&(l=0),d===void 0&&(d=c.length),l!==-1){if(a(c,l,d))for(var v=l;v<d;v++){var f=c[v];if(!u||u&&h===void 0&&f.hasOwnProperty(u)||u&&h!==void 0&&f[u]===h)return f}}else if(a(c,0,d))for(var v=d;v>=0;v--){var f=c[v];if(!u||u&&h===void 0&&f.hasOwnProperty(u)||u&&h!==void 0&&f[u]===h)return f}return null};r.exports=p},26546:r=>{var o=function(t,a,p){a===void 0&&(a=0),p===void 0&&(p=t.length);var c=a+Math.floor(Math.random()*p);return t[c]===void 0?null:t[c]};r.exports=o},85835:r=>{var o=function(t,a,p){if(a===p)return t;var c=t.indexOf(a),u=t.indexOf(p);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return c>u||(t.splice(c,1),u=t.indexOf(p),t.splice(u+1,0,a)),t};r.exports=o},83371:r=>{var o=function(t,a,p){if(a===p)return t;var c=t.indexOf(a),u=t.indexOf(p);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return c<u||(t.splice(c,1),u===0?t.unshift(a):t.splice(u,0,a)),t};r.exports=o},70864:r=>{var o=function(t,a){var p=t.indexOf(a);if(p>0){var c=t[p-1],u=t.indexOf(c);t[p]=c,t[u]=a}return t};r.exports=o},69693:r=>{var o=function(t,a,p){var c=t.indexOf(a);if(c===-1||p<0||p>=t.length)throw new Error("Supplied index out of bounds");return c!==p&&(t.splice(c,1),t.splice(p,0,a)),a};r.exports=o},40853:r=>{var o=function(t,a){var p=t.indexOf(a);if(p!==-1&&p<t.length-1){var c=t[p+1],u=t.indexOf(c);t[p]=c,t[u]=a}return t};r.exports=o},20283:r=>{var o=function(t,a,p,c){var u=[],h,l=!1;if((p||c)&&(l=!0,p||(p=""),c||(c="")),a<t)for(h=t;h>=a;h--)l?u.push(p+h.toString()+c):u.push(h);else for(h=t;h<=a;h++)l?u.push(p+h.toString()+c):u.push(h);return u};r.exports=o},593:(r,o,t)=>{var a=t(2284),p=function(c,u,h){c===void 0&&(c=0),u===void 0&&(u=null),h===void 0&&(h=1),u===null&&(u=c,c=0);for(var l=[],d=Math.max(a((u-c)/(h||1)),0),v=0;v<d;v++)l.push(c),c+=h;return l};r.exports=p},43886:r=>{function o(p,c,u){var h=p[c];p[c]=p[u],p[u]=h}function t(p,c){return p<c?-1:p>c?1:0}var a=function(p,c,u,h,l){for(u===void 0&&(u=0),h===void 0&&(h=p.length-1),l===void 0&&(l=t);h>u;){if(h-u>600){var d=h-u+1,v=c-u+1,f=Math.log(d),g=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*g*(d-g)/d)*(v-d/2<0?-1:1),x=Math.max(u,Math.floor(c-v*g/d+m)),y=Math.min(h,Math.floor(c+(d-v)*g/d+m));a(p,c,x,y,l)}var b=p[c],M=u,C=h;for(o(p,u,c),l(p[h],b)>0&&o(p,u,h);M<C;){for(o(p,M,C),M++,C--;l(p[M],b)<0;)M++;for(;l(p[C],b)>0;)C--}l(p[u],b)===0?o(p,u,C):(C++,o(p,C,h)),C<=c&&(u=C+1),c<=C&&(h=C-1)}};r.exports=a},88492:(r,o,t)=>{var a=t(35154),p=t(33680),c=function(h,l,d){for(var v=[],f=0;f<h.length;f++)for(var g=0;g<l.length;g++)for(var m=0;m<d;m++)v.push({a:h[f],b:l[g]});return v},u=function(h,l,d){var v=a(d,"max",0),f=a(d,"qty",1),g=a(d,"random",!1),m=a(d,"randomB",!1),x=a(d,"repeat",0),y=a(d,"yoyo",!1),b=[];if(m&&p(l),x===-1)if(v===0)x=0;else{var M=h.length*l.length*f;y&&(M*=2),x=Math.ceil(v/M)}for(var C=0;C<=x;C++){var w=c(h,l,f);g&&p(w),b=b.concat(w),y&&(w.reverse(),b=b.concat(w))}return v&&b.splice(v),b};r.exports=u},72905:(r,o,t)=>{var a=t(19133),p=function(c,u,h,l){l===void 0&&(l=c);var d;if(!Array.isArray(u))return d=c.indexOf(u),d!==-1?(a(c,d),h&&h.call(l,u),u):null;for(var v=u.length-1,f=[];v>=0;){var g=u[v];d=c.indexOf(g),d!==-1&&(a(c,d),f.push(g),h&&h.call(l,g)),v--}return f};r.exports=p},60248:(r,o,t)=>{var a=t(19133),p=function(c,u,h,l){if(l===void 0&&(l=c),u<0||u>c.length-1)throw new Error("Index out of bounds");var d=a(c,u);return h&&h.call(l,d),d};r.exports=p},81409:(r,o,t)=>{var a=t(82011),p=function(c,u,h,l,d){if(u===void 0&&(u=0),h===void 0&&(h=c.length),d===void 0&&(d=c),a(c,u,h)){var v=h-u,f=c.splice(u,v);if(l)for(var g=0;g<f.length;g++){var m=f[g];l.call(d,m)}return f}else return[]};r.exports=p},31856:(r,o,t)=>{var a=t(19133),p=function(c,u,h){u===void 0&&(u=0),h===void 0&&(h=c.length);var l=u+Math.floor(Math.random()*h);return a(c,l)};r.exports=p},42169:r=>{var o=function(t,a,p){var c=t.indexOf(a),u=t.indexOf(p);return c!==-1&&u===-1?(t[c]=p,!0):!1};r.exports=o},86003:r=>{var o=function(t,a){a===void 0&&(a=1);for(var p=null,c=0;c<a;c++)p=t.shift(),t.push(p);return p};r.exports=o},49498:r=>{var o=function(t,a){a===void 0&&(a=1);for(var p=null,c=0;c<a;c++)p=t.pop(),t.unshift(p);return p};r.exports=o},82011:r=>{var o=function(t,a,p,c){var u=t.length;if(a<0||a>=u||a>=p||p>u){if(c)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};r.exports=o},89545:r=>{var o=function(t,a){var p=t.indexOf(a);return p!==-1&&p>0&&(t.splice(p,1),t.unshift(a)),a};r.exports=o},17810:(r,o,t)=>{var a=t(82011),p=function(c,u,h,l,d){if(l===void 0&&(l=0),d===void 0&&(d=c.length),a(c,l,d))for(var v=l;v<d;v++){var f=c[v];f.hasOwnProperty(u)&&(f[u]=h)}return c};r.exports=p},33680:r=>{var o=function(t){for(var a=t.length-1;a>0;a--){var p=Math.floor(Math.random()*(a+1)),c=t[a];t[a]=t[p],t[p]=c}return t};r.exports=o},90126:r=>{var o=function(t){var a=/\D/g;return t.sort(function(p,c){return parseInt(p.replace(a,""),10)-parseInt(c.replace(a,""),10)}),t};r.exports=o},19133:r=>{var o=function(t,a){if(!(a>=t.length)){for(var p=t.length-1,c=t[a],u=a;u<p;u++)t[u]=t[u+1];return t.length=p,c}};r.exports=o},19186:(r,o,t)=>{var a=t(82264);function p(l,d){return String(l).localeCompare(d)}function c(l,d){var v=l.length;if(v<=1)return l;for(var f=new Array(v),g=1;g<v;g*=2){u(l,d,g,f);var m=l;l=f,f=m}return l}function u(l,d,v,f){var g=l.length,m=0,x=v*2,y,b,M,C,w;for(y=0;y<g;y+=x)for(b=y+v,M=b+v,b>g&&(b=g),M>g&&(M=g),C=y,w=b;;)if(C<b&&w<M)d(l[C],l[w])<=0?f[m++]=l[C++]:f[m++]=l[w++];else if(C<b)f[m++]=l[C++];else if(w<M)f[m++]=l[w++];else break}var h=function(l,d){if(d===void 0&&(d=p),!l||l.length<2)return l;if(a.features.stableSort)return l.sort(d);var v=c(l,d);return v!==l&&u(v,null,l.length,l),l};r.exports=h},25630:r=>{var o=function(t,a,p){if(a===p)return t;var c=t.indexOf(a),u=t.indexOf(p);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return t[c]=p,t[u]=a,t};r.exports=o},37105:(r,o,t)=>{r.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:r=>{var o=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var a=t[0].length,p=1;p<t.length;p++)if(t[p].length!==a)return!1;return!0};r.exports=o},63362:(r,o,t)=>{var a=t(41836),p=t(86922),c=function(u){var h="";if(!p(u))return h;for(var l=0;l<u.length;l++){for(var d=0;d<u[l].length;d++){var v=u[l][d].toString();v!=="undefined"?h+=a(v,2):h+="?",d<u[l].length-1&&(h+=" |")}if(l<u.length-1){h+=`
`;for(var f=0;f<u[l].length;f++)h+="---",f<u[l].length-1&&(h+="+");h+=`
`}}return h};r.exports=c},92598:r=>{var o=function(t){return t.reverse()};r.exports=o},21224:r=>{var o=function(t){for(var a=0;a<t.length;a++)t[a].reverse();return t};r.exports=o},98717:(r,o,t)=>{var a=t(37829),p=function(c){return a(c,180)};r.exports=p},44657:(r,o,t)=>{var a=t(37829),p=function(c,u){u===void 0&&(u=1);for(var h=0;h<u;h++)c=a(c,90);return c};r.exports=p},37829:(r,o,t)=>{var a=t(86922),p=t(2429),c=function(u,h){if(h===void 0&&(h=90),!a(u))return null;if(typeof h!="string"&&(h=(h%360+360)%360),h===90||h===-270||h==="rotateLeft")u=p(u),u.reverse();else if(h===-90||h===270||h==="rotateRight")u.reverse(),u=p(u);else if(Math.abs(h)===180||h==="rotate180"){for(var l=0;l<u.length;l++)u[l].reverse();u.reverse()}return u};r.exports=c},92632:(r,o,t)=>{var a=t(37829),p=function(c,u){u===void 0&&(u=1);for(var h=0;h<u;h++)c=a(c,-90);return c};r.exports=p},69512:(r,o,t)=>{var a=t(86003),p=t(49498),c=function(u,h,l){if(h===void 0&&(h=0),l===void 0&&(l=0),l!==0&&(l<0?a(u,Math.abs(l)):p(u,l)),h!==0)for(var d=0;d<u.length;d++){var v=u[d];h<0?a(v,Math.abs(h)):p(v,h)}return u};r.exports=c},2429:r=>{var o=function(t){for(var a=t.length,p=t[0].length,c=new Array(p),u=0;u<p;u++){c[u]=new Array(a);for(var h=a-1;h>-1;h--)c[u][h]=t[h][u]}return c};r.exports=o},54915:(r,o,t)=>{r.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:r=>{var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(a,p){for(var c=new Uint8Array(a),u=c.length,h=p?"data:"+p+";base64,":"",l=0;l<u;l+=3)h+=o[c[l]>>2],h+=o[(c[l]&3)<<4|c[l+1]>>4],h+=o[(c[l+1]&15)<<2|c[l+2]>>6],h+=o[c[l+2]&63];return u%3===2?h=h.substring(0,h.length-1)+"=":u%3===1&&(h=h.substring(0,h.length-2)+"=="),h};r.exports=t},53134:r=>{for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),a=0;a<o.length;a++)t[o.charCodeAt(a)]=a;var p=function(c){c=c.substr(c.indexOf(",")+1);var u=c.length,h=u*.75,l=0,d,v,f,g;c[u-1]==="="&&(h--,c[u-2]==="="&&h--);for(var m=new ArrayBuffer(h),x=new Uint8Array(m),y=0;y<u;y+=4)d=t[c.charCodeAt(y)],v=t[c.charCodeAt(y+1)],f=t[c.charCodeAt(y+2)],g=t[c.charCodeAt(y+3)],x[l++]=d<<2|v>>4,x[l++]=(v&15)<<4|f>>2,x[l++]=(f&3)<<6|g&63;return m};r.exports=p},65839:(r,o,t)=>{r.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(r,o,t)=>{r.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:r=>{var o=function(t){var a={};for(var p in t)Array.isArray(t[p])?a[p]=t[p].slice(0):a[p]=t[p];return a};r.exports=o},62644:r=>{var o=function(t){var a,p,c;if(typeof t!="object"||t===null)return t;a=Array.isArray(t)?[]:{};for(c in t)p=t[c],a[c]=o(p);return a};r.exports=o},79291:(r,o,t)=>{var a=t(41212),p=function(){var c,u,h,l,d,v,f=arguments[0]||{},g=1,m=arguments.length,x=!1;for(typeof f=="boolean"&&(x=f,f=arguments[1]||{},g=2),m===g&&(f=this,--g);g<m;g++)if((c=arguments[g])!=null)for(u in c)h=f[u],l=c[u],f!==l&&(x&&l&&(a(l)||(d=Array.isArray(l)))?(d?(d=!1,v=h&&Array.isArray(h)?h:[]):v=h&&a(h)?h:{},f[u]=p(x,v,l)):l!==void 0&&(f[u]=l));return f};r.exports=p},23568:(r,o,t)=>{var a=t(75508),p=t(35154),c=function(u,h,l){var d=p(u,h,null);if(d===null)return l;if(Array.isArray(d))return a.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return a.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return a.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(h);return d};r.exports=c},95540:r=>{var o=function(t,a,p){var c=typeof t;return!t||c==="number"||c==="string"?p:t.hasOwnProperty(a)&&t[a]!==void 0?t[a]:p};r.exports=o},82840:(r,o,t)=>{var a=t(35154),p=t(45319),c=function(u,h,l,d,v){v===void 0&&(v=l);var f=a(u,h,v);return p(f,l,d)};r.exports=c},35154:r=>{var o=function(t,a,p,c){if(!t&&!c||typeof t=="number")return p;if(t&&t.hasOwnProperty(a))return t[a];if(c&&c.hasOwnProperty(a))return c[a];if(a.indexOf(".")!==-1){for(var u=a.split("."),h=t,l=c,d=p,v=p,f=!0,g=!0,m=0;m<u.length;m++)h&&h.hasOwnProperty(u[m])?(d=h[u[m]],h=h[u[m]]):f=!1,l&&l.hasOwnProperty(u[m])?(v=l[u[m]],l=l[u[m]]):g=!1;return f?d:g?v:p}else return p};r.exports=o},69036:r=>{var o=function(t,a){for(var p=0;p<a.length;p++)if(!t.hasOwnProperty(a[p]))return!1;return!0};r.exports=o},1985:r=>{var o=function(t,a){for(var p=0;p<a.length;p++)if(t.hasOwnProperty(a[p]))return!0;return!1};r.exports=o},97022:r=>{var o=function(t,a){return t.hasOwnProperty(a)};r.exports=o},41212:r=>{var o=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};r.exports=o},46975:(r,o,t)=>{var a=t(41786),p=function(c,u){var h=a(c);for(var l in u)h.hasOwnProperty(l)||(h[l]=u[l]);return h};r.exports=p},269:(r,o,t)=>{var a=t(41786),p=function(c,u){var h=a(c);for(var l in u)h.hasOwnProperty(l)&&(h[l]=u[l]);return h};r.exports=p},18254:(r,o,t)=>{var a=t(97022),p=function(c,u){for(var h={},l=0;l<u.length;l++){var d=u[l];a(c,d)&&(h[d]=c[d])}return h};r.exports=p},61622:r=>{var o=function(t,a,p){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(a))return t[a]=p,!0;if(a.indexOf(".")!==-1){for(var c=a.split("."),u=t,h=t,l=0;l<c.length;l++)if(u.hasOwnProperty(c[l]))h=u,u=u[c[l]];else return!1;return h[c[c.length-1]]=p,!0}return!1};r.exports=o},1183:(r,o,t)=>{r.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:r=>{var o=function(t,a){return t.replace(/%([0-9]+)/g,function(p,c){return a[Number(c)-1]})};r.exports=o},41836:r=>{var o=function(t,a,p,c){a===void 0&&(a=0),p===void 0&&(p=" "),c===void 0&&(c=3),t=t.toString();var u=0;if(a+1>=t.length)switch(c){case 1:t=new Array(a+1-t.length).join(p)+t;break;case 3:var h=Math.ceil((u=a-t.length)/2),l=u-h;t=new Array(l+1).join(p)+t+new Array(h+1).join(p);break;default:t=t+new Array(a+1-t.length).join(p);break}return t};r.exports=o},33628:r=>{var o=function(t,a){return a===0?t.slice(1):t.slice(0,a)+t.slice(a+1)};r.exports=o},27671:r=>{var o=function(t){return t.split("").reverse().join("")};r.exports=o},45650:r=>{var o=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=Math.random()*16|0,p=t==="x"?a:a&3|8;return p.toString(16)})};r.exports=o},35355:r=>{var o=function(t){return t&&t[0].toUpperCase()+t.slice(1)};r.exports=o},31749:(r,o,t)=>{r.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},i={};function n(r){var o=i[r];if(o!==void 0)return o.exports;var t=i[r]={exports:{}};return e[r](t,t.exports,n),t.exports}n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var s=n(85454);return s})())});var nI=kt(()=>{"use strict"});var H2=kt((Lve,I5)=>{"use strict";var w5;I5.exports=function(i){return w5||(w5=new Wo(null)),w5.generate(i)};function Wo(e){this.rand=e}I5.exports.Rand=Wo;Wo.prototype.generate=function(i){return this._rand(i)};Wo.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var n=new Uint8Array(i),s=0;s<n.length;s++)n[s]=this.rand.getByte();return n};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Wo.prototype._rand=function(i){var n=new Uint8Array(i);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?Wo.prototype._rand=function(i){var n=new Uint8Array(i);return self.msCrypto.getRandomValues(n),n}:typeof window=="object"&&(Wo.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(S5=nI(),typeof S5.randomBytes!="function")throw new Error("Not supported");Wo.prototype._rand=function(i){return S5.randomBytes(i)}}catch{}var S5});var Ho=kt((Rve,rI)=>{"use strict";rI.exports=iI;function iI(e,i){if(!e)throw new Error(i||"Assertion failed")}iI.equal=function(i,n,s){if(i!=n)throw new Error(s||"Assertion failed: "+i+" != "+n)}});var kf=kt((Dve,k5)=>{"use strict";typeof Object.create=="function"?k5.exports=function(i,n){n&&(i.super_=n,i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:k5.exports=function(i,n){if(n){i.super_=n;var s=function(){};s.prototype=n.prototype,i.prototype=new s,i.prototype.constructor=i}}});var Es=kt(pn=>{"use strict";var iY=Ho(),rY=kf();pn.inherits=rY;function sY(e,i){return(e.charCodeAt(i)&64512)!==55296||i<0||i+1>=e.length?!1:(e.charCodeAt(i+1)&64512)===56320}function aY(e,i){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if(typeof e=="string")if(i){if(i==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var s=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):sY(e,r)?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128)}else for(r=0;r<e.length;r++)n[r]=e[r]|0;return n}pn.toArray=aY;function oY(e){for(var i="",n=0;n<e.length;n++)i+=aI(e[n].toString(16));return i}pn.toHex=oY;function sI(e){var i=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return i>>>0}pn.htonl=sI;function lY(e,i){for(var n="",s=0;s<e.length;s++){var r=e[s];i==="little"&&(r=sI(r)),n+=oI(r.toString(16))}return n}pn.toHex32=lY;function aI(e){return e.length===1?"0"+e:e}pn.zero2=aI;function oI(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}pn.zero8=oI;function cY(e,i,n,s){var r=n-i;iY(r%4===0);for(var o=new Array(r/4),t=0,a=i;t<o.length;t++,a+=4){var p;s==="big"?p=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:p=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[t]=p>>>0}return o}pn.join32=cY;function uY(e,i){for(var n=new Array(e.length*4),s=0,r=0;s<e.length;s++,r+=4){var o=e[s];i==="big"?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=o&255):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=o&255)}return n}pn.split32=uY;function hY(e,i){return e>>>i|e<<32-i}pn.rotr32=hY;function dY(e,i){return e<<i|e>>>32-i}pn.rotl32=dY;function fY(e,i){return e+i>>>0}pn.sum32=fY;function pY(e,i,n){return e+i+n>>>0}pn.sum32_3=pY;function vY(e,i,n,s){return e+i+n+s>>>0}pn.sum32_4=vY;function gY(e,i,n,s,r){return e+i+n+s+r>>>0}pn.sum32_5=gY;function mY(e,i,n,s){var r=e[i],o=e[i+1],t=s+o>>>0,a=(t<s?1:0)+n+r;e[i]=a>>>0,e[i+1]=t}pn.sum64=mY;function yY(e,i,n,s){var r=i+s>>>0,o=(r<i?1:0)+e+n;return o>>>0}pn.sum64_hi=yY;function xY(e,i,n,s){var r=i+s;return r>>>0}pn.sum64_lo=xY;function bY(e,i,n,s,r,o,t,a){var p=0,c=i;c=c+s>>>0,p+=c<i?1:0,c=c+o>>>0,p+=c<o?1:0,c=c+a>>>0,p+=c<a?1:0;var u=e+n+r+t+p;return u>>>0}pn.sum64_4_hi=bY;function MY(e,i,n,s,r,o,t,a){var p=i+s+o+a;return p>>>0}pn.sum64_4_lo=MY;function CY(e,i,n,s,r,o,t,a,p,c){var u=0,h=i;h=h+s>>>0,u+=h<i?1:0,h=h+o>>>0,u+=h<o?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+c>>>0,u+=h<c?1:0;var l=e+n+r+t+p+u;return l>>>0}pn.sum64_5_hi=CY;function wY(e,i,n,s,r,o,t,a,p,c){var u=i+s+o+a+c;return u>>>0}pn.sum64_5_lo=wY;function SY(e,i,n){var s=i<<32-n|e>>>n;return s>>>0}pn.rotr64_hi=SY;function IY(e,i,n){var s=e<<32-n|i>>>n;return s>>>0}pn.rotr64_lo=IY;function kY(e,i,n){return e>>>n}pn.shr64_hi=kY;function TY(e,i,n){var s=e<<32-n|i>>>n;return s>>>0}pn.shr64_lo=TY});var Yu=kt(cI=>{"use strict";var lI=Es(),EY=Ho();function j2(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}cI.BlockHash=j2;j2.prototype.update=function(i,n){if(i=lI.toArray(i,n),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var s=i.length%this._delta8;this.pending=i.slice(i.length-s,i.length),this.pending.length===0&&(this.pending=null),i=lI.join32(i,0,i.length-s,this.endian);for(var r=0;r<i.length;r+=this._delta32)this._update(i,r,r+this._delta32)}return this};j2.prototype.digest=function(i){return this.update(this._pad()),EY(this.pending===null),this._digest(i)};j2.prototype._pad=function(){var i=this.pendingTotal,n=this._delta8,s=n-(i+this.padLength)%n,r=new Array(s+this.padLength);r[0]=128;for(var o=1;o<s;o++)r[o]=0;if(i<<=3,this.endian==="big"){for(var t=8;t<this.padLength;t++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=i>>>24&255,r[o++]=i>>>16&255,r[o++]=i>>>8&255,r[o++]=i&255}else for(r[o++]=i&255,r[o++]=i>>>8&255,r[o++]=i>>>16&255,r[o++]=i>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,t=8;t<this.padLength;t++)r[o++]=0;return r}});var T5=kt(Za=>{"use strict";var AY=Es(),qs=AY.rotr32;function LY(e,i,n,s){if(e===0)return uI(i,n,s);if(e===1||e===3)return dI(i,n,s);if(e===2)return hI(i,n,s)}Za.ft_1=LY;function uI(e,i,n){return e&i^~e&n}Za.ch32=uI;function hI(e,i,n){return e&i^e&n^i&n}Za.maj32=hI;function dI(e,i,n){return e^i^n}Za.p32=dI;function RY(e){return qs(e,2)^qs(e,13)^qs(e,22)}Za.s0_256=RY;function DY(e){return qs(e,6)^qs(e,11)^qs(e,25)}Za.s1_256=DY;function OY(e){return qs(e,7)^qs(e,18)^e>>>3}Za.g0_256=OY;function FY(e){return qs(e,17)^qs(e,19)^e>>>10}Za.g1_256=FY});var vI=kt((Nve,pI)=>{"use strict";var Uu=Es(),PY=Yu(),NY=T5(),E5=Uu.rotl32,Tf=Uu.sum32,BY=Uu.sum32_5,VY=NY.ft_1,fI=PY.BlockHash,GY=[1518500249,1859775393,2400959708,3395469782];function ea(){if(!(this instanceof ea))return new ea;fI.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Uu.inherits(ea,fI);pI.exports=ea;ea.blockSize=512;ea.outSize=160;ea.hmacStrength=80;ea.padLength=64;ea.prototype._update=function(i,n){for(var s=this.W,r=0;r<16;r++)s[r]=i[n+r];for(;r<s.length;r++)s[r]=E5(s[r-3]^s[r-8]^s[r-14]^s[r-16],1);var o=this.h[0],t=this.h[1],a=this.h[2],p=this.h[3],c=this.h[4];for(r=0;r<s.length;r++){var u=~~(r/20),h=BY(E5(o,5),VY(u,t,a,p),c,s[r],GY[u]);c=p,p=a,a=E5(t,30),t=o,o=h}this.h[0]=Tf(this.h[0],o),this.h[1]=Tf(this.h[1],t),this.h[2]=Tf(this.h[2],a),this.h[3]=Tf(this.h[3],p),this.h[4]=Tf(this.h[4],c)};ea.prototype._digest=function(i){return i==="hex"?Uu.toHex32(this.h,"big"):Uu.split32(this.h,"big")}});var A5=kt((Bve,mI)=>{"use strict";var Zu=Es(),zY=Yu(),Xu=T5(),WY=Ho(),As=Zu.sum32,HY=Zu.sum32_4,jY=Zu.sum32_5,YY=Xu.ch32,UY=Xu.maj32,ZY=Xu.s0_256,XY=Xu.s1_256,$Y=Xu.g0_256,JY=Xu.g1_256,gI=zY.BlockHash,KY=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ta(){if(!(this instanceof ta))return new ta;gI.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=KY,this.W=new Array(64)}Zu.inherits(ta,gI);mI.exports=ta;ta.blockSize=512;ta.outSize=256;ta.hmacStrength=192;ta.padLength=64;ta.prototype._update=function(i,n){for(var s=this.W,r=0;r<16;r++)s[r]=i[n+r];for(;r<s.length;r++)s[r]=HY(JY(s[r-2]),s[r-7],$Y(s[r-15]),s[r-16]);var o=this.h[0],t=this.h[1],a=this.h[2],p=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],l=this.h[7];for(WY(this.k.length===s.length),r=0;r<s.length;r++){var d=jY(l,XY(c),YY(c,u,h),this.k[r],s[r]),v=As(ZY(o),UY(o,t,a));l=h,h=u,u=c,c=As(p,d),p=a,a=t,t=o,o=As(d,v)}this.h[0]=As(this.h[0],o),this.h[1]=As(this.h[1],t),this.h[2]=As(this.h[2],a),this.h[3]=As(this.h[3],p),this.h[4]=As(this.h[4],c),this.h[5]=As(this.h[5],u),this.h[6]=As(this.h[6],h),this.h[7]=As(this.h[7],l)};ta.prototype._digest=function(i){return i==="hex"?Zu.toHex32(this.h,"big"):Zu.split32(this.h,"big")}});var bI=kt((Vve,xI)=>{"use strict";var L5=Es(),yI=A5();function Xa(){if(!(this instanceof Xa))return new Xa;yI.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}L5.inherits(Xa,yI);xI.exports=Xa;Xa.blockSize=512;Xa.outSize=224;Xa.hmacStrength=192;Xa.padLength=64;Xa.prototype._digest=function(i){return i==="hex"?L5.toHex32(this.h.slice(0,7),"big"):L5.split32(this.h.slice(0,7),"big")}});var O5=kt((Gve,SI)=>{"use strict";var fr=Es(),QY=Yu(),_Y=Ho(),na=fr.rotr64_hi,ia=fr.rotr64_lo,MI=fr.shr64_hi,CI=fr.shr64_lo,jo=fr.sum64,R5=fr.sum64_hi,D5=fr.sum64_lo,qY=fr.sum64_4_hi,eU=fr.sum64_4_lo,tU=fr.sum64_5_hi,nU=fr.sum64_5_lo,wI=QY.BlockHash,iU=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ls(){if(!(this instanceof Ls))return new Ls;wI.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=iU,this.W=new Array(160)}fr.inherits(Ls,wI);SI.exports=Ls;Ls.blockSize=1024;Ls.outSize=512;Ls.hmacStrength=192;Ls.padLength=128;Ls.prototype._prepareBlock=function(i,n){for(var s=this.W,r=0;r<32;r++)s[r]=i[n+r];for(;r<s.length;r+=2){var o=pU(s[r-4],s[r-3]),t=vU(s[r-4],s[r-3]),a=s[r-14],p=s[r-13],c=dU(s[r-30],s[r-29]),u=fU(s[r-30],s[r-29]),h=s[r-32],l=s[r-31];s[r]=qY(o,t,a,p,c,u,h,l),s[r+1]=eU(o,t,a,p,c,u,h,l)}};Ls.prototype._update=function(i,n){this._prepareBlock(i,n);var s=this.W,r=this.h[0],o=this.h[1],t=this.h[2],a=this.h[3],p=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],l=this.h[8],d=this.h[9],v=this.h[10],f=this.h[11],g=this.h[12],m=this.h[13],x=this.h[14],y=this.h[15];_Y(this.k.length===s.length);for(var b=0;b<s.length;b+=2){var M=x,C=y,w=uU(l,d),S=hU(l,d),I=rU(l,d,v,f,g,m),T=sU(l,d,v,f,g,m),k=this.k[b],E=this.k[b+1],A=s[b],L=s[b+1],D=tU(M,C,w,S,I,T,k,E,A,L),R=nU(M,C,w,S,I,T,k,E,A,L);M=lU(r,o),C=cU(r,o),w=aU(r,o,t,a,p,c),S=oU(r,o,t,a,p,c);var N=R5(M,C,w,S),P=D5(M,C,w,S);x=g,y=m,g=v,m=f,v=l,f=d,l=R5(u,h,D,R),d=D5(h,h,D,R),u=p,h=c,p=t,c=a,t=r,a=o,r=R5(D,R,N,P),o=D5(D,R,N,P)}jo(this.h,0,r,o),jo(this.h,2,t,a),jo(this.h,4,p,c),jo(this.h,6,u,h),jo(this.h,8,l,d),jo(this.h,10,v,f),jo(this.h,12,g,m),jo(this.h,14,x,y)};Ls.prototype._digest=function(i){return i==="hex"?fr.toHex32(this.h,"big"):fr.split32(this.h,"big")};function rU(e,i,n,s,r){var o=e&n^~e&r;return o<0&&(o+=4294967296),o}function sU(e,i,n,s,r,o){var t=i&s^~i&o;return t<0&&(t+=4294967296),t}function aU(e,i,n,s,r){var o=e&n^e&r^n&r;return o<0&&(o+=4294967296),o}function oU(e,i,n,s,r,o){var t=i&s^i&o^s&o;return t<0&&(t+=4294967296),t}function lU(e,i){var n=na(e,i,28),s=na(i,e,2),r=na(i,e,7),o=n^s^r;return o<0&&(o+=4294967296),o}function cU(e,i){var n=ia(e,i,28),s=ia(i,e,2),r=ia(i,e,7),o=n^s^r;return o<0&&(o+=4294967296),o}function uU(e,i){var n=na(e,i,14),s=na(e,i,18),r=na(i,e,9),o=n^s^r;return o<0&&(o+=4294967296),o}function hU(e,i){var n=ia(e,i,14),s=ia(e,i,18),r=ia(i,e,9),o=n^s^r;return o<0&&(o+=4294967296),o}function dU(e,i){var n=na(e,i,1),s=na(e,i,8),r=MI(e,i,7),o=n^s^r;return o<0&&(o+=4294967296),o}function fU(e,i){var n=ia(e,i,1),s=ia(e,i,8),r=CI(e,i,7),o=n^s^r;return o<0&&(o+=4294967296),o}function pU(e,i){var n=na(e,i,19),s=na(i,e,29),r=MI(e,i,6),o=n^s^r;return o<0&&(o+=4294967296),o}function vU(e,i){var n=ia(e,i,19),s=ia(i,e,29),r=CI(e,i,6),o=n^s^r;return o<0&&(o+=4294967296),o}});var TI=kt((zve,kI)=>{"use strict";var F5=Es(),II=O5();function $a(){if(!(this instanceof $a))return new $a;II.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}F5.inherits($a,II);kI.exports=$a;$a.blockSize=1024;$a.outSize=384;$a.hmacStrength=192;$a.padLength=128;$a.prototype._digest=function(i){return i==="hex"?F5.toHex32(this.h.slice(0,12),"big"):F5.split32(this.h.slice(0,12),"big")}});var EI=kt($u=>{"use strict";$u.sha1=vI();$u.sha224=bI();$u.sha256=A5();$u.sha384=TI();$u.sha512=O5()});var FI=kt(OI=>{"use strict";var ic=Es(),gU=Yu(),Y2=ic.rotl32,AI=ic.sum32,Ef=ic.sum32_3,LI=ic.sum32_4,DI=gU.BlockHash;function ra(){if(!(this instanceof ra))return new ra;DI.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ic.inherits(ra,DI);OI.ripemd160=ra;ra.blockSize=512;ra.outSize=160;ra.hmacStrength=192;ra.padLength=64;ra.prototype._update=function(i,n){for(var s=this.h[0],r=this.h[1],o=this.h[2],t=this.h[3],a=this.h[4],p=s,c=r,u=o,h=t,l=a,d=0;d<80;d++){var v=AI(Y2(LI(s,RI(d,r,o,t),i[xU[d]+n],mU(d)),MU[d]),a);s=a,a=t,t=Y2(o,10),o=r,r=v,v=AI(Y2(LI(p,RI(79-d,c,u,h),i[bU[d]+n],yU(d)),CU[d]),l),p=l,l=h,h=Y2(u,10),u=c,c=v}v=Ef(this.h[1],o,h),this.h[1]=Ef(this.h[2],t,l),this.h[2]=Ef(this.h[3],a,p),this.h[3]=Ef(this.h[4],s,c),this.h[4]=Ef(this.h[0],r,u),this.h[0]=v};ra.prototype._digest=function(i){return i==="hex"?ic.toHex32(this.h,"little"):ic.split32(this.h,"little")};function RI(e,i,n,s){return e<=15?i^n^s:e<=31?i&n|~i&s:e<=47?(i|~n)^s:e<=63?i&s|n&~s:i^(n|~s)}function mU(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function yU(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var xU=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],bU=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],MU=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],CU=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var NI=kt((jve,PI)=>{"use strict";var wU=Es(),SU=Ho();function Ju(e,i,n){if(!(this instanceof Ju))return new Ju(e,i,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(wU.toArray(i,n))}PI.exports=Ju;Ju.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),SU(i.length<=this.blockSize);for(var n=i.length;n<this.blockSize;n++)i.push(0);for(n=0;n<i.length;n++)i[n]^=54;for(this.inner=new this.Hash().update(i),n=0;n<i.length;n++)i[n]^=106;this.outer=new this.Hash().update(i)};Ju.prototype.update=function(i,n){return this.inner.update(i,n),this};Ju.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)}});var Af=kt(BI=>{"use strict";var Ii=BI;Ii.utils=Es();Ii.common=Yu();Ii.sha=EI();Ii.ripemd=FI();Ii.hmac=NI();Ii.sha1=Ii.sha.sha1;Ii.sha256=Ii.sha.sha256;Ii.sha224=Ii.sha.sha224;Ii.sha384=Ii.sha.sha384;Ii.sha512=Ii.sha.sha512;Ii.ripemd160=Ii.ripemd.ripemd160});var zI=kt(U2=>{"use strict";U2.byteLength=kU;U2.toByteArray=EU;U2.fromByteArray=RU;var sa=[],$r=[],IU=typeof Uint8Array<"u"?Uint8Array:Array,P5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(rc=0,VI=P5.length;rc<VI;++rc)sa[rc]=P5[rc],$r[P5.charCodeAt(rc)]=rc;var rc,VI;$r[45]=62;$r[95]=63;function GI(e){var i=e.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=i);var s=n===i?0:4-n%4;return[n,s]}function kU(e){var i=GI(e),n=i[0],s=i[1];return(n+s)*3/4-s}function TU(e,i,n){return(i+n)*3/4-n}function EU(e){var i,n=GI(e),s=n[0],r=n[1],o=new IU(TU(e,s,r)),t=0,a=r>0?s-4:s,p;for(p=0;p<a;p+=4)i=$r[e.charCodeAt(p)]<<18|$r[e.charCodeAt(p+1)]<<12|$r[e.charCodeAt(p+2)]<<6|$r[e.charCodeAt(p+3)],o[t++]=i>>16&255,o[t++]=i>>8&255,o[t++]=i&255;return r===2&&(i=$r[e.charCodeAt(p)]<<2|$r[e.charCodeAt(p+1)]>>4,o[t++]=i&255),r===1&&(i=$r[e.charCodeAt(p)]<<10|$r[e.charCodeAt(p+1)]<<4|$r[e.charCodeAt(p+2)]>>2,o[t++]=i>>8&255,o[t++]=i&255),o}function AU(e){return sa[e>>18&63]+sa[e>>12&63]+sa[e>>6&63]+sa[e&63]}function LU(e,i,n){for(var s,r=[],o=i;o<n;o+=3)s=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),r.push(AU(s));return r.join("")}function RU(e){for(var i,n=e.length,s=n%3,r=[],o=16383,t=0,a=n-s;t<a;t+=o)r.push(LU(e,t,t+o>a?a:t+o));return s===1?(i=e[n-1],r.push(sa[i>>2]+sa[i<<4&63]+"==")):s===2&&(i=(e[n-2]<<8)+e[n-1],r.push(sa[i>>10]+sa[i>>4&63]+sa[i<<2&63]+"=")),r.join("")}});var WI=kt(N5=>{"use strict";N5.read=function(e,i,n,s,r){var o,t,a=r*8-s-1,p=(1<<a)-1,c=p>>1,u=-7,h=n?r-1:0,l=n?-1:1,d=e[i+h];for(h+=l,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=o*256+e[i+h],h+=l,u-=8);for(t=o&(1<<-u)-1,o>>=-u,u+=s;u>0;t=t*256+e[i+h],h+=l,u-=8);if(o===0)o=1-c;else{if(o===p)return t?NaN:(d?-1:1)*(1/0);t=t+Math.pow(2,s),o=o-c}return(d?-1:1)*t*Math.pow(2,o-s)};N5.write=function(e,i,n,s,r,o){var t,a,p,c=o*8-r-1,u=(1<<c)-1,h=u>>1,l=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:o-1,v=s?1:-1,f=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(a=isNaN(i)?1:0,t=u):(t=Math.floor(Math.log(i)/Math.LN2),i*(p=Math.pow(2,-t))<1&&(t--,p*=2),t+h>=1?i+=l/p:i+=l*Math.pow(2,1-h),i*p>=2&&(t++,p/=2),t+h>=u?(a=0,t=u):t+h>=1?(a=(i*p-1)*Math.pow(2,r),t=t+h):(a=i*Math.pow(2,h-1)*Math.pow(2,r),t=0));r>=8;e[n+d]=a&255,d+=v,a/=256,r-=8);for(t=t<<r|a,c+=r;c>0;e[n+d]=t&255,d+=v,t/=256,c-=8);e[n+d-v]|=f*128}});var ek=kt(Qu=>{"use strict";var B5=zI(),Ku=WI(),HI=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Qu.Buffer=ye;Qu.SlowBuffer=BU;Qu.INSPECT_MAX_BYTES=50;var Z2=2147483647;Qu.kMaxLength=Z2;ye.TYPED_ARRAY_SUPPORT=DU();!ye.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function DU(){try{var e=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(e,i),e.foo()===42}catch{return!1}}Object.defineProperty(ye.prototype,"parent",{enumerable:!0,get:function(){if(ye.isBuffer(this))return this.buffer}});Object.defineProperty(ye.prototype,"offset",{enumerable:!0,get:function(){if(ye.isBuffer(this))return this.byteOffset}});function Ja(e){if(e>Z2)throw new RangeError('The value "'+e+'" is invalid for option "size"');var i=new Uint8Array(e);return Object.setPrototypeOf(i,ye.prototype),i}function ye(e,i,n){if(typeof e=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return W5(e)}return UI(e,i,n)}ye.poolSize=8192;function UI(e,i,n){if(typeof e=="string")return FU(e,i);if(ArrayBuffer.isView(e))return PU(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(aa(e,ArrayBuffer)||e&&aa(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(aa(e,SharedArrayBuffer)||e&&aa(e.buffer,SharedArrayBuffer)))return G5(e,i,n);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var s=e.valueOf&&e.valueOf();if(s!=null&&s!==e)return ye.from(s,i,n);var r=NU(e);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return ye.from(e[Symbol.toPrimitive]("string"),i,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}ye.from=function(e,i,n){return UI(e,i,n)};Object.setPrototypeOf(ye.prototype,Uint8Array.prototype);Object.setPrototypeOf(ye,Uint8Array);function ZI(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function OU(e,i,n){return ZI(e),e<=0?Ja(e):i!==void 0?typeof n=="string"?Ja(e).fill(i,n):Ja(e).fill(i):Ja(e)}ye.alloc=function(e,i,n){return OU(e,i,n)};function W5(e){return ZI(e),Ja(e<0?0:H5(e)|0)}ye.allocUnsafe=function(e){return W5(e)};ye.allocUnsafeSlow=function(e){return W5(e)};function FU(e,i){if((typeof i!="string"||i==="")&&(i="utf8"),!ye.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var n=XI(e,i)|0,s=Ja(n),r=s.write(e,i);return r!==n&&(s=s.slice(0,r)),s}function V5(e){for(var i=e.length<0?0:H5(e.length)|0,n=Ja(i),s=0;s<i;s+=1)n[s]=e[s]&255;return n}function PU(e){if(aa(e,Uint8Array)){var i=new Uint8Array(e);return G5(i.buffer,i.byteOffset,i.byteLength)}return V5(e)}function G5(e,i,n){if(i<0||e.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<i+(n||0))throw new RangeError('"length" is outside of buffer bounds');var s;return i===void 0&&n===void 0?s=new Uint8Array(e):n===void 0?s=new Uint8Array(e,i):s=new Uint8Array(e,i,n),Object.setPrototypeOf(s,ye.prototype),s}function NU(e){if(ye.isBuffer(e)){var i=H5(e.length)|0,n=Ja(i);return n.length===0||e.copy(n,0,0,i),n}if(e.length!==void 0)return typeof e.length!="number"||j5(e.length)?Ja(0):V5(e);if(e.type==="Buffer"&&Array.isArray(e.data))return V5(e.data)}function H5(e){if(e>=Z2)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Z2.toString(16)+" bytes");return e|0}function BU(e){return+e!=e&&(e=0),ye.alloc(+e)}ye.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==ye.prototype};ye.compare=function(i,n){if(aa(i,Uint8Array)&&(i=ye.from(i,i.offset,i.byteLength)),aa(n,Uint8Array)&&(n=ye.from(n,n.offset,n.byteLength)),!ye.isBuffer(i)||!ye.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===n)return 0;for(var s=i.length,r=n.length,o=0,t=Math.min(s,r);o<t;++o)if(i[o]!==n[o]){s=i[o],r=n[o];break}return s<r?-1:r<s?1:0};ye.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ye.concat=function(i,n){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return ye.alloc(0);var s;if(n===void 0)for(n=0,s=0;s<i.length;++s)n+=i[s].length;var r=ye.allocUnsafe(n),o=0;for(s=0;s<i.length;++s){var t=i[s];if(aa(t,Uint8Array))o+t.length>r.length?ye.from(t).copy(r,o):Uint8Array.prototype.set.call(r,t,o);else if(ye.isBuffer(t))t.copy(r,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=t.length}return r};function XI(e,i){if(ye.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||aa(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,s=arguments.length>2&&arguments[2]===!0;if(!s&&n===0)return 0;for(var r=!1;;)switch(i){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return z5(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return qI(e).length;default:if(r)return s?-1:z5(e).length;i=(""+i).toLowerCase(),r=!0}}ye.byteLength=XI;function VU(e,i,n){var s=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,i>>>=0,n<=i))return"";for(e||(e="utf8");;)switch(e){case"hex":return $U(this,i,n);case"utf8":case"utf-8":return JI(this,i,n);case"ascii":return ZU(this,i,n);case"latin1":case"binary":return XU(this,i,n);case"base64":return YU(this,i,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return JU(this,i,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}ye.prototype._isBuffer=!0;function sc(e,i,n){var s=e[i];e[i]=e[n],e[n]=s}ye.prototype.swap16=function(){var i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<i;n+=2)sc(this,n,n+1);return this};ye.prototype.swap32=function(){var i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<i;n+=4)sc(this,n,n+3),sc(this,n+1,n+2);return this};ye.prototype.swap64=function(){var i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<i;n+=8)sc(this,n,n+7),sc(this,n+1,n+6),sc(this,n+2,n+5),sc(this,n+3,n+4);return this};ye.prototype.toString=function(){var i=this.length;return i===0?"":arguments.length===0?JI(this,0,i):VU.apply(this,arguments)};ye.prototype.toLocaleString=ye.prototype.toString;ye.prototype.equals=function(i){if(!ye.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:ye.compare(this,i)===0};ye.prototype.inspect=function(){var i="",n=Qu.INSPECT_MAX_BYTES;return i=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(i+=" ... "),"<Buffer "+i+">"};HI&&(ye.prototype[HI]=ye.prototype.inspect);ye.prototype.compare=function(i,n,s,r,o){if(aa(i,Uint8Array)&&(i=ye.from(i,i.offset,i.byteLength)),!ye.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(n===void 0&&(n=0),s===void 0&&(s=i?i.length:0),r===void 0&&(r=0),o===void 0&&(o=this.length),n<0||s>i.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&n>=s)return 0;if(r>=o)return-1;if(n>=s)return 1;if(n>>>=0,s>>>=0,r>>>=0,o>>>=0,this===i)return 0;for(var t=o-r,a=s-n,p=Math.min(t,a),c=this.slice(r,o),u=i.slice(n,s),h=0;h<p;++h)if(c[h]!==u[h]){t=c[h],a=u[h];break}return t<a?-1:a<t?1:0};function $I(e,i,n,s,r){if(e.length===0)return-1;if(typeof n=="string"?(s=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,j5(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0)if(r)n=0;else return-1;if(typeof i=="string"&&(i=ye.from(i,s)),ye.isBuffer(i))return i.length===0?-1:jI(e,i,n,s,r);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(e,i,n):Uint8Array.prototype.lastIndexOf.call(e,i,n):jI(e,[i],n,s,r);throw new TypeError("val must be string, number or Buffer")}function jI(e,i,n,s,r){var o=1,t=e.length,a=i.length;if(s!==void 0&&(s=String(s).toLowerCase(),s==="ucs2"||s==="ucs-2"||s==="utf16le"||s==="utf-16le")){if(e.length<2||i.length<2)return-1;o=2,t/=2,a/=2,n/=2}function p(d,v){return o===1?d[v]:d.readUInt16BE(v*o)}var c;if(r){var u=-1;for(c=n;c<t;c++)if(p(e,c)===p(i,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===a)return u*o}else u!==-1&&(c-=c-u),u=-1}else for(n+a>t&&(n=t-a),c=n;c>=0;c--){for(var h=!0,l=0;l<a;l++)if(p(e,c+l)!==p(i,l)){h=!1;break}if(h)return c}return-1}ye.prototype.includes=function(i,n,s){return this.indexOf(i,n,s)!==-1};ye.prototype.indexOf=function(i,n,s){return $I(this,i,n,s,!0)};ye.prototype.lastIndexOf=function(i,n,s){return $I(this,i,n,s,!1)};function GU(e,i,n,s){n=Number(n)||0;var r=e.length-n;s?(s=Number(s),s>r&&(s=r)):s=r;var o=i.length;s>o/2&&(s=o/2);for(var t=0;t<s;++t){var a=parseInt(i.substr(t*2,2),16);if(j5(a))return t;e[n+t]=a}return t}function zU(e,i,n,s){return X2(z5(i,e.length-n),e,n,s)}function WU(e,i,n,s){return X2(_U(i),e,n,s)}function HU(e,i,n,s){return X2(qI(i),e,n,s)}function jU(e,i,n,s){return X2(qU(i,e.length-n),e,n,s)}ye.prototype.write=function(i,n,s,r){if(n===void 0)r="utf8",s=this.length,n=0;else if(s===void 0&&typeof n=="string")r=n,s=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(s)?(s=s>>>0,r===void 0&&(r="utf8")):(r=s,s=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-n;if((s===void 0||s>o)&&(s=o),i.length>0&&(s<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var t=!1;;)switch(r){case"hex":return GU(this,i,n,s);case"utf8":case"utf-8":return zU(this,i,n,s);case"ascii":case"latin1":case"binary":return WU(this,i,n,s);case"base64":return HU(this,i,n,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jU(this,i,n,s);default:if(t)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),t=!0}};ye.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function YU(e,i,n){return i===0&&n===e.length?B5.fromByteArray(e):B5.fromByteArray(e.slice(i,n))}function JI(e,i,n){n=Math.min(e.length,n);for(var s=[],r=i;r<n;){var o=e[r],t=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a<=n){var p,c,u,h;switch(a){case 1:o<128&&(t=o);break;case 2:p=e[r+1],(p&192)===128&&(h=(o&31)<<6|p&63,h>127&&(t=h));break;case 3:p=e[r+1],c=e[r+2],(p&192)===128&&(c&192)===128&&(h=(o&15)<<12|(p&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(t=h));break;case 4:p=e[r+1],c=e[r+2],u=e[r+3],(p&192)===128&&(c&192)===128&&(u&192)===128&&(h=(o&15)<<18|(p&63)<<12|(c&63)<<6|u&63,h>65535&&h<1114112&&(t=h))}}t===null?(t=65533,a=1):t>65535&&(t-=65536,s.push(t>>>10&1023|55296),t=56320|t&1023),s.push(t),r+=a}return UU(s)}var YI=4096;function UU(e){var i=e.length;if(i<=YI)return String.fromCharCode.apply(String,e);for(var n="",s=0;s<i;)n+=String.fromCharCode.apply(String,e.slice(s,s+=YI));return n}function ZU(e,i,n){var s="";n=Math.min(e.length,n);for(var r=i;r<n;++r)s+=String.fromCharCode(e[r]&127);return s}function XU(e,i,n){var s="";n=Math.min(e.length,n);for(var r=i;r<n;++r)s+=String.fromCharCode(e[r]);return s}function $U(e,i,n){var s=e.length;(!i||i<0)&&(i=0),(!n||n<0||n>s)&&(n=s);for(var r="",o=i;o<n;++o)r+=eZ[e[o]];return r}function JU(e,i,n){for(var s=e.slice(i,n),r="",o=0;o<s.length-1;o+=2)r+=String.fromCharCode(s[o]+s[o+1]*256);return r}ye.prototype.slice=function(i,n){var s=this.length;i=~~i,n=n===void 0?s:~~n,i<0?(i+=s,i<0&&(i=0)):i>s&&(i=s),n<0?(n+=s,n<0&&(n=0)):n>s&&(n=s),n<i&&(n=i);var r=this.subarray(i,n);return Object.setPrototypeOf(r,ye.prototype),r};function mi(e,i,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+i>n)throw new RangeError("Trying to access beyond buffer length")}ye.prototype.readUintLE=ye.prototype.readUIntLE=function(i,n,s){i=i>>>0,n=n>>>0,s||mi(i,n,this.length);for(var r=this[i],o=1,t=0;++t<n&&(o*=256);)r+=this[i+t]*o;return r};ye.prototype.readUintBE=ye.prototype.readUIntBE=function(i,n,s){i=i>>>0,n=n>>>0,s||mi(i,n,this.length);for(var r=this[i+--n],o=1;n>0&&(o*=256);)r+=this[i+--n]*o;return r};ye.prototype.readUint8=ye.prototype.readUInt8=function(i,n){return i=i>>>0,n||mi(i,1,this.length),this[i]};ye.prototype.readUint16LE=ye.prototype.readUInt16LE=function(i,n){return i=i>>>0,n||mi(i,2,this.length),this[i]|this[i+1]<<8};ye.prototype.readUint16BE=ye.prototype.readUInt16BE=function(i,n){return i=i>>>0,n||mi(i,2,this.length),this[i]<<8|this[i+1]};ye.prototype.readUint32LE=ye.prototype.readUInt32LE=function(i,n){return i=i>>>0,n||mi(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216};ye.prototype.readUint32BE=ye.prototype.readUInt32BE=function(i,n){return i=i>>>0,n||mi(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])};ye.prototype.readIntLE=function(i,n,s){i=i>>>0,n=n>>>0,s||mi(i,n,this.length);for(var r=this[i],o=1,t=0;++t<n&&(o*=256);)r+=this[i+t]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*n)),r};ye.prototype.readIntBE=function(i,n,s){i=i>>>0,n=n>>>0,s||mi(i,n,this.length);for(var r=n,o=1,t=this[i+--r];r>0&&(o*=256);)t+=this[i+--r]*o;return o*=128,t>=o&&(t-=Math.pow(2,8*n)),t};ye.prototype.readInt8=function(i,n){return i=i>>>0,n||mi(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]};ye.prototype.readInt16LE=function(i,n){i=i>>>0,n||mi(i,2,this.length);var s=this[i]|this[i+1]<<8;return s&32768?s|4294901760:s};ye.prototype.readInt16BE=function(i,n){i=i>>>0,n||mi(i,2,this.length);var s=this[i+1]|this[i]<<8;return s&32768?s|4294901760:s};ye.prototype.readInt32LE=function(i,n){return i=i>>>0,n||mi(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24};ye.prototype.readInt32BE=function(i,n){return i=i>>>0,n||mi(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]};ye.prototype.readFloatLE=function(i,n){return i=i>>>0,n||mi(i,4,this.length),Ku.read(this,i,!0,23,4)};ye.prototype.readFloatBE=function(i,n){return i=i>>>0,n||mi(i,4,this.length),Ku.read(this,i,!1,23,4)};ye.prototype.readDoubleLE=function(i,n){return i=i>>>0,n||mi(i,8,this.length),Ku.read(this,i,!0,52,8)};ye.prototype.readDoubleBE=function(i,n){return i=i>>>0,n||mi(i,8,this.length),Ku.read(this,i,!1,52,8)};function pr(e,i,n,s,r,o){if(!ye.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>r||i<o)throw new RangeError('"value" argument is out of bounds');if(n+s>e.length)throw new RangeError("Index out of range")}ye.prototype.writeUintLE=ye.prototype.writeUIntLE=function(i,n,s,r){if(i=+i,n=n>>>0,s=s>>>0,!r){var o=Math.pow(2,8*s)-1;pr(this,i,n,s,o,0)}var t=1,a=0;for(this[n]=i&255;++a<s&&(t*=256);)this[n+a]=i/t&255;return n+s};ye.prototype.writeUintBE=ye.prototype.writeUIntBE=function(i,n,s,r){if(i=+i,n=n>>>0,s=s>>>0,!r){var o=Math.pow(2,8*s)-1;pr(this,i,n,s,o,0)}var t=s-1,a=1;for(this[n+t]=i&255;--t>=0&&(a*=256);)this[n+t]=i/a&255;return n+s};ye.prototype.writeUint8=ye.prototype.writeUInt8=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,1,255,0),this[n]=i&255,n+1};ye.prototype.writeUint16LE=ye.prototype.writeUInt16LE=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,2,65535,0),this[n]=i&255,this[n+1]=i>>>8,n+2};ye.prototype.writeUint16BE=ye.prototype.writeUInt16BE=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,2,65535,0),this[n]=i>>>8,this[n+1]=i&255,n+2};ye.prototype.writeUint32LE=ye.prototype.writeUInt32LE=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,4,4294967295,0),this[n+3]=i>>>24,this[n+2]=i>>>16,this[n+1]=i>>>8,this[n]=i&255,n+4};ye.prototype.writeUint32BE=ye.prototype.writeUInt32BE=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,4,4294967295,0),this[n]=i>>>24,this[n+1]=i>>>16,this[n+2]=i>>>8,this[n+3]=i&255,n+4};ye.prototype.writeIntLE=function(i,n,s,r){if(i=+i,n=n>>>0,!r){var o=Math.pow(2,8*s-1);pr(this,i,n,s,o-1,-o)}var t=0,a=1,p=0;for(this[n]=i&255;++t<s&&(a*=256);)i<0&&p===0&&this[n+t-1]!==0&&(p=1),this[n+t]=(i/a>>0)-p&255;return n+s};ye.prototype.writeIntBE=function(i,n,s,r){if(i=+i,n=n>>>0,!r){var o=Math.pow(2,8*s-1);pr(this,i,n,s,o-1,-o)}var t=s-1,a=1,p=0;for(this[n+t]=i&255;--t>=0&&(a*=256);)i<0&&p===0&&this[n+t+1]!==0&&(p=1),this[n+t]=(i/a>>0)-p&255;return n+s};ye.prototype.writeInt8=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,1,127,-128),i<0&&(i=255+i+1),this[n]=i&255,n+1};ye.prototype.writeInt16LE=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,2,32767,-32768),this[n]=i&255,this[n+1]=i>>>8,n+2};ye.prototype.writeInt16BE=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,2,32767,-32768),this[n]=i>>>8,this[n+1]=i&255,n+2};ye.prototype.writeInt32LE=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,4,2147483647,-2147483648),this[n]=i&255,this[n+1]=i>>>8,this[n+2]=i>>>16,this[n+3]=i>>>24,n+4};ye.prototype.writeInt32BE=function(i,n,s){return i=+i,n=n>>>0,s||pr(this,i,n,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[n]=i>>>24,this[n+1]=i>>>16,this[n+2]=i>>>8,this[n+3]=i&255,n+4};function KI(e,i,n,s,r,o){if(n+s>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function QI(e,i,n,s,r){return i=+i,n=n>>>0,r||KI(e,i,n,4,34028234663852886e22,-34028234663852886e22),Ku.write(e,i,n,s,23,4),n+4}ye.prototype.writeFloatLE=function(i,n,s){return QI(this,i,n,!0,s)};ye.prototype.writeFloatBE=function(i,n,s){return QI(this,i,n,!1,s)};function _I(e,i,n,s,r){return i=+i,n=n>>>0,r||KI(e,i,n,8,17976931348623157e292,-17976931348623157e292),Ku.write(e,i,n,s,52,8),n+8}ye.prototype.writeDoubleLE=function(i,n,s){return _I(this,i,n,!0,s)};ye.prototype.writeDoubleBE=function(i,n,s){return _I(this,i,n,!1,s)};ye.prototype.copy=function(i,n,s,r){if(!ye.isBuffer(i))throw new TypeError("argument should be a Buffer");if(s||(s=0),!r&&r!==0&&(r=this.length),n>=i.length&&(n=i.length),n||(n=0),r>0&&r<s&&(r=s),r===s||i.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),i.length-n<r-s&&(r=i.length-n+s);var o=r-s;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,s,r):Uint8Array.prototype.set.call(i,this.subarray(s,r),n),o};ye.prototype.fill=function(i,n,s,r){if(typeof i=="string"){if(typeof n=="string"?(r=n,n=0,s=this.length):typeof s=="string"&&(r=s,s=this.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!ye.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(i.length===1){var o=i.charCodeAt(0);(r==="utf8"&&o<128||r==="latin1")&&(i=o)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(n<0||this.length<n||this.length<s)throw new RangeError("Out of range index");if(s<=n)return this;n=n>>>0,s=s===void 0?this.length:s>>>0,i||(i=0);var t;if(typeof i=="number")for(t=n;t<s;++t)this[t]=i;else{var a=ye.isBuffer(i)?i:ye.from(i,r),p=a.length;if(p===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(t=0;t<s-n;++t)this[t+n]=a[t%p]}return this};var KU=/[^+/0-9A-Za-z-_]/g;function QU(e){if(e=e.split("=")[0],e=e.trim().replace(KU,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function z5(e,i){i=i||1/0;for(var n,s=e.length,r=null,o=[],t=0;t<s;++t){if(n=e.charCodeAt(t),n>55295&&n<57344){if(!r){if(n>56319){(i-=3)>-1&&o.push(239,191,189);continue}else if(t+1===s){(i-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(i-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(i-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((i-=1)<0)break;o.push(n)}else if(n<2048){if((i-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((i-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((i-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return o}function _U(e){for(var i=[],n=0;n<e.length;++n)i.push(e.charCodeAt(n)&255);return i}function qU(e,i){for(var n,s,r,o=[],t=0;t<e.length&&!((i-=2)<0);++t)n=e.charCodeAt(t),s=n>>8,r=n%256,o.push(r),o.push(s);return o}function qI(e){return B5.toByteArray(QU(e))}function X2(e,i,n,s){for(var r=0;r<s&&!(r+n>=i.length||r>=e.length);++r)i[r+n]=e[r];return r}function aa(e,i){return e instanceof i||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===i.name}function j5(e){return e!==e}var eZ=function(){for(var e="0123456789abcdef",i=new Array(256),n=0;n<16;++n)for(var s=n*16,r=0;r<16;++r)i[s+r]=e[n]+e[r];return i}()});var Jr=kt((tk,Y5)=>{"use strict";(function(e,i){"use strict";function n(T,k){if(!T)throw new Error(k||"Assertion failed")}function s(T,k){T.super_=k;var E=function(){};E.prototype=k.prototype,T.prototype=new E,T.prototype.constructor=T}function r(T,k,E){if(r.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((k==="le"||k==="be")&&(E=k,k=10),this._init(T||0,k||10,E||"be"))}typeof e=="object"?e.exports=r:i.BN=r,r.BN=r,r.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ek().Buffer}catch{}r.isBN=function(k){return k instanceof r?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===r.wordSize&&Array.isArray(k.words)},r.max=function(k,E){return k.cmp(E)>0?k:E},r.min=function(k,E){return k.cmp(E)<0?k:E},r.prototype._init=function(k,E,A){if(typeof k=="number")return this._initNumber(k,E,A);if(typeof k=="object")return this._initArray(k,E,A);E==="hex"&&(E=16),n(E===(E|0)&&E>=2&&E<=36),k=k.toString().replace(/\s+/g,"");var L=0;k[0]==="-"&&(L++,this.negative=1),L<k.length&&(E===16?this._parseHex(k,L,A):(this._parseBase(k,E,L),A==="le"&&this._initArray(this.toArray(),E,A)))},r.prototype._initNumber=function(k,E,A){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(n(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),E,A)},r.prototype._initArray=function(k,E,A){if(n(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var D,R,N=0;if(A==="be")for(L=k.length-1,D=0;L>=0;L-=3)R=k[L]|k[L-1]<<8|k[L-2]<<16,this.words[D]|=R<<N&67108863,this.words[D+1]=R>>>26-N&67108863,N+=24,N>=26&&(N-=26,D++);else if(A==="le")for(L=0,D=0;L<k.length;L+=3)R=k[L]|k[L+1]<<8|k[L+2]<<16,this.words[D]|=R<<N&67108863,this.words[D+1]=R>>>26-N&67108863,N+=24,N>=26&&(N-=26,D++);return this.strip()};function t(T,k){var E=T.charCodeAt(k);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function a(T,k,E){var A=t(T,E);return E-1>=k&&(A|=t(T,E-1)<<4),A}r.prototype._parseHex=function(k,E,A){this.length=Math.ceil((k.length-E)/6),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var D=0,R=0,N;if(A==="be")for(L=k.length-1;L>=E;L-=2)N=a(k,E,L)<<D,this.words[R]|=N&67108863,D>=18?(D-=18,R+=1,this.words[R]|=N>>>26):D+=8;else{var P=k.length-E;for(L=P%2===0?E+1:E;L<k.length;L+=2)N=a(k,E,L)<<D,this.words[R]|=N&67108863,D>=18?(D-=18,R+=1,this.words[R]|=N>>>26):D+=8}this.strip()};function p(T,k,E,A){for(var L=0,D=Math.min(T.length,E),R=k;R<D;R++){var N=T.charCodeAt(R)-48;L*=A,N>=49?L+=N-49+10:N>=17?L+=N-17+10:L+=N}return L}r.prototype._parseBase=function(k,E,A){this.words=[0],this.length=1;for(var L=0,D=1;D<=67108863;D*=E)L++;L--,D=D/E|0;for(var R=k.length-A,N=R%L,P=Math.min(R,R-N)+A,O=0,W=A;W<P;W+=L)O=p(k,W,W+L,E),this.imuln(D),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(N!==0){var G=1;for(O=p(k,W,k.length,E),W=0;W<N;W++)G*=E;this.imuln(G),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},r.prototype.copy=function(k){k.words=new Array(this.length);for(var E=0;E<this.length;E++)k.words[E]=this.words[E];k.length=this.length,k.negative=this.negative,k.red=this.red},r.prototype.clone=function(){var k=new r(null);return this.copy(k),k},r.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(k,E){k=k||10,E=E|0||1;var A;if(k===16||k==="hex"){A="";for(var L=0,D=0,R=0;R<this.length;R++){var N=this.words[R],P=((N<<L|D)&16777215).toString(16);D=N>>>24-L&16777215,L+=2,L>=26&&(L-=26,R--),D!==0||R!==this.length-1?A=c[6-P.length]+P+A:A=P+A}for(D!==0&&(A=D.toString(16)+A);A.length%E!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(k===(k|0)&&k>=2&&k<=36){var O=u[k],W=h[k];A="";var G=this.clone();for(G.negative=0;!G.isZero();){var H=G.modn(W).toString(k);G=G.idivn(W),G.isZero()?A=H+A:A=c[O-H.length]+H+A}for(this.isZero()&&(A="0"+A);A.length%E!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(k,E){return n(typeof o<"u"),this.toArrayLike(o,k,E)},r.prototype.toArray=function(k,E){return this.toArrayLike(Array,k,E)},r.prototype.toArrayLike=function(k,E,A){var L=this.byteLength(),D=A||Math.max(1,L);n(L<=D,"byte array longer than desired length"),n(D>0,"Requested array length <= 0"),this.strip();var R=E==="le",N=new k(D),P,O,W=this.clone();if(R){for(O=0;!W.isZero();O++)P=W.andln(255),W.iushrn(8),N[O]=P;for(;O<D;O++)N[O]=0}else{for(O=0;O<D-L;O++)N[O]=0;for(O=0;!W.isZero();O++)P=W.andln(255),W.iushrn(8),N[D-O-1]=P}return N},Math.clz32?r.prototype._countBits=function(k){return 32-Math.clz32(k)}:r.prototype._countBits=function(k){var E=k,A=0;return E>=4096&&(A+=13,E>>>=13),E>=64&&(A+=7,E>>>=7),E>=8&&(A+=4,E>>>=4),E>=2&&(A+=2,E>>>=2),A+E},r.prototype._zeroBits=function(k){if(k===0)return 26;var E=k,A=0;return E&8191||(A+=13,E>>>=13),E&127||(A+=7,E>>>=7),E&15||(A+=4,E>>>=4),E&3||(A+=2,E>>>=2),E&1||A++,A},r.prototype.bitLength=function(){var k=this.words[this.length-1],E=this._countBits(k);return(this.length-1)*26+E};function l(T){for(var k=new Array(T.bitLength()),E=0;E<k.length;E++){var A=E/26|0,L=E%26;k[E]=(T.words[A]&1<<L)>>>L}return k}r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,E=0;E<this.length;E++){var A=this._zeroBits(this.words[E]);if(k+=A,A!==26)break}return k},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},r.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var E=0;E<k.length;E++)this.words[E]=this.words[E]|k.words[E];return this.strip()},r.prototype.ior=function(k){return n((this.negative|k.negative)===0),this.iuor(k)},r.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},r.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},r.prototype.iuand=function(k){var E;this.length>k.length?E=k:E=this;for(var A=0;A<E.length;A++)this.words[A]=this.words[A]&k.words[A];return this.length=E.length,this.strip()},r.prototype.iand=function(k){return n((this.negative|k.negative)===0),this.iuand(k)},r.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},r.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},r.prototype.iuxor=function(k){var E,A;this.length>k.length?(E=this,A=k):(E=k,A=this);for(var L=0;L<A.length;L++)this.words[L]=E.words[L]^A.words[L];if(this!==E)for(;L<E.length;L++)this.words[L]=E.words[L];return this.length=E.length,this.strip()},r.prototype.ixor=function(k){return n((this.negative|k.negative)===0),this.iuxor(k)},r.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},r.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},r.prototype.inotn=function(k){n(typeof k=="number"&&k>=0);var E=Math.ceil(k/26)|0,A=k%26;this._expand(E),A>0&&E--;for(var L=0;L<E;L++)this.words[L]=~this.words[L]&67108863;return A>0&&(this.words[L]=~this.words[L]&67108863>>26-A),this.strip()},r.prototype.notn=function(k){return this.clone().inotn(k)},r.prototype.setn=function(k,E){n(typeof k=="number"&&k>=0);var A=k/26|0,L=k%26;return this._expand(A+1),E?this.words[A]=this.words[A]|1<<L:this.words[A]=this.words[A]&~(1<<L),this.strip()},r.prototype.iadd=function(k){var E;if(this.negative!==0&&k.negative===0)return this.negative=0,E=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,E=this.isub(k),k.negative=1,E._normSign();var A,L;this.length>k.length?(A=this,L=k):(A=k,L=this);for(var D=0,R=0;R<L.length;R++)E=(A.words[R]|0)+(L.words[R]|0)+D,this.words[R]=E&67108863,D=E>>>26;for(;D!==0&&R<A.length;R++)E=(A.words[R]|0)+D,this.words[R]=E&67108863,D=E>>>26;if(this.length=A.length,D!==0)this.words[this.length]=D,this.length++;else if(A!==this)for(;R<A.length;R++)this.words[R]=A.words[R];return this},r.prototype.add=function(k){var E;return k.negative!==0&&this.negative===0?(k.negative=0,E=this.sub(k),k.negative^=1,E):k.negative===0&&this.negative!==0?(this.negative=0,E=k.sub(this),this.negative=1,E):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},r.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var E=this.iadd(k);return k.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var A=this.cmp(k);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var L,D;A>0?(L=this,D=k):(L=k,D=this);for(var R=0,N=0;N<D.length;N++)E=(L.words[N]|0)-(D.words[N]|0)+R,R=E>>26,this.words[N]=E&67108863;for(;R!==0&&N<L.length;N++)E=(L.words[N]|0)+R,R=E>>26,this.words[N]=E&67108863;if(R===0&&N<L.length&&L!==this)for(;N<L.length;N++)this.words[N]=L.words[N];return this.length=Math.max(this.length,N),L!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(k){return this.clone().isub(k)};function d(T,k,E){E.negative=k.negative^T.negative;var A=T.length+k.length|0;E.length=A,A=A-1|0;var L=T.words[0]|0,D=k.words[0]|0,R=L*D,N=R&67108863,P=R/67108864|0;E.words[0]=N;for(var O=1;O<A;O++){for(var W=P>>>26,G=P&67108863,H=Math.min(O,k.length-1),V=Math.max(0,O-T.length+1);V<=H;V++){var B=O-V|0;L=T.words[B]|0,D=k.words[V]|0,R=L*D+G,W+=R/67108864|0,G=R&67108863}E.words[O]=G|0,P=W|0}return P!==0?E.words[O]=P|0:E.length--,E.strip()}var v=function(k,E,A){var L=k.words,D=E.words,R=A.words,N=0,P,O,W,G=L[0]|0,H=G&8191,V=G>>>13,B=L[1]|0,j=B&8191,U=B>>>13,X=L[2]|0,Z=X&8191,$=X>>>13,J=L[3]|0,Q=J&8191,_=J>>>13,ae=L[4]|0,ce=ae&8191,he=ae>>>13,de=L[5]|0,Te=de&8191,Fe=de>>>13,He=L[6]|0,ue=He&8191,Ie=He>>>13,Ve=L[7]|0,je=Ve&8191,$e=Ve>>>13,Yt=L[8]|0,oe=Yt&8191,ie=Yt>>>13,Pe=L[9]|0,Ee=Pe&8191,We=Pe>>>13,ht=D[0]|0,Ze=ht&8191,Je=ht>>>13,On=D[1]|0,St=On&8191,It=On>>>13,oi=D[2]|0,Ft=oi&8191,ln=oi>>>13,xl=D[3]|0,Nt=xl&8191,Fn=xl>>>13,F1=D[4]|0,Pn=F1&8191,Nn=F1>>>13,P1=D[5]|0,Bn=P1&8191,Vn=P1>>>13,N1=D[6]|0,Gn=N1&8191,zn=N1>>>13,B1=D[7]|0,Wn=B1&8191,Hn=B1>>>13,V1=D[8]|0,jn=V1&8191,Yn=V1>>>13,G1=D[9]|0,Un=G1&8191,Zn=G1>>>13;A.negative=k.negative^E.negative,A.length=19,P=Math.imul(H,Ze),O=Math.imul(H,Je),O=O+Math.imul(V,Ze)|0,W=Math.imul(V,Je);var jh=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(jh>>>26)|0,jh&=67108863,P=Math.imul(j,Ze),O=Math.imul(j,Je),O=O+Math.imul(U,Ze)|0,W=Math.imul(U,Je),P=P+Math.imul(H,St)|0,O=O+Math.imul(H,It)|0,O=O+Math.imul(V,St)|0,W=W+Math.imul(V,It)|0;var Yh=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Yh>>>26)|0,Yh&=67108863,P=Math.imul(Z,Ze),O=Math.imul(Z,Je),O=O+Math.imul($,Ze)|0,W=Math.imul($,Je),P=P+Math.imul(j,St)|0,O=O+Math.imul(j,It)|0,O=O+Math.imul(U,St)|0,W=W+Math.imul(U,It)|0,P=P+Math.imul(H,Ft)|0,O=O+Math.imul(H,ln)|0,O=O+Math.imul(V,Ft)|0,W=W+Math.imul(V,ln)|0;var Uh=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Uh>>>26)|0,Uh&=67108863,P=Math.imul(Q,Ze),O=Math.imul(Q,Je),O=O+Math.imul(_,Ze)|0,W=Math.imul(_,Je),P=P+Math.imul(Z,St)|0,O=O+Math.imul(Z,It)|0,O=O+Math.imul($,St)|0,W=W+Math.imul($,It)|0,P=P+Math.imul(j,Ft)|0,O=O+Math.imul(j,ln)|0,O=O+Math.imul(U,Ft)|0,W=W+Math.imul(U,ln)|0,P=P+Math.imul(H,Nt)|0,O=O+Math.imul(H,Fn)|0,O=O+Math.imul(V,Nt)|0,W=W+Math.imul(V,Fn)|0;var Zh=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Zh>>>26)|0,Zh&=67108863,P=Math.imul(ce,Ze),O=Math.imul(ce,Je),O=O+Math.imul(he,Ze)|0,W=Math.imul(he,Je),P=P+Math.imul(Q,St)|0,O=O+Math.imul(Q,It)|0,O=O+Math.imul(_,St)|0,W=W+Math.imul(_,It)|0,P=P+Math.imul(Z,Ft)|0,O=O+Math.imul(Z,ln)|0,O=O+Math.imul($,Ft)|0,W=W+Math.imul($,ln)|0,P=P+Math.imul(j,Nt)|0,O=O+Math.imul(j,Fn)|0,O=O+Math.imul(U,Nt)|0,W=W+Math.imul(U,Fn)|0,P=P+Math.imul(H,Pn)|0,O=O+Math.imul(H,Nn)|0,O=O+Math.imul(V,Pn)|0,W=W+Math.imul(V,Nn)|0;var Xh=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Xh>>>26)|0,Xh&=67108863,P=Math.imul(Te,Ze),O=Math.imul(Te,Je),O=O+Math.imul(Fe,Ze)|0,W=Math.imul(Fe,Je),P=P+Math.imul(ce,St)|0,O=O+Math.imul(ce,It)|0,O=O+Math.imul(he,St)|0,W=W+Math.imul(he,It)|0,P=P+Math.imul(Q,Ft)|0,O=O+Math.imul(Q,ln)|0,O=O+Math.imul(_,Ft)|0,W=W+Math.imul(_,ln)|0,P=P+Math.imul(Z,Nt)|0,O=O+Math.imul(Z,Fn)|0,O=O+Math.imul($,Nt)|0,W=W+Math.imul($,Fn)|0,P=P+Math.imul(j,Pn)|0,O=O+Math.imul(j,Nn)|0,O=O+Math.imul(U,Pn)|0,W=W+Math.imul(U,Nn)|0,P=P+Math.imul(H,Bn)|0,O=O+Math.imul(H,Vn)|0,O=O+Math.imul(V,Bn)|0,W=W+Math.imul(V,Vn)|0;var $h=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+($h>>>26)|0,$h&=67108863,P=Math.imul(ue,Ze),O=Math.imul(ue,Je),O=O+Math.imul(Ie,Ze)|0,W=Math.imul(Ie,Je),P=P+Math.imul(Te,St)|0,O=O+Math.imul(Te,It)|0,O=O+Math.imul(Fe,St)|0,W=W+Math.imul(Fe,It)|0,P=P+Math.imul(ce,Ft)|0,O=O+Math.imul(ce,ln)|0,O=O+Math.imul(he,Ft)|0,W=W+Math.imul(he,ln)|0,P=P+Math.imul(Q,Nt)|0,O=O+Math.imul(Q,Fn)|0,O=O+Math.imul(_,Nt)|0,W=W+Math.imul(_,Fn)|0,P=P+Math.imul(Z,Pn)|0,O=O+Math.imul(Z,Nn)|0,O=O+Math.imul($,Pn)|0,W=W+Math.imul($,Nn)|0,P=P+Math.imul(j,Bn)|0,O=O+Math.imul(j,Vn)|0,O=O+Math.imul(U,Bn)|0,W=W+Math.imul(U,Vn)|0,P=P+Math.imul(H,Gn)|0,O=O+Math.imul(H,zn)|0,O=O+Math.imul(V,Gn)|0,W=W+Math.imul(V,zn)|0;var Jh=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Jh>>>26)|0,Jh&=67108863,P=Math.imul(je,Ze),O=Math.imul(je,Je),O=O+Math.imul($e,Ze)|0,W=Math.imul($e,Je),P=P+Math.imul(ue,St)|0,O=O+Math.imul(ue,It)|0,O=O+Math.imul(Ie,St)|0,W=W+Math.imul(Ie,It)|0,P=P+Math.imul(Te,Ft)|0,O=O+Math.imul(Te,ln)|0,O=O+Math.imul(Fe,Ft)|0,W=W+Math.imul(Fe,ln)|0,P=P+Math.imul(ce,Nt)|0,O=O+Math.imul(ce,Fn)|0,O=O+Math.imul(he,Nt)|0,W=W+Math.imul(he,Fn)|0,P=P+Math.imul(Q,Pn)|0,O=O+Math.imul(Q,Nn)|0,O=O+Math.imul(_,Pn)|0,W=W+Math.imul(_,Nn)|0,P=P+Math.imul(Z,Bn)|0,O=O+Math.imul(Z,Vn)|0,O=O+Math.imul($,Bn)|0,W=W+Math.imul($,Vn)|0,P=P+Math.imul(j,Gn)|0,O=O+Math.imul(j,zn)|0,O=O+Math.imul(U,Gn)|0,W=W+Math.imul(U,zn)|0,P=P+Math.imul(H,Wn)|0,O=O+Math.imul(H,Hn)|0,O=O+Math.imul(V,Wn)|0,W=W+Math.imul(V,Hn)|0;var Y=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Y>>>26)|0,Y&=67108863,P=Math.imul(oe,Ze),O=Math.imul(oe,Je),O=O+Math.imul(ie,Ze)|0,W=Math.imul(ie,Je),P=P+Math.imul(je,St)|0,O=O+Math.imul(je,It)|0,O=O+Math.imul($e,St)|0,W=W+Math.imul($e,It)|0,P=P+Math.imul(ue,Ft)|0,O=O+Math.imul(ue,ln)|0,O=O+Math.imul(Ie,Ft)|0,W=W+Math.imul(Ie,ln)|0,P=P+Math.imul(Te,Nt)|0,O=O+Math.imul(Te,Fn)|0,O=O+Math.imul(Fe,Nt)|0,W=W+Math.imul(Fe,Fn)|0,P=P+Math.imul(ce,Pn)|0,O=O+Math.imul(ce,Nn)|0,O=O+Math.imul(he,Pn)|0,W=W+Math.imul(he,Nn)|0,P=P+Math.imul(Q,Bn)|0,O=O+Math.imul(Q,Vn)|0,O=O+Math.imul(_,Bn)|0,W=W+Math.imul(_,Vn)|0,P=P+Math.imul(Z,Gn)|0,O=O+Math.imul(Z,zn)|0,O=O+Math.imul($,Gn)|0,W=W+Math.imul($,zn)|0,P=P+Math.imul(j,Wn)|0,O=O+Math.imul(j,Hn)|0,O=O+Math.imul(U,Wn)|0,W=W+Math.imul(U,Hn)|0,P=P+Math.imul(H,jn)|0,O=O+Math.imul(H,Yn)|0,O=O+Math.imul(V,jn)|0,W=W+Math.imul(V,Yn)|0;var ke=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(ke>>>26)|0,ke&=67108863,P=Math.imul(Ee,Ze),O=Math.imul(Ee,Je),O=O+Math.imul(We,Ze)|0,W=Math.imul(We,Je),P=P+Math.imul(oe,St)|0,O=O+Math.imul(oe,It)|0,O=O+Math.imul(ie,St)|0,W=W+Math.imul(ie,It)|0,P=P+Math.imul(je,Ft)|0,O=O+Math.imul(je,ln)|0,O=O+Math.imul($e,Ft)|0,W=W+Math.imul($e,ln)|0,P=P+Math.imul(ue,Nt)|0,O=O+Math.imul(ue,Fn)|0,O=O+Math.imul(Ie,Nt)|0,W=W+Math.imul(Ie,Fn)|0,P=P+Math.imul(Te,Pn)|0,O=O+Math.imul(Te,Nn)|0,O=O+Math.imul(Fe,Pn)|0,W=W+Math.imul(Fe,Nn)|0,P=P+Math.imul(ce,Bn)|0,O=O+Math.imul(ce,Vn)|0,O=O+Math.imul(he,Bn)|0,W=W+Math.imul(he,Vn)|0,P=P+Math.imul(Q,Gn)|0,O=O+Math.imul(Q,zn)|0,O=O+Math.imul(_,Gn)|0,W=W+Math.imul(_,zn)|0,P=P+Math.imul(Z,Wn)|0,O=O+Math.imul(Z,Hn)|0,O=O+Math.imul($,Wn)|0,W=W+Math.imul($,Hn)|0,P=P+Math.imul(j,jn)|0,O=O+Math.imul(j,Yn)|0,O=O+Math.imul(U,jn)|0,W=W+Math.imul(U,Yn)|0,P=P+Math.imul(H,Un)|0,O=O+Math.imul(H,Zn)|0,O=O+Math.imul(V,Un)|0,W=W+Math.imul(V,Zn)|0;var zg=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(zg>>>26)|0,zg&=67108863,P=Math.imul(Ee,St),O=Math.imul(Ee,It),O=O+Math.imul(We,St)|0,W=Math.imul(We,It),P=P+Math.imul(oe,Ft)|0,O=O+Math.imul(oe,ln)|0,O=O+Math.imul(ie,Ft)|0,W=W+Math.imul(ie,ln)|0,P=P+Math.imul(je,Nt)|0,O=O+Math.imul(je,Fn)|0,O=O+Math.imul($e,Nt)|0,W=W+Math.imul($e,Fn)|0,P=P+Math.imul(ue,Pn)|0,O=O+Math.imul(ue,Nn)|0,O=O+Math.imul(Ie,Pn)|0,W=W+Math.imul(Ie,Nn)|0,P=P+Math.imul(Te,Bn)|0,O=O+Math.imul(Te,Vn)|0,O=O+Math.imul(Fe,Bn)|0,W=W+Math.imul(Fe,Vn)|0,P=P+Math.imul(ce,Gn)|0,O=O+Math.imul(ce,zn)|0,O=O+Math.imul(he,Gn)|0,W=W+Math.imul(he,zn)|0,P=P+Math.imul(Q,Wn)|0,O=O+Math.imul(Q,Hn)|0,O=O+Math.imul(_,Wn)|0,W=W+Math.imul(_,Hn)|0,P=P+Math.imul(Z,jn)|0,O=O+Math.imul(Z,Yn)|0,O=O+Math.imul($,jn)|0,W=W+Math.imul($,Yn)|0,P=P+Math.imul(j,Un)|0,O=O+Math.imul(j,Zn)|0,O=O+Math.imul(U,Un)|0,W=W+Math.imul(U,Zn)|0;var Wg=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Wg>>>26)|0,Wg&=67108863,P=Math.imul(Ee,Ft),O=Math.imul(Ee,ln),O=O+Math.imul(We,Ft)|0,W=Math.imul(We,ln),P=P+Math.imul(oe,Nt)|0,O=O+Math.imul(oe,Fn)|0,O=O+Math.imul(ie,Nt)|0,W=W+Math.imul(ie,Fn)|0,P=P+Math.imul(je,Pn)|0,O=O+Math.imul(je,Nn)|0,O=O+Math.imul($e,Pn)|0,W=W+Math.imul($e,Nn)|0,P=P+Math.imul(ue,Bn)|0,O=O+Math.imul(ue,Vn)|0,O=O+Math.imul(Ie,Bn)|0,W=W+Math.imul(Ie,Vn)|0,P=P+Math.imul(Te,Gn)|0,O=O+Math.imul(Te,zn)|0,O=O+Math.imul(Fe,Gn)|0,W=W+Math.imul(Fe,zn)|0,P=P+Math.imul(ce,Wn)|0,O=O+Math.imul(ce,Hn)|0,O=O+Math.imul(he,Wn)|0,W=W+Math.imul(he,Hn)|0,P=P+Math.imul(Q,jn)|0,O=O+Math.imul(Q,Yn)|0,O=O+Math.imul(_,jn)|0,W=W+Math.imul(_,Yn)|0,P=P+Math.imul(Z,Un)|0,O=O+Math.imul(Z,Zn)|0,O=O+Math.imul($,Un)|0,W=W+Math.imul($,Zn)|0;var Hg=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Hg>>>26)|0,Hg&=67108863,P=Math.imul(Ee,Nt),O=Math.imul(Ee,Fn),O=O+Math.imul(We,Nt)|0,W=Math.imul(We,Fn),P=P+Math.imul(oe,Pn)|0,O=O+Math.imul(oe,Nn)|0,O=O+Math.imul(ie,Pn)|0,W=W+Math.imul(ie,Nn)|0,P=P+Math.imul(je,Bn)|0,O=O+Math.imul(je,Vn)|0,O=O+Math.imul($e,Bn)|0,W=W+Math.imul($e,Vn)|0,P=P+Math.imul(ue,Gn)|0,O=O+Math.imul(ue,zn)|0,O=O+Math.imul(Ie,Gn)|0,W=W+Math.imul(Ie,zn)|0,P=P+Math.imul(Te,Wn)|0,O=O+Math.imul(Te,Hn)|0,O=O+Math.imul(Fe,Wn)|0,W=W+Math.imul(Fe,Hn)|0,P=P+Math.imul(ce,jn)|0,O=O+Math.imul(ce,Yn)|0,O=O+Math.imul(he,jn)|0,W=W+Math.imul(he,Yn)|0,P=P+Math.imul(Q,Un)|0,O=O+Math.imul(Q,Zn)|0,O=O+Math.imul(_,Un)|0,W=W+Math.imul(_,Zn)|0;var jg=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(jg>>>26)|0,jg&=67108863,P=Math.imul(Ee,Pn),O=Math.imul(Ee,Nn),O=O+Math.imul(We,Pn)|0,W=Math.imul(We,Nn),P=P+Math.imul(oe,Bn)|0,O=O+Math.imul(oe,Vn)|0,O=O+Math.imul(ie,Bn)|0,W=W+Math.imul(ie,Vn)|0,P=P+Math.imul(je,Gn)|0,O=O+Math.imul(je,zn)|0,O=O+Math.imul($e,Gn)|0,W=W+Math.imul($e,zn)|0,P=P+Math.imul(ue,Wn)|0,O=O+Math.imul(ue,Hn)|0,O=O+Math.imul(Ie,Wn)|0,W=W+Math.imul(Ie,Hn)|0,P=P+Math.imul(Te,jn)|0,O=O+Math.imul(Te,Yn)|0,O=O+Math.imul(Fe,jn)|0,W=W+Math.imul(Fe,Yn)|0,P=P+Math.imul(ce,Un)|0,O=O+Math.imul(ce,Zn)|0,O=O+Math.imul(he,Un)|0,W=W+Math.imul(he,Zn)|0;var Yg=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Yg>>>26)|0,Yg&=67108863,P=Math.imul(Ee,Bn),O=Math.imul(Ee,Vn),O=O+Math.imul(We,Bn)|0,W=Math.imul(We,Vn),P=P+Math.imul(oe,Gn)|0,O=O+Math.imul(oe,zn)|0,O=O+Math.imul(ie,Gn)|0,W=W+Math.imul(ie,zn)|0,P=P+Math.imul(je,Wn)|0,O=O+Math.imul(je,Hn)|0,O=O+Math.imul($e,Wn)|0,W=W+Math.imul($e,Hn)|0,P=P+Math.imul(ue,jn)|0,O=O+Math.imul(ue,Yn)|0,O=O+Math.imul(Ie,jn)|0,W=W+Math.imul(Ie,Yn)|0,P=P+Math.imul(Te,Un)|0,O=O+Math.imul(Te,Zn)|0,O=O+Math.imul(Fe,Un)|0,W=W+Math.imul(Fe,Zn)|0;var Ug=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Ug>>>26)|0,Ug&=67108863,P=Math.imul(Ee,Gn),O=Math.imul(Ee,zn),O=O+Math.imul(We,Gn)|0,W=Math.imul(We,zn),P=P+Math.imul(oe,Wn)|0,O=O+Math.imul(oe,Hn)|0,O=O+Math.imul(ie,Wn)|0,W=W+Math.imul(ie,Hn)|0,P=P+Math.imul(je,jn)|0,O=O+Math.imul(je,Yn)|0,O=O+Math.imul($e,jn)|0,W=W+Math.imul($e,Yn)|0,P=P+Math.imul(ue,Un)|0,O=O+Math.imul(ue,Zn)|0,O=O+Math.imul(Ie,Un)|0,W=W+Math.imul(Ie,Zn)|0;var Zg=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Zg>>>26)|0,Zg&=67108863,P=Math.imul(Ee,Wn),O=Math.imul(Ee,Hn),O=O+Math.imul(We,Wn)|0,W=Math.imul(We,Hn),P=P+Math.imul(oe,jn)|0,O=O+Math.imul(oe,Yn)|0,O=O+Math.imul(ie,jn)|0,W=W+Math.imul(ie,Yn)|0,P=P+Math.imul(je,Un)|0,O=O+Math.imul(je,Zn)|0,O=O+Math.imul($e,Un)|0,W=W+Math.imul($e,Zn)|0;var Xg=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+(Xg>>>26)|0,Xg&=67108863,P=Math.imul(Ee,jn),O=Math.imul(Ee,Yn),O=O+Math.imul(We,jn)|0,W=Math.imul(We,Yn),P=P+Math.imul(oe,Un)|0,O=O+Math.imul(oe,Zn)|0,O=O+Math.imul(ie,Un)|0,W=W+Math.imul(ie,Zn)|0;var $g=(N+P|0)+((O&8191)<<13)|0;N=(W+(O>>>13)|0)+($g>>>26)|0,$g&=67108863,P=Math.imul(Ee,Un),O=Math.imul(Ee,Zn),O=O+Math.imul(We,Un)|0,W=Math.imul(We,Zn);var Jg=(N+P|0)+((O&8191)<<13)|0;return N=(W+(O>>>13)|0)+(Jg>>>26)|0,Jg&=67108863,R[0]=jh,R[1]=Yh,R[2]=Uh,R[3]=Zh,R[4]=Xh,R[5]=$h,R[6]=Jh,R[7]=Y,R[8]=ke,R[9]=zg,R[10]=Wg,R[11]=Hg,R[12]=jg,R[13]=Yg,R[14]=Ug,R[15]=Zg,R[16]=Xg,R[17]=$g,R[18]=Jg,N!==0&&(R[19]=N,A.length++),A};Math.imul||(v=d);function f(T,k,E){E.negative=k.negative^T.negative,E.length=T.length+k.length;for(var A=0,L=0,D=0;D<E.length-1;D++){var R=L;L=0;for(var N=A&67108863,P=Math.min(D,k.length-1),O=Math.max(0,D-T.length+1);O<=P;O++){var W=D-O,G=T.words[W]|0,H=k.words[O]|0,V=G*H,B=V&67108863;R=R+(V/67108864|0)|0,B=B+N|0,N=B&67108863,R=R+(B>>>26)|0,L+=R>>>26,R&=67108863}E.words[D]=N,A=R,R=L}return A!==0?E.words[D]=A:E.length--,E.strip()}function g(T,k,E){var A=new m;return A.mulp(T,k,E)}r.prototype.mulTo=function(k,E){var A,L=this.length+k.length;return this.length===10&&k.length===10?A=v(this,k,E):L<63?A=d(this,k,E):L<1024?A=f(this,k,E):A=g(this,k,E),A};function m(T,k){this.x=T,this.y=k}m.prototype.makeRBT=function(k){for(var E=new Array(k),A=r.prototype._countBits(k)-1,L=0;L<k;L++)E[L]=this.revBin(L,A,k);return E},m.prototype.revBin=function(k,E,A){if(k===0||k===A-1)return k;for(var L=0,D=0;D<E;D++)L|=(k&1)<<E-D-1,k>>=1;return L},m.prototype.permute=function(k,E,A,L,D,R){for(var N=0;N<R;N++)L[N]=E[k[N]],D[N]=A[k[N]]},m.prototype.transform=function(k,E,A,L,D,R){this.permute(R,k,E,A,L,D);for(var N=1;N<D;N<<=1)for(var P=N<<1,O=Math.cos(2*Math.PI/P),W=Math.sin(2*Math.PI/P),G=0;G<D;G+=P)for(var H=O,V=W,B=0;B<N;B++){var j=A[G+B],U=L[G+B],X=A[G+B+N],Z=L[G+B+N],$=H*X-V*Z;Z=H*Z+V*X,X=$,A[G+B]=j+X,L[G+B]=U+Z,A[G+B+N]=j-X,L[G+B+N]=U-Z,B!==P&&($=O*H-W*V,V=O*V+W*H,H=$)}},m.prototype.guessLen13b=function(k,E){var A=Math.max(E,k)|1,L=A&1,D=0;for(A=A/2|0;A;A=A>>>1)D++;return 1<<D+1+L},m.prototype.conjugate=function(k,E,A){if(!(A<=1))for(var L=0;L<A/2;L++){var D=k[L];k[L]=k[A-L-1],k[A-L-1]=D,D=E[L],E[L]=-E[A-L-1],E[A-L-1]=-D}},m.prototype.normalize13b=function(k,E){for(var A=0,L=0;L<E/2;L++){var D=Math.round(k[2*L+1]/E)*8192+Math.round(k[2*L]/E)+A;k[L]=D&67108863,D<67108864?A=0:A=D/67108864|0}return k},m.prototype.convert13b=function(k,E,A,L){for(var D=0,R=0;R<E;R++)D=D+(k[R]|0),A[2*R]=D&8191,D=D>>>13,A[2*R+1]=D&8191,D=D>>>13;for(R=2*E;R<L;++R)A[R]=0;n(D===0),n((D&-8192)===0)},m.prototype.stub=function(k){for(var E=new Array(k),A=0;A<k;A++)E[A]=0;return E},m.prototype.mulp=function(k,E,A){var L=2*this.guessLen13b(k.length,E.length),D=this.makeRBT(L),R=this.stub(L),N=new Array(L),P=new Array(L),O=new Array(L),W=new Array(L),G=new Array(L),H=new Array(L),V=A.words;V.length=L,this.convert13b(k.words,k.length,N,L),this.convert13b(E.words,E.length,W,L),this.transform(N,R,P,O,L,D),this.transform(W,R,G,H,L,D);for(var B=0;B<L;B++){var j=P[B]*G[B]-O[B]*H[B];O[B]=P[B]*H[B]+O[B]*G[B],P[B]=j}return this.conjugate(P,O,L),this.transform(P,O,V,R,L,D),this.conjugate(V,R,L),this.normalize13b(V,L),A.negative=k.negative^E.negative,A.length=k.length+E.length,A.strip()},r.prototype.mul=function(k){var E=new r(null);return E.words=new Array(this.length+k.length),this.mulTo(k,E)},r.prototype.mulf=function(k){var E=new r(null);return E.words=new Array(this.length+k.length),g(this,k,E)},r.prototype.imul=function(k){return this.clone().mulTo(k,this)},r.prototype.imuln=function(k){n(typeof k=="number"),n(k<67108864);for(var E=0,A=0;A<this.length;A++){var L=(this.words[A]|0)*k,D=(L&67108863)+(E&67108863);E>>=26,E+=L/67108864|0,E+=D>>>26,this.words[A]=D&67108863}return E!==0&&(this.words[A]=E,this.length++),this},r.prototype.muln=function(k){return this.clone().imuln(k)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(k){var E=l(k);if(E.length===0)return new r(1);for(var A=this,L=0;L<E.length&&E[L]===0;L++,A=A.sqr());if(++L<E.length)for(var D=A.sqr();L<E.length;L++,D=D.sqr())E[L]!==0&&(A=A.mul(D));return A},r.prototype.iushln=function(k){n(typeof k=="number"&&k>=0);var E=k%26,A=(k-E)/26,L=67108863>>>26-E<<26-E,D;if(E!==0){var R=0;for(D=0;D<this.length;D++){var N=this.words[D]&L,P=(this.words[D]|0)-N<<E;this.words[D]=P|R,R=N>>>26-E}R&&(this.words[D]=R,this.length++)}if(A!==0){for(D=this.length-1;D>=0;D--)this.words[D+A]=this.words[D];for(D=0;D<A;D++)this.words[D]=0;this.length+=A}return this.strip()},r.prototype.ishln=function(k){return n(this.negative===0),this.iushln(k)},r.prototype.iushrn=function(k,E,A){n(typeof k=="number"&&k>=0);var L;E?L=(E-E%26)/26:L=0;var D=k%26,R=Math.min((k-D)/26,this.length),N=67108863^67108863>>>D<<D,P=A;if(L-=R,L=Math.max(0,L),P){for(var O=0;O<R;O++)P.words[O]=this.words[O];P.length=R}if(R!==0)if(this.length>R)for(this.length-=R,O=0;O<this.length;O++)this.words[O]=this.words[O+R];else this.words[0]=0,this.length=1;var W=0;for(O=this.length-1;O>=0&&(W!==0||O>=L);O--){var G=this.words[O]|0;this.words[O]=W<<26-D|G>>>D,W=G&N}return P&&W!==0&&(P.words[P.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(k,E,A){return n(this.negative===0),this.iushrn(k,E,A)},r.prototype.shln=function(k){return this.clone().ishln(k)},r.prototype.ushln=function(k){return this.clone().iushln(k)},r.prototype.shrn=function(k){return this.clone().ishrn(k)},r.prototype.ushrn=function(k){return this.clone().iushrn(k)},r.prototype.testn=function(k){n(typeof k=="number"&&k>=0);var E=k%26,A=(k-E)/26,L=1<<E;if(this.length<=A)return!1;var D=this.words[A];return!!(D&L)},r.prototype.imaskn=function(k){n(typeof k=="number"&&k>=0);var E=k%26,A=(k-E)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(E!==0&&A++,this.length=Math.min(A,this.length),E!==0){var L=67108863^67108863>>>E<<E;this.words[this.length-1]&=L}return this.strip()},r.prototype.maskn=function(k){return this.clone().imaskn(k)},r.prototype.iaddn=function(k){return n(typeof k=="number"),n(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},r.prototype._iaddn=function(k){this.words[0]+=k;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},r.prototype.isubn=function(k){if(n(typeof k=="number"),n(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},r.prototype.addn=function(k){return this.clone().iaddn(k)},r.prototype.subn=function(k){return this.clone().isubn(k)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(k,E,A){var L=k.length+A,D;this._expand(L);var R,N=0;for(D=0;D<k.length;D++){R=(this.words[D+A]|0)+N;var P=(k.words[D]|0)*E;R-=P&67108863,N=(R>>26)-(P/67108864|0),this.words[D+A]=R&67108863}for(;D<this.length-A;D++)R=(this.words[D+A]|0)+N,N=R>>26,this.words[D+A]=R&67108863;if(N===0)return this.strip();for(n(N===-1),N=0,D=0;D<this.length;D++)R=-(this.words[D]|0)+N,N=R>>26,this.words[D]=R&67108863;return this.negative=1,this.strip()},r.prototype._wordDiv=function(k,E){var A=this.length-k.length,L=this.clone(),D=k,R=D.words[D.length-1]|0,N=this._countBits(R);A=26-N,A!==0&&(D=D.ushln(A),L.iushln(A),R=D.words[D.length-1]|0);var P=L.length-D.length,O;if(E!=="mod"){O=new r(null),O.length=P+1,O.words=new Array(O.length);for(var W=0;W<O.length;W++)O.words[W]=0}var G=L.clone()._ishlnsubmul(D,1,P);G.negative===0&&(L=G,O&&(O.words[P]=1));for(var H=P-1;H>=0;H--){var V=(L.words[D.length+H]|0)*67108864+(L.words[D.length+H-1]|0);for(V=Math.min(V/R|0,67108863),L._ishlnsubmul(D,V,H);L.negative!==0;)V--,L.negative=0,L._ishlnsubmul(D,1,H),L.isZero()||(L.negative^=1);O&&(O.words[H]=V)}return O&&O.strip(),L.strip(),E!=="div"&&A!==0&&L.iushrn(A),{div:O||null,mod:L}},r.prototype.divmod=function(k,E,A){if(n(!k.isZero()),this.isZero())return{div:new r(0),mod:new r(0)};var L,D,R;return this.negative!==0&&k.negative===0?(R=this.neg().divmod(k,E),E!=="mod"&&(L=R.div.neg()),E!=="div"&&(D=R.mod.neg(),A&&D.negative!==0&&D.iadd(k)),{div:L,mod:D}):this.negative===0&&k.negative!==0?(R=this.divmod(k.neg(),E),E!=="mod"&&(L=R.div.neg()),{div:L,mod:R.mod}):this.negative&k.negative?(R=this.neg().divmod(k.neg(),E),E!=="div"&&(D=R.mod.neg(),A&&D.negative!==0&&D.isub(k)),{div:R.div,mod:D}):k.length>this.length||this.cmp(k)<0?{div:new r(0),mod:this}:k.length===1?E==="div"?{div:this.divn(k.words[0]),mod:null}:E==="mod"?{div:null,mod:new r(this.modn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new r(this.modn(k.words[0]))}:this._wordDiv(k,E)},r.prototype.div=function(k){return this.divmod(k,"div",!1).div},r.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},r.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},r.prototype.divRound=function(k){var E=this.divmod(k);if(E.mod.isZero())return E.div;var A=E.div.negative!==0?E.mod.isub(k):E.mod,L=k.ushrn(1),D=k.andln(1),R=A.cmp(L);return R<0||D===1&&R===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},r.prototype.modn=function(k){n(k<=67108863);for(var E=(1<<26)%k,A=0,L=this.length-1;L>=0;L--)A=(E*A+(this.words[L]|0))%k;return A},r.prototype.idivn=function(k){n(k<=67108863);for(var E=0,A=this.length-1;A>=0;A--){var L=(this.words[A]|0)+E*67108864;this.words[A]=L/k|0,E=L%k}return this.strip()},r.prototype.divn=function(k){return this.clone().idivn(k)},r.prototype.egcd=function(k){n(k.negative===0),n(!k.isZero());var E=this,A=k.clone();E.negative!==0?E=E.umod(k):E=E.clone();for(var L=new r(1),D=new r(0),R=new r(0),N=new r(1),P=0;E.isEven()&&A.isEven();)E.iushrn(1),A.iushrn(1),++P;for(var O=A.clone(),W=E.clone();!E.isZero();){for(var G=0,H=1;!(E.words[0]&H)&&G<26;++G,H<<=1);if(G>0)for(E.iushrn(G);G-- >0;)(L.isOdd()||D.isOdd())&&(L.iadd(O),D.isub(W)),L.iushrn(1),D.iushrn(1);for(var V=0,B=1;!(A.words[0]&B)&&V<26;++V,B<<=1);if(V>0)for(A.iushrn(V);V-- >0;)(R.isOdd()||N.isOdd())&&(R.iadd(O),N.isub(W)),R.iushrn(1),N.iushrn(1);E.cmp(A)>=0?(E.isub(A),L.isub(R),D.isub(N)):(A.isub(E),R.isub(L),N.isub(D))}return{a:R,b:N,gcd:A.iushln(P)}},r.prototype._invmp=function(k){n(k.negative===0),n(!k.isZero());var E=this,A=k.clone();E.negative!==0?E=E.umod(k):E=E.clone();for(var L=new r(1),D=new r(0),R=A.clone();E.cmpn(1)>0&&A.cmpn(1)>0;){for(var N=0,P=1;!(E.words[0]&P)&&N<26;++N,P<<=1);if(N>0)for(E.iushrn(N);N-- >0;)L.isOdd()&&L.iadd(R),L.iushrn(1);for(var O=0,W=1;!(A.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(A.iushrn(O);O-- >0;)D.isOdd()&&D.iadd(R),D.iushrn(1);E.cmp(A)>=0?(E.isub(A),L.isub(D)):(A.isub(E),D.isub(L))}var G;return E.cmpn(1)===0?G=L:G=D,G.cmpn(0)<0&&G.iadd(k),G},r.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var E=this.clone(),A=k.clone();E.negative=0,A.negative=0;for(var L=0;E.isEven()&&A.isEven();L++)E.iushrn(1),A.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;A.isEven();)A.iushrn(1);var D=E.cmp(A);if(D<0){var R=E;E=A,A=R}else if(D===0||A.cmpn(1)===0)break;E.isub(A)}while(!0);return A.iushln(L)},r.prototype.invm=function(k){return this.egcd(k).a.umod(k)},r.prototype.isEven=function(){return(this.words[0]&1)===0},r.prototype.isOdd=function(){return(this.words[0]&1)===1},r.prototype.andln=function(k){return this.words[0]&k},r.prototype.bincn=function(k){n(typeof k=="number");var E=k%26,A=(k-E)/26,L=1<<E;if(this.length<=A)return this._expand(A+1),this.words[A]|=L,this;for(var D=L,R=A;D!==0&&R<this.length;R++){var N=this.words[R]|0;N+=D,D=N>>>26,N&=67108863,this.words[R]=N}return D!==0&&(this.words[R]=D,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(k){var E=k<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var A;if(this.length>1)A=1;else{E&&(k=-k),n(k<=67108863,"Number is too big");var L=this.words[0]|0;A=L===k?0:L<k?-1:1}return this.negative!==0?-A|0:A},r.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var E=this.ucmp(k);return this.negative!==0?-E|0:E},r.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var E=0,A=this.length-1;A>=0;A--){var L=this.words[A]|0,D=k.words[A]|0;if(L!==D){L<D?E=-1:L>D&&(E=1);break}}return E},r.prototype.gtn=function(k){return this.cmpn(k)===1},r.prototype.gt=function(k){return this.cmp(k)===1},r.prototype.gten=function(k){return this.cmpn(k)>=0},r.prototype.gte=function(k){return this.cmp(k)>=0},r.prototype.ltn=function(k){return this.cmpn(k)===-1},r.prototype.lt=function(k){return this.cmp(k)===-1},r.prototype.lten=function(k){return this.cmpn(k)<=0},r.prototype.lte=function(k){return this.cmp(k)<=0},r.prototype.eqn=function(k){return this.cmpn(k)===0},r.prototype.eq=function(k){return this.cmp(k)===0},r.red=function(k){return new S(k)},r.prototype.toRed=function(k){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(k){return this.red=k,this},r.prototype.forceRed=function(k){return n(!this.red,"Already a number in reduction context"),this._forceRed(k)},r.prototype.redAdd=function(k){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},r.prototype.redIAdd=function(k){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},r.prototype.redSub=function(k){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},r.prototype.redISub=function(k){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},r.prototype.redShl=function(k){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},r.prototype.redMul=function(k){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},r.prototype.redIMul=function(k){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(k){return n(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var x={k256:null,p224:null,p192:null,p25519:null};function y(T,k){this.name=T,this.p=new r(k,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var k=new r(null);return k.words=new Array(Math.ceil(this.n/13)),k},y.prototype.ireduce=function(k){var E=k,A;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),A=E.bitLength();while(A>this.n);var L=A<this.n?-1:E.ucmp(this.p);return L===0?(E.words[0]=0,E.length=1):L>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},y.prototype.split=function(k,E){k.iushrn(this.n,0,E)},y.prototype.imulK=function(k){return k.imul(this.k)};function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(b,y),b.prototype.split=function(k,E){for(var A=4194303,L=Math.min(k.length,9),D=0;D<L;D++)E.words[D]=k.words[D];if(E.length=L,k.length<=9){k.words[0]=0,k.length=1;return}var R=k.words[9];for(E.words[E.length++]=R&A,D=10;D<k.length;D++){var N=k.words[D]|0;k.words[D-10]=(N&A)<<4|R>>>22,R=N}R>>>=22,k.words[D-10]=R,R===0&&k.length>10?k.length-=10:k.length-=9},b.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var E=0,A=0;A<k.length;A++){var L=k.words[A]|0;E+=L*977,k.words[A]=E&67108863,E=L*64+(E/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function M(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(M,y);function C(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(C,y);function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(w,y),w.prototype.imulK=function(k){for(var E=0,A=0;A<k.length;A++){var L=(k.words[A]|0)*19+E,D=L&67108863;L>>>=26,k.words[A]=D,E=L}return E!==0&&(k.words[k.length++]=E),k},r._prime=function(k){if(x[k])return x[k];var E;if(k==="k256")E=new b;else if(k==="p224")E=new M;else if(k==="p192")E=new C;else if(k==="p25519")E=new w;else throw new Error("Unknown prime "+k);return x[k]=E,E};function S(T){if(typeof T=="string"){var k=r._prime(T);this.m=k.p,this.prime=k}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}S.prototype._verify1=function(k){n(k.negative===0,"red works only with positives"),n(k.red,"red works only with red numbers")},S.prototype._verify2=function(k,E){n((k.negative|E.negative)===0,"red works only with positives"),n(k.red&&k.red===E.red,"red works only with red numbers")},S.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):k.umod(this.m)._forceRed(this)},S.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},S.prototype.add=function(k,E){this._verify2(k,E);var A=k.add(E);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},S.prototype.iadd=function(k,E){this._verify2(k,E);var A=k.iadd(E);return A.cmp(this.m)>=0&&A.isub(this.m),A},S.prototype.sub=function(k,E){this._verify2(k,E);var A=k.sub(E);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},S.prototype.isub=function(k,E){this._verify2(k,E);var A=k.isub(E);return A.cmpn(0)<0&&A.iadd(this.m),A},S.prototype.shl=function(k,E){return this._verify1(k),this.imod(k.ushln(E))},S.prototype.imul=function(k,E){return this._verify2(k,E),this.imod(k.imul(E))},S.prototype.mul=function(k,E){return this._verify2(k,E),this.imod(k.mul(E))},S.prototype.isqr=function(k){return this.imul(k,k.clone())},S.prototype.sqr=function(k){return this.mul(k,k)},S.prototype.sqrt=function(k){if(k.isZero())return k.clone();var E=this.m.andln(3);if(n(E%2===1),E===3){var A=this.m.add(new r(1)).iushrn(2);return this.pow(k,A)}for(var L=this.m.subn(1),D=0;!L.isZero()&&L.andln(1)===0;)D++,L.iushrn(1);n(!L.isZero());var R=new r(1).toRed(this),N=R.redNeg(),P=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new r(2*O*O).toRed(this);this.pow(O,P).cmp(N)!==0;)O.redIAdd(N);for(var W=this.pow(O,L),G=this.pow(k,L.addn(1).iushrn(1)),H=this.pow(k,L),V=D;H.cmp(R)!==0;){for(var B=H,j=0;B.cmp(R)!==0;j++)B=B.redSqr();n(j<V);var U=this.pow(W,new r(1).iushln(V-j-1));G=G.redMul(U),W=U.redSqr(),H=H.redMul(W),V=j}return G},S.prototype.invm=function(k){var E=k._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},S.prototype.pow=function(k,E){if(E.isZero())return new r(1).toRed(this);if(E.cmpn(1)===0)return k.clone();var A=4,L=new Array(1<<A);L[0]=new r(1).toRed(this),L[1]=k;for(var D=2;D<L.length;D++)L[D]=this.mul(L[D-1],k);var R=L[0],N=0,P=0,O=E.bitLength()%26;for(O===0&&(O=26),D=E.length-1;D>=0;D--){for(var W=E.words[D],G=O-1;G>=0;G--){var H=W>>G&1;if(R!==L[0]&&(R=this.sqr(R)),H===0&&N===0){P=0;continue}N<<=1,N|=H,P++,!(P!==A&&(D!==0||G!==0))&&(R=this.mul(R,L[N]),P=0,N=0)}O=26}return R},S.prototype.convertTo=function(k){var E=k.umod(this.m);return E===k?E.clone():E},S.prototype.convertFrom=function(k){var E=k.clone();return E.red=null,E},r.mont=function(k){return new I(k)};function I(T){S.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(I,S),I.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},I.prototype.convertFrom=function(k){var E=this.imod(k.mul(this.rinv));return E.red=null,E},I.prototype.imul=function(k,E){if(k.isZero()||E.isZero())return k.words[0]=0,k.length=1,k;var A=k.imul(E),L=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=A.isub(L).iushrn(this.shift),R=D;return D.cmp(this.m)>=0?R=D.isub(this.m):D.cmpn(0)<0&&(R=D.iadd(this.m)),R._forceRed(this)},I.prototype.mul=function(k,E){if(k.isZero()||E.isZero())return new r(0)._forceRed(this);var A=k.mul(E),L=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=A.isub(L).iushrn(this.shift),R=D;return D.cmp(this.m)>=0?R=D.isub(this.m):D.cmpn(0)<0&&(R=D.iadd(this.m)),R._forceRed(this)},I.prototype.invm=function(k){var E=this.imod(k._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(typeof Y5>"u"||Y5,tk)});var nk=kt(($ve,tZ)=>{tZ.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var U5=kt(sk=>{"use strict";var $2=sk;function nZ(e,i){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if(typeof e!="string"){for(var s=0;s<e.length;s++)n[s]=e[s]|0;return n}if(i==="hex"){e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e);for(var s=0;s<e.length;s+=2)n.push(parseInt(e[s]+e[s+1],16))}else for(var s=0;s<e.length;s++){var r=e.charCodeAt(s),o=r>>8,t=r&255;o?n.push(o,t):n.push(t)}return n}$2.toArray=nZ;function ik(e){return e.length===1?"0"+e:e}$2.zero2=ik;function rk(e){for(var i="",n=0;n<e.length;n++)i+=ik(e[n].toString(16));return i}$2.toHex=rk;$2.encode=function(i,n){return n==="hex"?rk(i):i}});var Rr=kt(ak=>{"use strict";var Rs=ak,iZ=Jr(),rZ=Ho(),J2=U5();Rs.assert=rZ;Rs.toArray=J2.toArray;Rs.zero2=J2.zero2;Rs.toHex=J2.toHex;Rs.encode=J2.encode;function sZ(e,i,n){var s=new Array(Math.max(e.bitLength(),n)+1),r;for(r=0;r<s.length;r+=1)s[r]=0;var o=1<<i+1,t=e.clone();for(r=0;r<s.length;r++){var a,p=t.andln(o-1);t.isOdd()?(p>(o>>1)-1?a=(o>>1)-p:a=p,t.isubn(a)):a=0,s[r]=a,t.iushrn(1)}return s}Rs.getNAF=sZ;function aZ(e,i){var n=[[],[]];e=e.clone(),i=i.clone();for(var s=0,r=0,o;e.cmpn(-s)>0||i.cmpn(-r)>0;){var t=e.andln(3)+s&3,a=i.andln(3)+r&3;t===3&&(t=-1),a===3&&(a=-1);var p;t&1?(o=e.andln(7)+s&7,(o===3||o===5)&&a===2?p=-t:p=t):p=0,n[0].push(p);var c;a&1?(o=i.andln(7)+r&7,(o===3||o===5)&&t===2?c=-a:c=a):c=0,n[1].push(c),2*s===p+1&&(s=1-s),2*r===c+1&&(r=1-r),e.iushrn(1),i.iushrn(1)}return n}Rs.getJSF=aZ;function oZ(e,i,n){var s="_"+i;e.prototype[i]=function(){return this[s]!==void 0?this[s]:this[s]=n.call(this)}}Rs.cachedProperty=oZ;function lZ(e){return typeof e=="string"?Rs.toArray(e,"hex"):e}Rs.parseBytes=lZ;function cZ(e){return new iZ(e,"hex","le")}Rs.intFromLE=cZ});var Rf=kt((Qve,ok)=>{"use strict";var ac=Jr(),Lf=Rr(),K2=Lf.getNAF,uZ=Lf.getJSF,Q2=Lf.assert;function Yo(e,i){this.type=e,this.p=new ac(i.p,16),this.red=i.prime?ac.red(i.prime):ac.mont(this.p),this.zero=new ac(0).toRed(this.red),this.one=new ac(1).toRed(this.red),this.two=new ac(2).toRed(this.red),this.n=i.n&&new ac(i.n,16),this.g=i.g&&this.pointFromJSON(i.g,i.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}ok.exports=Yo;Yo.prototype.point=function(){throw new Error("Not implemented")};Yo.prototype.validate=function(){throw new Error("Not implemented")};Yo.prototype._fixedNafMul=function(i,n){Q2(i.precomputed);var s=i._getDoubles(),r=K2(n,1,this._bitLength),o=(1<<s.step+1)-(s.step%2===0?2:1);o/=3;var t=[],a,p;for(a=0;a<r.length;a+=s.step){p=0;for(var c=a+s.step-1;c>=a;c--)p=(p<<1)+r[c];t.push(p)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),l=o;l>0;l--){for(a=0;a<t.length;a++)p=t[a],p===l?h=h.mixedAdd(s.points[a]):p===-l&&(h=h.mixedAdd(s.points[a].neg()));u=u.add(h)}return u.toP()};Yo.prototype._wnafMul=function(i,n){var s=4,r=i._getNAFPoints(s);s=r.wnd;for(var o=r.points,t=K2(n,s,this._bitLength),a=this.jpoint(null,null,null),p=t.length-1;p>=0;p--){for(var c=0;p>=0&&t[p]===0;p--)c++;if(p>=0&&c++,a=a.dblp(c),p<0)break;var u=t[p];Q2(u!==0),i.type==="affine"?u>0?a=a.mixedAdd(o[u-1>>1]):a=a.mixedAdd(o[-u-1>>1].neg()):u>0?a=a.add(o[u-1>>1]):a=a.add(o[-u-1>>1].neg())}return i.type==="affine"?a.toP():a};Yo.prototype._wnafMulAdd=function(i,n,s,r,o){var t=this._wnafT1,a=this._wnafT2,p=this._wnafT3,c=0,u,h,l;for(u=0;u<r;u++){l=n[u];var d=l._getNAFPoints(i);t[u]=d.wnd,a[u]=d.points}for(u=r-1;u>=1;u-=2){var v=u-1,f=u;if(t[v]!==1||t[f]!==1){p[v]=K2(s[v],t[v],this._bitLength),p[f]=K2(s[f],t[f],this._bitLength),c=Math.max(p[v].length,c),c=Math.max(p[f].length,c);continue}var g=[n[v],null,null,n[f]];n[v].y.cmp(n[f].y)===0?(g[1]=n[v].add(n[f]),g[2]=n[v].toJ().mixedAdd(n[f].neg())):n[v].y.cmp(n[f].y.redNeg())===0?(g[1]=n[v].toJ().mixedAdd(n[f]),g[2]=n[v].add(n[f].neg())):(g[1]=n[v].toJ().mixedAdd(n[f]),g[2]=n[v].toJ().mixedAdd(n[f].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],x=uZ(s[v],s[f]);for(c=Math.max(x[0].length,c),p[v]=new Array(c),p[f]=new Array(c),h=0;h<c;h++){var y=x[0][h]|0,b=x[1][h]|0;p[v][h]=m[(y+1)*3+(b+1)],p[f][h]=0,a[v]=g}}var M=this.jpoint(null,null,null),C=this._wnafT4;for(u=c;u>=0;u--){for(var w=0;u>=0;){var S=!0;for(h=0;h<r;h++)C[h]=p[h][u]|0,C[h]!==0&&(S=!1);if(!S)break;w++,u--}if(u>=0&&w++,M=M.dblp(w),u<0)break;for(h=0;h<r;h++){var I=C[h];I!==0&&(I>0?l=a[h][I-1>>1]:I<0&&(l=a[h][-I-1>>1].neg()),l.type==="affine"?M=M.mixedAdd(l):M=M.add(l))}}for(u=0;u<r;u++)a[u]=null;return o?M:M.toP()};function Kr(e,i){this.curve=e,this.type=i,this.precomputed=null}Yo.BasePoint=Kr;Kr.prototype.eq=function(){throw new Error("Not implemented")};Kr.prototype.validate=function(){return this.curve.validate(this)};Yo.prototype.decodePoint=function(i,n){i=Lf.toArray(i,n);var s=this.p.byteLength();if((i[0]===4||i[0]===6||i[0]===7)&&i.length-1===2*s){i[0]===6?Q2(i[i.length-1]%2===0):i[0]===7&&Q2(i[i.length-1]%2===1);var r=this.point(i.slice(1,1+s),i.slice(1+s,1+2*s));return r}else if((i[0]===2||i[0]===3)&&i.length-1===s)return this.pointFromX(i.slice(1,1+s),i[0]===3);throw new Error("Unknown point format")};Kr.prototype.encodeCompressed=function(i){return this.encode(i,!0)};Kr.prototype._encode=function(i){var n=this.curve.p.byteLength(),s=this.getX().toArray("be",n);return i?[this.getY().isEven()?2:3].concat(s):[4].concat(s,this.getY().toArray("be",n))};Kr.prototype.encode=function(i,n){return Lf.encode(this._encode(n),i)};Kr.prototype.precompute=function(i){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,i),n.beta=this._getBeta(),this.precomputed=n,this};Kr.prototype._hasDoubles=function(i){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((i.bitLength()+1)/n.step):!1};Kr.prototype._getDoubles=function(i,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var s=[this],r=this,o=0;o<n;o+=i){for(var t=0;t<i;t++)r=r.dbl();s.push(r)}return{step:i,points:s}};Kr.prototype._getNAFPoints=function(i){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],s=(1<<i)-1,r=s===1?null:this.dbl(),o=1;o<s;o++)n[o]=n[o-1].add(r);return{wnd:i,points:n}};Kr.prototype._getBeta=function(){return null};Kr.prototype.dblp=function(i){for(var n=this,s=0;s<i;s++)n=n.dbl();return n}});var ck=kt((_ve,lk)=>{"use strict";var hZ=Rr(),Qn=Jr(),Z5=kf(),_u=Rf(),dZ=hZ.assert;function Qr(e){_u.call(this,"short",e),this.a=new Qn(e.a,16).toRed(this.red),this.b=new Qn(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Z5(Qr,_u);lk.exports=Qr;Qr.prototype._getEndomorphism=function(i){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,s;if(i.beta)n=new Qn(i.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);n=r[0].cmp(r[1])<0?r[0]:r[1],n=n.toRed(this.red)}if(i.lambda)s=new Qn(i.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(n))===0?s=o[0]:(s=o[1],dZ(this.g.mul(s).x.cmp(this.g.x.redMul(n))===0))}var t;return i.basis?t=i.basis.map(function(a){return{a:new Qn(a.a,16),b:new Qn(a.b,16)}}):t=this._getEndoBasis(s),{beta:n,lambda:s,basis:t}}};Qr.prototype._getEndoRoots=function(i){var n=i===this.p?this.red:Qn.mont(i),s=new Qn(2).toRed(n).redInvm(),r=s.redNeg(),o=new Qn(3).toRed(n).redNeg().redSqrt().redMul(s),t=r.redAdd(o).fromRed(),a=r.redSub(o).fromRed();return[t,a]};Qr.prototype._getEndoBasis=function(i){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),s=i,r=this.n.clone(),o=new Qn(1),t=new Qn(0),a=new Qn(0),p=new Qn(1),c,u,h,l,d,v,f,g=0,m,x;s.cmpn(0)!==0;){var y=r.div(s);m=r.sub(y.mul(s)),x=a.sub(y.mul(o));var b=p.sub(y.mul(t));if(!h&&m.cmp(n)<0)c=f.neg(),u=o,h=m.neg(),l=x;else if(h&&++g===2)break;f=m,r=s,s=m,a=o,o=x,p=t,t=b}d=m.neg(),v=x;var M=h.sqr().add(l.sqr()),C=d.sqr().add(v.sqr());return C.cmp(M)>=0&&(d=c,v=u),h.negative&&(h=h.neg(),l=l.neg()),d.negative&&(d=d.neg(),v=v.neg()),[{a:h,b:l},{a:d,b:v}]};Qr.prototype._endoSplit=function(i){var n=this.endo.basis,s=n[0],r=n[1],o=r.b.mul(i).divRound(this.n),t=s.b.neg().mul(i).divRound(this.n),a=o.mul(s.a),p=t.mul(r.a),c=o.mul(s.b),u=t.mul(r.b),h=i.sub(a).sub(p),l=c.add(u).neg();return{k1:h,k2:l}};Qr.prototype.pointFromX=function(i,n){i=new Qn(i,16),i.red||(i=i.toRed(this.red));var s=i.redSqr().redMul(i).redIAdd(i.redMul(this.a)).redIAdd(this.b),r=s.redSqrt();if(r.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var o=r.fromRed().isOdd();return(n&&!o||!n&&o)&&(r=r.redNeg()),this.point(i,r)};Qr.prototype.validate=function(i){if(i.inf)return!0;var n=i.x,s=i.y,r=this.a.redMul(n),o=n.redSqr().redMul(n).redIAdd(r).redIAdd(this.b);return s.redSqr().redISub(o).cmpn(0)===0};Qr.prototype._endoWnafMulAdd=function(i,n,s){for(var r=this._endoWnafT1,o=this._endoWnafT2,t=0;t<i.length;t++){var a=this._endoSplit(n[t]),p=i[t],c=p._getBeta();a.k1.negative&&(a.k1.ineg(),p=p.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[t*2]=p,r[t*2+1]=c,o[t*2]=a.k1,o[t*2+1]=a.k2}for(var u=this._wnafMulAdd(1,r,o,t*2,s),h=0;h<t*2;h++)r[h]=null,o[h]=null;return u};function yi(e,i,n,s){_u.BasePoint.call(this,e,"affine"),i===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Qn(i,16),this.y=new Qn(n,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Z5(yi,_u.BasePoint);Qr.prototype.point=function(i,n,s){return new yi(this,i,n,s)};Qr.prototype.pointFromJSON=function(i,n){return yi.fromJSON(this,i,n)};yi.prototype._getBeta=function(){if(this.curve.endo){var i=this.precomputed;if(i&&i.beta)return i.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(i){var s=this.curve,r=function(o){return s.point(o.x.redMul(s.endo.beta),o.y)};i.beta=n,n.precomputed={beta:null,naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return n}};yi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};yi.fromJSON=function(i,n,s){typeof n=="string"&&(n=JSON.parse(n));var r=i.point(n[0],n[1],s);if(!n[2])return r;function o(a){return i.point(a[0],a[1],s)}var t=n[2];return r.precomputed={beta:null,doubles:t.doubles&&{step:t.doubles.step,points:[r].concat(t.doubles.points.map(o))},naf:t.naf&&{wnd:t.naf.wnd,points:[r].concat(t.naf.points.map(o))}},r};yi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};yi.prototype.isInfinity=function(){return this.inf};yi.prototype.add=function(i){if(this.inf)return i;if(i.inf)return this;if(this.eq(i))return this.dbl();if(this.neg().eq(i))return this.curve.point(null,null);if(this.x.cmp(i.x)===0)return this.curve.point(null,null);var n=this.y.redSub(i.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(i.x).redInvm()));var s=n.redSqr().redISub(this.x).redISub(i.x),r=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,r)};yi.prototype.dbl=function(){if(this.inf)return this;var i=this.y.redAdd(this.y);if(i.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,s=this.x.redSqr(),r=i.redInvm(),o=s.redAdd(s).redIAdd(s).redIAdd(n).redMul(r),t=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,a)};yi.prototype.getX=function(){return this.x.fromRed()};yi.prototype.getY=function(){return this.y.fromRed()};yi.prototype.mul=function(i){return i=new Qn(i,16),this.isInfinity()?this:this._hasDoubles(i)?this.curve._fixedNafMul(this,i):this.curve.endo?this.curve._endoWnafMulAdd([this],[i]):this.curve._wnafMul(this,i)};yi.prototype.mulAdd=function(i,n,s){var r=[this,n],o=[i,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,o):this.curve._wnafMulAdd(1,r,o,2)};yi.prototype.jmulAdd=function(i,n,s){var r=[this,n],o=[i,s];return this.curve.endo?this.curve._endoWnafMulAdd(r,o,!0):this.curve._wnafMulAdd(1,r,o,2,!0)};yi.prototype.eq=function(i){return this===i||this.inf===i.inf&&(this.inf||this.x.cmp(i.x)===0&&this.y.cmp(i.y)===0)};yi.prototype.neg=function(i){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(i&&this.precomputed){var s=this.precomputed,r=function(o){return o.neg()};n.precomputed={naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(r)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(r)}}}return n};yi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var i=this.curve.jpoint(this.x,this.y,this.curve.one);return i};function ki(e,i,n,s){_u.BasePoint.call(this,e,"jacobian"),i===null&&n===null&&s===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Qn(0)):(this.x=new Qn(i,16),this.y=new Qn(n,16),this.z=new Qn(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Z5(ki,_u.BasePoint);Qr.prototype.jpoint=function(i,n,s){return new ki(this,i,n,s)};ki.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var i=this.z.redInvm(),n=i.redSqr(),s=this.x.redMul(n),r=this.y.redMul(n).redMul(i);return this.curve.point(s,r)};ki.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ki.prototype.add=function(i){if(this.isInfinity())return i;if(i.isInfinity())return this;var n=i.z.redSqr(),s=this.z.redSqr(),r=this.x.redMul(n),o=i.x.redMul(s),t=this.y.redMul(n.redMul(i.z)),a=i.y.redMul(s.redMul(this.z)),p=r.redSub(o),c=t.redSub(a);if(p.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=p.redSqr(),h=u.redMul(p),l=r.redMul(u),d=c.redSqr().redIAdd(h).redISub(l).redISub(l),v=c.redMul(l.redISub(d)).redISub(t.redMul(h)),f=this.z.redMul(i.z).redMul(p);return this.curve.jpoint(d,v,f)};ki.prototype.mixedAdd=function(i){if(this.isInfinity())return i.toJ();if(i.isInfinity())return this;var n=this.z.redSqr(),s=this.x,r=i.x.redMul(n),o=this.y,t=i.y.redMul(n).redMul(this.z),a=s.redSub(r),p=o.redSub(t);if(a.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=s.redMul(c),l=p.redSqr().redIAdd(u).redISub(h).redISub(h),d=p.redMul(h.redISub(l)).redISub(o.redMul(u)),v=this.z.redMul(a);return this.curve.jpoint(l,d,v)};ki.prototype.dblp=function(i){if(i===0)return this;if(this.isInfinity())return this;if(!i)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var s=this;for(n=0;n<i;n++)s=s.dbl();return s}var r=this.curve.a,o=this.curve.tinv,t=this.x,a=this.y,p=this.z,c=p.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<i;n++){var h=t.redSqr(),l=u.redSqr(),d=l.redSqr(),v=h.redAdd(h).redIAdd(h).redIAdd(r.redMul(c)),f=t.redMul(l),g=v.redSqr().redISub(f.redAdd(f)),m=f.redISub(g),x=v.redMul(m);x=x.redIAdd(x).redISub(d);var y=u.redMul(p);n+1<i&&(c=c.redMul(d)),t=g,p=y,u=x}return this.curve.jpoint(t,u.redMul(o),p)};ki.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ki.prototype._zeroDbl=function(){var i,n,s;if(this.zOne){var r=this.x.redSqr(),o=this.y.redSqr(),t=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(r).redISub(t);a=a.redIAdd(a);var p=r.redAdd(r).redIAdd(r),c=p.redSqr().redISub(a).redISub(a),u=t.redIAdd(t);u=u.redIAdd(u),u=u.redIAdd(u),i=c,n=p.redMul(a.redISub(c)).redISub(u),s=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),v=this.x.redAdd(l).redSqr().redISub(h).redISub(d);v=v.redIAdd(v);var f=h.redAdd(h).redIAdd(h),g=f.redSqr(),m=d.redIAdd(d);m=m.redIAdd(m),m=m.redIAdd(m),i=g.redISub(v).redISub(v),n=f.redMul(v.redISub(i)).redISub(m),s=this.y.redMul(this.z),s=s.redIAdd(s)}return this.curve.jpoint(i,n,s)};ki.prototype._threeDbl=function(){var i,n,s;if(this.zOne){var r=this.x.redSqr(),o=this.y.redSqr(),t=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(r).redISub(t);a=a.redIAdd(a);var p=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=p.redSqr().redISub(a).redISub(a);i=c;var u=t.redIAdd(t);u=u.redIAdd(u),u=u.redIAdd(u),n=p.redMul(a.redISub(c)).redISub(u),s=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),v=this.x.redSub(h).redMul(this.x.redAdd(h));v=v.redAdd(v).redIAdd(v);var f=d.redIAdd(d);f=f.redIAdd(f);var g=f.redAdd(f);i=v.redSqr().redISub(g),s=this.y.redAdd(this.z).redSqr().redISub(l).redISub(h);var m=l.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m),n=v.redMul(f.redISub(i)).redISub(m)}return this.curve.jpoint(i,n,s)};ki.prototype._dbl=function(){var i=this.curve.a,n=this.x,s=this.y,r=this.z,o=r.redSqr().redSqr(),t=n.redSqr(),a=s.redSqr(),p=t.redAdd(t).redIAdd(t).redIAdd(i.redMul(o)),c=n.redAdd(n);c=c.redIAdd(c);var u=c.redMul(a),h=p.redSqr().redISub(u.redAdd(u)),l=u.redISub(h),d=a.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var v=p.redMul(l).redISub(d),f=s.redAdd(s).redMul(r);return this.curve.jpoint(h,v,f)};ki.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var i=this.x.redSqr(),n=this.y.redSqr(),s=this.z.redSqr(),r=n.redSqr(),o=i.redAdd(i).redIAdd(i),t=o.redSqr(),a=this.x.redAdd(n).redSqr().redISub(i).redISub(r);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(t);var p=a.redSqr(),c=r.redIAdd(r);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=o.redIAdd(a).redSqr().redISub(t).redISub(p).redISub(c),h=n.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var l=this.x.redMul(p).redISub(h);l=l.redIAdd(l),l=l.redIAdd(l);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(p)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var v=this.z.redAdd(a).redSqr().redISub(s).redISub(p);return this.curve.jpoint(l,d,v)};ki.prototype.mul=function(i,n){return i=new Qn(i,n),this.curve._wnafMul(this,i)};ki.prototype.eq=function(i){if(i.type==="affine")return this.eq(i.toJ());if(this===i)return!0;var n=this.z.redSqr(),s=i.z.redSqr();if(this.x.redMul(s).redISub(i.x.redMul(n)).cmpn(0)!==0)return!1;var r=n.redMul(this.z),o=s.redMul(i.z);return this.y.redMul(o).redISub(i.y.redMul(r)).cmpn(0)===0};ki.prototype.eqXToP=function(i){var n=this.z.redSqr(),s=i.toRed(this.curve.red).redMul(n);if(this.x.cmp(s)===0)return!0;for(var r=i.clone(),o=this.curve.redN.redMul(n);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(s.redIAdd(o),this.x.cmp(s)===0)return!0}};ki.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ki.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var dk=kt((qve,hk)=>{"use strict";var qu=Jr(),uk=kf(),_2=Rf(),fZ=Rr();function eh(e){_2.call(this,"mont",e),this.a=new qu(e.a,16).toRed(this.red),this.b=new qu(e.b,16).toRed(this.red),this.i4=new qu(4).toRed(this.red).redInvm(),this.two=new qu(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}uk(eh,_2);hk.exports=eh;eh.prototype.validate=function(i){var n=i.normalize().x,s=n.redSqr(),r=s.redMul(n).redAdd(s.redMul(this.a)).redAdd(n),o=r.redSqrt();return o.redSqr().cmp(r)===0};function xi(e,i,n){_2.BasePoint.call(this,e,"projective"),i===null&&n===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new qu(i,16),this.z=new qu(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}uk(xi,_2.BasePoint);eh.prototype.decodePoint=function(i,n){return this.point(fZ.toArray(i,n),1)};eh.prototype.point=function(i,n){return new xi(this,i,n)};eh.prototype.pointFromJSON=function(i){return xi.fromJSON(this,i)};xi.prototype.precompute=function(){};xi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};xi.fromJSON=function(i,n){return new xi(i,n[0],n[1]||i.one)};xi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};xi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};xi.prototype.dbl=function(){var i=this.x.redAdd(this.z),n=i.redSqr(),s=this.x.redSub(this.z),r=s.redSqr(),o=n.redSub(r),t=n.redMul(r),a=o.redMul(r.redAdd(this.curve.a24.redMul(o)));return this.curve.point(t,a)};xi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};xi.prototype.diffAdd=function(i,n){var s=this.x.redAdd(this.z),r=this.x.redSub(this.z),o=i.x.redAdd(i.z),t=i.x.redSub(i.z),a=t.redMul(s),p=o.redMul(r),c=n.z.redMul(a.redAdd(p).redSqr()),u=n.x.redMul(a.redISub(p).redSqr());return this.curve.point(c,u)};xi.prototype.mul=function(i){for(var n=i.clone(),s=this,r=this.curve.point(null,null),o=this,t=[];n.cmpn(0)!==0;n.iushrn(1))t.push(n.andln(1));for(var a=t.length-1;a>=0;a--)t[a]===0?(s=s.diffAdd(r,o),r=r.dbl()):(r=s.diffAdd(r,o),s=s.dbl());return r};xi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};xi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};xi.prototype.eq=function(i){return this.getX().cmp(i.getX())===0};xi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};xi.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var vk=kt((ege,pk)=>{"use strict";var pZ=Rr(),Ka=Jr(),fk=kf(),q2=Rf(),vZ=pZ.assert;function oa(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,q2.call(this,"edwards",e),this.a=new Ka(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ka(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ka(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),vZ(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}fk(oa,q2);pk.exports=oa;oa.prototype._mulA=function(i){return this.mOneA?i.redNeg():this.a.redMul(i)};oa.prototype._mulC=function(i){return this.oneC?i:this.c.redMul(i)};oa.prototype.jpoint=function(i,n,s,r){return this.point(i,n,s,r)};oa.prototype.pointFromX=function(i,n){i=new Ka(i,16),i.red||(i=i.toRed(this.red));var s=i.redSqr(),r=this.c2.redSub(this.a.redMul(s)),o=this.one.redSub(this.c2.redMul(this.d).redMul(s)),t=r.redMul(o.redInvm()),a=t.redSqrt();if(a.redSqr().redSub(t).cmp(this.zero)!==0)throw new Error("invalid point");var p=a.fromRed().isOdd();return(n&&!p||!n&&p)&&(a=a.redNeg()),this.point(i,a)};oa.prototype.pointFromY=function(i,n){i=new Ka(i,16),i.red||(i=i.toRed(this.red));var s=i.redSqr(),r=s.redSub(this.c2),o=s.redMul(this.d).redMul(this.c2).redSub(this.a),t=r.redMul(o.redInvm());if(t.cmp(this.zero)===0){if(n)throw new Error("invalid point");return this.point(this.zero,i)}var a=t.redSqrt();if(a.redSqr().redSub(t).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==n&&(a=a.redNeg()),this.point(a,i)};oa.prototype.validate=function(i){if(i.isInfinity())return!0;i.normalize();var n=i.x.redSqr(),s=i.y.redSqr(),r=n.redMul(this.a).redAdd(s),o=this.c2.redMul(this.one.redAdd(this.d.redMul(n).redMul(s)));return r.cmp(o)===0};function gn(e,i,n,s,r){q2.BasePoint.call(this,e,"projective"),i===null&&n===null&&s===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ka(i,16),this.y=new Ka(n,16),this.z=s?new Ka(s,16):this.curve.one,this.t=r&&new Ka(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}fk(gn,q2.BasePoint);oa.prototype.pointFromJSON=function(i){return gn.fromJSON(this,i)};oa.prototype.point=function(i,n,s,r){return new gn(this,i,n,s,r)};gn.fromJSON=function(i,n){return new gn(i,n[0],n[1],n[2])};gn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};gn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};gn.prototype._extDbl=function(){var i=this.x.redSqr(),n=this.y.redSqr(),s=this.z.redSqr();s=s.redIAdd(s);var r=this.curve._mulA(i),o=this.x.redAdd(this.y).redSqr().redISub(i).redISub(n),t=r.redAdd(n),a=t.redSub(s),p=r.redSub(n),c=o.redMul(a),u=t.redMul(p),h=o.redMul(p),l=a.redMul(t);return this.curve.point(c,u,l,h)};gn.prototype._projDbl=function(){var i=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),s=this.y.redSqr(),r,o,t,a,p,c;if(this.curve.twisted){a=this.curve._mulA(n);var u=a.redAdd(s);this.zOne?(r=i.redSub(n).redSub(s).redMul(u.redSub(this.curve.two)),o=u.redMul(a.redSub(s)),t=u.redSqr().redSub(u).redSub(u)):(p=this.z.redSqr(),c=u.redSub(p).redISub(p),r=i.redSub(n).redISub(s).redMul(c),o=u.redMul(a.redSub(s)),t=u.redMul(c))}else a=n.redAdd(s),p=this.curve._mulC(this.z).redSqr(),c=a.redSub(p).redSub(p),r=this.curve._mulC(i.redISub(a)).redMul(c),o=this.curve._mulC(a).redMul(n.redISub(s)),t=a.redMul(c);return this.curve.point(r,o,t)};gn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};gn.prototype._extAdd=function(i){var n=this.y.redSub(this.x).redMul(i.y.redSub(i.x)),s=this.y.redAdd(this.x).redMul(i.y.redAdd(i.x)),r=this.t.redMul(this.curve.dd).redMul(i.t),o=this.z.redMul(i.z.redAdd(i.z)),t=s.redSub(n),a=o.redSub(r),p=o.redAdd(r),c=s.redAdd(n),u=t.redMul(a),h=p.redMul(c),l=t.redMul(c),d=a.redMul(p);return this.curve.point(u,h,d,l)};gn.prototype._projAdd=function(i){var n=this.z.redMul(i.z),s=n.redSqr(),r=this.x.redMul(i.x),o=this.y.redMul(i.y),t=this.curve.d.redMul(r).redMul(o),a=s.redSub(t),p=s.redAdd(t),c=this.x.redAdd(this.y).redMul(i.x.redAdd(i.y)).redISub(r).redISub(o),u=n.redMul(a).redMul(c),h,l;return this.curve.twisted?(h=n.redMul(p).redMul(o.redSub(this.curve._mulA(r))),l=a.redMul(p)):(h=n.redMul(p).redMul(o.redSub(r)),l=this.curve._mulC(a).redMul(p)),this.curve.point(u,h,l)};gn.prototype.add=function(i){return this.isInfinity()?i:i.isInfinity()?this:this.curve.extended?this._extAdd(i):this._projAdd(i)};gn.prototype.mul=function(i){return this._hasDoubles(i)?this.curve._fixedNafMul(this,i):this.curve._wnafMul(this,i)};gn.prototype.mulAdd=function(i,n,s){return this.curve._wnafMulAdd(1,[this,n],[i,s],2,!1)};gn.prototype.jmulAdd=function(i,n,s){return this.curve._wnafMulAdd(1,[this,n],[i,s],2,!0)};gn.prototype.normalize=function(){if(this.zOne)return this;var i=this.z.redInvm();return this.x=this.x.redMul(i),this.y=this.y.redMul(i),this.t&&(this.t=this.t.redMul(i)),this.z=this.curve.one,this.zOne=!0,this};gn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};gn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};gn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};gn.prototype.eq=function(i){return this===i||this.getX().cmp(i.getX())===0&&this.getY().cmp(i.getY())===0};gn.prototype.eqXToP=function(i){var n=i.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(n)===0)return!0;for(var s=i.clone(),r=this.curve.redN.redMul(this.z);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(r),this.x.cmp(n)===0)return!0}};gn.prototype.toP=gn.prototype.normalize;gn.prototype.mixedAdd=gn.prototype.add});var X5=kt(gk=>{"use strict";var ev=gk;ev.base=Rf();ev.short=ck();ev.mont=dk();ev.edwards=vk()});var yk=kt((nge,mk)=>{"use strict";mk.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var tv=kt(Mk=>{"use strict";var J5=Mk,Uo=Af(),$5=X5(),gZ=Rr(),xk=gZ.assert;function bk(e){e.type==="short"?this.curve=new $5.short(e):e.type==="edwards"?this.curve=new $5.edwards(e):this.curve=new $5.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,xk(this.g.validate(),"Invalid curve"),xk(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}J5.PresetCurve=bk;function Zo(e,i){Object.defineProperty(J5,e,{configurable:!0,enumerable:!0,get:function(){var n=new bk(i);return Object.defineProperty(J5,e,{configurable:!0,enumerable:!0,value:n}),n}})}Zo("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Uo.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Zo("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Uo.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Zo("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Uo.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Zo("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Uo.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Zo("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Uo.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Zo("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Uo.sha256,gRed:!1,g:["9"]});Zo("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Uo.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var K5;try{K5=yk()}catch{K5=void 0}Zo("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Uo.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",K5]})});var Sk=kt((rge,wk)=>{"use strict";var mZ=Af(),oc=U5(),Ck=Ho();function Xo(e){if(!(this instanceof Xo))return new Xo(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=oc.toArray(e.entropy,e.entropyEnc||"hex"),n=oc.toArray(e.nonce,e.nonceEnc||"hex"),s=oc.toArray(e.pers,e.persEnc||"hex");Ck(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,n,s)}wk.exports=Xo;Xo.prototype._init=function(i,n,s){var r=i.concat(n).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656};Xo.prototype._hmac=function(){return new mZ.hmac(this.hash,this.K)};Xo.prototype._update=function(i){var n=this._hmac().update(this.V).update([0]);i&&(n=n.update(i)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())};Xo.prototype.reseed=function(i,n,s,r){typeof n!="string"&&(r=s,s=n,n=null),i=oc.toArray(i,n),s=oc.toArray(s,r),Ck(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(s||[])),this._reseed=1};Xo.prototype.generate=function(i,n,s,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(r=s,s=n,n=null),s&&(s=oc.toArray(s,r||"hex"),this._update(s));for(var o=[];o.length<i;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var t=o.slice(0,i);return this._update(s),this._reseed++,oc.encode(t,n)}});var kk=kt((sge,Ik)=>{"use strict";var yZ=Jr(),xZ=Rr(),Q5=xZ.assert;function Bi(e,i){this.ec=e,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}Ik.exports=Bi;Bi.fromPublic=function(i,n,s){return n instanceof Bi?n:new Bi(i,{pub:n,pubEnc:s})};Bi.fromPrivate=function(i,n,s){return n instanceof Bi?n:new Bi(i,{priv:n,privEnc:s})};Bi.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Bi.prototype.getPublic=function(i,n){return typeof i=="string"&&(n=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,i):this.pub};Bi.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv};Bi.prototype._importPrivate=function(i,n){this.priv=new yZ(i,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Bi.prototype._importPublic=function(i,n){if(i.x||i.y){this.ec.curve.type==="mont"?Q5(i.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Q5(i.x&&i.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(i.x,i.y);return}this.pub=this.ec.curve.decodePoint(i,n)};Bi.prototype.derive=function(i){return i.validate()||Q5(i.validate(),"public point not validated"),i.mul(this.priv).getX()};Bi.prototype.sign=function(i,n,s){return this.ec.sign(i,this,n,s)};Bi.prototype.verify=function(i,n,s){return this.ec.verify(i,n,this,void 0,s)};Bi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Ak=kt((age,Ek)=>{"use strict";var nv=Jr(),ex=Rr(),bZ=ex.assert;function iv(e,i){if(e instanceof iv)return e;this._importDER(e,i)||(bZ(e.r&&e.s,"Signature without r or s"),this.r=new nv(e.r,16),this.s=new nv(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}Ek.exports=iv;function MZ(){this.place=0}function _5(e,i){var n=e[i.place++];if(!(n&128))return n;var s=n&15;if(s===0||s>4||e[i.place]===0)return!1;for(var r=0,o=0,t=i.place;o<s;o++,t++)r<<=8,r|=e[t],r>>>=0;return r<=127?!1:(i.place=t,r)}function Tk(e){for(var i=0,n=e.length-1;!e[i]&&!(e[i+1]&128)&&i<n;)i++;return i===0?e:e.slice(i)}iv.prototype._importDER=function(i,n){i=ex.toArray(i,n);var s=new MZ;if(i[s.place++]!==48)return!1;var r=_5(i,s);if(r===!1||r+s.place!==i.length||i[s.place++]!==2)return!1;var o=_5(i,s);if(o===!1||i[s.place]&128)return!1;var t=i.slice(s.place,o+s.place);if(s.place+=o,i[s.place++]!==2)return!1;var a=_5(i,s);if(a===!1||i.length!==a+s.place||i[s.place]&128)return!1;var p=i.slice(s.place,a+s.place);if(t[0]===0)if(t[1]&128)t=t.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new nv(t),this.s=new nv(p),this.recoveryParam=null,!0};function q5(e,i){if(i<128){e.push(i);return}var n=1+(Math.log(i)/Math.LN2>>>3);for(e.push(n|128);--n;)e.push(i>>>(n<<3)&255);e.push(i)}iv.prototype.toDER=function(i){var n=this.r.toArray(),s=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),s[0]&128&&(s=[0].concat(s)),n=Tk(n),s=Tk(s);!s[0]&&!(s[1]&128);)s=s.slice(1);var r=[2];q5(r,n.length),r=r.concat(n),r.push(2),q5(r,s.length);var o=r.concat(s),t=[48];return q5(t,o.length),t=t.concat(o),ex.encode(t,i)}});var Dk=kt((oge,Rk)=>{"use strict";var Ds=Jr(),Lk=Sk(),CZ=Rr(),tx=tv(),wZ=H2(),lc=CZ.assert,nx=kk(),rv=Ak();function _r(e){if(!(this instanceof _r))return new _r(e);typeof e=="string"&&(lc(Object.prototype.hasOwnProperty.call(tx,e),"Unknown curve "+e),e=tx[e]),e instanceof tx.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}Rk.exports=_r;_r.prototype.keyPair=function(i){return new nx(this,i)};_r.prototype.keyFromPrivate=function(i,n){return nx.fromPrivate(this,i,n)};_r.prototype.keyFromPublic=function(i,n){return nx.fromPublic(this,i,n)};_r.prototype.genKeyPair=function(i){i||(i={});for(var n=new Lk({hash:this.hash,pers:i.pers,persEnc:i.persEnc||"utf8",entropy:i.entropy||wZ(this.hash.hmacStrength),entropyEnc:i.entropy&&i.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),r=this.n.sub(new Ds(2));;){var o=new Ds(n.generate(s));if(!(o.cmp(r)>0))return o.iaddn(1),this.keyFromPrivate(o)}};_r.prototype._truncateToN=function(i,n,s){var r;if(Ds.isBN(i)||typeof i=="number")i=new Ds(i,16),r=i.byteLength();else if(typeof i=="object")r=i.length,i=new Ds(i,16);else{var o=i.toString();r=o.length+1>>>1,i=new Ds(o,16)}typeof s!="number"&&(s=r*8);var t=s-this.n.bitLength();return t>0&&(i=i.ushrn(t)),!n&&i.cmp(this.n)>=0?i.sub(this.n):i};_r.prototype.sign=function(i,n,s,r){if(typeof s=="object"&&(r=s,s=null),r||(r={}),typeof i!="string"&&typeof i!="number"&&!Ds.isBN(i)){lc(typeof i=="object"&&i&&typeof i.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),lc(i.length>>>0===i.length);for(var o=0;o<i.length;o++)lc((i[o]&255)===i[o])}n=this.keyFromPrivate(n,s),i=this._truncateToN(i,!1,r.msgBitLength),lc(!i.isNeg(),"Can not sign a negative message");var t=this.n.byteLength(),a=n.getPrivate().toArray("be",t),p=i.toArray("be",t);lc(new Ds(p).eq(i),"Can not sign message");for(var c=new Lk({hash:this.hash,entropy:a,nonce:p,pers:r.pers,persEnc:r.persEnc||"utf8"}),u=this.n.sub(new Ds(1)),h=0;;h++){var l=r.k?r.k(h):new Ds(c.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(u)>=0)){var d=this.g.mul(l);if(!d.isInfinity()){var v=d.getX(),f=v.umod(this.n);if(f.cmpn(0)!==0){var g=l.invm(this.n).mul(f.mul(n.getPrivate()).iadd(i));if(g=g.umod(this.n),g.cmpn(0)!==0){var m=(d.getY().isOdd()?1:0)|(v.cmp(f)!==0?2:0);return r.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new rv({r:f,s:g,recoveryParam:m})}}}}}};_r.prototype.verify=function(i,n,s,r,o){o||(o={}),i=this._truncateToN(i,!1,o.msgBitLength),s=this.keyFromPublic(s,r),n=new rv(n,"hex");var t=n.r,a=n.s;if(t.cmpn(1)<0||t.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var p=a.invm(this.n),c=p.mul(i).umod(this.n),u=p.mul(t).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,s.getPublic(),u),h.isInfinity()?!1:h.eqXToP(t)):(h=this.g.mulAdd(c,s.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(t)===0)};_r.prototype.recoverPubKey=function(e,i,n,s){lc((3&n)===n,"The recovery param is more than two bits"),i=new rv(i,s);var r=this.n,o=new Ds(e),t=i.r,a=i.s,p=n&1,c=n>>1;if(t.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?t=this.curve.pointFromX(t.add(this.curve.n),p):t=this.curve.pointFromX(t,p);var u=i.r.invm(r),h=r.sub(o).mul(u).umod(r),l=a.mul(u).umod(r);return this.g.mulAdd(h,t,l)};_r.prototype.getKeyRecoveryParam=function(e,i,n,s){if(i=new rv(i,s),i.recoveryParam!==null)return i.recoveryParam;for(var r=0;r<4;r++){var o;try{o=this.recoverPubKey(e,i,r)}catch{continue}if(o.eq(n))return r}throw new Error("Unable to find valid recovery factor")}});var Nk=kt((lge,Pk)=>{"use strict";var Df=Rr(),Fk=Df.assert,Ok=Df.parseBytes,th=Df.cachedProperty;function bi(e,i){this.eddsa=e,this._secret=Ok(i.secret),e.isPoint(i.pub)?this._pub=i.pub:this._pubBytes=Ok(i.pub)}bi.fromPublic=function(i,n){return n instanceof bi?n:new bi(i,{pub:n})};bi.fromSecret=function(i,n){return n instanceof bi?n:new bi(i,{secret:n})};bi.prototype.secret=function(){return this._secret};th(bi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});th(bi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});th(bi,"privBytes",function(){var i=this.eddsa,n=this.hash(),s=i.encodingLength-1,r=n.slice(0,i.encodingLength);return r[0]&=248,r[s]&=127,r[s]|=64,r});th(bi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});th(bi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});th(bi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});bi.prototype.sign=function(i){return Fk(this._secret,"KeyPair can only verify"),this.eddsa.sign(i,this)};bi.prototype.verify=function(i,n){return this.eddsa.verify(i,n,this)};bi.prototype.getSecret=function(i){return Fk(this._secret,"KeyPair is public only"),Df.encode(this.secret(),i)};bi.prototype.getPublic=function(i){return Df.encode(this.pubBytes(),i)};Pk.exports=bi});var Gk=kt((cge,Vk)=>{"use strict";var SZ=Jr(),sv=Rr(),Bk=sv.assert,av=sv.cachedProperty,IZ=sv.parseBytes;function cc(e,i){this.eddsa=e,typeof i!="object"&&(i=IZ(i)),Array.isArray(i)&&(Bk(i.length===e.encodingLength*2,"Signature has invalid size"),i={R:i.slice(0,e.encodingLength),S:i.slice(e.encodingLength)}),Bk(i.R&&i.S,"Signature without R or S"),e.isPoint(i.R)&&(this._R=i.R),i.S instanceof SZ&&(this._S=i.S),this._Rencoded=Array.isArray(i.R)?i.R:i.Rencoded,this._Sencoded=Array.isArray(i.S)?i.S:i.Sencoded}av(cc,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});av(cc,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});av(cc,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});av(cc,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});cc.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};cc.prototype.toHex=function(){return sv.encode(this.toBytes(),"hex").toUpperCase()};Vk.exports=cc});var Yk=kt((uge,jk)=>{"use strict";var kZ=Af(),TZ=tv(),nh=Rr(),EZ=nh.assert,Wk=nh.parseBytes,Hk=Nk(),zk=Gk();function vr(e){if(EZ(e==="ed25519","only tested with ed25519 so far"),!(this instanceof vr))return new vr(e);e=TZ[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=kZ.sha512}jk.exports=vr;vr.prototype.sign=function(i,n){i=Wk(i);var s=this.keyFromSecret(n),r=this.hashInt(s.messagePrefix(),i),o=this.g.mul(r),t=this.encodePoint(o),a=this.hashInt(t,s.pubBytes(),i).mul(s.priv()),p=r.add(a).umod(this.curve.n);return this.makeSignature({R:o,S:p,Rencoded:t})};vr.prototype.verify=function(i,n,s){if(i=Wk(i),n=this.makeSignature(n),n.S().gte(n.eddsa.curve.n)||n.S().isNeg())return!1;var r=this.keyFromPublic(s),o=this.hashInt(n.Rencoded(),r.pubBytes(),i),t=this.g.mul(n.S()),a=n.R().add(r.pub().mul(o));return a.eq(t)};vr.prototype.hashInt=function(){for(var i=this.hash(),n=0;n<arguments.length;n++)i.update(arguments[n]);return nh.intFromLE(i.digest()).umod(this.curve.n)};vr.prototype.keyFromPublic=function(i){return Hk.fromPublic(this,i)};vr.prototype.keyFromSecret=function(i){return Hk.fromSecret(this,i)};vr.prototype.makeSignature=function(i){return i instanceof zk?i:new zk(this,i)};vr.prototype.encodePoint=function(i){var n=i.getY().toArray("le",this.encodingLength);return n[this.encodingLength-1]|=i.getX().isOdd()?128:0,n};vr.prototype.decodePoint=function(i){i=nh.parseBytes(i);var n=i.length-1,s=i.slice(0,n).concat(i[n]&-129),r=(i[n]&128)!==0,o=nh.intFromLE(s);return this.curve.pointFromY(o,r)};vr.prototype.encodeInt=function(i){return i.toArray("le",this.encodingLength)};vr.prototype.decodeInt=function(i){return nh.intFromLE(i)};vr.prototype.isPoint=function(i){return i instanceof this.pointClass}});var Zk=kt(Uk=>{"use strict";var uc=Uk;uc.version=nk().version;uc.utils=Rr();uc.rand=H2();uc.curve=X5();uc.curves=tv();uc.ec=Dk();uc.eddsa=Yk()});var bR=kt((n5e,S6)=>{"use strict";var Qne=Object.prototype.hasOwnProperty,qi="~";function x1(){}Object.create&&(x1.prototype=Object.create(null),new x1().__proto__||(qi=!1));function _ne(e,i,n){this.fn=e,this.context=i,this.once=n||!1}function xR(e,i,n,s,r){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new _ne(n,s||e,r),t=qi?qi+i:i;return e._events[t]?e._events[t].fn?e._events[t]=[e._events[t],o]:e._events[t].push(o):(e._events[t]=o,e._eventsCount++),e}function og(e,i){--e._eventsCount===0?e._events=new x1:delete e._events[i]}function Wi(){this._events=new x1,this._eventsCount=0}Wi.prototype.eventNames=function(){var i=[],n,s;if(this._eventsCount===0)return i;for(s in n=this._events)Qne.call(n,s)&&i.push(qi?s.slice(1):s);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(n)):i};Wi.prototype.listeners=function(i){var n=qi?qi+i:i,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var r=0,o=s.length,t=new Array(o);r<o;r++)t[r]=s[r].fn;return t};Wi.prototype.listenerCount=function(i){var n=qi?qi+i:i,s=this._events[n];return s?s.fn?1:s.length:0};Wi.prototype.emit=function(i,n,s,r,o,t){var a=qi?qi+i:i;if(!this._events[a])return!1;var p=this._events[a],c=arguments.length,u,h;if(p.fn){switch(p.once&&this.removeListener(i,p.fn,void 0,!0),c){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,n),!0;case 3:return p.fn.call(p.context,n,s),!0;case 4:return p.fn.call(p.context,n,s,r),!0;case 5:return p.fn.call(p.context,n,s,r,o),!0;case 6:return p.fn.call(p.context,n,s,r,o,t),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];p.fn.apply(p.context,u)}else{var l=p.length,d;for(h=0;h<l;h++)switch(p[h].once&&this.removeListener(i,p[h].fn,void 0,!0),c){case 1:p[h].fn.call(p[h].context);break;case 2:p[h].fn.call(p[h].context,n);break;case 3:p[h].fn.call(p[h].context,n,s);break;case 4:p[h].fn.call(p[h].context,n,s,r);break;default:if(!u)for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];p[h].fn.apply(p[h].context,u)}}return!0};Wi.prototype.on=function(i,n,s){return xR(this,i,n,s,!1)};Wi.prototype.once=function(i,n,s){return xR(this,i,n,s,!0)};Wi.prototype.removeListener=function(i,n,s,r){var o=qi?qi+i:i;if(!this._events[o])return this;if(!n)return og(this,o),this;var t=this._events[o];if(t.fn)t.fn===n&&(!r||t.once)&&(!s||t.context===s)&&og(this,o);else{for(var a=0,p=[],c=t.length;a<c;a++)(t[a].fn!==n||r&&!t[a].once||s&&t[a].context!==s)&&p.push(t[a]);p.length?this._events[o]=p.length===1?p[0]:p:og(this,o)}return this};Wi.prototype.removeAllListeners=function(i){var n;return i?(n=qi?qi+i:i,this._events[n]&&og(this,n)):(this._events=new x1,this._eventsCount=0),this};Wi.prototype.off=Wi.prototype.removeListener;Wi.prototype.addListener=Wi.prototype.on;Wi.prefixed=qi;Wi.EventEmitter=Wi;typeof S6<"u"&&(S6.exports=Wi)});function p8(e,i){return Object.is(e,i)}var li=null,Kh=!1,nm=1,nr=Symbol("SIGNAL");function Gt(e){let i=li;return li=e,i}function v8(){return li}function RO(){return Kh}var bl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function W1(e){if(Kh)throw new Error("");if(li===null)return;li.consumerOnSignalRead(e);let i=li.nextProducerIndex++;if(j1(li),i<li.producerNode.length&&li.producerNode[i]!==e&&Qh(li)){let n=li.producerNode[i];H1(n,li.producerIndexOfThis[i])}li.producerNode[i]!==e&&(li.producerNode[i]=e,li.producerIndexOfThis[i]=Qh(li)?b8(e,li,i):0),li.producerLastReadVersion[i]=e.version}function DO(){nm++}function g8(e){if(!(Qh(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===nm)){if(!e.producerMustRecompute(e)&&!qh(e)){f8(e);return}e.producerRecomputeValue(e),f8(e)}}function m8(e){if(e.liveConsumerNode===void 0)return;let i=Kh;Kh=!0;try{for(let n of e.liveConsumerNode)n.dirty||x8(n)}finally{Kh=i}}function y8(){return li?.consumerAllowSignalWrites!==!1}function x8(e){e.dirty=!0,m8(e),e.consumerMarkedDirty?.(e)}function f8(e){e.dirty=!1,e.lastCleanEpoch=nm}function Pc(e){return e&&(e.nextProducerIndex=0),Gt(e)}function _h(e,i){if(Gt(i),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Qh(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)H1(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function qh(e){j1(e);for(let i=0;i<e.producerNode.length;i++){let n=e.producerNode[i],s=e.producerLastReadVersion[i];if(s!==n.version||(g8(n),s!==n.version))return!0}return!1}function Nc(e){if(j1(e),Qh(e))for(let i=0;i<e.producerNode.length;i++)H1(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function b8(e,i,n){if(M8(e),e.liveConsumerNode.length===0&&C8(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=b8(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(i)-1}function H1(e,i){if(M8(e),e.liveConsumerNode.length===1&&C8(e))for(let s=0;s<e.producerNode.length;s++)H1(e.producerNode[s],e.producerIndexOfThis[s]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){let s=e.liveConsumerIndexOfThis[i],r=e.liveConsumerNode[i];j1(r),r.producerIndexOfThis[s]=i}}function Qh(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function j1(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function M8(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function C8(e){return e.producerNode!==void 0}function w8(e){let i=Object.create(OO);i.computation=e;let n=()=>{if(g8(i),W1(i),i.value===z1)throw i.error;return i.value};return n[nr]=i,n}var qg=Symbol("UNSET"),em=Symbol("COMPUTING"),z1=Symbol("ERRORED"),OO=Se(q({},bl),{value:qg,dirty:!0,error:null,equal:p8,kind:"computed",producerMustRecompute(e){return e.value===qg||e.value===em},producerRecomputeValue(e){if(e.value===em)throw new Error("Detected cycle in computations.");let i=e.value;e.value=em;let n=Pc(e),s,r=!1;try{s=e.computation(),Gt(null),r=i!==qg&&i!==z1&&s!==z1&&e.equal(i,s)}catch(o){s=z1,e.error=o}finally{_h(e,n)}if(r){e.value=i;return}e.value=s,e.version++}});function FO(){throw new Error}var S8=FO;function I8(){S8()}function k8(e){S8=e}var PO=null;function T8(e){let i=Object.create(im);i.value=e;let n=()=>(W1(i),i.value);return n[nr]=i,n}function Y1(e,i){y8()||I8(),e.equal(e.value,i)||(e.value=i,NO(e))}function E8(e,i){y8()||I8(),Y1(e,i(e.value))}var im=Se(q({},bl),{equal:p8,value:void 0,kind:"signal"});function NO(e){e.version++,DO(),m8(e),PO?.()}function A8(e,i,n){let s=Object.create(BO);n&&(s.consumerAllowSignalWrites=!0),s.fn=e,s.schedule=i;let r=p=>{s.cleanupFn=p};function o(p){return p.fn===null&&p.schedule===null}function t(p){o(p)||(Nc(p),p.cleanupFn(),p.fn=null,p.schedule=null,p.cleanupFn=tm)}let a=()=>{if(s.fn===null)return;if(RO())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(s.dirty=!1,s.hasRun&&!qh(s))return;s.hasRun=!0;let p=Pc(s);try{s.cleanupFn(),s.cleanupFn=tm,s.fn(r)}finally{_h(s,p)}};return s.ref={notify:()=>x8(s),run:a,cleanup:()=>s.cleanupFn(),destroy:()=>t(s),[nr]:s},s.ref}var tm=()=>{},BO=Se(q({},bl),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule!==null&&e.schedule(e.ref)},hasRun:!1,cleanupFn:tm});function gt(e){return typeof e=="function"}function po(e){let n=e(s=>{Error.call(s),s.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var U1=po(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((s,r)=>`${r+1}) ${s.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ml(e,i){if(e){let n=e.indexOf(i);0<=n&&e.splice(n,1)}}var vn=class e{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:s}=this;if(gt(s))try{s()}catch(o){i=o instanceof U1?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{L8(o)}catch(t){i=i??[],t instanceof U1?i=[...i,...t.errors]:i.push(t)}}if(i)throw new U1(i)}}add(i){var n;if(i&&i!==this)if(this.closed)L8(i);else{if(i instanceof e){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(i)}}_hasParent(i){let{_parentage:n}=this;return n===i||Array.isArray(n)&&n.includes(i)}_addParent(i){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(i),n):n?[n,i]:i}_removeParent(i){let{_parentage:n}=this;n===i?this._parentage=null:Array.isArray(n)&&Ml(n,i)}remove(i){let{_finalizers:n}=this;n&&Ml(n,i),i instanceof e&&i._removeParent(this)}};vn.EMPTY=(()=>{let e=new vn;return e.closed=!0,e})();var rm=vn.EMPTY;function Z1(e){return e instanceof vn||e&&"closed"in e&&gt(e.remove)&&gt(e.add)&&gt(e.unsubscribe)}function L8(e){gt(e)?e():e.unsubscribe()}var ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bc={setTimeout(e,i,...n){let{delegate:s}=Bc;return s?.setTimeout?s.setTimeout(e,i,...n):setTimeout(e,i,...n)},clearTimeout(e){let{delegate:i}=Bc;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function X1(e){Bc.setTimeout(()=>{let{onUnhandledError:i}=ds;if(i)i(e);else throw e})}function xa(){}var R8=sm("C",void 0,void 0);function D8(e){return sm("E",void 0,e)}function O8(e){return sm("N",e,void 0)}function sm(e,i,n){return{kind:e,value:i,error:n}}var Cl=null;function Vc(e){if(ds.useDeprecatedSynchronousErrorHandling){let i=!Cl;if(i&&(Cl={errorThrown:!1,error:null}),e(),i){let{errorThrown:n,error:s}=Cl;if(Cl=null,n)throw s}}else e()}function F8(e){ds.useDeprecatedSynchronousErrorHandling&&Cl&&(Cl.errorThrown=!0,Cl.error=e)}var wl=class extends vn{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Z1(i)&&i.add(this)):this.destination=zO}static create(i,n,s){return new ba(i,n,s)}next(i){this.isStopped?om(O8(i),this):this._next(i)}error(i){this.isStopped?om(D8(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?om(R8,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},VO=Function.prototype.bind;function am(e,i){return VO.call(e,i)}var lm=class{constructor(i){this.partialObserver=i}next(i){let{partialObserver:n}=this;if(n.next)try{n.next(i)}catch(s){$1(s)}}error(i){let{partialObserver:n}=this;if(n.error)try{n.error(i)}catch(s){$1(s)}else $1(i)}complete(){let{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(n){$1(n)}}},ba=class extends wl{constructor(i,n,s){super();let r;if(gt(i)||!i)r={next:i??void 0,error:n??void 0,complete:s??void 0};else{let o;this&&ds.useDeprecatedNextContext?(o=Object.create(i),o.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&am(i.next,o),error:i.error&&am(i.error,o),complete:i.complete&&am(i.complete,o)}):r=i}this.destination=new lm(r)}};function $1(e){ds.useDeprecatedSynchronousErrorHandling?F8(e):X1(e)}function GO(e){throw e}function om(e,i){let{onStoppedNotification:n}=ds;n&&Bc.setTimeout(()=>n(e,i))}var zO={closed:!0,next:xa,error:GO,complete:xa};var Gc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Si(e){return e}function cm(...e){return um(e)}function um(e){return e.length===0?Si:e.length===1?e[0]:function(n){return e.reduce((s,r)=>r(s),n)}}var dt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let s=new e;return s.source=this,s.operator=n,s}subscribe(n,s,r){let o=HO(n)?n:new ba(n,s,r);return Vc(()=>{let{operator:t,source:a}=this;o.add(t?t.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(s){n.error(s)}}forEach(n,s){return s=P8(s),new s((r,o)=>{let t=new ba({next:a=>{try{n(a)}catch(p){o(p),t.unsubscribe()}},error:o,complete:r});this.subscribe(t)})}_subscribe(n){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(n)}[Gc](){return this}pipe(...n){return um(n)(this)}toPromise(n){return n=P8(n),new n((s,r)=>{let o;this.subscribe(t=>o=t,t=>r(t),()=>s(o))})}}return e.create=i=>new e(i),e})();function P8(e){var i;return(i=e??ds.Promise)!==null&&i!==void 0?i:Promise}function WO(e){return e&&gt(e.next)&&gt(e.error)&&gt(e.complete)}function HO(e){return e&&e instanceof wl||WO(e)&&Z1(e)}function hm(e){return gt(e?.lift)}function tt(e){return i=>{if(hm(i))return i.lift(function(n){try{return e(n,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(e,i,n,s,r){return new ed(e,i,n,s,r)}var ed=class extends wl{constructor(i,n,s,r,o,t){super(i),this.onFinalize=o,this.shouldUnsubscribe=t,this._next=n?function(a){try{n(a)}catch(p){i.error(p)}}:super._next,this._error=r?function(a){try{r(a)}catch(p){i.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(a){i.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((i=this.onFinalize)===null||i===void 0||i.call(this))}}};function zc(){return tt((e,i)=>{let n=null;e._refCount++;let s=Qe(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),i.unsubscribe()});e.subscribe(s),s.closed||(n=e.connect())})}var Wc=class extends dt{constructor(i,n){super(),this.source=i,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hm(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){let i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new vn;let n=this.getSubject();i.add(this.source.subscribe(Qe(n,void 0,()=>{this._teardown(),n.complete()},s=>{this._teardown(),n.error(s)},()=>this._teardown()))),i.closed&&(this._connection=null,i=vn.EMPTY)}return i}refCount(){return zc()(this)}};var N8=po(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class e extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let s=new J1(this,this);return s.operator=n,s}_throwIfClosed(){if(this.closed)throw new N8}next(n){Vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let s of this.currentObservers)s.next(n)}})}error(n){Vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:s}=this;for(;s.length;)s.shift().error(n)}})}complete(){Vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:s,isStopped:r,observers:o}=this;return s||r?rm:(this.currentObservers=null,o.push(n),new vn(()=>{this.currentObservers=null,Ml(o,n)}))}_checkFinalizedStatuses(n){let{hasError:s,thrownError:r,isStopped:o}=this;s?n.error(r):o&&n.complete()}asObservable(){let n=new dt;return n.source=this,n}}return e.create=(i,n)=>new J1(i,n),e})(),J1=class extends ot{constructor(i,n){super(),this.destination=i,this.source=n}next(i){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,i)}error(i){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,i)}complete(){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||n===void 0||n.call(i)}_subscribe(i){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(i))!==null&&s!==void 0?s:rm}};var xt=class extends ot{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){let n=super._subscribe(i);return!n.closed&&i.next(this._value),n}getValue(){let{hasError:i,thrownError:n,_value:s}=this;if(i)throw n;return this._throwIfClosed(),s}next(i){super.next(this._value=i)}};var td={now(){return(td.delegate||Date).now()},delegate:void 0};var Sl=class extends ot{constructor(i=1/0,n=1/0,s=td){super(),this._bufferSize=i,this._windowTime=n,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,n)}next(i){let{isStopped:n,_buffer:s,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:t}=this;n||(s.push(i),!r&&s.push(o.now()+t)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(i),{_infiniteTimeWindow:s,_buffer:r}=this,o=r.slice();for(let t=0;t<o.length&&!i.closed;t+=s?1:2)i.next(o[t]);return this._checkFinalizedStatuses(i),n}_trimBuffer(){let{_bufferSize:i,_timestampProvider:n,_buffer:s,_infiniteTimeWindow:r}=this,o=(r?1:2)*i;if(i<1/0&&o<s.length&&s.splice(0,s.length-o),!r){let t=n.now(),a=0;for(let p=1;p<s.length&&s[p]<=t;p+=2)a=p;a&&s.splice(0,a+1)}}};var K1=class extends vn{constructor(i,n){super()}schedule(i,n=0){return this}};var nd={setInterval(e,i,...n){let{delegate:s}=nd;return s?.setInterval?s.setInterval(e,i,...n):setInterval(e,i,...n)},clearInterval(e){let{delegate:i}=nd;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};var Hc=class extends K1{constructor(i,n){super(i,n),this.scheduler=i,this.work=n,this.pending=!1}schedule(i,n=0){var s;if(this.closed)return this;this.state=i;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(o,this.id,n),this}requestAsyncId(i,n,s=0){return nd.setInterval(i.flush.bind(i,this),s)}recycleAsyncId(i,n,s=0){if(s!=null&&this.delay===s&&this.pending===!1)return n;n!=null&&nd.clearInterval(n)}execute(i,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let s=this._execute(i,n);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,n){let s=!1,r;try{this.work(i)}catch(o){s=!0,r=o||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:i,scheduler:n}=this,{actions:s}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ml(s,this),i!=null&&(this.id=this.recycleAsyncId(n,i,null)),this.delay=null,super.unsubscribe()}}};var jc=class e{constructor(i,n=e.now){this.schedulerActionCtor=i,this.now=n}schedule(i,n=0,s){return new this.schedulerActionCtor(this,i).schedule(s,n)}};jc.now=td.now;var Yc=class extends jc{constructor(i,n=jc.now){super(i,n),this.actions=[],this._active=!1}flush(i){let{actions:n}=this;if(this._active){n.push(i);return}let s;this._active=!0;do if(s=i.execute(i.state,i.delay))break;while(i=n.shift());if(this._active=!1,s){for(;i=n.shift();)i.unsubscribe();throw s}}};var Il=new Yc(Hc),B8=Il;var Q1=class extends Hc{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}schedule(i,n=0){return n>0?super.schedule(i,n):(this.delay=n,this.state=i,this.scheduler.flush(this),this)}execute(i,n){return n>0||this.closed?super.execute(i,n):this._execute(i,n)}requestAsyncId(i,n,s=0){return s!=null&&s>0||s==null&&this.delay>0?super.requestAsyncId(i,n,s):(i.flush(this),0)}};var _1=class extends Yc{};var id=new _1(Q1);var ii=new dt(e=>e.complete());function q1(e){return e&&gt(e.schedule)}function dm(e){return e[e.length-1]}function Uc(e){return gt(dm(e))?e.pop():void 0}function zs(e){return q1(dm(e))?e.pop():void 0}function V8(e,i){return typeof dm(e)=="number"?e.pop():i}function z(e,i,n,s){var r=arguments.length,o=r<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,n):s,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,i,n,s);else for(var a=e.length-1;a>=0;a--)(t=e[a])&&(o=(r<3?t(o):r>3?t(i,n,o):t(i,n))||o);return r>3&&o&&Object.defineProperty(i,n,o),o}function z8(e,i,n,s){function r(o){return o instanceof n?o:new n(function(t){t(o)})}return new(n||(n=Promise))(function(o,t){function a(u){try{c(s.next(u))}catch(h){t(h)}}function p(u){try{c(s.throw(u))}catch(h){t(h)}}function c(u){u.done?o(u.value):r(u.value).then(a,p)}c((s=s.apply(e,i||[])).next())})}function G8(e){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&e[i],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function kl(e){return this instanceof kl?(this.v=e,this):new kl(e)}function W8(e,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,i||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",t),r[Symbol.asyncIterator]=function(){return this},r;function t(d){return function(v){return Promise.resolve(v).then(d,h)}}function a(d,v){s[d]&&(r[d]=function(f){return new Promise(function(g,m){o.push([d,f,g,m])>1||p(d,f)})},v&&(r[d]=v(r[d])))}function p(d,v){try{c(s[d](v))}catch(f){l(o[0][3],f)}}function c(d){d.value instanceof kl?Promise.resolve(d.value.v).then(u,h):l(o[0][2],d)}function u(d){p("next",d)}function h(d){p("throw",d)}function l(d,v){d(v),o.shift(),o.length&&p(o[0][0],o[0][1])}}function H8(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e[Symbol.asyncIterator],n;return i?i.call(e):(e=typeof G8=="function"?G8(e):e[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(o){n[o]=e[o]&&function(t){return new Promise(function(a,p){t=e[o](t),r(a,p,t.done,t.value)})}}function r(o,t,a,p){Promise.resolve(p).then(function(c){o({value:c,done:a})},t)}}var e0=e=>e&&typeof e.length=="number"&&typeof e!="function";function t0(e){return gt(e?.then)}function n0(e){return gt(e[Gc])}function i0(e){return Symbol.asyncIterator&&gt(e?.[Symbol.asyncIterator])}function r0(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var s0=jO();function a0(e){return gt(e?.[s0])}function o0(e){return W8(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:s,done:r}=yield kl(n.read());if(r)return yield kl(void 0);yield yield kl(s)}}finally{n.releaseLock()}})}function l0(e){return gt(e?.getReader)}function zt(e){if(e instanceof dt)return e;if(e!=null){if(n0(e))return YO(e);if(e0(e))return UO(e);if(t0(e))return ZO(e);if(i0(e))return j8(e);if(a0(e))return XO(e);if(l0(e))return $O(e)}throw r0(e)}function YO(e){return new dt(i=>{let n=e[Gc]();if(gt(n.subscribe))return n.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UO(e){return new dt(i=>{for(let n=0;n<e.length&&!i.closed;n++)i.next(e[n]);i.complete()})}function ZO(e){return new dt(i=>{e.then(n=>{i.closed||(i.next(n),i.complete())},n=>i.error(n)).then(null,X1)})}function XO(e){return new dt(i=>{for(let n of e)if(i.next(n),i.closed)return;i.complete()})}function j8(e){return new dt(i=>{JO(e,i).catch(n=>i.error(n))})}function $O(e){return j8(o0(e))}function JO(e,i){var n,s,r,o;return z8(this,void 0,void 0,function*(){try{for(n=H8(e);s=yield n.next(),!s.done;){let t=s.value;if(i.next(t),i.closed)return}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}i.complete()})}function Li(e,i,n,s=0,r=!1){let o=i.schedule(function(){n(),r?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(o),!r)return o}function Ma(e,i=0){return tt((n,s)=>{n.subscribe(Qe(s,r=>Li(s,e,()=>s.next(r),i),()=>Li(s,e,()=>s.complete(),i),r=>Li(s,e,()=>s.error(r),i)))})}function c0(e,i=0){return tt((n,s)=>{s.add(e.schedule(()=>n.subscribe(s),i))})}function Y8(e,i){return zt(e).pipe(c0(i),Ma(i))}function U8(e,i){return zt(e).pipe(c0(i),Ma(i))}function Z8(e,i){return new dt(n=>{let s=0;return i.schedule(function(){s===e.length?n.complete():(n.next(e[s++]),n.closed||this.schedule())})})}function X8(e,i){return new dt(n=>{let s;return Li(n,i,()=>{s=e[s0](),Li(n,i,()=>{let r,o;try{({value:r,done:o}=s.next())}catch(t){n.error(t);return}o?n.complete():n.next(r)},0,!0)}),()=>gt(s?.return)&&s.return()})}function u0(e,i){if(!e)throw new Error("Iterable cannot be null");return new dt(n=>{Li(n,i,()=>{let s=e[Symbol.asyncIterator]();Li(n,i,()=>{s.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function $8(e,i){return u0(o0(e),i)}function J8(e,i){if(e!=null){if(n0(e))return Y8(e,i);if(e0(e))return Z8(e,i);if(t0(e))return U8(e,i);if(i0(e))return u0(e,i);if(a0(e))return X8(e,i);if(l0(e))return $8(e,i)}throw r0(e)}function cn(e,i){return i?J8(e,i):zt(e)}function Xe(...e){let i=zs(e);return cn(e,i)}function vo(e,i){let n=gt(e)?e:()=>e,s=r=>r.error(n());return new dt(i?r=>i.schedule(s,0,r):s)}var go=class e{constructor(i,n,s){this.kind=i,this.value=n,this.error=s,this.hasValue=i==="N"}observe(i){return fm(this,i)}do(i,n,s){let{kind:r,value:o,error:t}=this;return r==="N"?i?.(o):r==="E"?n?.(t):s?.()}accept(i,n,s){var r;return gt((r=i)===null||r===void 0?void 0:r.next)?this.observe(i):this.do(i,n,s)}toObservable(){let{kind:i,value:n,error:s}=this,r=i==="N"?Xe(n):i==="E"?vo(()=>s):i==="C"?ii:0;if(!r)throw new TypeError(`Unexpected notification kind ${i}`);return r}static createNext(i){return new e("N",i)}static createError(i){return new e("E",void 0,i)}static createComplete(){return e.completeNotification}};go.completeNotification=new go("C");function fm(e,i){var n,s,r;let{kind:o,value:t,error:a}=e;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(n=i.next)===null||n===void 0||n.call(i,t):o==="E"?(s=i.error)===null||s===void 0||s.call(i,a):(r=i.complete)===null||r===void 0||r.call(i)}function Ca(e){return!!e&&(e instanceof dt||gt(e.lift)&&gt(e.subscribe))}var wa=po(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function h0(e){return e instanceof Date&&!isNaN(e)}var KO=po(e=>function(n=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function pm(e,i){let{first:n,each:s,with:r=QO,scheduler:o=i??Il,meta:t=null}=h0(e)?{first:e}:typeof e=="number"?{each:e}:e;if(n==null&&s==null)throw new TypeError("No timeout provided.");return tt((a,p)=>{let c,u,h=null,l=0,d=v=>{u=Li(p,o,()=>{try{c.unsubscribe(),zt(r({meta:t,lastValue:h,seen:l})).subscribe(p)}catch(f){p.error(f)}},v)};c=a.subscribe(Qe(p,v=>{u?.unsubscribe(),l++,p.next(h=v),s>0&&d(s)},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),h=null})),!l&&d(n!=null?typeof n=="number"?n:+n-o.now():s)})}function QO(e){throw new KO(e)}function ze(e,i){return tt((n,s)=>{let r=0;n.subscribe(Qe(s,o=>{s.next(e.call(i,o,r++))}))})}var{isArray:_O}=Array;function qO(e,i){return _O(i)?e(...i):e(i)}function d0(e){return ze(i=>qO(e,i))}var{isArray:eF}=Array,{getPrototypeOf:tF,prototype:nF,keys:iF}=Object;function f0(e){if(e.length===1){let i=e[0];if(eF(i))return{args:i,keys:null};if(rF(i)){let n=iF(i);return{args:n.map(s=>i[s]),keys:n}}}return{args:e,keys:null}}function rF(e){return e&&typeof e=="object"&&tF(e)===nF}function p0(e,i){return e.reduce((n,s,r)=>(n[s]=i[r],n),{})}function fs(...e){let i=zs(e),n=Uc(e),{args:s,keys:r}=f0(e);if(s.length===0)return cn([],i);let o=new dt(sF(s,i,r?t=>p0(r,t):Si));return n?o.pipe(d0(n)):o}function sF(e,i,n=Si){return s=>{K8(i,()=>{let{length:r}=e,o=new Array(r),t=r,a=r;for(let p=0;p<r;p++)K8(i,()=>{let c=cn(e[p],i),u=!1;c.subscribe(Qe(s,h=>{o[p]=h,u||(u=!0,a--),a||s.next(n(o.slice()))},()=>{--t||s.complete()}))},s)},s)}}function K8(e,i,n){e?Li(n,e,i):i()}function Q8(e,i,n,s,r,o,t,a){let p=[],c=0,u=0,h=!1,l=()=>{h&&!p.length&&!c&&i.complete()},d=f=>c<s?v(f):p.push(f),v=f=>{o&&i.next(f),c++;let g=!1;zt(n(f,u++)).subscribe(Qe(i,m=>{r?.(m),o?d(m):i.next(m)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;p.length&&c<s;){let m=p.shift();t?Li(i,t,()=>v(m)):v(m)}l()}catch(m){i.error(m)}}))};return e.subscribe(Qe(i,d,()=>{h=!0,l()})),()=>{a?.()}}function Tn(e,i,n=1/0){return gt(i)?Tn((s,r)=>ze((o,t)=>i(s,o,r,t))(zt(e(s,r))),n):(typeof i=="number"&&(n=i),tt((s,r)=>Q8(s,r,e,n)))}function Ws(e=1/0){return Tn(Si,e)}function _8(){return Ws(1)}function ps(...e){return _8()(cn(e,zs(e)))}function mo(e){return new dt(i=>{zt(e()).subscribe(i)})}function rd(...e){let i=Uc(e),{args:n,keys:s}=f0(e),r=new dt(o=>{let{length:t}=n;if(!t){o.complete();return}let a=new Array(t),p=t,c=t;for(let u=0;u<t;u++){let h=!1;zt(n[u]).subscribe(Qe(o,l=>{h||(h=!0,c--),a[u]=l},()=>p--,void 0,()=>{(!p||!h)&&(c||o.next(s?p0(s,a):a),o.complete())}))}});return i?r.pipe(d0(i)):r}function sd(e=0,i,n=B8){let s=-1;return i!=null&&(q1(i)?n=i:s=i),new dt(r=>{let o=h0(e)?+e-n.now():e;o<0&&(o=0);let t=0;return n.schedule(function(){r.closed||(r.next(t++),0<=s?this.schedule(void 0,s):r.complete())},o)})}function v0(e=0,i=Il){return e<0&&(e=0),sd(e,e,i)}function Tl(...e){let i=zs(e),n=V8(e,1/0),s=e;return s.length?s.length===1?zt(s[0]):Ws(n)(cn(s,i)):ii}function en(e,i){return tt((n,s)=>{let r=0;n.subscribe(Qe(s,o=>e.call(i,o,r++)&&s.next(o)))})}function Hi(e){return tt((i,n)=>{let s=null,r=!1,o;s=i.subscribe(Qe(n,void 0,void 0,t=>{o=zt(e(t,Hi(e)(i))),s?(s.unsubscribe(),s=null,o.subscribe(n)):r=!0})),r&&(s.unsubscribe(),s=null,o.subscribe(n))})}function q8(e,i,n,s,r){return(o,t)=>{let a=n,p=i,c=0;o.subscribe(Qe(t,u=>{let h=c++;p=a?e(p,u,h):(a=!0,u),s&&t.next(p)},r&&(()=>{a&&t.next(p),t.complete()})))}}function ir(e,i){return gt(i)?Tn(e,i,1):Tn(e,1)}function vs(e,i=Il){return tt((n,s)=>{let r=null,o=null,t=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,s.next(c)}};function p(){let c=t+e,u=i.now();if(u<c){r=this.schedule(void 0,c-u),s.add(r);return}a()}n.subscribe(Qe(s,c=>{o=c,t=i.now(),r||(r=i.schedule(p,e),s.add(r))},()=>{a(),s.complete()},void 0,()=>{o=r=null}))})}function yo(e){return tt((i,n)=>{let s=!1;i.subscribe(Qe(n,r=>{s=!0,n.next(r)},()=>{s||n.next(e),n.complete()}))})}function bn(e){return e<=0?()=>ii:tt((i,n)=>{let s=0;i.subscribe(Qe(n,r=>{++s<=e&&(n.next(r),e<=s&&n.complete())}))})}function vm(){return tt((e,i)=>{e.subscribe(Qe(i,xa))})}function gm(){return tt((e,i)=>{e.subscribe(Qe(i,n=>fm(n,i)))})}function gs(e,i=Si){return e=e??aF,tt((n,s)=>{let r,o=!0;n.subscribe(Qe(s,t=>{let a=i(t);(o||!e(r,a))&&(o=!1,r=a,s.next(t))}))})}function aF(e,i){return e===i}function g0(e=oF){return tt((i,n)=>{let s=!1;i.subscribe(Qe(n,r=>{s=!0,n.next(r)},()=>s?n.complete():n.error(e())))})}function oF(){return new wa}function m0(e,i){return i?n=>n.pipe(m0((s,r)=>zt(e(s,r)).pipe(ze((o,t)=>i(s,o,r,t))))):tt((n,s)=>{let r=0,o=null,t=!1;n.subscribe(Qe(s,a=>{o||(o=Qe(s,void 0,()=>{o=null,t&&s.complete()}),zt(e(a,r++)).subscribe(o))},()=>{t=!0,!o&&s.complete()}))})}function Sa(e){return tt((i,n)=>{try{i.subscribe(n)}finally{n.add(e)}})}function Ia(e,i){let n=arguments.length>=2;return s=>s.pipe(e?en((r,o)=>e(r,o,s)):Si,bn(1),n?yo(i):g0(()=>new wa))}function y0(e,i,n,s){return tt((r,o)=>{let t;!i||typeof i=="function"?t=i:{duration:n,element:t,connector:s}=i;let a=new Map,p=v=>{a.forEach(v),v(o)},c=v=>p(f=>f.error(v)),u=0,h=!1,l=new ed(o,v=>{try{let f=e(v),g=a.get(f);if(!g){a.set(f,g=s?s():new ot);let m=d(f,g);if(o.next(m),n){let x=Qe(g,()=>{g.complete(),x?.unsubscribe()},void 0,void 0,()=>a.delete(f));l.add(zt(n(m)).subscribe(x))}}g.next(t?t(v):v)}catch(f){c(f)}},()=>p(v=>v.complete()),c,()=>a.clear(),()=>(h=!0,u===0));r.subscribe(l);function d(v,f){let g=new dt(m=>{u++;let x=f.subscribe(m);return()=>{x.unsubscribe(),--u===0&&h&&l.unsubscribe()}});return g.key=v,g}})}function Zc(e){return e<=0?()=>ii:tt((i,n)=>{let s=[];i.subscribe(Qe(n,r=>{s.push(r),e<s.length&&s.shift()},()=>{for(let r of s)n.next(r);n.complete()},void 0,()=>{s=null}))})}function mm(e,i){let n=arguments.length>=2;return s=>s.pipe(e?en((r,o)=>e(r,o,s)):Si,Zc(1),n?yo(i):g0(()=>new wa))}function ym(){return tt((e,i)=>{e.subscribe(Qe(i,n=>{i.next(go.createNext(n))},()=>{i.next(go.createComplete()),i.complete()},n=>{i.next(go.createError(n)),i.complete()}))})}function xm(...e){let i=e.length;if(i===0)throw new Error("list of properties cannot be empty.");return ze(n=>{let s=n;for(let r=0;r<i;r++){let o=s?.[e[r]];if(typeof o<"u")s=o;else return}return s})}function El(e,i){return tt(q8(e,i,arguments.length>=2,!0))}function ad(e={}){let{connector:i=()=>new ot,resetOnError:n=!0,resetOnComplete:s=!0,resetOnRefCountZero:r=!0}=e;return o=>{let t,a,p,c=0,u=!1,h=!1,l=()=>{a?.unsubscribe(),a=void 0},d=()=>{l(),t=p=void 0,u=h=!1},v=()=>{let f=t;d(),f?.unsubscribe()};return tt((f,g)=>{c++,!h&&!u&&l();let m=p=p??i();g.add(()=>{c--,c===0&&!h&&!u&&(a=bm(v,r))}),m.subscribe(g),!t&&c>0&&(t=new ba({next:x=>m.next(x),error:x=>{h=!0,l(),a=bm(d,n,x),m.error(x)},complete:()=>{u=!0,l(),a=bm(d,s),m.complete()}}),zt(f).subscribe(t))})(o)}}function bm(e,i,...n){if(i===!0){e();return}if(i===!1)return;let s=new ba({next:()=>{s.unsubscribe(),e()}});return zt(i(...n)).subscribe(s)}function x0(e,i,n){let s,r=!1;return e&&typeof e=="object"?{bufferSize:s=1/0,windowTime:i=1/0,refCount:r=!1,scheduler:n}=e:s=e??1/0,ad({connector:()=>new Sl(s,i,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function od(e){return en((i,n)=>e<=n)}function ld(...e){let i=zs(e);return tt((n,s)=>{(i?ps(e,n,i):ps(e,n)).subscribe(s)})}function En(e,i){return tt((n,s)=>{let r=null,o=0,t=!1,a=()=>t&&!r&&s.complete();n.subscribe(Qe(s,p=>{r?.unsubscribe();let c=0,u=o++;zt(e(p,u)).subscribe(r=Qe(s,h=>s.next(i?i(p,h,u,c++):h),()=>{r=null,a()}))},()=>{t=!0,a()}))})}function Wt(e){return tt((i,n)=>{zt(e).subscribe(Qe(n,()=>n.complete(),xa)),!n.closed&&i.subscribe(n)})}function dn(e,i,n){let s=gt(e)||i||n?{next:e,error:i,complete:n}:e;return s?tt((r,o)=>{var t;(t=s.subscribe)===null||t===void 0||t.call(s);let a=!0;r.subscribe(Qe(o,p=>{var c;(c=s.next)===null||c===void 0||c.call(s,p),o.next(p)},()=>{var p;a=!1,(p=s.complete)===null||p===void 0||p.call(s),o.complete()},p=>{var c;a=!1,(c=s.error)===null||c===void 0||c.call(s,p),o.error(p)},()=>{var p,c;a&&((p=s.unsubscribe)===null||p===void 0||p.call(s)),(c=s.finalize)===null||c===void 0||c.call(s)}))}):Si}function xo(...e){let i=Uc(e);return tt((n,s)=>{let r=e.length,o=new Array(r),t=e.map(()=>!1),a=!1;for(let p=0;p<r;p++)zt(e[p]).subscribe(Qe(s,c=>{o[p]=c,!a&&!t[p]&&(t[p]=!0,(a=t.every(Si))&&(t=null))},xa));n.subscribe(Qe(s,p=>{if(a){let c=[p,...o];s.next(i?i(...c):c)}}))})}var P9="https://g.co/ng/security#xss",Ue=class extends Error{code;constructor(i,n){super(np(i,n)),this.code=i}};function np(e,i){return`${`NG0${Math.abs(e)}`}${i?": "+i:""}`}var N9=Symbol("InputSignalNode#UNSET"),lF=Se(q({},im),{transformFn:void 0,applyValueToInputSignal(e,i){Y1(e,i)}});function B9(e,i){let n=Object.create(lF);n.value=e,n.transformFn=i?.transform;function s(){if(W1(n),n.value===N9)throw new Ue(-950,!1);return n.value}return s[nr]=n,s}function Cd(e){return{toString:e}.toString()}var b0="__parameters__";function cF(e){return function(...n){if(e){let s=e(...n);for(let r in s)this[r]=s[r]}}}function Ry(e,i,n){return Cd(()=>{let s=cF(i);function r(...o){if(this instanceof r)return s.apply(this,o),this;let t=new r(...o);return a.annotation=t,a;function a(p,c,u){let h=p.hasOwnProperty(b0)?p[b0]:Object.defineProperty(p,b0,{value:[]})[b0];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(t),p}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Ll=globalThis;function fn(e){for(let i in e)if(e[i]===fn)return i;throw Error("Could not find renamed property on target object.")}function uF(e,i){for(let n in i)i.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=i[n])}function Yi(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Yi).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let i=e.toString();if(i==null)return""+i;let n=i.indexOf(`
`);return n===-1?i:i.substring(0,n)}function Om(e,i){return e==null||e===""?i===null?"":i:i==null||i===""?e:e+" "+i}var hF=fn({__forward_ref__:fn});function Da(e){return e.__forward_ref__=Da,e.toString=function(){return Yi(this())},e}function ji(e){return V9(e)?e():e}function V9(e){return typeof e=="function"&&e.hasOwnProperty(hF)&&e.__forward_ref__===Da}function Ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ip(e){return e9(e,z9)||e9(e,W9)}function G9(e){return ip(e)!==null}function e9(e,i){return e.hasOwnProperty(i)?e[i]:null}function dF(e){let i=e&&(e[z9]||e[W9]);return i||null}function t9(e){return e&&(e.hasOwnProperty(n9)||e.hasOwnProperty(fF))?e[n9]:null}var z9=fn({\u0275prov:fn}),n9=fn({\u0275inj:fn}),W9=fn({ngInjectableDef:fn}),fF=fn({ngInjectorDef:fn}),xe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(i,n){this._desc=i,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function H9(e){return e&&!!e.\u0275providers}var pF=fn({\u0275cmp:fn}),vF=fn({\u0275dir:fn}),gF=fn({\u0275pipe:fn}),mF=fn({\u0275mod:fn}),R0=fn({\u0275fac:fn}),dd=fn({__NG_ELEMENT_ID__:fn}),i9=fn({__NG_ENV_ID__:fn});function qc(e){return typeof e=="string"?e:e==null?"":String(e)}function yF(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():qc(e)}function xF(e,i){let n=i?`. Dependency path: ${i.join(" > ")} > ${e}`:"";throw new Ue(-200,e)}function Dy(e,i){throw new Ue(-201,!1)}var Et=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Et||{}),Fm;function j9(){return Fm}function rr(e){let i=Fm;return Fm=e,i}function Y9(e,i,n){let s=ip(e);if(s&&s.providedIn=="root")return s.value===void 0?s.value=s.factory():s.value;if(n&Et.Optional)return null;if(i!==void 0)return i;Dy(e,"Injector")}var bF={},fd=bF,Pm="__NG_DI_FLAG__",D0="ngTempTokenPath",MF="ngTokenPath",CF=/\n/gm,wF="\u0275",r9="__source",Qc;function SF(){return Qc}function bo(e){let i=Qc;return Qc=e,i}function IF(e,i=Et.Default){if(Qc===void 0)throw new Ue(-203,!1);return Qc===null?Y9(e,void 0,i):Qc.get(e,i&Et.Optional?null:void 0,i)}function pe(e,i=Et.Default){return(j9()||IF)(ji(e),i)}function ve(e,i=Et.Default){return pe(e,rp(i))}function rp(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Nm(e){let i=[];for(let n=0;n<e.length;n++){let s=ji(e[n]);if(Array.isArray(s)){if(s.length===0)throw new Ue(900,!1);let r,o=Et.Default;for(let t=0;t<s.length;t++){let a=s[t],p=kF(a);typeof p=="number"?p===-1?r=a.token:o|=p:r=a}i.push(pe(r,o))}else i.push(pe(s))}return i}function Oy(e,i){return e[Pm]=i,e.prototype[Pm]=i,e}function kF(e){return e[Pm]}function TF(e,i,n,s){let r=e[D0];throw i[r9]&&r.unshift(i[r9]),e.message=EF(`
`+e.message,r,n,s),e[MF]=r,e[D0]=null,e}function EF(e,i,n,s=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==wF?e.slice(2):e;let r=Yi(i);if(Array.isArray(i))r=i.map(Yi).join(" -> ");else if(typeof i=="object"){let o=[];for(let t in i)if(i.hasOwnProperty(t)){let a=i[t];o.push(t+":"+(typeof a=="string"?JSON.stringify(a):Yi(a)))}r=`{${o.join(", ")}}`}return`${n}${s?"("+s+")":""}[${r}]: ${e.replace(CF,`
  `)}`}var Fy=Oy(Ry("Inject",e=>({token:e})),-1),sp=Oy(Ry("Optional"),8);var AF=Oy(Ry("SkipSelf"),4);function Dl(e,i){let n=e.hasOwnProperty(R0);return n?e[R0]:null}function LF(e,i,n){if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++){let r=e[s],o=i[s];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function RF(e){return e.flat(Number.POSITIVE_INFINITY)}function Py(e,i){e.forEach(n=>Array.isArray(n)?Py(n,i):i(n))}function U9(e,i,n){i>=e.length?e.push(n):e.splice(i,0,n)}function O0(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function DF(e,i){let n=[];for(let s=0;s<e;s++)n.push(i);return n}function OF(e,i,n,s){let r=e.length;if(r==i)e.push(n,s);else if(r===1)e.push(s,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>i;){let o=r-2;e[r]=e[o],r--}e[i]=n,e[i+1]=s}}function Ny(e,i,n){let s=wd(e,i);return s>=0?e[s|1]=n:(s=~s,OF(e,s,i,n)),s}function Mm(e,i){let n=wd(e,i);if(n>=0)return e[n|1]}function wd(e,i){return FF(e,i,1)}function FF(e,i,n){let s=0,r=e.length>>n;for(;r!==s;){let o=s+(r-s>>1),t=e[o<<n];if(i===t)return o<<n;t>i?r=o:s=o+1}return~(r<<n)}var eu={},sr=[],wo=new xe(""),Z9=new xe("",-1),X9=new xe(""),F0=class{get(i,n=fd){if(n===fd){let s=new Error(`NullInjectorError: No provider for ${Yi(i)}!`);throw s.name="NullInjectorError",s}return n}};function $9(e,i){let n=e[mF]||null;if(!n&&i===!0)throw new Error(`Type ${Yi(e)} does not have '\u0275mod' property.`);return n}function So(e){return e[pF]||null}function J9(e){return e[vF]||null}function K9(e){return e[gF]||null}function Q9(e){let i=So(e)||J9(e)||K9(e);return i!==null&&i.standalone}function bs(e){return{\u0275providers:e}}function By(...e){return{\u0275providers:_9(!0,e),\u0275fromNgModule:!0}}function _9(e,...i){let n=[],s=new Set,r,o=t=>{n.push(t)};return Py(i,t=>{let a=t;Bm(a,o,[],s)&&(r||=[],r.push(a))}),r!==void 0&&q9(r,o),n}function q9(e,i){for(let n=0;n<e.length;n++){let{ngModule:s,providers:r}=e[n];Vy(r,o=>{i(o,s)})}}function Bm(e,i,n,s){if(e=ji(e),!e)return!1;let r=null,o=t9(e),t=!o&&So(e);if(!o&&!t){let p=e.ngModule;if(o=t9(p),o)r=p;else return!1}else{if(t&&!t.standalone)return!1;r=e}let a=s.has(r);if(t){if(a)return!1;if(s.add(r),t.dependencies){let p=typeof t.dependencies=="function"?t.dependencies():t.dependencies;for(let c of p)Bm(c,i,n,s)}}else if(o){if(o.imports!=null&&!a){s.add(r);let c;try{Py(o.imports,u=>{Bm(u,i,n,s)&&(c||=[],c.push(u))})}finally{}c!==void 0&&q9(c,i)}if(!a){let c=Dl(r)||(()=>new r);i({provide:r,useFactory:c,deps:sr},r),i({provide:X9,useValue:r,multi:!0},r),i({provide:wo,useValue:()=>pe(r),multi:!0},r)}let p=o.providers;if(p!=null&&!a){let c=e;Vy(p,u=>{i(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Vy(e,i){for(let n of e)H9(n)&&(n=n.\u0275providers),Array.isArray(n)?Vy(n,i):i(n)}var PF=fn({provide:String,useValue:fn});function eM(e){return e!==null&&typeof e=="object"&&PF in e}function NF(e){return!!(e&&e.useExisting)}function BF(e){return!!(e&&e.useFactory)}function tu(e){return typeof e=="function"}function VF(e){return!!e.useClass}var ap=new xe(""),S0={},GF={},Cm;function Gy(){return Cm===void 0&&(Cm=new F0),Cm}var Ui=class{},pd=class extends Ui{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(i,n,s,r){super(),this.parent=n,this.source=s,this.scopes=r,Gm(i,t=>this.processProvider(t)),this.records.set(Z9,Xc(void 0,this)),r.has("environment")&&this.records.set(Ui,Xc(void 0,this));let o=this.records.get(ap);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(X9,sr,Et.Self))}destroy(){ud(this),this._destroyed=!0;let i=Gt(null);try{for(let s of this._ngOnDestroyHooks)s.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Gt(i)}}onDestroy(i){return ud(this),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){ud(this);let n=bo(this),s=rr(void 0),r;try{return i()}finally{bo(n),rr(s)}}get(i,n=fd,s=Et.Default){if(ud(this),i.hasOwnProperty(i9))return i[i9](this);s=rp(s);let r,o=bo(this),t=rr(void 0);try{if(!(s&Et.SkipSelf)){let p=this.records.get(i);if(p===void 0){let c=YF(i)&&ip(i);c&&this.injectableDefInScope(c)?p=Xc(Vm(i),S0):p=null,this.records.set(i,p)}if(p!=null)return this.hydrate(i,p)}let a=s&Et.Self?Gy():this.parent;return n=s&Et.Optional&&n===fd?null:n,a.get(i,n)}catch(a){if(a.name==="NullInjectorError"){if((a[D0]=a[D0]||[]).unshift(Yi(i)),o)throw a;return TF(a,i,"R3InjectorError",this.source)}else throw a}finally{rr(t),bo(o)}}resolveInjectorInitializers(){let i=Gt(null),n=bo(this),s=rr(void 0),r;try{let o=this.get(wo,sr,Et.Self);for(let t of o)t()}finally{bo(n),rr(s),Gt(i)}}toString(){let i=[],n=this.records;for(let s of n.keys())i.push(Yi(s));return`R3Injector[${i.join(", ")}]`}processProvider(i){i=ji(i);let n=tu(i)?i:ji(i&&i.provide),s=WF(i);if(!tu(i)&&i.multi===!0){let r=this.records.get(n);r||(r=Xc(void 0,S0,!0),r.factory=()=>Nm(r.multi),this.records.set(n,r)),n=i,r.multi.push(i)}this.records.set(n,s)}hydrate(i,n){let s=Gt(null);try{return n.value===S0&&(n.value=GF,n.value=n.factory()),typeof n.value=="object"&&n.value&&jF(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Gt(s)}}injectableDefInScope(i){if(!i.providedIn)return!1;let n=ji(i.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(i){let n=this._onDestroyHooks.indexOf(i);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vm(e){let i=ip(e),n=i!==null?i.factory:Dl(e);if(n!==null)return n;if(e instanceof xe)throw new Ue(204,!1);if(e instanceof Function)return zF(e);throw new Ue(204,!1)}function zF(e){if(e.length>0)throw new Ue(204,!1);let n=dF(e);return n!==null?()=>n.factory(e):()=>new e}function WF(e){if(eM(e))return Xc(void 0,e.useValue);{let i=tM(e);return Xc(i,S0)}}function tM(e,i,n){let s;if(tu(e)){let r=ji(e);return Dl(r)||Vm(r)}else if(eM(e))s=()=>ji(e.useValue);else if(BF(e))s=()=>e.useFactory(...Nm(e.deps||[]));else if(NF(e))s=()=>pe(ji(e.useExisting));else{let r=ji(e&&(e.useClass||e.provide));if(HF(e))s=()=>new r(...Nm(e.deps));else return Dl(r)||Vm(r)}return s}function ud(e){if(e.destroyed)throw new Ue(205,!1)}function Xc(e,i,n=!1){return{factory:e,value:i,multi:n?[]:void 0}}function HF(e){return!!e.deps}function jF(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function YF(e){return typeof e=="function"||typeof e=="object"&&e instanceof xe}function Gm(e,i){for(let n of e)Array.isArray(n)?Gm(n,i):n&&H9(n)?Gm(n.\u0275providers,i):i(n)}function or(e,i){e instanceof pd&&ud(e);let n,s=bo(e),r=rr(void 0);try{return i()}finally{bo(s),rr(r)}}function nM(){return j9()!==void 0||SF()!=null}function Sd(e){if(!nM())throw new Ue(-203,!1)}function UF(e){return typeof e=="function"}var Oa=0,Ot=1,pt=2,Ri=3,xs=4,lr=5,vd=6,P0=7,Vr=8,gd=9,ka=10,An=11,md=12,s9=13,cu=14,Gr=15,Ol=16,$c=17,Ta=18,op=19,iM=20,Mo=21,I0=22,Fl=23,Ir=24,Di=25,rM=1;var Pl=7,N0=8,nu=9,kr=10;function Co(e){return Array.isArray(e)&&typeof e[rM]=="object"}function Fa(e){return Array.isArray(e)&&e[rM]===!0}function zy(e){return(e.flags&4)!==0}function Hl(e){return e.componentOffset>-1}function lp(e){return(e.flags&1)===1}function Ea(e){return!!e.template}function B0(e){return(e[pt]&512)!==0}function Id(e){return(e[pt]&256)===256}var zm=class{previousValue;currentValue;firstChange;constructor(i,n,s){this.previousValue=i,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}};function sM(e,i,n,s){i!==null?i.applyValueToInputSignal(i,s):e[n]=s}var Oi=(()=>{let e=()=>aM;return e.ngInherit=!0,e})();function aM(e){return e.type.prototype.ngOnChanges&&(e.setInput=XF),ZF}function ZF(){let e=lM(this),i=e?.current;if(i){let n=e.previous;if(n===eu)e.previous=i;else for(let s in i)n[s]=i[s];e.current=null,this.ngOnChanges(i)}}function XF(e,i,n,s,r){let o=this.declaredInputs[s],t=lM(e)||$F(e,{previous:eu,current:null}),a=t.current||(t.current={}),p=t.previous,c=p[o];a[o]=new zm(c&&c.currentValue,n,p===eu),sM(e,i,r,n)}var oM="__ngSimpleChanges__";function lM(e){return e[oM]||null}function $F(e,i){return e[oM]=i}var a9=null;var Br=function(e,i,n){a9?.(e,i,n)},JF="svg",KF="math";function js(e){for(;Array.isArray(e);)e=e[Oa];return e}function cM(e,i){return js(i[e])}function Ms(e,i){return js(i[e.index])}function uM(e,i){return e.data[i]}function Wy(e,i){return e[i]}function Ys(e,i){let n=i[e];return Co(n)?n:n[Oa]}function QF(e){return(e[pt]&4)===4}function Hy(e){return(e[pt]&128)===128}function _F(e){return Fa(e[Ri])}function iu(e,i){return i==null?null:e[i]}function hM(e){e[$c]=0}function jy(e){e[pt]&1024||(e[pt]|=1024,Hy(e)&&kd(e))}function qF(e,i){for(;e>0;)i=i[cu],e--;return i}function cp(e){return!!(e[pt]&9216||e[Ir]?.dirty)}function Wm(e){e[ka].changeDetectionScheduler?.notify(9),e[pt]&64&&(e[pt]|=1024),cp(e)&&kd(e)}function kd(e){e[ka].changeDetectionScheduler?.notify(0);let i=Nl(e);for(;i!==null&&!(i[pt]&8192||(i[pt]|=8192,!Hy(i)));)i=Nl(i)}function dM(e,i){if(Id(e))throw new Ue(911,!1);e[Mo]===null&&(e[Mo]=[]),e[Mo].push(i)}function eP(e,i){if(e[Mo]===null)return;let n=e[Mo].indexOf(i);n!==-1&&e[Mo].splice(n,1)}function Nl(e){let i=e[Ri];return Fa(i)?i[Ri]:i}function fM(e){return e[P0]??=[]}function pM(e){return e.cleanup??=[]}function tP(e,i,n,s){let r=fM(i);r.push(n),e.firstCreatePass&&pM(e).push(s,r.length-1)}var Tt={lFrame:MM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hm=!1;function nP(){return Tt.lFrame.elementDepthCount}function iP(){Tt.lFrame.elementDepthCount++}function rP(){Tt.lFrame.elementDepthCount--}function up(){return Tt.bindingsEnabled}function vM(){return Tt.skipHydrationRootTNode!==null}function sP(e){return Tt.skipHydrationRootTNode===e}function aP(){Tt.skipHydrationRootTNode=null}function bt(){return Tt.lFrame.lView}function Xn(){return Tt.lFrame.tView}function Mt(e){return Tt.lFrame.contextLView=e,e[Vr]}function Ct(e){return Tt.lFrame.contextLView=null,e}function Fi(){let e=gM();for(;e!==null&&e.type===64;)e=e.parent;return e}function gM(){return Tt.lFrame.currentTNode}function oP(){let e=Tt.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}function jl(e,i){let n=Tt.lFrame;n.currentTNode=e,n.isParent=i}function Yy(){return Tt.lFrame.isParent}function Uy(){Tt.lFrame.isParent=!1}function lP(){return Tt.lFrame.contextLView}function mM(){return Hm}function V0(e){let i=Hm;return Hm=e,i}function Td(){let e=Tt.lFrame,i=e.bindingRootIndex;return i===-1&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function cP(){return Tt.lFrame.bindingIndex}function uP(e){return Tt.lFrame.bindingIndex=e}function hp(){return Tt.lFrame.bindingIndex++}function Zy(e){let i=Tt.lFrame,n=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,n}function hP(){return Tt.lFrame.inI18n}function dP(e,i){let n=Tt.lFrame;n.bindingIndex=n.bindingRootIndex=e,jm(i)}function fP(){return Tt.lFrame.currentDirectiveIndex}function jm(e){Tt.lFrame.currentDirectiveIndex=e}function pP(e){let i=Tt.lFrame.currentDirectiveIndex;return i===-1?null:e[i]}function yM(){return Tt.lFrame.currentQueryIndex}function Xy(e){Tt.lFrame.currentQueryIndex=e}function vP(e){let i=e[Ot];return i.type===2?i.declTNode:i.type===1?e[lr]:null}function xM(e,i,n){if(n&Et.SkipSelf){let r=i,o=e;for(;r=r.parent,r===null&&!(n&Et.Host);)if(r=vP(o),r===null||(o=o[cu],r.type&10))break;if(r===null)return!1;i=r,e=o}let s=Tt.lFrame=bM();return s.currentTNode=i,s.lView=e,!0}function $y(e){let i=bM(),n=e[Ot];Tt.lFrame=i,i.currentTNode=n.firstChild,i.lView=e,i.tView=n,i.contextLView=e,i.bindingIndex=n.bindingStartIndex,i.inI18n=!1}function bM(){let e=Tt.lFrame,i=e===null?null:e.child;return i===null?MM(e):i}function MM(e){let i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=i),i}function CM(){let e=Tt.lFrame;return Tt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var wM=CM;function Jy(){let e=CM();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gP(e){return(Tt.lFrame.contextLView=qF(e,Tt.lFrame.contextLView))[Vr]}function To(){return Tt.lFrame.selectedIndex}function Bl(e){Tt.lFrame.selectedIndex=e}function dp(){let e=Tt.lFrame;return uM(e.tView,e.selectedIndex)}function mP(){return Tt.lFrame.currentNamespace}var SM=!0;function fp(){return SM}function pp(e){SM=e}function yP(e,i,n){let{ngOnChanges:s,ngOnInit:r,ngDoCheck:o}=i.type.prototype;if(s){let t=aM(i);(n.preOrderHooks??=[]).push(e,t),(n.preOrderCheckHooks??=[]).push(e,t)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Ky(e,i){for(let n=i.directiveStart,s=i.directiveEnd;n<s;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:t,ngAfterContentChecked:a,ngAfterViewInit:p,ngAfterViewChecked:c,ngOnDestroy:u}=o;t&&(e.contentHooks??=[]).push(-n,t),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),p&&(e.viewHooks??=[]).push(-n,p),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function k0(e,i,n){IM(e,i,3,n)}function T0(e,i,n,s){(e[pt]&3)===n&&IM(e,i,n,s)}function wm(e,i){let n=e[pt];(n&3)===i&&(n&=16383,n+=1,e[pt]=n)}function IM(e,i,n,s){let r=s!==void 0?e[$c]&65535:0,o=s??-1,t=i.length-1,a=0;for(let p=r;p<t;p++)if(typeof i[p+1]=="number"){if(a=i[p],s!=null&&a>=s)break}else i[p]<0&&(e[$c]+=65536),(a<o||o==-1)&&(xP(e,n,i,p),e[$c]=(e[$c]&4294901760)+p+2),p++}function o9(e,i){Br(4,e,i);let n=Gt(null);try{i.call(e)}finally{Gt(n),Br(5,e,i)}}function xP(e,i,n,s){let r=n[s]<0,o=n[s+1],t=r?-n[s]:n[s],a=e[t];r?e[pt]>>14<e[$c]>>16&&(e[pt]&3)===i&&(e[pt]+=16384,o9(a,o)):o9(a,o)}var _c=-1,Vl=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(i,n,s){this.factory=i,this.canSeeViewProviders=n,this.injectImpl=s}};function bP(e){return e instanceof Vl}function MP(e){return(e.flags&8)!==0}function CP(e){return(e.flags&16)!==0}function wP(e,i,n){let s=0;for(;s<n.length;){let r=n[s];if(typeof r=="number"){if(r!==0)break;s++;let o=n[s++],t=n[s++],a=n[s++];e.setAttribute(i,t,a,o)}else{let o=r,t=n[++s];SP(o)?e.setProperty(i,o,t):e.setAttribute(i,o,t),s++}}return s}function kM(e){return e===3||e===4||e===6}function SP(e){return e.charCodeAt(0)===64}function ru(e,i){if(!(i===null||i.length===0))if(e===null||e.length===0)e=i.slice();else{let n=-1;for(let s=0;s<i.length;s++){let r=i[s];typeof r=="number"?n=r:n===0||(n===-1||n===2?l9(e,n,r,null,i[++s]):l9(e,n,r,null,null))}}return e}function l9(e,i,n,s,r){let o=0,t=e.length;if(i===-1)t=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===i){t=-1;break}else if(a>i){t=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(s===null){r!==null&&(e[o+1]=r);return}else if(s===e[o+1]){e[o+2]=r;return}}o++,s!==null&&o++,r!==null&&o++}t!==-1&&(e.splice(t,0,i),o=t+1),e.splice(o++,0,n),s!==null&&e.splice(o++,0,s),r!==null&&e.splice(o++,0,r)}var Sm={},Ym=class{injector;parentInjector;constructor(i,n){this.injector=i,this.parentInjector=n}get(i,n,s){s=rp(s);let r=this.injector.get(i,Sm,s);return r!==Sm||n===Sm?r:this.parentInjector.get(i,n,s)}};function TM(e){return e!==_c}function G0(e){return e&32767}function IP(e){return e>>16}function z0(e,i){let n=IP(e),s=i;for(;n>0;)s=s[cu],n--;return s}var Um=!0;function W0(e){let i=Um;return Um=e,i}var kP=256,EM=kP-1,AM=5,TP=0,Hs={};function EP(e,i,n){let s;typeof n=="string"?s=n.charCodeAt(0)||0:n.hasOwnProperty(dd)&&(s=n[dd]),s==null&&(s=n[dd]=TP++);let r=s&EM,o=1<<r;i.data[e+(r>>AM)]|=o}function H0(e,i){let n=LM(e,i);if(n!==-1)return n;let s=i[Ot];s.firstCreatePass&&(e.injectorIndex=i.length,Im(s.data,e),Im(i,null),Im(s.blueprint,null));let r=Qy(e,i),o=e.injectorIndex;if(TM(r)){let t=G0(r),a=z0(r,i),p=a[Ot].data;for(let c=0;c<8;c++)i[o+c]=a[t+c]|p[t+c]}return i[o+8]=r,o}function Im(e,i){e.push(0,0,0,0,0,0,0,0,i)}function LM(e,i){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||i[e.injectorIndex+8]===null?-1:e.injectorIndex}function Qy(e,i){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,s=null,r=i;for(;r!==null;){if(s=PM(r),s===null)return _c;if(n++,r=r[cu],s.injectorIndex!==-1)return s.injectorIndex|n<<16}return _c}function Zm(e,i,n){EP(e,i,n)}function AP(e,i){if(i==="class")return e.classes;if(i==="style")return e.styles;let n=e.attrs;if(n){let s=n.length,r=0;for(;r<s;){let o=n[r];if(kM(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<s&&typeof n[r]=="string";)r++;else{if(o===i)return n[r+1];r=r+2}}}return null}function RM(e,i,n){if(n&Et.Optional||e!==void 0)return e;Dy(i,"NodeInjector")}function DM(e,i,n,s){if(n&Et.Optional&&s===void 0&&(s=null),!(n&(Et.Self|Et.Host))){let r=e[gd],o=rr(void 0);try{return r?r.get(i,s,n&Et.Optional):Y9(i,s,n&Et.Optional)}finally{rr(o)}}return RM(s,i,n)}function OM(e,i,n,s=Et.Default,r){if(e!==null){if(i[pt]&2048&&!(s&Et.Self)){let t=OP(e,i,n,s,Hs);if(t!==Hs)return t}let o=FM(e,i,n,s,Hs);if(o!==Hs)return o}return DM(i,n,s,r)}function FM(e,i,n,s,r){let o=RP(n);if(typeof o=="function"){if(!xM(i,e,s))return s&Et.Host?RM(r,n,s):DM(i,n,s,r);try{let t;if(t=o(s),t==null&&!(s&Et.Optional))Dy(n);else return t}finally{wM()}}else if(typeof o=="number"){let t=null,a=LM(e,i),p=_c,c=s&Et.Host?i[Gr][lr]:null;for((a===-1||s&Et.SkipSelf)&&(p=a===-1?Qy(e,i):i[a+8],p===_c||!u9(s,!1)?a=-1:(t=i[Ot],a=G0(p),i=z0(p,i)));a!==-1;){let u=i[Ot];if(c9(o,a,u.data)){let h=LP(a,i,n,t,s,c);if(h!==Hs)return h}p=i[a+8],p!==_c&&u9(s,i[Ot].data[a+8]===c)&&c9(o,a,i)?(t=u,a=G0(p),i=z0(p,i)):a=-1}}return r}function LP(e,i,n,s,r,o){let t=i[Ot],a=t.data[e+8],p=s==null?Hl(a)&&Um:s!=t&&(a.type&3)!==0,c=r&Et.Host&&o===a,u=E0(a,t,n,p,c);return u!==null?yd(i,t,u,a):Hs}function E0(e,i,n,s,r){let o=e.providerIndexes,t=i.data,a=o&1048575,p=e.directiveStart,c=e.directiveEnd,u=o>>20,h=s?a:a+u,l=r?a+u:c;for(let d=h;d<l;d++){let v=t[d];if(d<p&&n===v||d>=p&&v.type===n)return d}if(r){let d=t[p];if(d&&Ea(d)&&d.type===n)return p}return null}function yd(e,i,n,s){let r=e[n],o=i.data;if(bP(r)){let t=r;t.resolving&&xF(yF(o[n]));let a=W0(t.canSeeViewProviders);t.resolving=!0;let p,c=t.injectImpl?rr(t.injectImpl):null,u=xM(e,s,Et.Default);try{r=e[n]=t.factory(void 0,o,e,s),i.firstCreatePass&&n>=s.directiveStart&&yP(n,o[n],i)}finally{c!==null&&rr(c),W0(a),t.resolving=!1,wM()}}return r}function RP(e){if(typeof e=="string")return e.charCodeAt(0)||0;let i=e.hasOwnProperty(dd)?e[dd]:void 0;return typeof i=="number"?i>=0?i&EM:DP:i}function c9(e,i,n){let s=1<<e;return!!(n[i+(e>>AM)]&s)}function u9(e,i){return!(e&Et.Self)&&!(e&Et.Host&&i)}var Rl=class{_tNode;_lView;constructor(i,n){this._tNode=i,this._lView=n}get(i,n,s){return OM(this._tNode,this._lView,i,rp(s),n)}};function DP(){return new Rl(Fi(),bt())}function Zi(e){return Cd(()=>{let i=e.prototype.constructor,n=i[R0]||Xm(i),s=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==s;){let o=r[R0]||Xm(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Xm(e){return V9(e)?()=>{let i=Xm(ji(e));return i&&i()}:Dl(e)}function OP(e,i,n,s,r){let o=e,t=i;for(;o!==null&&t!==null&&t[pt]&2048&&!B0(t);){let a=FM(o,t,n,s|Et.Self,Hs);if(a!==Hs)return a;let p=o.parent;if(!p){let c=t[iM];if(c){let u=c.get(n,Hs,s);if(u!==Hs)return u}p=PM(t),t=t[cu]}o=p}return r}function PM(e){let i=e[Ot],n=i.type;return n===2?i.declTNode:n===1?e[lr]:null}function _y(e){return AP(Fi(),e)}function h9(e,i=null,n=null,s){let r=NM(e,i,n,s);return r.resolveInjectorInitializers(),r}function NM(e,i=null,n=null,s,r=new Set){let o=[n||sr,By(e)];return s=s||(typeof e=="object"?void 0:Yi(e)),new pd(o,i||Gy(),s||null,r)}var ri=class e{static THROW_IF_NOT_FOUND=fd;static NULL=new F0;static create(i,n){if(Array.isArray(i))return h9({name:""},n,i,"");{let s=i.name??"";return h9({name:s},i.parent,i.providers,s)}}static \u0275prov=Ce({token:e,providedIn:"any",factory:()=>pe(Z9)});static __NG_ELEMENT_ID__=-1};var FP=new xe("");FP.__NG_ELEMENT_ID__=e=>{let i=Fi();if(i===null)throw new Ue(204,!1);if(i.type&2)return i.value;if(e&Et.Optional)return null;throw new Ue(204,!1)};var BM=!1,Xs=(()=>{class e{static __NG_ELEMENT_ID__=PP;static __NG_ENV_ID__=n=>n}return e})(),j0=class extends Xs{_lView;constructor(i){super(),this._lView=i}onDestroy(i){return dM(this._lView,i),()=>eP(this._lView,i)}};function PP(){return new j0(bt())}var Gl=class{},vp=new xe("",{providedIn:"root",factory:()=>!1});var VM=new xe(""),GM=new xe(""),$s=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new xt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new e})}return e})();var $m=class extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(i=!1){super(),this.__isAsync=i,nM()&&(this.destroyRef=ve(Xs,{optional:!0})??void 0,this.pendingTasks=ve($s,{optional:!0})??void 0)}emit(i){let n=Gt(null);try{super.next(i)}finally{Gt(n)}}subscribe(i,n,s){let r=i,o=n||(()=>null),t=s;if(i&&typeof i=="object"){let p=i;r=p.next?.bind(p),o=p.error?.bind(p),t=p.complete?.bind(p)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),t&&(t=this.wrapInTimeout(t)));let a=super.subscribe({next:r,error:o,complete:t});return i instanceof vn&&i.add(a),a}wrapInTimeout(i){return n=>{let s=this.pendingTasks?.add();setTimeout(()=>{i(n),s!==void 0&&this.pendingTasks?.remove(s)})}}},Ht=$m;function xd(...e){}function zM(e){let i,n;function s(){e=xd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),i!==void 0&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{e(),s()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),s()})),()=>s()}function d9(e){return queueMicrotask(()=>e()),()=>{e=xd}}var qy="isAngularZone",Y0=qy+"_ID",NP=0,rn=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ht(!1);onMicrotaskEmpty=new Ht(!1);onStable=new Ht(!1);onError=new Ht(!1);constructor(i){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=BM}=i;if(typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();let t=this;t._nesting=0,t._outer=t._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(t._inner=t._inner.fork(Zone.longStackTraceZoneSpec)),t.shouldCoalesceEventChangeDetection=!r&&s,t.shouldCoalesceRunChangeDetection=r,t.callbackScheduled=!1,t.scheduleInRootZone=o,GP(t)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qy)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Ue(909,!1)}run(i,n,s){return this._inner.run(i,n,s)}runTask(i,n,s,r){let o=this._inner,t=o.scheduleEventTask("NgZoneEvent: "+r,i,BP,xd,xd);try{return o.runTask(t,n,s)}finally{o.cancelTask(t)}}runGuarded(i,n,s){return this._inner.runGuarded(i,n,s)}runOutsideAngular(i){return this._outer.run(i)}},BP={};function e4(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function VP(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function i(){zM(()=>{e.callbackScheduled=!1,Jm(e),e.isCheckStableRunning=!0,e4(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{i()}):e._outer.run(()=>{i()}),Jm(e)}function GP(e){let i=()=>{VP(e)},n=NP++;e._inner=e._inner.fork({name:"angular",properties:{[qy]:!0,[Y0]:n,[Y0+n]:!0},onInvokeTask:(s,r,o,t,a,p)=>{if(zP(p))return s.invokeTask(o,t,a,p);try{return f9(e),s.invokeTask(o,t,a,p)}finally{(e.shouldCoalesceEventChangeDetection&&t.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&i(),p9(e)}},onInvoke:(s,r,o,t,a,p,c)=>{try{return f9(e),s.invoke(o,t,a,p,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!WP(p)&&i(),p9(e)}},onHasTask:(s,r,o,t)=>{s.hasTask(o,t),r===o&&(t.change=="microTask"?(e._hasPendingMicrotasks=t.microTask,Jm(e),e4(e)):t.change=="macroTask"&&(e.hasPendingMacrotasks=t.macroTask))},onHandleError:(s,r,o,t)=>(s.handleError(o,t),e.runOutsideAngular(()=>e.onError.emit(t)),!1)})}function Jm(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function f9(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function p9(e){e._nesting--,e4(e)}var Km=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ht;onMicrotaskEmpty=new Ht;onStable=new Ht;onError=new Ht;run(i,n,s){return i.apply(n,s)}runGuarded(i,n,s){return i.apply(n,s)}runOutsideAngular(i){return i()}runTask(i,n,s,r){return i.apply(n,s)}};function zP(e){return WM(e,"__ignore_ng_zone__")}function WP(e){return WM(e,"__scheduler_tick__")}function WM(e,i){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[i]===!0}var ar=class{_console=console;handleError(i){this._console.error("ERROR",i)}},HP=new xe("",{providedIn:"root",factory:()=>{let e=ve(rn),i=ve(ar);return n=>e.runOutsideAngular(()=>i.handleError(n))}});function v9(e,i){return B9(e,i)}function jP(e){return B9(N9,e)}var HM=(v9.required=jP,v9);function YP(){return uu(Fi(),bt())}function uu(e,i){return new fi(Ms(e,i))}var fi=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=YP}return e})();function UP(e){return e instanceof fi?e.nativeElement:e}var g9=new Set;function Pa(e){g9.has(e)||(g9.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ZP(e){return typeof e=="function"&&e[nr]!==void 0}function Eo(e,i){Pa("NgSignals");let n=T8(e),s=n[nr];return i?.equal&&(s.equal=i.equal),n.set=r=>Y1(s,r),n.update=r=>E8(s,r),n.asReadonly=XP.bind(n),n}function XP(){let e=this[nr];if(e.readonlyFn===void 0){let i=()=>this();i[nr]=e,e.readonlyFn=i}return e.readonlyFn}function jM(e){return ZP(e)&&typeof e.set=="function"}function $P(){return this._results[Symbol.iterator]()}var Qm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ot}constructor(i=!1){this._emitDistinctChangesOnly=i}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,n){return this._results.reduce(i,n)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,n){this.dirty=!1;let s=RF(i);(this._changesDetected=!LF(this._results,s,n))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=$P};function YM(e){return(e.flags&128)===128}var UM=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(UM||{}),ZM=new Map,JP=0;function KP(){return JP++}function QP(e){ZM.set(e[op],e)}function _m(e){ZM.delete(e[op])}var m9="__ngContext__";function Yl(e,i){Co(i)?(e[m9]=i[op],QP(i)):e[m9]=i}function XM(e){return JM(e[md])}function $M(e){return JM(e[xs])}function JM(e){for(;e!==null&&!Fa(e);)e=e[xs];return e}var qm;function KM(e){qm=e}function _P(){if(qm!==void 0)return qm;if(typeof document<"u")return document;throw new Ue(210,!1)}var t4=new xe("",{providedIn:"root",factory:()=>qP}),qP="ng",n4=new xe(""),Na=new xe("",{providedIn:"platform",factory:()=>"unknown"});var Ed=new xe("",{providedIn:"root",factory:()=>_P().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eN="h",tN="b";var QM=!1,nN=new xe("",{providedIn:"root",factory:()=>QM});var i4=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(i4||{}),hu=new xe("");var Jc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Jc||{}),_M=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new e})}return e})(),iN=[Jc.EarlyRead,Jc.Write,Jc.MixedReadWrite,Jc.Read],rN=(()=>{class e{ngZone=ve(rn);scheduler=ve(Gl);errorHandler=ve(ar,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){ve(hu,{optional:!0})}execute(){this.executing=!0;for(let n of iN)for(let s of this.sequences)if(!(s.erroredOrDestroyed||!s.hooks[n]))try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>s.hooks[n](s.pipelinedValue),s.snapshot))}catch(r){s.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,s){return s?s.run(i4.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new e})}return e})(),ey=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(i,n,s,r,o=null){this.impl=i,this.hooks=n,this.once=s,this.snapshot=o,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function r4(e,i){!i?.injector&&Sd(r4);let n=i?.injector??ve(ri);return Pa("NgAfterNextRender"),aN(e,n,i,!0)}function sN(e,i){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[i]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function aN(e,i,n,s){let r=i.get(_M);r.impl??=i.get(rN);let o=i.get(hu,null,{optional:!0}),t=n?.phase??Jc.MixedReadWrite,a=n?.manualCleanup!==!0?i.get(Xs):null,p=new ey(r.impl,sN(e,t),s,a,o?.snapshot(null));return r.impl.register(p),p}var oN=()=>null;function qM(e,i,n=!1){return oN(e,i,n)}function eC(e,i){let n=e.contentQueries;if(n!==null){let s=Gt(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],t=n[r+1];if(t!==-1){let a=e.data[t];Xy(o),a.contentQueries(2,i[t],t)}}}finally{Gt(s)}}}function ty(e,i,n){Xy(0);let s=Gt(null);try{i(e,n)}finally{Gt(s)}}function s4(e,i,n){if(zy(i)){let s=Gt(null);try{let r=i.directiveStart,o=i.directiveEnd;for(let t=r;t<o;t++){let a=e.data[t];if(a.contentQueries){let p=n[t];a.contentQueries(1,p,t)}}}finally{Gt(s)}}}var Us=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Us||{});var M0;function lN(){if(M0===void 0&&(M0=null,Ll.trustedTypes))try{M0=Ll.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return M0}function y9(e){return lN()?.createScriptURL(e)||e}var U0=class{changingThisBreaksApplicationSecurity;constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${P9})`}};function du(e){return e instanceof U0?e.changingThisBreaksApplicationSecurity:e}function a4(e,i){let n=cN(e);if(n!=null&&n!==i){if(n==="ResourceURL"&&i==="URL")return!0;throw new Error(`Required a safe ${i}, got a ${n} (see ${P9})`)}return n===i}function cN(e){return e instanceof U0&&e.getTypeName()||null}var uN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tC(e){return e=String(e),e.match(uN)?e:"unsafe:"+e}var gp=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(gp||{});function fu(e){let i=iC();return i?i.sanitize(gp.URL,e)||"":a4(e,"URL")?du(e):tC(qc(e))}function hN(e){let i=iC();if(i)return y9(i.sanitize(gp.RESOURCE_URL,e)||"");if(a4(e,"ResourceURL"))return y9(du(e));throw new Ue(904,!1)}function dN(e,i){return i==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||i==="href"&&(e==="base"||e==="link")?hN:fu}function nC(e,i,n){return dN(i,n)(e)}function iC(){let e=bt();return e&&e[ka].sanitizer}var fN=/^>|^->|<!--|-->|--!>|<!-$/g,pN=/(<|>)/g,vN="\u200B$1\u200B";function gN(e){return e.replace(fN,i=>i.replace(pN,vN))}function rC(e){return e instanceof Function?e():e}function mN(e,i,n){let s=e.length;for(;;){let r=e.indexOf(i,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=i.length;if(r+o===s||e.charCodeAt(r+o)<=32)return r}n=r+1}}var sC="ng-template";function yN(e,i,n,s){let r=0;if(s){for(;r<i.length&&typeof i[r]=="string";r+=2)if(i[r]==="class"&&mN(i[r+1].toLowerCase(),n,0)!==-1)return!0}else if(o4(e))return!1;if(r=i.indexOf(1,r),r>-1){let o;for(;++r<i.length&&typeof(o=i[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function o4(e){return e.type===4&&e.value!==sC}function xN(e,i,n){let s=e.type===4&&!n?sC:e.value;return i===s}function bN(e,i,n){let s=4,r=e.attrs,o=r!==null?wN(r):0,t=!1;for(let a=0;a<i.length;a++){let p=i[a];if(typeof p=="number"){if(!t&&!ms(s)&&!ms(p))return!1;if(t&&ms(p))continue;t=!1,s=p|s&1;continue}if(!t)if(s&4){if(s=2|s&1,p!==""&&!xN(e,p,n)||p===""&&i.length===1){if(ms(s))return!1;t=!0}}else if(s&8){if(r===null||!yN(e,r,p,n)){if(ms(s))return!1;t=!0}}else{let c=i[++a],u=MN(p,r,o4(e),n);if(u===-1){if(ms(s))return!1;t=!0;continue}if(c!==""){let h;if(u>o?h="":h=r[u+1].toLowerCase(),s&2&&c!==h){if(ms(s))return!1;t=!0}}}}return ms(s)||t}function ms(e){return(e&1)===0}function MN(e,i,n,s){if(i===null)return-1;let r=0;if(s||!n){let o=!1;for(;r<i.length;){let t=i[r];if(t===e)return r;if(t===3||t===6)o=!0;else if(t===1||t===2){let a=i[++r];for(;typeof a=="string";)a=i[++r];continue}else{if(t===4)break;if(t===0){r+=4;continue}}r+=o?1:2}return-1}else return SN(i,e)}function aC(e,i,n=!1){for(let s=0;s<i.length;s++)if(bN(e,i[s],n))return!0;return!1}function CN(e){let i=e.attrs;if(i!=null){let n=i.indexOf(5);if(!(n&1))return i[n+1]}return null}function wN(e){for(let i=0;i<e.length;i++){let n=e[i];if(kM(n))return i}return e.length}function SN(e,i){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let s=e[n];if(typeof s=="number")return-1;if(s===i)return n;n++}return-1}function IN(e,i){e:for(let n=0;n<i.length;n++){let s=i[n];if(e.length===s.length){for(let r=0;r<e.length;r++)if(e[r]!==s[r])continue e;return!0}}return!1}function x9(e,i){return e?":not("+i.trim()+")":i}function kN(e){let i=e[0],n=1,s=2,r="",o=!1;for(;n<e.length;){let t=e[n];if(typeof t=="string")if(s&2){let a=e[++n];r+="["+t+(a.length>0?'="'+a+'"':"")+"]"}else s&8?r+="."+t:s&4&&(r+=" "+t);else r!==""&&!ms(t)&&(i+=x9(o,r),r=""),s=t,o=o||!ms(s);n++}return r!==""&&(i+=x9(o,r)),i}function TN(e){return e.map(kN).join(",")}function EN(e){let i=[],n=[],s=1,r=2;for(;s<e.length;){let o=e[s];if(typeof o=="string")r===2?o!==""&&i.push(o,e[++s]):r===8&&n.push(o);else{if(!ms(r))break;r=o}s++}return n.length&&i.push(1,...n),i}var zr={};function AN(e,i){return e.createText(i)}function LN(e,i,n){e.setValue(i,n)}function RN(e,i){return e.createComment(gN(i))}function oC(e,i,n){return e.createElement(i,n)}function Z0(e,i,n,s,r){e.insertBefore(i,n,s,r)}function lC(e,i,n){e.appendChild(i,n)}function b9(e,i,n,s,r){s!==null?Z0(e,i,n,s,r):lC(e,i,n)}function DN(e,i,n){e.removeChild(null,i,n)}function ON(e,i,n){e.setAttribute(i,"style",n)}function FN(e,i,n){n===""?e.removeAttribute(i,"class"):e.setAttribute(i,"class",n)}function cC(e,i,n){let{mergedAttrs:s,classes:r,styles:o}=n;s!==null&&wP(e,i,s),r!==null&&FN(e,i,r),o!==null&&ON(e,i,o)}function ne(e=1){uC(Xn(),bt(),To()+e,!1)}function uC(e,i,n,s){if(!s)if((i[pt]&3)===3){let o=e.preOrderCheckHooks;o!==null&&k0(i,o,n)}else{let o=e.preOrderHooks;o!==null&&T0(i,o,0,n)}Bl(n)}var Io=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Io||{});function hC(e,i,n,s,r,o){let t=Gt(null);try{let a=null;r&Io.SignalBased&&(a=i[s][nr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Io.HasDecoratorInputTransform&&(o=e.inputTransforms[s].call(i,o)),e.setInput!==null?e.setInput(i,a,o,n,s):sM(i,a,s,o)}finally{Gt(t)}}function l4(e,i,n,s,r,o,t,a,p,c,u){let h=i.blueprint.slice();return h[Oa]=r,h[pt]=s|4|128|8|64|1024,(c!==null||e&&e[pt]&2048)&&(h[pt]|=2048),hM(h),h[Ri]=h[cu]=e,h[Vr]=n,h[ka]=t||e&&e[ka],h[An]=a||e&&e[An],h[gd]=p||e&&e[gd]||null,h[lr]=o,h[op]=KP(),h[vd]=u,h[iM]=c,h[Gr]=i.type==2?e[Gr]:h,h}function dC(e,i,n,s,r){let o=To(),t=s&2;try{Bl(-1),t&&i.length>Di&&uC(e,i,Di,!1),Br(t?2:0,r),n(s,r)}finally{Bl(o),Br(t?3:1,r)}}function c4(e,i,n){up()&&(Yl(Ms(n,i),i),fC(e,i,n))}function fC(e,i,n){HN(e,i,n),(n.flags&64)===64&&jN(e,i,n)}function u4(e,i,n=Ms){let s=i.localNames;if(s!==null){let r=i.index+1;for(let o=0;o<s.length;o+=2){let t=s[o+1],a=t===-1?n(i,e):e[t];e[r++]=a}}}function PN(e){let i=e.tView;return i===null||i.incompleteFirstPass?e.tView=h4(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function h4(e,i,n,s,r,o,t,a,p,c,u){let h=Di+s,l=h+r,d=NN(h,l),v=typeof c=="function"?c():c;return d[Ot]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:i,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:l,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof t=="function"?t():t,firstChild:null,schemas:p,consts:v,incompleteFirstPass:!1,ssrId:u}}function NN(e,i){let n=[];for(let s=0;s<i;s++)n.push(s<e?null:zr);return n}function BN(e,i,n,s){let o=s.get(nN,QM)||n===Us.ShadowDom,t=e.selectRootElement(i,o);return VN(t),t}function VN(e){GN(e)}var GN=()=>null;function zN(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function d4(e,i,n,s,r,o,t,a){let p=Ms(i,n),c=i.inputs,u;!a&&c!=null&&(u=c[s])?(v4(e,n,u,s,r),Hl(i)&&WN(n,i.index)):i.type&3?(s=zN(s),r=t!=null?t(r,i.value||"",s):r,o.setProperty(p,s,r)):i.type&12}function WN(e,i){let n=Ys(i,e);n[pt]&16||(n[pt]|=64)}function HN(e,i,n){let s=n.directiveStart,r=n.directiveEnd;Hl(n)&&UN(i,n,e.data[s+n.componentOffset]),e.firstCreatePass||H0(n,i);let o=n.initialInputs;for(let t=s;t<r;t++){let a=e.data[t],p=yd(i,e,t,n);if(Yl(p,i),o!==null&&$N(i,t-s,p,a,n,o),Ea(a)){let c=Ys(n.index,i);c[Vr]=yd(i,e,t,n)}}}function jN(e,i,n){let s=n.directiveStart,r=n.directiveEnd,o=n.index,t=fP();try{Bl(o);for(let a=s;a<r;a++){let p=e.data[a],c=i[a];jm(a),(p.hostBindings!==null||p.hostVars!==0||p.hostAttrs!==null)&&YN(p,c)}}finally{Bl(-1),jm(t)}}function YN(e,i){e.hostBindings!==null&&e.hostBindings(1,i)}function f4(e,i){let n=e.directiveRegistry,s=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];aC(i,o.selectors,!1)&&(s??=[],Ea(o)?s.unshift(o):s.push(o))}return s}function pC(e){let i=16;return e.signals?i=4096:e.onPush&&(i=64),i}function UN(e,i,n){let s=Ms(i,e),r=PN(n),o=e[ka].rendererFactory,t=p4(e,l4(e,r,null,pC(n),s,i,null,o.createRenderer(s,n),null,null,null));return e[i.index]=t}function ZN(e,i,n,s,r,o){let t=Ms(e,i);XN(i[An],t,o,e.value,n,s,r)}function XN(e,i,n,s,r,o,t){if(o==null)e.removeAttribute(i,r,n);else{let a=t==null?qc(o):t(o,s||"",r);e.setAttribute(i,r,a,n)}}function $N(e,i,n,s,r,o){let t=o[i];if(t!==null)for(let a=0;a<t.length;){let p=t[a++],c=t[a++],u=t[a++],h=t[a++];hC(s,n,p,c,u,h)}}function vC(e,i,n,s){return[e,!0,0,i,null,s,null,n,null,null]}function p4(e,i){return e[md]?e[s9][xs]=i:e[md]=i,e[s9]=i,i}function gC(e,i){let n=e[gd],s=n?n.get(ar,null):null;s&&s.handleError(i)}function v4(e,i,n,s,r){for(let o=0;o<n.length;){let t=n[o++],a=n[o++],p=n[o++],c=i[t],u=e.data[t];hC(u,c,s,a,p,r)}}function JN(e,i){let n=Ys(i,e),s=n[Ot];KN(s,n);let r=n[Oa];r!==null&&n[vd]===null&&(n[vd]=qM(r,n[gd])),g4(s,n,n[Vr])}function KN(e,i){for(let n=i.length;n<e.blueprint.length;n++)i.push(e.blueprint[n])}function g4(e,i,n){$y(i);try{let s=e.viewQuery;s!==null&&ty(1,s,n);let r=e.template;r!==null&&dC(e,i,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),i[Ta]?.finishViewCreation(e),e.staticContentQueries&&eC(e,i),e.staticViewQueries&&ty(2,e.viewQuery,n);let o=e.components;o!==null&&QN(i,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{i[pt]&=-5,Jy()}}function QN(e,i){for(let n=0;n<i.length;n++)JN(e,i[n])}var Aa=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Aa||{}),_N;function m4(e,i){return _N(e,i)}function y4(e){return(e.flags&32)===32}function Kc(e,i,n,s,r){if(s!=null){let o,t=!1;Fa(s)?o=s:Co(s)&&(t=!0,s=s[Oa]);let a=js(s);e===0&&n!==null?r==null?lC(i,n,a):Z0(i,n,a,r||null,!0):e===1&&n!==null?Z0(i,n,a,r||null,!0):e===2?DN(i,a,t):e===3&&i.destroyNode(a),o!=null&&cB(i,e,o,n,r)}}function qN(e,i){mC(e,i),i[Oa]=null,i[lr]=null}function eB(e,i,n,s,r,o){s[Oa]=r,s[lr]=i,yp(e,s,n,1,r,o)}function mC(e,i){i[ka].changeDetectionScheduler?.notify(10),yp(e,i,i[An],2,null,null)}function tB(e){let i=e[md];if(!i)return km(e[Ot],e);for(;i;){let n=null;if(Co(i))n=i[md];else{let s=i[kr];s&&(n=s)}if(!n){for(;i&&!i[xs]&&i!==e;)Co(i)&&km(i[Ot],i),i=i[Ri];i===null&&(i=e),Co(i)&&km(i[Ot],i),n=i&&i[xs]}i=n}}function nB(e,i,n,s){let r=kr+s,o=n.length;s>0&&(n[r-1][xs]=i),s<o-kr?(i[xs]=n[r],U9(n,kr+s,i)):(n.push(i),i[xs]=null),i[Ri]=n;let t=i[Ol];t!==null&&n!==t&&yC(t,i);let a=i[Ta];a!==null&&a.insertView(e),Wm(i),i[pt]|=128}function yC(e,i){let n=e[nu],s=i[Ri];if(Co(s))e[pt]|=2;else{let r=s[Ri][Gr];i[Gr]!==r&&(e[pt]|=2)}n===null?e[nu]=[i]:n.push(i)}function x4(e,i){let n=e[nu],s=n.indexOf(i);n.splice(s,1)}function ny(e,i){if(e.length<=kr)return;let n=kr+i,s=e[n];if(s){let r=s[Ol];r!==null&&r!==e&&x4(r,s),i>0&&(e[n-1][xs]=s[xs]);let o=O0(e,kr+i);qN(s[Ot],s);let t=o[Ta];t!==null&&t.detachView(o[Ot]),s[Ri]=null,s[xs]=null,s[pt]&=-129}return s}function xC(e,i){if(Id(i))return;let n=i[An];n.destroyNode&&yp(e,i,n,3,null,null),tB(i)}function km(e,i){if(Id(i))return;let n=Gt(null);try{i[pt]&=-129,i[pt]|=256,i[Ir]&&Nc(i[Ir]),rB(e,i),iB(e,i),i[Ot].type===1&&i[An].destroy();let s=i[Ol];if(s!==null&&Fa(i[Ri])){s!==i[Ri]&&x4(s,i);let r=i[Ta];r!==null&&r.detachView(e)}_m(i)}finally{Gt(n)}}function iB(e,i){let n=e.cleanup,s=i[P0];if(n!==null)for(let t=0;t<n.length-1;t+=2)if(typeof n[t]=="string"){let a=n[t+3];a>=0?s[a]():s[-a].unsubscribe(),t+=2}else{let a=s[n[t+1]];n[t].call(a)}s!==null&&(i[P0]=null);let r=i[Mo];if(r!==null){i[Mo]=null;for(let t=0;t<r.length;t++){let a=r[t];a()}}let o=i[Fl];if(o!==null){i[Fl]=null;for(let t of o)t.destroy()}}function rB(e,i){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let s=0;s<n.length;s+=2){let r=i[n[s]];if(!(r instanceof Vl)){let o=n[s+1];if(Array.isArray(o))for(let t=0;t<o.length;t+=2){let a=r[o[t]],p=o[t+1];Br(4,a,p);try{p.call(a)}finally{Br(5,a,p)}}else{Br(4,r,o);try{o.call(r)}finally{Br(5,r,o)}}}}}function bC(e,i,n){return sB(e,i.parent,n)}function sB(e,i,n){let s=i;for(;s!==null&&s.type&168;)i=s,s=i.parent;if(s===null)return n[Oa];if(Hl(s)){let{encapsulation:r}=e.data[s.directiveStart+s.componentOffset];if(r===Us.None||r===Us.Emulated)return null}return Ms(s,n)}function MC(e,i,n){return oB(e,i,n)}function aB(e,i,n){return e.type&40?Ms(e,n):null}var oB=aB,M9;function mp(e,i,n,s){let r=bC(e,s,i),o=i[An],t=s.parent||i[lr],a=MC(t,s,i);if(r!=null)if(Array.isArray(n))for(let p=0;p<n.length;p++)b9(o,r,n[p],a,!1);else b9(o,r,n,a,!1);M9!==void 0&&M9(o,s,i,n,r)}function hd(e,i){if(i!==null){let n=i.type;if(n&3)return Ms(i,e);if(n&4)return iy(-1,e[i.index]);if(n&8){let s=i.child;if(s!==null)return hd(e,s);{let r=e[i.index];return Fa(r)?iy(-1,r):js(r)}}else{if(n&128)return hd(e,i.next);if(n&32)return m4(i,e)()||js(e[i.index]);{let s=CC(e,i);if(s!==null){if(Array.isArray(s))return s[0];let r=Nl(e[Gr]);return hd(r,s)}else return hd(e,i.next)}}}return null}function CC(e,i){if(i!==null){let s=e[Gr][lr],r=i.projection;return s.projection[r]}return null}function iy(e,i){let n=kr+e+1;if(n<i.length){let s=i[n],r=s[Ot].firstChild;if(r!==null)return hd(s,r)}return i[Pl]}function b4(e,i,n,s,r,o,t){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=s[n.index],p=n.type;if(t&&i===0&&(a&&Yl(js(a),s),n.flags|=2),!y4(n))if(p&8)b4(e,i,n.child,s,r,o,!1),Kc(i,e,r,a,o);else if(p&32){let c=m4(n,s),u;for(;u=c();)Kc(i,e,r,u,o);Kc(i,e,r,a,o)}else p&16?wC(e,i,s,n,r,o):Kc(i,e,r,a,o);n=t?n.projectionNext:n.next}}function yp(e,i,n,s,r,o){b4(n,s,e.firstChild,i,r,o,!1)}function lB(e,i,n){let s=i[An],r=bC(e,n,i),o=n.parent||i[lr],t=MC(o,n,i);wC(s,0,i,n,r,t)}function wC(e,i,n,s,r,o){let t=n[Gr],p=t[lr].projection[s.projection];if(Array.isArray(p))for(let c=0;c<p.length;c++){let u=p[c];Kc(i,e,r,u,o)}else{let c=p,u=t[Ri];YM(s)&&(c.flags|=128),b4(e,i,c,u,r,o,!0)}}function cB(e,i,n,s,r){let o=n[Pl],t=js(n);o!==t&&Kc(i,e,s,o,r);for(let a=kr;a<n.length;a++){let p=n[a];yp(p[Ot],p,e,i,s,o)}}function uB(e,i,n,s,r){if(i)r?e.addClass(n,s):e.removeClass(n,s);else{let o=s.indexOf("-")===-1?void 0:Aa.DashCase;r==null?e.removeStyle(n,s,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Aa.Important),e.setStyle(n,s,r,o))}}function SC(e,i,n,s){let r=Gt(null);try{let o=i.tView,a=e[pt]&4096?4096:16,p=l4(e,o,n,a,null,i,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null),c=e[i.index];p[Ol]=c;let u=e[Ta];return u!==null&&(p[Ta]=u.createEmbeddedView(o)),g4(o,p,n),p}finally{Gt(r)}}function ry(e,i){return!i||i.firstChild===null||YM(e)}function IC(e,i,n,s=!0){let r=i[Ot];if(nB(r,i,e,n),s){let t=iy(n,e),a=i[An],p=a.parentNode(e[Pl]);p!==null&&eB(r,e[lr],a,i,p,t)}let o=i[vd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function X0(e,i,n,s,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=i[n.index];o!==null&&s.push(js(o)),Fa(o)&&hB(o,s);let t=n.type;if(t&8)X0(e,i,n.child,s);else if(t&32){let a=m4(n,i),p;for(;p=a();)s.push(p)}else if(t&16){let a=CC(i,n);if(Array.isArray(a))s.push(...a);else{let p=Nl(i[Gr]);X0(p[Ot],p,a,s,!0)}}n=r?n.projectionNext:n.next}return s}function hB(e,i){for(let n=kr;n<e.length;n++){let s=e[n],r=s[Ot].firstChild;r!==null&&X0(s[Ot],s,r,i)}e[Pl]!==e[Oa]&&i.push(e[Pl])}var kC=[];function dB(e){return e[Ir]??fB(e)}function fB(e){let i=kC.pop()??Object.create(vB);return i.lView=e,i}function pB(e){e.lView[Ir]!==e&&(e.lView=null,kC.push(e))}var vB=Se(q({},bl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{kd(e.lView)},consumerOnSignalRead(){this.lView[Ir]=this}});function gB(e){let i=e[Ir]??Object.create(mB);return i.lView=e,i}var mB=Se(q({},bl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let i=Nl(e.lView);for(;i&&!TC(i[Ot]);)i=Nl(i);i&&jy(i)},consumerOnSignalRead(){this.lView[Ir]=this}});function TC(e){return e.type!==2}function EC(e){if(e[Fl]===null)return;let i=!0;for(;i;){let n=!1;for(let s of e[Fl])s.dirty&&(n=!0,s.zone===null||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));i=n&&!!(e[pt]&8192)}}var yB=100;function AC(e,i=!0,n=0){let r=e[ka].rendererFactory,o=!1;o||r.begin?.();try{xB(e,n)}catch(t){throw i&&gC(e,t),t}finally{o||r.end?.()}}function xB(e,i){let n=mM();try{V0(!0),sy(e,i);let s=0;for(;cp(e);){if(s===yB)throw new Ue(103,!1);s++,sy(e,1)}}finally{V0(n)}}function bB(e,i,n,s){if(Id(i))return;let r=i[pt],o=!1,t=!1;$y(i);let a=!0,p=null,c=null;o||(TC(e)?(c=dB(i),p=Pc(c)):v8()===null?(a=!1,c=gB(i),p=Pc(c)):i[Ir]&&(Nc(i[Ir]),i[Ir]=null));try{hM(i),uP(e.bindingStartIndex),n!==null&&dC(e,i,n,2,s);let u=(r&3)===3;if(!o)if(u){let d=e.preOrderCheckHooks;d!==null&&k0(i,d,null)}else{let d=e.preOrderHooks;d!==null&&T0(i,d,0,null),wm(i,0)}if(t||MB(i),EC(i),LC(i,0),e.contentQueries!==null&&eC(e,i),!o)if(u){let d=e.contentCheckHooks;d!==null&&k0(i,d)}else{let d=e.contentHooks;d!==null&&T0(i,d,1),wm(i,1)}wB(e,i);let h=e.components;h!==null&&DC(i,h,0);let l=e.viewQuery;if(l!==null&&ty(2,l,s),!o)if(u){let d=e.viewCheckHooks;d!==null&&k0(i,d)}else{let d=e.viewHooks;d!==null&&T0(i,d,2),wm(i,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),i[I0]){for(let d of i[I0])d();i[I0]=null}o||(i[pt]&=-73)}catch(u){throw o||kd(i),u}finally{c!==null&&(_h(c,p),a&&pB(c)),Jy()}}function LC(e,i){for(let n=XM(e);n!==null;n=$M(n))for(let s=kr;s<n.length;s++){let r=n[s];RC(r,i)}}function MB(e){for(let i=XM(e);i!==null;i=$M(i)){if(!(i[pt]&2))continue;let n=i[nu];for(let s=0;s<n.length;s++){let r=n[s];jy(r)}}}function CB(e,i,n){let s=Ys(i,e);RC(s,n)}function RC(e,i){Hy(e)&&sy(e,i)}function sy(e,i){let s=e[Ot],r=e[pt],o=e[Ir],t=!!(i===0&&r&16);if(t||=!!(r&64&&i===0),t||=!!(r&1024),t||=!!(o?.dirty&&qh(o)),t||=!1,o&&(o.dirty=!1),e[pt]&=-9217,t)bB(s,e,s.template,e[Vr]);else if(r&8192){EC(e),LC(e,1);let a=s.components;a!==null&&DC(e,a,1)}}function DC(e,i,n){for(let s=0;s<i.length;s++)CB(e,i[s],n)}function wB(e,i){let n=e.hostBindingOpCodes;if(n!==null)try{for(let s=0;s<n.length;s++){let r=n[s];if(r<0)Bl(~r);else{let o=r,t=n[++s],a=n[++s];dP(t,o);let p=i[o];Br(24,p),a(2,p),Br(25,p)}}}finally{Bl(-1)}}function M4(e,i){let n=mM()?64:1088;for(e[ka].changeDetectionScheduler?.notify(i);e;){e[pt]|=n;let s=Nl(e);if(B0(e)&&!s)return e;e=s}return null}var zl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let i=this._lView,n=i[Ot];return X0(n,i,n.firstChild,[])}constructor(i,n,s=!0){this._lView=i,this._cdRefInjectingView=n,this.notifyErrorHandler=s}get context(){return this._lView[Vr]}get dirty(){return!!(this._lView[pt]&9280)||!!this._lView[Ir]?.dirty}set context(i){this._lView[Vr]=i}get destroyed(){return Id(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let i=this._lView[Ri];if(Fa(i)){let n=i[N0],s=n?n.indexOf(this):-1;s>-1&&(ny(i,s),O0(n,s))}this._attachedToViewContainer=!1}xC(this._lView[Ot],this._lView)}onDestroy(i){dM(this._lView,i)}markForCheck(){M4(this._cdRefInjectingView||this._lView,4)}markForRefresh(){jy(this._cdRefInjectingView||this._lView)}detach(){this._lView[pt]&=-129}reattach(){Wm(this._lView),this._lView[pt]|=128}detectChanges(){this._lView[pt]|=1024,AC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let i=B0(this._lView),n=this._lView[Ol];n!==null&&!i&&x4(n,this._lView),mC(this._lView[Ot],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=i;let n=B0(this._lView),s=this._lView[Ol];s!==null&&!n&&yC(s,this._lView),Wm(this._lView)}},La=(()=>{class e{static __NG_ELEMENT_ID__=kB}return e})(),SB=La,IB=class extends SB{_declarationLView;_declarationTContainer;elementRef;constructor(i,n,s){super(),this._declarationLView=i,this._declarationTContainer=n,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,n){return this.createEmbeddedViewImpl(i,n)}createEmbeddedViewImpl(i,n,s){let r=SC(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:n,dehydratedView:s});return new zl(r)}};function kB(){return xp(Fi(),bt())}function xp(e,i){return e.type&4?new IB(i,e,uu(e,i)):null}function Ad(e,i,n,s,r){let o=e.data[i];if(o===null)o=TB(e,i,n,s,r),hP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=s,o.attrs=r;let t=oP();o.injectorIndex=t===null?-1:t.injectorIndex}return jl(o,!0),o}function TB(e,i,n,s,r){let o=gM(),t=Yy(),a=t?o:o&&o.parent,p=e.data[i]=AB(e,a,n,i,s,r);return EB(e,p,o,t),p}function EB(e,i,n,s){e.firstChild===null&&(e.firstChild=i),n!==null&&(s?n.child==null&&i.parent!==null&&(n.child=i):n.next===null&&(n.next=i,i.prev=n))}function AB(e,i,n,s,r,o){let t=i?i.injectorIndex:-1,a=0;return vM()&&(a|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:t,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var f1e=new RegExp(`^(\\d+)*(${tN}|${eN})*(.*)`);var LB=()=>null;function ay(e,i){return LB(e,i)}var oy=class{},$0=class{},ly=class{resolveComponentFactory(i){throw Error(`No component factory found for ${Yi(i)}.`)}},su=class{static NULL=new ly},au=class{},Tr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>RB()}return e})();function RB(){let e=bt(),i=Fi(),n=Ys(i.index,e);return(Co(n)?n:e)[An]}var DB=(()=>{class e{static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>null})}return e})();function cy(e,i,n){let s=n?e.styles:null,r=n?e.classes:null,o=0;if(i!==null)for(let t=0;t<i.length;t++){let a=i[t];if(typeof a=="number")o=a;else if(o==1)r=Om(r,a);else if(o==2){let p=a,c=i[++t];s=Om(s,p+": "+c+";")}}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=r:e.classesWithoutHost=r}function be(e,i=Et.Default){let n=bt();if(n===null)return pe(e,i);let s=Fi();return OM(s,n,ji(e),i)}function OC(){let e="invalid";throw new Error(e)}function FC(e,i,n,s){if(n===0)return-1;let r=i.length;for(let o=0;o<n;o++)i.push(s),e.blueprint.push(s),e.data.push(null);return r}function C4(e,i,n,s,r){let o=s===null?null:{"":-1},t=r(e,n);if(t!==null){let[a,p]=FB(e,n,t);NB(e,i,n,a,o,p)}o!==null&&s!==null&&OB(n,s,o)}function OB(e,i,n){let s=e.localNames=[];for(let r=0;r<i.length;r+=2){let o=n[i[r+1]];if(o==null)throw new Ue(-301,!1);s.push(i[r],o)}}function FB(e,i,n){let s=[],r=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=new Map,o.findHostDirectiveDefs(o,s,r)),Ea(o)&&(s.push(o),PB(e,i,s.length-1));return Hl(i)?s.push(...n.slice(1)):s.push(...n),[s,r]}function PB(e,i,n){i.componentOffset=n,(e.components??=[]).push(i.index)}function NB(e,i,n,s,r,o){for(let c=0;c<s.length;c++)Zm(H0(n,i),e,s[c].type);jB(n,e.data.length,s.length);for(let c=0;c<s.length;c++){let u=s[c];u.providersResolver&&u.providersResolver(u)}let t=!1,a=!1,p=FC(e,i,s.length,null);for(let c=0;c<s.length;c++){let u=s[c];n.mergedAttrs=ru(n.mergedAttrs,u.hostAttrs),GB(e,n,i,p,u),HB(p,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let h=u.type.prototype;!t&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),t=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),p++}BB(e,n,o)}function BB(e,i,n){let s=i.directiveStart,r=i.directiveEnd,o=e.data,t=i.attrs,a=[],p=null,c=null;for(let u=s;u<r;u++){let h=o[u],l=n?n.get(h):null,d=l?l.inputs:null,v=l?l.outputs:null;p=C9(0,h.inputs,u,p,d),c=C9(1,h.outputs,u,c,v);let f=p!==null&&t!==null&&!o4(i)?VB(p,u,t):null;a.push(f)}p!==null&&(p.hasOwnProperty("class")&&(i.flags|=8),p.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=a,i.inputs=p,i.outputs=c}function C9(e,i,n,s,r){for(let o in i){if(!i.hasOwnProperty(o))continue;let t=i[o];if(t===void 0)continue;s??={};let a,p=Io.None;Array.isArray(t)?(a=t[0],p=t[1]):a=t;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?w9(s,n,c,a,p):w9(s,n,c,a)}return s}function w9(e,i,n,s,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(i,s):o=e[n]=[i,s],r!==void 0&&o.push(r)}function VB(e,i,n){let s=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){s===null&&(s=[]);let t=e[o];for(let a=0;a<t.length;a+=3)if(t[a]===i){s.push(o,t[a+1],t[a+2],n[r+1]);break}}r+=2}return s}function GB(e,i,n,s,r){e.data[s]=r;let o=r.factory||(r.factory=Dl(r.type,!0)),t=new Vl(o,Ea(r),be);e.blueprint[s]=t,n[s]=t,zB(e,i,s,FC(e,n,r.hostVars,zr),r)}function zB(e,i,n,s,r){let o=r.hostBindings;if(o){let t=e.hostBindingOpCodes;t===null&&(t=e.hostBindingOpCodes=[]);let a=~i.index;WB(t)!=a&&t.push(a),t.push(n,s,o)}}function WB(e){let i=e.length;for(;i>0;){let n=e[--i];if(typeof n=="number"&&n<0)return n}return 0}function HB(e,i,n){if(n){if(i.exportAs)for(let s=0;s<i.exportAs.length;s++)n[i.exportAs[s]]=e;Ea(i)&&(n[""]=e)}}function jB(e,i,n){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+n,e.providerIndexes=i}function PC(e,i,n,s,r,o,t,a){let p=i.consts,c=iu(p,t),u=Ad(i,e,2,s,c);return o&&C4(i,n,u,iu(p,a),r),u.mergedAttrs=ru(u.mergedAttrs,u.attrs),u.attrs!==null&&cy(u,u.attrs,!1),u.mergedAttrs!==null&&cy(u,u.mergedAttrs,!0),i.queries!==null&&i.queries.elementStart(i,u),u}function NC(e,i){Ky(e,i),zy(i)&&e.queries.elementEnd(i)}var J0=class extends su{ngModule;constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){let n=So(i);return new ou(n,this.ngModule)}};function S9(e,i){let n=[];for(let s in e){if(!e.hasOwnProperty(s))continue;let r=e[s];if(r===void 0)continue;let o=Array.isArray(r),t=o?r[0]:r,a=o?r[1]:Io.None;i?n.push({propName:t,templateName:s,isSignal:(a&Io.SignalBased)!==0}):n.push({propName:t,templateName:s})}return n}function YB(e,i,n){let s=i instanceof Ui?i:i?.injector;return s&&e.getStandaloneInjector!==null&&(s=e.getStandaloneInjector(s)||s),s?new Ym(n,s):n}function UB(e){let i=e.get(au,null);if(i===null)throw new Ue(407,!1);let n=e.get(DB,null),s=e.get(Gl,null);return{rendererFactory:i,sanitizer:n,changeDetectionScheduler:s}}function ZB(e,i){let n=(e.selectors[0][0]||"div").toLowerCase();return oC(i,n,n==="svg"?JF:n==="math"?KF:null)}var ou=class extends $0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let i=this.componentDef,n=i.inputTransforms,s=S9(i.inputs,!0);if(n!==null)for(let r of s)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return s}get outputs(){return S9(this.componentDef.outputs,!1)}constructor(i,n){super(),this.componentDef=i,this.ngModule=n,this.componentType=i.type,this.selector=TN(i.selectors),this.ngContentSelectors=i.ngContentSelectors??[],this.isBoundToModule=!!n}create(i,n,s,r){let o=Gt(null);try{let t=this.componentDef,a=s?["ng-version","19.1.6"]:EN(this.componentDef.selectors[0]),p=h4(0,null,null,1,0,null,null,null,null,[a],null),c=YB(t,r||this.ngModule,i),u=UB(c),h=u.rendererFactory.createRenderer(null,t),l=s?BN(h,s,t.encapsulation,c):ZB(t,h),d=l4(null,p,null,512|pC(t),null,null,u,h,c,null,qM(l,c,!0));d[Di]=l,$y(d);let v=null;try{let f=PC(Di,p,d,"#host",()=>[this.componentDef],!0,0);l&&(cC(h,l,f),Yl(l,d)),fC(p,d,f),s4(p,f,d),NC(p,f),n!==void 0&&XB(f,this.ngContentSelectors,n),v=Ys(f.index,d),d[Vr]=v[Vr],g4(p,d,null)}catch(f){throw v!==null&&_m(v),_m(d),f}finally{Jy()}return new uy(this.componentType,d)}finally{Gt(o)}}},uy=class extends oy{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(i,n){super(),this._rootLView=n,this._tNode=uM(n[Ot],Di),this.location=uu(this._tNode,n),this.instance=Ys(this._tNode.index,n)[Vr],this.hostView=this.changeDetectorRef=new zl(n,void 0,!1),this.componentType=i}setInput(i,n){let s=this._tNode.inputs,r;if(s!==null&&(r=s[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),n))return;let o=this._rootLView;v4(o[Ot],o,r,i,n),this.previousInputValues.set(i,n);let t=Ys(this._tNode.index,o);M4(t,1)}}get injector(){return new Rl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}};function XB(e,i,n){let s=e.projection=[];for(let r=0;r<i.length;r++){let o=n[r];s.push(o!=null&&o.length?Array.from(o):null)}}var Cs=(()=>{class e{static __NG_ELEMENT_ID__=$B}return e})();function $B(){let e=Fi();return VC(e,bt())}var JB=Cs,BC=class extends JB{_lContainer;_hostTNode;_hostLView;constructor(i,n,s){super(),this._lContainer=i,this._hostTNode=n,this._hostLView=s}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new Rl(this._hostTNode,this._hostLView)}get parentInjector(){let i=Qy(this._hostTNode,this._hostLView);if(TM(i)){let n=z0(i,this._hostLView),s=G0(i),r=n[Ot].data[s+8];return new Rl(r,n)}else return new Rl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){let n=I9(this._lContainer);return n!==null&&n[i]||null}get length(){return this._lContainer.length-kr}createEmbeddedView(i,n,s){let r,o;typeof s=="number"?r=s:s!=null&&(r=s.index,o=s.injector);let t=ay(this._lContainer,i.ssrId),a=i.createEmbeddedViewImpl(n||{},o,t);return this.insertImpl(a,r,ry(this._hostTNode,t)),a}createComponent(i,n,s,r,o){let t=i&&!UF(i),a;if(t)a=n;else{let v=n||{};a=v.index,s=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let p=t?i:new ou(So(i)),c=s||this.parentInjector;if(!o&&p.ngModule==null){let f=(t?c:this.parentInjector).get(Ui,null);f&&(o=f)}let u=So(p.componentType??{}),h=ay(this._lContainer,u?.id??null),l=h?.firstChild??null,d=p.create(c,r,l,o);return this.insertImpl(d.hostView,a,ry(this._hostTNode,h)),d}insert(i,n){return this.insertImpl(i,n,!0)}insertImpl(i,n,s){let r=i._lView;if(_F(r)){let a=this.indexOf(i);if(a!==-1)this.detach(a);else{let p=r[Ri],c=new BC(p,p[lr],p[Ri]);c.detach(c.indexOf(i))}}let o=this._adjustIndex(n),t=this._lContainer;return IC(t,r,o,s),i.attachToViewContainerRef(),U9(Tm(t),o,i),i}move(i,n){return this.insert(i,n)}indexOf(i){let n=I9(this._lContainer);return n!==null?n.indexOf(i):-1}remove(i){let n=this._adjustIndex(i,-1),s=ny(this._lContainer,n);s&&(O0(Tm(this._lContainer),n),xC(s[Ot],s))}detach(i){let n=this._adjustIndex(i,-1),s=ny(this._lContainer,n);return s&&O0(Tm(this._lContainer),n)!=null?new zl(s):null}_adjustIndex(i,n=0){return i??this.length+n}};function I9(e){return e[N0]}function Tm(e){return e[N0]||(e[N0]=[])}function VC(e,i){let n,s=i[e.index];return Fa(s)?n=s:(n=vC(s,i,null,e),i[e.index]=n,p4(i,n)),QB(n,i,e,s),new BC(n,e,i)}function KB(e,i){let n=e[An],s=n.createComment(""),r=Ms(i,e),o=n.parentNode(r);return Z0(n,o,s,n.nextSibling(r),!1),s}var QB=eV,_B=()=>!1;function qB(e,i,n){return _B(e,i,n)}function eV(e,i,n,s){if(e[Pl])return;let r;n.type&8?r=js(s):r=KB(i,n),e[Pl]=r}var hy=class e{queryList;matches=null;constructor(i){this.queryList=i}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},dy=class e{queries;constructor(i=[]){this.queries=i}createEmbeddedView(i){let n=i.queries;if(n!==null){let s=i.contentQueries!==null?i.contentQueries[0]:n.length,r=[];for(let o=0;o<s;o++){let t=n.getByIndex(o),a=this.queries[t.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let n=0;n<this.queries.length;n++)w4(i,n).matches!==null&&this.queries[n].setDirty()}},K0=class{flags;read;predicate;constructor(i,n,s=null){this.flags=n,this.read=s,typeof i=="string"?this.predicate=lV(i):this.predicate=i}},fy=class e{queries;constructor(i=[]){this.queries=i}elementStart(i,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(i,n)}elementEnd(i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(i)}embeddedTView(i){let n=null;for(let s=0;s<this.length;s++){let r=n!==null?n.length:0,o=this.getByIndex(s).embeddedTView(i,r);o&&(o.indexInDeclarationView=s,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(i,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(i,n)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}},py=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(i,n=-1){this.metadata=i,this._declarationNodeIndex=n}elementStart(i,n){this.isApplyingToNode(n)&&this.matchTNode(i,n)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,n){this.elementStart(i,n)}embeddedTView(i,n){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,n),new e(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,s=i.parent;for(;s!==null&&s.type&8&&s.index!==n;)s=s.parent;return n===(s!==null?s.index:-1)}return this._appliesToNextNode}matchTNode(i,n){let s=this.metadata.predicate;if(Array.isArray(s))for(let r=0;r<s.length;r++){let o=s[r];this.matchTNodeWithReadOption(i,n,tV(n,o)),this.matchTNodeWithReadOption(i,n,E0(n,i,o,!1,!1))}else s===La?n.type&4&&this.matchTNodeWithReadOption(i,n,-1):this.matchTNodeWithReadOption(i,n,E0(n,i,s,!1,!1))}matchTNodeWithReadOption(i,n,s){if(s!==null){let r=this.metadata.read;if(r!==null)if(r===fi||r===Cs||r===La&&n.type&4)this.addMatch(n.index,-2);else{let o=E0(n,i,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,s)}}addMatch(i,n){this.matches===null?this.matches=[i,n]:this.matches.push(i,n)}};function tV(e,i){let n=e.localNames;if(n!==null){for(let s=0;s<n.length;s+=2)if(n[s]===i)return n[s+1]}return null}function nV(e,i){return e.type&11?uu(e,i):e.type&4?xp(e,i):null}function iV(e,i,n,s){return n===-1?nV(i,e):n===-2?rV(e,i,s):yd(e,e[Ot],n,i)}function rV(e,i,n){if(n===fi)return uu(i,e);if(n===La)return xp(i,e);if(n===Cs)return VC(i,e)}function GC(e,i,n,s){let r=i[Ta].queries[s];if(r.matches===null){let o=e.data,t=n.matches,a=[];for(let p=0;t!==null&&p<t.length;p+=2){let c=t[p];if(c<0)a.push(null);else{let u=o[c];a.push(iV(i,u,t[p+1],n.metadata.read))}}r.matches=a}return r.matches}function vy(e,i,n,s){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let t=GC(e,i,r,n);for(let a=0;a<o.length;a+=2){let p=o[a];if(p>0)s.push(t[a/2]);else{let c=o[a+1],u=i[-p];for(let h=kr;h<u.length;h++){let l=u[h];l[Ol]===l[Ri]&&vy(l[Ot],l,c,s)}if(u[nu]!==null){let h=u[nu];for(let l=0;l<h.length;l++){let d=h[l];vy(d[Ot],d,c,s)}}}}}return s}function sV(e,i){return e[Ta].queries[i].queryList}function zC(e,i,n){let s=new Qm((n&4)===4);return tP(e,i,s,s.destroy),(i[Ta]??=new dy).queries.push(new hy(s))-1}function aV(e,i,n){let s=Xn();return s.firstCreatePass&&(WC(s,new K0(e,i,n),-1),(i&2)===2&&(s.staticViewQueries=!0)),zC(s,bt(),i)}function oV(e,i,n,s){let r=Xn();if(r.firstCreatePass){let o=Fi();WC(r,new K0(i,n,s),o.index),cV(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return zC(r,bt(),n)}function lV(e){return e.split(",").map(i=>i.trim())}function WC(e,i,n){e.queries===null&&(e.queries=new fy),e.queries.track(new py(i,n))}function cV(e,i){let n=e.contentQueries||(e.contentQueries=[]),s=n.length?n[n.length-1]:-1;i!==s&&n.push(e.queries.length-1,i)}function w4(e,i){return e.queries.getByIndex(i)}function uV(e,i){let n=e[Ot],s=w4(n,i);return s.crossesNgTemplate?vy(n,e,i,[]):GC(n,e,s,i)}var ko=class{},bd=class{};var gy=class extends ko{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new J0(this);constructor(i,n,s,r=!0){super(),this.ngModuleType=i,this._parent=n;let o=$9(i);this._bootstrapComponents=rC(o.bootstrap),this._r3Injector=NM(i,n,[{provide:ko,useValue:this},{provide:su,useValue:this.componentFactoryResolver},...s],Yi(i),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}},my=class extends bd{moduleType;constructor(i){super(),this.moduleType=i}create(i){return new gy(this.moduleType,i,[])}};var Q0=class extends ko{injector;componentFactoryResolver=new J0(this);instance=null;constructor(i){super();let n=new pd([...i.providers,{provide:ko,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],i.parent||Gy(),i.debugName,new Set(["environment"]));this.injector=n,i.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}};function bp(e,i,n=null){return new Q0({providers:e,parent:i,debugName:n,runEnvironmentInitializers:!0}).injector}var hV=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let s=_9(!1,n.type),r=s.length>0?bp([s],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ce({token:e,providedIn:"environment",factory:()=>new e(pe(Ui))})}return e})();function lt(e){return Cd(()=>{let i=HC(e),n=Se(q({},i),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===UM.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:i.standalone?r=>r.get(hV).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Us.Emulated,styles:e.styles||sr,_:null,schemas:e.schemas||null,tView:null,id:""});i.standalone&&Pa("NgStandalone"),jC(n);let s=e.dependencies;return n.directiveDefs=T9(s,!1),n.pipeDefs=T9(s,!0),n.id=pV(n),n})}function dV(e){return So(e)||J9(e)}function fV(e){return e!==null}function an(e){return Cd(()=>({type:e.type,bootstrap:e.bootstrap||sr,declarations:e.declarations||sr,imports:e.imports||sr,exports:e.exports||sr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function k9(e,i){if(e==null)return eu;let n={};for(let s in e)if(e.hasOwnProperty(s)){let r=e[s],o,t,a=Io.None;Array.isArray(r)?(a=r[0],o=r[1],t=r[2]??o):(o=r,t=r),i?(n[o]=a!==Io.None?[s,a]:s,i[o]=t):n[o]=s}return n}function yn(e){return Cd(()=>{let i=HC(e);return jC(i),i})}function Ld(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function HC(e){let i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||eu,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||sr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:k9(e.inputs,i),outputs:k9(e.outputs),debugInfo:null}}function jC(e){e.features?.forEach(i=>i(e))}function T9(e,i){if(!e)return null;let n=i?K9:dV;return()=>(typeof e=="function"?e():e).map(s=>n(s)).filter(fV)}function pV(e){let i=0,n=typeof e.consts=="function"?"":e.consts,s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of s.join("|"))i=Math.imul(31,i)+o.charCodeAt(0)<<0;return i+=2147483648,"c"+i}function vV(e){return Object.getPrototypeOf(e.prototype).constructor}function ws(e){let i=vV(e.type),n=!0,s=[e];for(;i;){let r;if(Ea(e))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ue(903,!1);r=i.\u0275dir}if(r){if(n){s.push(r);let t=e;t.inputs=C0(e.inputs),t.inputTransforms=C0(e.inputTransforms),t.declaredInputs=C0(e.declaredInputs),t.outputs=C0(e.outputs);let a=r.hostBindings;a&&bV(e,a);let p=r.viewQuery,c=r.contentQueries;if(p&&yV(e,p),c&&xV(e,c),gV(e,r),uF(e.outputs,r.outputs),Ea(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let t=0;t<o.length;t++){let a=o[t];a&&a.ngInherit&&a(e),a===ws&&(n=!1)}}i=Object.getPrototypeOf(i)}mV(s)}function gV(e,i){for(let n in i.inputs){if(!i.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let s=i.inputs[n];if(s!==void 0&&(e.inputs[n]=s,e.declaredInputs[n]=i.declaredInputs[n],i.inputTransforms!==null)){let r=Array.isArray(s)?s[0]:s;if(!i.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=i.inputTransforms[r]}}}function mV(e){let i=0,n=null;for(let s=e.length-1;s>=0;s--){let r=e[s];r.hostVars=i+=r.hostVars,r.hostAttrs=ru(r.hostAttrs,n=ru(n,r.hostAttrs))}}function C0(e){return e===eu?{}:e===sr?[]:e}function yV(e,i){let n=e.viewQuery;n?e.viewQuery=(s,r)=>{i(s,r),n(s,r)}:e.viewQuery=i}function xV(e,i){let n=e.contentQueries;n?e.contentQueries=(s,r,o)=>{i(s,r,o),n(s,r,o)}:e.contentQueries=i}function bV(e,i){let n=e.hostBindings;n?e.hostBindings=(s,r)=>{i(s,r),n(s,r)}:e.hostBindings=i}function S4(e){let i=e.inputConfig,n={};for(let s in i)if(i.hasOwnProperty(s)){let r=i[s];Array.isArray(r)&&r[3]&&(n[s]=r[3])}e.inputTransforms=n}function YC(e){return CV(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function MV(e,i){if(Array.isArray(e))for(let n=0;n<e.length;n++)i(e[n]);else{let n=e[Symbol.iterator](),s;for(;!(s=n.next()).done;)i(s.value)}}function CV(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function I4(e,i,n){return e[i]=n}function Zs(e,i,n){let s=e[i];return Object.is(s,n)?!1:(e[i]=n,!0)}function k4(e,i,n,s){let r=Zs(e,i,n);return Zs(e,i+1,s)||r}function wV(e,i,n,s,r){let o=k4(e,i,n,s);return Zs(e,i+2,r)||o}function SV(e,i,n,s,r,o,t,a,p){let c=i.consts,u=Ad(i,e,4,t||null,a||null);up()&&C4(i,n,u,iu(c,p),f4),u.mergedAttrs=ru(u.mergedAttrs,u.attrs),Ky(i,u);let h=u.tView=h4(2,u,s,r,o,i.directiveRegistry,i.pipeRegistry,null,i.schemas,c,null);return i.queries!==null&&(i.queries.template(i,u),h.queries=i.queries.embeddedTView(u)),u}function UC(e,i,n,s,r,o,t,a,p,c){let u=n+Di,h=i.firstCreatePass?SV(u,i,e,s,r,o,t,a,p):i.data[u];jl(h,!1);let l=IV(i,e,h,n);fp()&&mp(i,e,l,h),Yl(l,e);let d=vC(l,e,l,h);return e[u]=d,p4(e,d),qB(d,h,e),lp(h)&&c4(i,e,h),p!=null&&u4(e,h,c),h}function mt(e,i,n,s,r,o,t,a){let p=bt(),c=Xn(),u=iu(c.consts,o);return UC(p,c,e,i,n,s,r,u,t,a),mt}var IV=kV;function kV(e,i,n,s){return pp(!0),i[An].createComment("")}var T4=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var ZC=new xe("");function Ao(e){return!!e&&typeof e.then=="function"}function E4(e){return!!e&&typeof e.subscribe=="function"}var Mp=new xe("");var XC=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s});appInits=ve(Mp,{optional:!0})??[];injector=ve(ri);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=or(this.injector,r);if(Ao(o))n.push(o);else if(E4(o)){let t=new Promise((a,p)=>{o.subscribe({complete:a,error:p})});n.push(t)}}let s=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{s()}).catch(r=>{this.reject(r)}),n.length===0&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$C=(()=>{class e{static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new _0})}return e})(),_0=class{queuedEffectCount=0;queues=new Map;schedule(i){this.enqueue(i)}remove(i){let n=i.zone,s=this.queues.get(n);s.has(i)&&(s.delete(i),this.queuedEffectCount--)}enqueue(i){let n=i.zone;this.queues.has(n)||this.queues.set(n,new Set);let s=this.queues.get(n);s.has(i)||(this.queuedEffectCount++,s.add(i))}flush(){for(;this.queuedEffectCount>0;)for(let[i,n]of this.queues)i===null?this.flushQueue(n):i.run(()=>this.flushQueue(n))}flushQueue(i){for(let n of i)i.delete(n),this.queuedEffectCount--,n.run()}},Rd=new xe("");function TV(){k8(()=>{throw new Ue(600,!1)})}function EV(e){return e.isBoundToModule}var AV=10;var Ra=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=ve(HP);afterRenderManager=ve(_M);zonelessEnabled=ve(vp);rootEffectScheduler=ve($C);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ot;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=ve($s).hasPendingTasks.pipe(ze(n=>!n));constructor(){ve(hu,{optional:!0})}whenStable(){let n;return new Promise(s=>{n=this.isStable.subscribe({next:r=>{r&&s()}})}).finally(()=>{n.unsubscribe()})}_injector=ve(Ui);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,s){let r=n instanceof $0;if(!this._injector.get(XC).done){let l=!r&&Q9(n),d=!1;throw new Ue(405,d)}let t;r?t=n:t=this._injector.get(su).resolveComponentFactory(n),this.componentTypes.push(t.componentType);let a=EV(t)?void 0:this._injector.get(ko),p=s||t.selector,c=t.create(ri.NULL,[],p,a),u=c.location.nativeElement,h=c.injector.get(ZC,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),A0(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let s=this.tracingSnapshot;this.tracingSnapshot=null,s.run(i4.CHANGE_DETECTION,this._tick),s.dispose();return}if(this._runningTick)throw new Ue(101,!1);let n=Gt(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,Gt(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(au,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<AV;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:r}of this.allViews)LV(s,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>cp(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){let s=n;A0(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Rd,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>A0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ue(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function A0(e,i){let n=e.indexOf(i);n>-1&&e.splice(n,1)}function LV(e,i,n,s){if(!n&&!cp(e))return;AC(e,i,n&&!s?0:1)}function pu(e,i,n,s){let r=bt(),o=hp();if(Zs(r,o,i)){let t=Xn(),a=dp();ZN(a,r,e,i,n,s)}return pu}function JC(e,i,n,s){return Zs(e,hp(),n)?i+qc(n)+s:zr}function RV(e,i,n,s,r,o){let t=cP(),a=k4(e,t,n,r);return Zy(2),a?i+qc(n)+s+qc(r)+o:zr}function w0(e,i){return e<<17|i<<2}function Wl(e){return e>>17&32767}function DV(e){return(e&2)==2}function OV(e,i){return e&131071|i<<17}function yy(e){return e|2}function lu(e){return(e&131068)>>2}function Em(e,i){return e&-131069|i<<2}function FV(e){return(e&1)===1}function xy(e){return e|1}function PV(e,i,n,s,r,o){let t=o?i.classBindings:i.styleBindings,a=Wl(t),p=lu(t);e[s]=n;let c=!1,u;if(Array.isArray(n)){let h=n;u=h[1],(u===null||wd(h,u)>0)&&(c=!0)}else u=n;if(r)if(p!==0){let l=Wl(e[a+1]);e[s+1]=w0(l,a),l!==0&&(e[l+1]=Em(e[l+1],s)),e[a+1]=OV(e[a+1],s)}else e[s+1]=w0(a,0),a!==0&&(e[a+1]=Em(e[a+1],s)),a=s;else e[s+1]=w0(p,0),a===0?a=s:e[p+1]=Em(e[p+1],s),p=s;c&&(e[s+1]=yy(e[s+1])),E9(e,u,s,!0),E9(e,u,s,!1),NV(i,u,e,s,o),t=w0(a,p),o?i.classBindings=t:i.styleBindings=t}function NV(e,i,n,s,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof i=="string"&&wd(o,i)>=0&&(n[s+1]=xy(n[s+1]))}function E9(e,i,n,s){let r=e[n+1],o=i===null,t=s?Wl(r):lu(r),a=!1;for(;t!==0&&(a===!1||o);){let p=e[t],c=e[t+1];BV(p,i)&&(a=!0,e[t+1]=s?xy(c):yy(c)),t=s?Wl(c):lu(c)}a&&(e[n+1]=s?yy(r):xy(r))}function BV(e,i){return e===null||i==null||(Array.isArray(e)?e[1]:e)===i?!0:Array.isArray(e)&&typeof i=="string"?wd(e,i)>=0:!1}var ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VV(e){return e.substring(ys.key,ys.keyEnd)}function GV(e){return zV(e),KC(e,QC(e,0,ys.textEnd))}function KC(e,i){let n=ys.textEnd;return n===i?-1:(i=ys.keyEnd=WV(e,ys.key=i,n),QC(e,i,n))}function zV(e){ys.key=0,ys.keyEnd=0,ys.value=0,ys.valueEnd=0,ys.textEnd=e.length}function QC(e,i,n){for(;i<n&&e.charCodeAt(i)<=32;)i++;return i}function WV(e,i,n){for(;i<n&&e.charCodeAt(i)>32;)i++;return i}function Ne(e,i,n){let s=bt(),r=hp();if(Zs(s,r,i)){let o=Xn(),t=dp();d4(o,t,s,e,i,s[An],n,!1)}return Ne}function by(e,i,n,s,r){let o=i.inputs,t=r?"class":"style";v4(e,n,o[t],t,s)}function vu(e,i,n){return _C(e,i,n,!1),vu}function pi(e,i){return _C(e,i,null,!0),pi}function Cp(e){jV(JV,HV,e,!0)}function HV(e,i){for(let n=GV(i);n>=0;n=KC(i,n))Ny(e,VV(i),!0)}function _C(e,i,n,s){let r=bt(),o=Xn(),t=Zy(2);if(o.firstUpdatePass&&e7(o,e,t,s),i!==zr&&Zs(r,t,i)){let a=o.data[To()];t7(o,a,r,r[An],e,r[t+1]=QV(i,n),s,t)}}function jV(e,i,n,s){let r=Xn(),o=Zy(2);r.firstUpdatePass&&e7(r,null,o,s);let t=bt();if(n!==zr&&Zs(t,o,n)){let a=r.data[To()];if(n7(a,s)&&!qC(r,o)){let p=s?a.classesWithoutHost:a.stylesWithoutHost;p!==null&&(n=Om(p,n||"")),by(r,a,t,n,s)}else KV(r,a,t,t[An],t[o+1],t[o+1]=$V(e,i,n),s,o)}}function qC(e,i){return i>=e.expandoStartIndex}function e7(e,i,n,s){let r=e.data;if(r[n+1]===null){let o=r[To()],t=qC(e,n);n7(o,s)&&i===null&&!t&&(i=!1),i=YV(r,o,i,s),PV(r,o,i,n,t,s)}}function YV(e,i,n,s){let r=pP(e),o=s?i.residualClasses:i.residualStyles;if(r===null)(s?i.classBindings:i.styleBindings)===0&&(n=Am(null,e,i,n,s),n=Md(n,i.attrs,s),o=null);else{let t=i.directiveStylingLast;if(t===-1||e[t]!==r)if(n=Am(r,e,i,n,s),o===null){let p=UV(e,i,s);p!==void 0&&Array.isArray(p)&&(p=Am(null,e,i,p[1],s),p=Md(p,i.attrs,s),ZV(e,i,s,p))}else o=XV(e,i,s)}return o!==void 0&&(s?i.residualClasses=o:i.residualStyles=o),n}function UV(e,i,n){let s=n?i.classBindings:i.styleBindings;if(lu(s)!==0)return e[Wl(s)]}function ZV(e,i,n,s){let r=n?i.classBindings:i.styleBindings;e[Wl(r)]=s}function XV(e,i,n){let s,r=i.directiveEnd;for(let o=1+i.directiveStylingLast;o<r;o++){let t=e[o].hostAttrs;s=Md(s,t,n)}return Md(s,i.attrs,n)}function Am(e,i,n,s,r){let o=null,t=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<t&&(o=i[a],s=Md(s,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),s}function Md(e,i,n){let s=n?1:2,r=-1;if(i!==null)for(let o=0;o<i.length;o++){let t=i[o];typeof t=="number"?r=t:r===s&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ny(e,t,n?!0:i[++o]))}return e===void 0?null:e}function $V(e,i,n){if(n==null||n==="")return sr;let s=[],r=du(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(s,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(s,o,r[o]);else typeof r=="string"&&i(s,r);return s}function JV(e,i,n){let s=String(i);s!==""&&!s.includes(" ")&&Ny(e,s,n)}function KV(e,i,n,s,r,o,t,a){r===zr&&(r=sr);let p=0,c=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;u!==null||h!==null;){let l=p<r.length?r[p+1]:void 0,d=c<o.length?o[c+1]:void 0,v=null,f;u===h?(p+=2,c+=2,l!==d&&(v=h,f=d)):h===null||u!==null&&u<h?(p+=2,v=u):(c+=2,v=h,f=d),v!==null&&t7(e,i,n,s,v,f,t,a),u=p<r.length?r[p]:null,h=c<o.length?o[c]:null}}function t7(e,i,n,s,r,o,t,a){if(!(i.type&3))return;let p=e.data,c=p[a+1],u=FV(c)?A9(p,i,n,r,lu(c),t):void 0;if(!q0(u)){q0(o)||DV(c)&&(o=A9(p,null,n,r,a,t));let h=cM(To(),n);uB(s,t,h,r,o)}}function A9(e,i,n,s,r,o){let t=i===null,a;for(;r>0;){let p=e[r],c=Array.isArray(p),u=c?p[1]:p,h=u===null,l=n[r+1];l===zr&&(l=h?sr:void 0);let d=h?Mm(l,s):u===s?l:void 0;if(c&&!q0(d)&&(d=Mm(p,s)),q0(d)&&(a=d,t))return a;let v=e[r+1];r=t?Wl(v):lu(v)}if(i!==null){let p=o?i.residualClasses:i.residualStyles;p!=null&&(a=Mm(p,s))}return a}function q0(e){return e!==void 0}function QV(e,i){return e==null||e===""||(typeof i=="string"?e=e+i:typeof e=="object"&&(e=Yi(du(e)))),e}function n7(e,i){return(e.flags&(i?8:16))!==0}function re(e,i,n,s){let r=bt(),o=Xn(),t=Di+e,a=r[An],p=o.firstCreatePass?PC(t,o,r,i,f4,up(),n,s):o.data[t],c=_V(o,r,p,a,i,e);r[t]=c;let u=lp(p);return jl(p,!0),cC(a,c,p),!y4(p)&&fp()&&mp(o,r,c,p),nP()===0&&Yl(c,r),iP(),u&&(c4(o,r,p),s4(o,p,r)),s!==null&&u4(r,p),re}function le(){let e=Fi();Yy()?Uy():(e=e.parent,jl(e,!1));let i=e;sP(i)&&aP(),rP();let n=Xn();return n.firstCreatePass&&NC(n,i),i.classesWithoutHost!=null&&MP(i)&&by(n,i,bt(),i.classesWithoutHost,!0),i.stylesWithoutHost!=null&&CP(i)&&by(n,i,bt(),i.stylesWithoutHost,!1),le}function ct(e,i,n,s){return re(e,i,n,s),le(),ct}var _V=(e,i,n,s,r,o)=>(pp(!0),oC(s,r,mP()));function qV(e,i,n,s,r){let o=i.consts,t=iu(o,s),a=Ad(i,e,8,"ng-container",t);t!==null&&cy(a,t,!0);let p=iu(o,r);return up()&&C4(i,n,a,p,f4),a.mergedAttrs=ru(a.mergedAttrs,a.attrs),i.queries!==null&&i.queries.elementStart(i,a),a}function qn(e,i,n){let s=bt(),r=Xn(),o=e+Di,t=r.firstCreatePass?qV(o,r,s,i,n):r.data[o];jl(t,!0);let a=eG(r,s,t,e);return s[o]=a,fp()&&mp(r,s,a,t),Yl(a,s),lp(t)&&(c4(r,s,t),s4(r,t,s)),n!=null&&u4(s,t),qn}function ei(){let e=Fi(),i=Xn();return Yy()?Uy():(e=e.parent,jl(e,!1)),i.firstCreatePass&&(Ky(i,e),zy(e)&&i.queries.elementEnd(e)),ei}var eG=(e,i,n,s)=>(pp(!0),RN(i[An],""));function Kt(){return bt()}var Al=void 0;function tG(e){let i=e,n=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&s===0?1:5}var nG=["en",[["a","p"],["AM","PM"],Al],[["AM","PM"],Al,Al],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Al,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Al,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Al,"{1} 'at' {0}",Al],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",tG],Lm={};function A4(e){let i=iG(e),n=L9(i);if(n)return n;let s=i.split("-")[0];if(n=L9(s),n)return n;if(s==="en")return nG;throw new Ue(701,!1)}function L9(e){return e in Lm||(Lm[e]=Ll.ng&&Ll.ng.common&&Ll.ng.common.locales&&Ll.ng.common.locales[e]),Lm[e]}var gu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(gu||{});function iG(e){return e.toLowerCase().replace(/_/g,"-")}var ep="en-US";var rG=ep;function sG(e){typeof e=="string"&&(rG=e.toLowerCase().replace(/_/g,"-"))}var aG=(e,i,n)=>{};function _e(e,i,n,s){let r=bt(),o=Xn(),t=Fi();return i7(o,r,r[An],t,e,i,s),_e}function oG(e,i,n,s){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let t=r[o];if(t===n&&r[o+1]===s){let a=i[P0],p=r[o+2];return a.length>p?a[p]:null}typeof t=="string"&&(o+=2)}return null}function i7(e,i,n,s,r,o,t){let a=lp(s),c=e.firstCreatePass&&pM(e),u=i[Vr],h=fM(i),l=!0;if(s.type&3||t){let f=Ms(s,i),g=t?t(f):f,m=h.length,x=t?b=>t(js(b[s.index])):s.index,y=null;if(!t&&a&&(y=oG(e,i,r,s.index)),y!==null){let b=y.__ngLastListenerFn__||y;b.__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,l=!1}else{o=D9(s,i,u,o),aG(f,r,o);let b=n.listen(g,r,o);h.push(o,b),c&&c.push(r,x,m,m+1)}}else o=D9(s,i,u,o);let d=s.outputs,v;if(l&&d!==null&&(v=d[r])){let f=v.length;if(f)for(let g=0;g<f;g+=2){let m=v[g],x=v[g+1],M=i[m][x].subscribe(o),C=h.length;h.push(o,M),c&&c.push(r,s.index,C,-(C+1))}}}function R9(e,i,n,s){let r=Gt(null);try{return Br(6,i,n),n(s)!==!1}catch(o){return gC(e,o),!1}finally{Br(7,i,n),Gt(r)}}function D9(e,i,n,s){return function r(o){if(o===Function)return s;let t=Hl(e)?Ys(e.index,i):i;M4(t,5);let a=R9(i,n,s,o),p=r.__ngNextListenerFn__;for(;p;)a=R9(i,n,p,o)&&a,p=p.__ngNextListenerFn__;return a}}function it(e=1){return gP(e)}function lG(e,i){let n=null,s=CN(e);for(let r=0;r<i.length;r++){let o=i[r];if(o==="*"){n=r;continue}if(s===null?aC(e,o,!0):IN(s,o))return r}return n}function Wr(e){let i=bt()[Gr][lr];if(!i.projection){let n=e?e.length:1,s=i.projection=DF(n,null),r=s.slice(),o=i.child;for(;o!==null;){if(o.type!==128){let t=e?lG(o,e):0;t!==null&&(r[t]?r[t].projectionNext=o:s[t]=o,r[t]=o)}o=o.next}}}function Xi(e,i=0,n,s,r,o){let t=bt(),a=Xn(),p=s?e+1:null;p!==null&&UC(t,a,p,s,r,o,null,n);let c=Ad(a,Di+e,16,null,n||null);c.projection===null&&(c.projection=i),Uy();let h=!t[vd]||vM();t[Gr][lr].projection[c.projection]===null&&p!==null?cG(t,a,p):h&&!y4(c)&&lB(a,t,c)}function cG(e,i,n){let s=Di+n,r=i.data[s],o=e[s],t=ay(o,r.tView.ssrId),a=SC(e,r,void 0,{dehydratedView:t});IC(o,a,0,ry(r,t))}function Ul(e,i,n){return r7(e,"",i,"",n),Ul}function r7(e,i,n,s,r){let o=bt(),t=JC(o,i,n,s);if(t!==zr){let a=Xn(),p=dp();d4(a,p,o,e,t,o[An],r,!1)}return r7}function mu(e,i,n,s){oV(e,i,n,s)}function yu(e,i,n){aV(e,i,n)}function Hr(e){let i=bt(),n=Xn(),s=yM();Xy(s+1);let r=w4(n,s);if(e.dirty&&QF(i)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=uV(i,s);e.reset(o,UP),e.notifyOnChanges()}return!0}return!1}function jr(){return sV(bt(),yM())}function uG(e,i,n,s){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),i[n]=s}function Ss(e){let i=lP();return Wy(i,Di+e)}function ge(e,i=""){let n=bt(),s=Xn(),r=e+Di,o=s.firstCreatePass?Ad(s,r,1,i,null):s.data[r],t=hG(s,n,o,i,e);n[r]=t,fp()&&mp(s,n,t,o),jl(o,!1)}var hG=(e,i,n,s,r)=>(pp(!0),AN(i[An],s));function Ye(e){return Ut("",e,""),Ye}function Ut(e,i,n){let s=bt(),r=JC(s,e,i,n);return r!==zr&&s7(s,To(),r),Ut}function Lo(e,i,n,s,r){let o=bt(),t=RV(o,e,i,n,s,r);return t!==zr&&s7(o,To(),t),Lo}function s7(e,i,n){let s=cM(i,e);LN(e[An],s,n)}function Dd(e,i,n){jM(i)&&(i=i());let s=bt(),r=hp();if(Zs(s,r,i)){let o=Xn(),t=dp();d4(o,t,s,e,i,s[An],n,!1)}return Dd}function wp(e,i){let n=jM(e);return n&&e.set(i),n}function Od(e,i){let n=bt(),s=Xn(),r=Fi();return i7(s,n,n[An],r,e,i),Od}function dG(e,i,n){let s=Xn();if(s.firstCreatePass){let r=Ea(e);My(n,s.data,s.blueprint,r,!0),My(i,s.data,s.blueprint,r,!1)}}function My(e,i,n,s,r){if(e=ji(e),Array.isArray(e))for(let o=0;o<e.length;o++)My(e[o],i,n,s,r);else{let o=Xn(),t=bt(),a=Fi(),p=tu(e)?e:ji(e.provide),c=tM(e),u=a.providerIndexes&1048575,h=a.directiveStart,l=a.providerIndexes>>20;if(tu(e)||!e.multi){let d=new Vl(c,r,be),v=Dm(p,i,r?u:u+l,h);v===-1?(Zm(H0(a,t),o,p),Rm(o,e,i.length),i.push(p),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(d),t.push(d)):(n[v]=d,t[v]=d)}else{let d=Dm(p,i,u+l,h),v=Dm(p,i,u,u+l),f=d>=0&&n[d],g=v>=0&&n[v];if(r&&!g||!r&&!f){Zm(H0(a,t),o,p);let m=vG(r?pG:fG,n.length,r,s,c);!r&&g&&(n[v].providerFactory=m),Rm(o,e,i.length,0),i.push(p),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(m),t.push(m)}else{let m=a7(n[r?v:d],c,!r&&s);Rm(o,e,d>-1?d:v,m)}!r&&s&&g&&n[v].componentProviders++}}}function Rm(e,i,n,s){let r=tu(i),o=VF(i);if(r||o){let p=(o?ji(i.useClass):i).prototype.ngOnDestroy;if(p){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&i.multi){let u=c.indexOf(n);u===-1?c.push(n,[s,p]):c[u+1].push(s,p)}else c.push(n,p)}}}function a7(e,i,n){return n&&e.componentProviders++,e.multi.push(i)-1}function Dm(e,i,n,s){for(let r=n;r<s;r++)if(i[r]===e)return r;return-1}function fG(e,i,n,s){return Cy(this.multi,[])}function pG(e,i,n,s){let r=this.multi,o;if(this.providerFactory){let t=this.providerFactory.componentProviders,a=yd(n,n[Ot],this.providerFactory.index,s);o=a.slice(0,t),Cy(r,o);for(let p=t;p<a.length;p++)o.push(a[p])}else o=[],Cy(r,o);return o}function Cy(e,i){for(let n=0;n<e.length;n++){let s=e[n];i.push(s())}return i}function vG(e,i,n,s,r){let o=new Vl(e,n,be);return o.multi=[],o.index=i,o.componentProviders=0,a7(o,r,s&&!n),o}function Zl(e,i=[]){return n=>{n.providersResolver=(s,r)=>dG(s,r?r(e):e,i)}}function Is(e,i,n,s){return c7(bt(),Td(),e,i,n,s)}function o7(e,i,n,s,r){return u7(bt(),Td(),e,i,n,s,r)}function l7(e,i,n,s,r,o){return gG(bt(),Td(),e,i,n,s,r,o)}function L4(e,i){let n=e[i];return n===zr?void 0:n}function c7(e,i,n,s,r,o){let t=i+n;return Zs(e,t,r)?I4(e,t+1,o?s.call(o,r):s(r)):L4(e,t+1)}function u7(e,i,n,s,r,o,t){let a=i+n;return k4(e,a,r,o)?I4(e,a+2,t?s.call(t,r,o):s(r,o)):L4(e,a+2)}function gG(e,i,n,s,r,o,t,a){let p=i+n;return wV(e,p,r,o,t)?I4(e,p+3,a?s.call(a,r,o,t):s(r,o,t)):L4(e,p+3)}function Ae(e,i){let n=Xn(),s,r=e+Di;n.firstCreatePass?(s=mG(i,n.pipeRegistry),n.data[r]=s,s.onDestroy&&(n.destroyHooks??=[]).push(r,s.onDestroy)):s=n.data[r];let o=s.factory||(s.factory=Dl(s.type,!0)),t,a=rr(be);try{let p=W0(!1),c=o();return W0(p),uG(n,bt(),r,c),c}finally{rr(a)}}function mG(e,i){if(i)for(let n=i.length-1;n>=0;n--){let s=i[n];if(e===s.name)return s}}function Oe(e,i,n){let s=e+Di,r=bt(),o=Wy(r,s);return d7(r,s)?c7(r,Td(),i,o.transform,n,o):o.transform(n)}function h7(e,i,n,s){let r=e+Di,o=bt(),t=Wy(o,r);return d7(o,r)?u7(o,Td(),i,t.transform,n,s,t):t.transform(n,s)}function d7(e,i){return e[Ot].data[i].pure}function cr(e,i){return xp(e,i)}var wy=class{ngModuleFactory;componentFactories;constructor(i,n){this.ngModuleFactory=i,this.componentFactories=n}},Sp=(()=>{class e{compileModuleSync(n){return new my(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let s=this.compileModuleSync(n),r=$9(n),o=rC(r.declarations).reduce((t,a)=>{let p=So(a);return p&&t.push(new ou(p)),t},[]);return new wy(s,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var yG=(()=>{class e{zone=ve(rn);changeDetectionScheduler=ve(Gl);applicationRef=ve(Ra);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xG=new xe("",{factory:()=>!1});function f7({ngZoneFactory:e,ignoreChangesOutsideZone:i,scheduleInRootZone:n}){return e??=()=>new rn(Se(q({},v7()),{scheduleInRootZone:n})),[{provide:rn,useFactory:e},{provide:wo,multi:!0,useFactory:()=>{let s=ve(yG,{optional:!0});return()=>s.initialize()}},{provide:wo,multi:!0,useFactory:()=>{let s=ve(bG);return()=>{s.initialize()}}},i===!0?{provide:VM,useValue:!0}:[],{provide:GM,useValue:n??BM}]}function p7(e){let i=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,s=f7({ngZoneFactory:()=>{let r=v7(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Pa("NgZone_CoalesceEvent"),new rn(r)},ignoreChangesOutsideZone:i,scheduleInRootZone:n});return bs([{provide:xG,useValue:!0},{provide:vp,useValue:!1},s])}function v7(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var bG=(()=>{class e{subscription=new vn;initialized=!1;zone=ve(rn);pendingTasks=ve($s);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{rn.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{rn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var MG=(()=>{class e{appRef=ve(Ra);taskService=ve($s);ngZone=ve(rn);zonelessEnabled=ve(vp);tracing=ve(hu,{optional:!0});disableScheduling=ve(VM,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new vn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Y0):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ve(GM,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Km||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let s=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,s=!0;break}case 13:{this.appRef.dirtyFlags|=16,s=!0;break}case 14:{this.appRef.dirtyFlags|=2,s=!0;break}case 12:{s=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;let r=this.useMicrotaskScheduler?d9:zM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Y0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(n),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,d9(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CG(){return typeof $localize<"u"&&$localize.locale||ep}var Ip=new xe("",{providedIn:"root",factory:()=>ve(Ip,Et.Optional|Et.SkipSelf)||CG()});var Sy=new xe(""),wG=new xe("");function cd(e){return!e.moduleRef}function SG(e){let i=cd(e)?e.r3Injector:e.moduleRef.injector,n=i.get(rn);return n.run(()=>{cd(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let s=i.get(ar,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{s.handleError(o)}})}),cd(e)){let o=()=>i.destroy(),t=e.platformInjector.get(Sy);t.add(o),i.onDestroy(()=>{r.unsubscribe(),t.delete(o)})}else{let o=()=>e.moduleRef.destroy(),t=e.platformInjector.get(Sy);t.add(o),e.moduleRef.onDestroy(()=>{A0(e.allPlatformModules,e.moduleRef),r.unsubscribe(),t.delete(o)})}return kG(s,n,()=>{let o=i.get(XC);return o.runInitializers(),o.donePromise.then(()=>{let t=i.get(Ip,ep);if(sG(t||ep),!i.get(wG,!0))return cd(e)?i.get(Ra):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(cd(e)){let p=i.get(Ra);return e.rootComponent!==void 0&&p.bootstrap(e.rootComponent),p}else return IG(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function IG(e,i){let n=e.injector.get(Ra);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>n.bootstrap(s));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new Ue(-403,!1);i.push(e)}function kG(e,i,n){try{let s=n();return Ao(s)?s.catch(r=>{throw i.runOutsideAngular(()=>e.handleError(r)),r}):s}catch(s){throw i.runOutsideAngular(()=>e.handleError(s)),s}}var L0=null;function TG(e=[],i){return ri.create({name:i,providers:[{provide:ap,useValue:"platform"},{provide:Sy,useValue:new Set([()=>L0=null])},...e]})}function EG(e=[]){if(L0)return L0;let i=TG(e);return L0=i,TV(),AG(i),i}function AG(e){let i=e.get(n4,null);or(e,()=>{i?.forEach(n=>n())})}function R4(){return!1}var Pi=(()=>{class e{static __NG_ELEMENT_ID__=LG}return e})();function LG(e){return RG(Fi(),bt(),(e&16)===16)}function RG(e,i,n){if(Hl(e)&&!n){let s=Ys(e.index,i);return new zl(s,s)}else if(e.type&175){let s=i[Gr];return new zl(s,i)}return null}var Iy=class{constructor(){}supports(i){return YC(i)}create(i){return new ky(i)}},DG=(e,i)=>i,ky=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(i){this._trackByFn=i||DG}forEachItem(i){let n;for(n=this._itHead;n!==null;n=n._next)i(n)}forEachOperation(i){let n=this._itHead,s=this._removalsHead,r=0,o=null;for(;n||s;){let t=!s||n&&n.currentIndex<O9(s,r,o)?n:s,a=O9(t,r,o),p=t.currentIndex;if(t===s)r--,s=s._nextRemoved;else if(n=n._next,t.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=p-r;if(c!=u){for(let l=0;l<c;l++){let d=l<o.length?o[l]:o[l]=0,v=d+l;u<=v&&v<c&&(o[l]=d+1)}let h=t.previousIndex;o[h]=u-c}}a!==p&&i(t,a,p)}}forEachPreviousItem(i){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)i(n)}forEachAddedItem(i){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)i(n)}forEachMovedItem(i){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)i(n)}forEachRemovedItem(i){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)i(n)}forEachIdentityChange(i){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)i(n)}diff(i){if(i==null&&(i=[]),!YC(i))throw new Ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let n=this._itHead,s=!1,r,o,t;if(Array.isArray(i)){this.length=i.length;for(let a=0;a<this.length;a++)o=i[a],t=this._trackByFn(a,o),n===null||!Object.is(n.trackById,t)?(n=this._mismatch(n,o,t,a),s=!0):(s&&(n=this._verifyReinsertion(n,o,t,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,MV(i,a=>{t=this._trackByFn(r,a),n===null||!Object.is(n.trackById,t)?(n=this._mismatch(n,a,t,r),s=!0):(s&&(n=this._verifyReinsertion(n,a,t,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=i,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;i!==null;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;i!==null;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,n,s,r){let o;return i===null?o=this._itTail:(o=i._prev,this._remove(i)),i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(s,null),i!==null?(Object.is(i.item,n)||this._addIdentityChange(i,n),this._reinsertAfter(i,o,r)):(i=this._linkedRecords===null?null:this._linkedRecords.get(s,r),i!==null?(Object.is(i.item,n)||this._addIdentityChange(i,n),this._moveAfter(i,o,r)):i=this._addAfter(new Ty(n,s),o,r)),i}_verifyReinsertion(i,n,s,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(s,null);return o!==null?i=this._reinsertAfter(o,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;i!==null;){let n=i._next;this._addToRemovals(this._unlink(i)),i=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,n,s){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(i);let r=i._prevRemoved,o=i._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(i,n,s),this._addToMoves(i,s),i}_moveAfter(i,n,s){return this._unlink(i),this._insertAfter(i,n,s),this._addToMoves(i,s),i}_addAfter(i,n,s){return this._insertAfter(i,n,s),this._additionsTail===null?this._additionsTail=this._additionsHead=i:this._additionsTail=this._additionsTail._nextAdded=i,i}_insertAfter(i,n,s){let r=n===null?this._itHead:n._next;return i._next=r,i._prev=n,r===null?this._itTail=i:r._prev=i,n===null?this._itHead=i:n._next=i,this._linkedRecords===null&&(this._linkedRecords=new tp),this._linkedRecords.put(i),i.currentIndex=s,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){this._linkedRecords!==null&&this._linkedRecords.remove(i);let n=i._prev,s=i._next;return n===null?this._itHead=s:n._next=s,s===null?this._itTail=n:s._prev=n,i}_addToMoves(i,n){return i.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=i:this._movesTail=this._movesTail._nextMoved=i),i}_addToRemovals(i){return this._unlinkedRecords===null&&(this._unlinkedRecords=new tp),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,n){return i.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=i:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=i,i}},Ty=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(i,n){this.item=i,this.trackById=n}},Ey=class{_head=null;_tail=null;add(i){this._head===null?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,n){let s;for(s=this._head;s!==null;s=s._nextDup)if((n===null||n<=s.currentIndex)&&Object.is(s.trackById,i))return s;return null}remove(i){let n=i._prevDup,s=i._nextDup;return n===null?this._head=s:n._nextDup=s,s===null?this._tail=n:s._prevDup=n,this._head===null}},tp=class{map=new Map;put(i){let n=i.trackById,s=this.map.get(n);s||(s=new Ey,this.map.set(n,s)),s.add(i)}get(i,n){let s=i,r=this.map.get(s);return r?r.get(i,n):null}remove(i){let n=i.trackById;return this.map.get(n).remove(i)&&this.map.delete(n),i}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function O9(e,i,n){let s=e.previousIndex;if(s===null)return s;let r=0;return n&&s<n.length&&(r=n[s]),s+i+r}function F9(){return new D4([new Iy])}var D4=(()=>{class e{factories;static \u0275prov=Ce({token:e,providedIn:"root",factory:F9});constructor(n){this.factories=n}static create(n,s){if(s!=null){let r=s.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||F9()),deps:[[e,new AF,new sp]]}}find(n){let s=this.factories.find(r=>r.supports(n));if(s!=null)return s;throw new Ue(901,!1)}}return e})();function g7(e){try{let{rootComponent:i,appProviders:n,platformProviders:s}=e,r=EG(s),o=[f7({}),{provide:Gl,useExisting:MG},...n||[]],t=new Q0({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return SG({r3Injector:t.injector,platformInjector:r,rootComponent:i})}catch(i){return Promise.reject(i)}}function Xl(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ba(e,i){Pa("NgSignals");let n=w8(e);return i?.equal&&(n[nr].equal=i.equal),n}function ur(e){let i=Gt(null);try{return e()}finally{Gt(i)}}var m7=(()=>{class e{view;node;constructor(n,s){this.view=n,this.node=s}static __NG_ELEMENT_ID__=OG}return e})();function OG(){return new m7(bt(),Fi())}var FG=!1,PG=(()=>{class e extends _0{pendingTasks=ve($s);taskId=null;schedule(n){super.schedule(n),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ay=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(i,n,s,r,o,t){this.scheduler=i,this.effectFn=n,this.zone=s,this.injector=o,this.watcher=A8(a=>this.runEffect(a),()=>this.schedule(),t),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(n){this.injector.get(ar,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function NG(){}function y7(e,i){Pa("NgSignals"),!i?.injector&&Sd(NG);let n=i?.injector??ve(ri),s=i?.manualCleanup!==!0?n.get(Xs):null,r=new Ay(n.get(PG),e,typeof Zone>"u"?null:Zone.current,s,n,i?.allowSignalWrites??!1),o=n.get(Pi,null,{optional:!0});return!o||!(o._lView[pt]&8)?r.watcher.notify():(o._lView[I0]??=[]).push(r.watcher.notify),r}var BG=FG;var Ly=class{[nr];constructor(i){this[nr]=i}destroy(){this[nr].destroy()}};function kp(e,i){if(BG)return y7(e,i);Pa("NgSignals"),!i?.injector&&Sd(kp);let n=i?.injector??ve(ri),s=i?.manualCleanup!==!0?n.get(Xs):null,r,o=n.get(m7,null,{optional:!0}),t=n.get(Gl);return o!==null&&!i?.forceRoot?(r=zG(o.view,t,e),s instanceof j0&&s._lView===o.view&&(s=null)):r=WG(e,n.get($C),t),r.injector=n,s!==null&&(r.onDestroyFn=s.onDestroy(()=>r.destroy())),new Ly(r)}var x7=Se(q({},bl),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:xd,run(){if(this.dirty=!1,this.hasRun&&!qh(this))return;this.hasRun=!0;let e=s=>(this.cleanupFns??=[]).push(s),i=Pc(this),n=V0(!1);try{this.maybeCleanup(),this.fn(e)}finally{V0(n),_h(this,i)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),VG=Se(q({},x7),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){Nc(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),GG=Se(q({},x7),{consumerMarkedDirty(){this.view[pt]|=8192,kd(this.view),this.notifier.notify(14)},destroy(){Nc(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Fl]?.delete(this)}});function zG(e,i,n){let s=Object.create(GG);return s.view=e,s.zone=typeof Zone<"u"?Zone.current:null,s.notifier=i,s.fn=n,e[Fl]??=new Set,e[Fl].add(s),s.consumerMarkedDirty(s),s}function WG(e,i,n){let s=Object.create(VG);return s.fn=e,s.scheduler=i,s.notifier=n,s.zone=typeof Zone<"u"?Zone.current:null,s.scheduler.schedule(s),s.notifier.notify(13),s}function b7(e){let i=So(e);if(!i)return null;let n=new ou(i);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}var T7=null;function za(){return T7}function E7(e){T7??=e}var Tp=class{};var Ni=new xe(""),H4=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:()=>ve(HG),providedIn:"platform"})}return e})(),A7=new xe(""),HG=(()=>{class e extends H4{_location;_history;_doc=ve(Ni);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return za().getBaseHref(this._doc)}onPopState(n){let s=za().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){let s=za().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,s,r){this._history.pushState(n,s,r)}replaceState(n,s,r){this._history.replaceState(n,s,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function j4(e,i){return e?i?e.endsWith("/")?i.startsWith("/")?e+i.slice(1):e+i:i.startsWith("/")?e+i:`${e}/${i}`:e:i}function M7(e){let i=e.match(/#|\?|$/),n=i&&i.index||e.length,s=n-(e[n-1]==="/"?1:0);return e.slice(0,s)+e.slice(n)}function Va(e){return e&&e[0]!=="?"?"?"+e:e}var Wa=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:()=>ve(Y4),providedIn:"root"})}return e})(),L7=new xe(""),Y4=(()=>{class e extends Wa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,s){super(),this._platformLocation=n,this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??ve(Ni).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return j4(this._baseHref,n)}path(n=!1){let s=this._platformLocation.pathname+Va(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${s}${r}`:s}pushState(n,s,r,o){let t=this.prepareExternalUrl(r+Va(o));this._platformLocation.pushState(n,s,t)}replaceState(n,s,r,o){let t=this.prepareExternalUrl(r+Va(o));this._platformLocation.replaceState(n,s,t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(s){return new(s||e)(pe(H4),pe(L7,8))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),R7=(()=>{class e extends Wa{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,s){super(),this._platformLocation=n,s!=null&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(n){let s=j4(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,r,o){let t=this.prepareExternalUrl(r+Va(o));t.length==0&&(t=this._platformLocation.pathname),this._platformLocation.pushState(n,s,t)}replaceState(n,s,r,o){let t=this.prepareExternalUrl(r+Va(o));t.length==0&&(t=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(s){return new(s||e)(pe(H4),pe(L7,8))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),bu=(()=>{class e{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let s=this._locationStrategy.getBaseHref();this._basePath=UG(M7(C7(s))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+Va(s))}normalize(n){return e.stripTrailingSlash(YG(this._basePath,C7(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,s="",r=null){this._locationStrategy.pushState(r,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Va(s)),r)}replaceState(n,s="",r=null){this._locationStrategy.replaceState(r,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Va(s)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{let s=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(s,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(r=>r(n,s))}subscribe(n,s,r){return this._subject.subscribe({next:n,error:s??void 0,complete:r??void 0})}static normalizeQueryParams=Va;static joinWithSlash=j4;static stripTrailingSlash=M7;static \u0275fac=function(s){return new(s||e)(pe(Wa))};static \u0275prov=Ce({token:e,factory:()=>jG(),providedIn:"root"})}return e})();function jG(){return new bu(pe(Wa))}function YG(e,i){if(!e||!i.startsWith(e))return i;let n=i.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:i}function C7(e){return e.replace(/\/index.html$/,"")}function UG(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var D7=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(D7||{});var Ga={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Fd(e,i){let n=A4(e),s=n[gu.NumberSymbols][i];if(typeof s>"u"){if(i===Ga.CurrencyDecimal)return n[gu.NumberSymbols][Ga.Decimal];if(i===Ga.CurrencyGroup)return n[gu.NumberSymbols][Ga.Group]}return s}function ZG(e,i){return A4(e)[gu.NumberFormats][i]}var XG=/^(\d+)?\.((\d+)(-(\d+))?)?$/,w7=22,Ep=".",Pd="0",$G=";",JG=",",O4="#";function KG(e,i,n,s,r,o,t=!1){let a="",p=!1;if(!isFinite(e))a=Fd(n,Ga.Infinity);else{let c=ez(e);t&&(c=qG(c));let u=i.minInt,h=i.minFrac,l=i.maxFrac;if(o){let x=o.match(XG);if(x===null)throw new Error(`${o} is not a valid digit info`);let y=x[1],b=x[3],M=x[5];y!=null&&(u=F4(y)),b!=null&&(h=F4(b)),M!=null?l=F4(M):b!=null&&h>l&&(l=h)}tz(c,h,l);let d=c.digits,v=c.integerLen,f=c.exponent,g=[];for(p=d.every(x=>!x);v<u;v++)d.unshift(0);for(;v<0;v++)d.unshift(0);v>0?g=d.splice(v,d.length):(g=d,d=[0]);let m=[];for(d.length>=i.lgSize&&m.unshift(d.splice(-i.lgSize,d.length).join(""));d.length>i.gSize;)m.unshift(d.splice(-i.gSize,d.length).join(""));d.length&&m.unshift(d.join("")),a=m.join(Fd(n,s)),g.length&&(a+=Fd(n,r)+g.join("")),f&&(a+=Fd(n,Ga.Exponential)+"+"+f)}return e<0&&!p?a=i.negPre+a+i.negSuf:a=i.posPre+a+i.posSuf,a}function QG(e,i,n){let s=ZG(i,D7.Decimal),r=_G(s,Fd(i,Ga.MinusSign));return KG(e,r,i,Ga.Group,Ga.Decimal,n)}function _G(e,i="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=e.split($G),r=s[0],o=s[1],t=r.indexOf(Ep)!==-1?r.split(Ep):[r.substring(0,r.lastIndexOf(Pd)+1),r.substring(r.lastIndexOf(Pd)+1)],a=t[0],p=t[1]||"";n.posPre=a.substring(0,a.indexOf(O4));for(let u=0;u<p.length;u++){let h=p.charAt(u);h===Pd?n.minFrac=n.maxFrac=u+1:h===O4?n.maxFrac=u+1:n.posSuf+=h}let c=a.split(JG);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=r.length-n.posPre.length-n.posSuf.length,h=o.indexOf(O4);n.negPre=o.substring(0,h).replace(/'/g,""),n.negSuf=o.slice(h+u).replace(/'/g,"")}else n.negPre=i+n.posPre,n.negSuf=n.posSuf;return n}function qG(e){if(e.digits[0]===0)return e;let i=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(i===0?e.digits.push(0,0):i===1&&e.digits.push(0),e.integerLen+=2),e}function ez(e){let i=Math.abs(e)+"",n=0,s,r,o,t,a;for((r=i.indexOf(Ep))>-1&&(i=i.replace(Ep,"")),(o=i.search(/e/i))>0?(r<0&&(r=o),r+=+i.slice(o+1),i=i.substring(0,o)):r<0&&(r=i.length),o=0;i.charAt(o)===Pd;o++);if(o===(a=i.length))s=[0],r=1;else{for(a--;i.charAt(a)===Pd;)a--;for(r-=o,s=[],t=0;o<=a;o++,t++)s[t]=Number(i.charAt(o))}return r>w7&&(s=s.splice(0,w7-1),n=r-1,r=1),{digits:s,exponent:n,integerLen:r}}function tz(e,i,n){if(i>n)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${n}).`);let s=e.digits,r=s.length-e.integerLen,o=Math.min(Math.max(i,r),n),t=o+e.integerLen,a=s[t];if(t>0){s.splice(Math.max(e.integerLen,t));for(let h=t;h<s.length;h++)s[h]=0}else{r=Math.max(0,r),e.integerLen=1,s.length=Math.max(1,t=o+1),s[0]=0;for(let h=1;h<t;h++)s[h]=0}if(a>=5)if(t-1<0){for(let h=0;h>t;h--)s.unshift(0),e.integerLen++;s.unshift(1),e.integerLen++}else s[t-1]++;for(;r<Math.max(0,o);r++)s.push(0);let p=o!==0,c=i+e.integerLen,u=s.reduceRight(function(h,l,d,v){return l=l+h,v[d]=l<10?l:l-10,p&&(v[d]===0&&d>=c?v.pop():p=!1),l>=10?1:0},0);u&&(s.unshift(u),e.integerLen++)}function F4(e){let i=parseInt(e);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+e);return i}function Lp(e,i){i=encodeURIComponent(i);for(let n of e.split(";")){let s=n.indexOf("="),[r,o]=s==-1?[n,""]:[n.slice(0,s),n.slice(s+1)];if(r.trim()===i)return decodeURIComponent(o)}return null}var P4=/\s+/,S7=[],Mu=(()=>{class e{_ngEl;_renderer;initialClasses=S7;rawClass;stateMap=new Map;constructor(n,s){this._ngEl=n,this._renderer=s}set klass(n){this.initialClasses=n!=null?n.trim().split(P4):S7}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(P4):n}ngDoCheck(){for(let s of this.initialClasses)this._updateState(s,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let s of n)this._updateState(s,!0);else if(n!=null)for(let s of Object.keys(n))this._updateState(s,!!n[s]);this._applyStateDiff()}_updateState(n,s){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==s&&(r.changed=!0,r.enabled=s),r.touched=!0):this.stateMap.set(n,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let s=n[0],r=n[1];r.changed?(this._toggleClass(s,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),r.touched=!1}}_toggleClass(n,s){n=n.trim(),n.length>0&&n.split(P4).forEach(r=>{s?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(s){return new(s||e)(be(fi),be(Tr))};static \u0275dir=yn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var N4=class{$implicit;ngForOf;index;count;constructor(i,n,s,r){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ro=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,s,r){this._viewContainer=n,this._template=s,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let s=this._viewContainer;n.forEachOperation((r,o,t)=>{if(r.previousIndex==null)s.createEmbeddedView(this._template,new N4(r.item,this._ngForOf,-1,-1),t===null?void 0:t);else if(t==null)s.remove(o===null?void 0:o);else if(o!==null){let a=s.get(o);s.move(a,t),I7(a,r)}});for(let r=0,o=s.length;r<o;r++){let a=s.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=s.get(r.currentIndex);I7(o,r)})}static ngTemplateContextGuard(n,s){return!0}static \u0275fac=function(s){return new(s||e)(be(Cs),be(La),be(D4))};static \u0275dir=yn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function I7(e,i){e.context.$implicit=i.item}var $n=(()=>{class e{_viewContainer;_context=new B4;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,s){this._viewContainer=n,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){k7("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){k7("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,s){return!0}static \u0275fac=function(s){return new(s||e)(be(Cs),be(La))};static \u0275dir=yn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),B4=class{$implicit=null;ngIf=null};function k7(e,i){if(!!!(!i||i.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Yi(i)}'.`)}var Ap=class{_viewContainerRef;_templateRef;_created=!1;constructor(i,n){this._viewContainerRef=i,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}},Rp=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let s=n===this._ngSwitch;return this._lastCasesMatched||=s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let s of this._defaultViews)s.enforceState(n)}}static \u0275fac=function(s){return new(s||e)};static \u0275dir=yn({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),O7=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,s,r){this.ngSwitch=r,r._addCase(),this._view=new Ap(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(s){return new(s||e)(be(Cs),be(La),be(Rp,9))};static \u0275dir=yn({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),F7=(()=>{class e{constructor(n,s,r){r._addDefault(new Ap(n,s))}static \u0275fac=function(s){return new(s||e)(be(Cs),be(La),be(Rp,9))};static \u0275dir=yn({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})();var P7=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let s=this._viewContainerRef;if(this._viewRef&&s.remove(s.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=s.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,s,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,s,r):!1,get:(n,s,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,s,r)}})}static \u0275fac=function(s){return new(s||e)(be(Cs))};static \u0275dir=yn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Oi]})}return e})();function N7(e,i){return new Ue(2100,!1)}var V4=class{createSubscription(i,n){return ur(()=>i.subscribe({next:n,error:s=>{throw s}}))}dispose(i){ur(()=>i.unsubscribe())}},G4=class{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}},nz=new G4,iz=new V4,Js=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if(Ao(n))return nz;if(E4(n))return iz;throw N7(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(s){return new(s||e)(be(Pi,16))};static \u0275pipe=Ld({name:"async",type:e,pure:!1})}return e})();var B7=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,s,r){if(!rz(n))return null;r||=this._locale;try{let o=sz(n);return QG(o,r,s)}catch(o){throw N7(e,o.message)}}static \u0275fac=function(s){return new(s||e)(be(Ip,16))};static \u0275pipe=Ld({name:"number",type:e,pure:!0})}return e})();function rz(e){return!(e==null||e===""||e!==e)}function sz(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var Bt=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=an({type:e});static \u0275inj=sn({})}return e})(),U4="browser",az="server";function V7(e){return e===U4}function Z4(e){return e===az}var G7=(()=>{class e{static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new z4(ve(Ni),window)})}return e})(),z4=class{document;window;offset=()=>[0,0];constructor(i,n){this.document=i,this.window=n}setOffset(i){Array.isArray(i)?this.offset=()=>i:this.offset=i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){let n=oz(this.document,i);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){let n=i.getBoundingClientRect(),s=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(s-o[0],r-o[1])}};function oz(e,i){let n=e.getElementById(i)||e.getElementsByName(i)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let s=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=s.currentNode;for(;r;){let o=r.shadowRoot;if(o){let t=o.getElementById(i)||o.querySelector(`[name="${i}"]`);if(t)return t}r=s.nextNode()}}return null}var xu=class{};var Bd=class{},Op=class{},$l=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(n=>{let s=n.indexOf(":");if(s>0){let r=n.slice(0,s),o=n.slice(s+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((n,s)=>{this.addHeaderEntry(s,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([n,s])=>{this.setHeaderEntries(n,s)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){let n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if(typeof s=="string"&&(s=[s]),s.length===0)return;this.maybeSetNormalizedName(i.name,n);let r=(i.op==="a"?this.headers.get(n):void 0)||[];r.push(...s),this.headers.set(n,r);break;case"d":let o=i.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let t=this.headers.get(n);if(!t)return;t=t.filter(a=>o.indexOf(a)===-1),t.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,t)}break}}addHeaderEntry(i,n){let s=i.toLowerCase();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(n):this.headers.set(s,[n])}setHeaderEntries(i,n){let s=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=i.toLowerCase();this.headers.set(r,s),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}};var $4=class{encodeKey(i){return z7(i)}encodeValue(i){return z7(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function lz(e,i){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[t,a]=o==-1?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,o)),i.decodeValue(r.slice(o+1))],p=n.get(t)||[];p.push(a),n.set(t,p)}),n}var cz=/%(\d[a-f0-9])/gi,uz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function z7(e){return encodeURIComponent(e).replace(cz,(i,n)=>uz[n]??i)}function Dp(e){return`${e}`}var Do=class e{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new $4,i.fromString){if(i.fromObject)throw new Ue(2805,!1);this.map=lz(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{let s=i.fromObject[n],r=Array.isArray(s)?s.map(Dp):[Dp(s)];this.map.set(n,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){let n=[];return Object.keys(i).forEach(s=>{let r=i[s];Array.isArray(r)?r.forEach(o=>{n.push({param:s,value:o,op:"a"})}):n.push({param:s,value:r,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let n=(i.op==="a"?this.map.get(i.param):void 0)||[];n.push(Dp(i.value)),this.map.set(i.param,n);break;case"d":if(i.value!==void 0){let s=this.map.get(i.param)||[],r=s.indexOf(Dp(i.value));r!==-1&&s.splice(r,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var J4=class{map=new Map;set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function hz(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function W7(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function H7(e){return typeof Blob<"u"&&e instanceof Blob}function j7(e){return typeof FormData<"u"&&e instanceof FormData}function dz(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Y7="Content-Type",U7="Accept",J7="X-Request-URL",K7="text/plain",Q7="application/json",fz=`${Q7}, ${K7}, */*`,Nd=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(i,n,s,r){this.url=n,this.method=i.toUpperCase();let o;if(hz(this.method)||r?(this.body=s!==void 0?s:null,o=r):o=s,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new $l,this.context??=new J4,!this.params)this.params=new Do,this.urlWithParams=n;else{let t=this.params.toString();if(t.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),p=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+p+t}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||W7(this.body)||H7(this.body)||j7(this.body)||dz(this.body)?this.body:this.body instanceof Do?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||j7(this.body)?null:H7(this.body)?this.body.type||null:W7(this.body)?null:typeof this.body=="string"?K7:this.body instanceof Do?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Q7:null}clone(i={}){let n=i.method||this.method,s=i.url||this.url,r=i.responseType||this.responseType,o=i.transferCache??this.transferCache,t=i.body!==void 0?i.body:this.body,a=i.withCredentials??this.withCredentials,p=i.reportProgress??this.reportProgress,c=i.headers||this.headers,u=i.params||this.params,h=i.context??this.context;return i.setHeaders!==void 0&&(c=Object.keys(i.setHeaders).reduce((l,d)=>l.set(d,i.setHeaders[d]),c)),i.setParams&&(u=Object.keys(i.setParams).reduce((l,d)=>l.set(d,i.setParams[d]),u)),new e(n,s,t,{params:u,headers:c,context:h,reportProgress:p,responseType:r,withCredentials:a,transferCache:o})}},Cu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Cu||{}),Vd=class{headers;status;statusText;url;ok;type;constructor(i,n=200,s="OK"){this.headers=i.headers||new $l,this.status=i.status!==void 0?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}},K4=class e extends Vd{constructor(i={}){super(i)}type=Cu.ResponseHeader;clone(i={}){return new e({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},Fp=class e extends Vd{body;constructor(i={}){super(i),this.body=i.body!==void 0?i.body:null}type=Cu.Response;clone(i={}){return new e({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},Pp=class extends Vd{name="HttpErrorResponse";message;error;ok=!1;constructor(i){super(i,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},pz=200,vz=204;function X4(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Jl=(()=>{class e{handler;constructor(n){this.handler=n}request(n,s,r={}){let o;if(n instanceof Nd)o=n;else{let p;r.headers instanceof $l?p=r.headers:p=new $l(r.headers);let c;r.params&&(r.params instanceof Do?c=r.params:c=new Do({fromObject:r.params})),o=new Nd(n,s,r.body!==void 0?r.body:null,{headers:p,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let t=Xe(o).pipe(ir(p=>this.handler.handle(p)));if(n instanceof Nd||r.observe==="events")return t;let a=t.pipe(en(p=>p instanceof Fp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ze(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new Ue(2806,!1);return p.body}));case"blob":return a.pipe(ze(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new Ue(2807,!1);return p.body}));case"text":return a.pipe(ze(p=>{if(p.body!==null&&typeof p.body!="string")throw new Ue(2808,!1);return p.body}));case"json":default:return a.pipe(ze(p=>p.body))}case"response":return a;default:throw new Ue(2809,!1)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:new Do().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,r={}){return this.request("PATCH",n,X4(r,s))}post(n,s,r={}){return this.request("POST",n,X4(r,s))}put(n,s,r={}){return this.request("PUT",n,X4(r,s))}static \u0275fac=function(s){return new(s||e)(pe(Bd))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();var gz=new xe("");function _7(e,i){return i(e)}function mz(e,i){return(n,s)=>i.intercept(n,{handle:r=>e(r,s)})}function yz(e,i,n){return(s,r)=>or(n,()=>i(s,o=>e(o,r)))}var xz=new xe(""),Q4=new xe(""),bz=new xe(""),q7=new xe("",{providedIn:"root",factory:()=>!0});function Mz(){let e=null;return(i,n)=>{e===null&&(e=(ve(xz,{optional:!0})??[]).reduceRight(mz,_7));let s=ve($s);if(ve(q7)){let o=s.add();return e(i,n).pipe(Sa(()=>s.remove(o)))}else return e(i,n)}}var Z7=(()=>{class e extends Bd{backend;injector;chain=null;pendingTasks=ve($s);contributeToStability=ve(q7);constructor(n,s){super(),this.backend=n,this.injector=s}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Q4),...this.injector.get(bz,[])]));this.chain=s.reduceRight((r,o)=>yz(r,o,this.injector),_7)}if(this.contributeToStability){let s=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Sa(()=>this.pendingTasks.remove(s)))}else return this.chain(n,s=>this.backend.handle(s))}static \u0275fac=function(s){return new(s||e)(pe(Op),pe(Ui))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();var Cz=/^\)\]\}',?\n/,wz=RegExp(`^${J7}:`,"m");function Sz(e){return"responseURL"in e&&e.responseURL?e.responseURL:wz.test(e.getAllResponseHeaders())?e.getResponseHeader(J7):null}var X7=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Ue(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?cn(s.\u0275loadImpl()):Xe(null)).pipe(En(()=>new dt(o=>{let t=s.build();if(t.open(n.method,n.urlWithParams),n.withCredentials&&(t.withCredentials=!0),n.headers.forEach((f,g)=>t.setRequestHeader(f,g.join(","))),n.headers.has(U7)||t.setRequestHeader(U7,fz),!n.headers.has(Y7)){let f=n.detectContentTypeHeader();f!==null&&t.setRequestHeader(Y7,f)}if(n.responseType){let f=n.responseType.toLowerCase();t.responseType=f!=="json"?f:"text"}let a=n.serializeBody(),p=null,c=()=>{if(p!==null)return p;let f=t.statusText||"OK",g=new $l(t.getAllResponseHeaders()),m=Sz(t)||n.url;return p=new K4({headers:g,status:t.status,statusText:f,url:m}),p},u=()=>{let{headers:f,status:g,statusText:m,url:x}=c(),y=null;g!==vz&&(y=typeof t.response>"u"?t.responseText:t.response),g===0&&(g=y?pz:0);let b=g>=200&&g<300;if(n.responseType==="json"&&typeof y=="string"){let M=y;y=y.replace(Cz,"");try{y=y!==""?JSON.parse(y):null}catch(C){y=M,b&&(b=!1,y={error:C,text:y})}}b?(o.next(new Fp({body:y,headers:f,status:g,statusText:m,url:x||void 0})),o.complete()):o.error(new Pp({error:y,headers:f,status:g,statusText:m,url:x||void 0}))},h=f=>{let{url:g}=c(),m=new Pp({error:f,status:t.status||0,statusText:t.statusText||"Unknown Error",url:g||void 0});o.error(m)},l=!1,d=f=>{l||(o.next(c()),l=!0);let g={type:Cu.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(g.total=f.total),n.responseType==="text"&&t.responseText&&(g.partialText=t.responseText),o.next(g)},v=f=>{let g={type:Cu.UploadProgress,loaded:f.loaded};f.lengthComputable&&(g.total=f.total),o.next(g)};return t.addEventListener("load",u),t.addEventListener("error",h),t.addEventListener("timeout",h),t.addEventListener("abort",h),n.reportProgress&&(t.addEventListener("progress",d),a!==null&&t.upload&&t.upload.addEventListener("progress",v)),t.send(a),o.next({type:Cu.Sent}),()=>{t.removeEventListener("error",h),t.removeEventListener("abort",h),t.removeEventListener("load",u),t.removeEventListener("timeout",h),n.reportProgress&&(t.removeEventListener("progress",d),a!==null&&t.upload&&t.upload.removeEventListener("progress",v)),t.readyState!==t.DONE&&t.abort()}})))}static \u0275fac=function(s){return new(s||e)(pe(xu))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),ew=new xe(""),Iz="XSRF-TOKEN",kz=new xe("",{providedIn:"root",factory:()=>Iz}),Tz="X-XSRF-TOKEN",Ez=new xe("",{providedIn:"root",factory:()=>Tz}),Np=class{},Az=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,s,r){this.doc=n,this.platform=s,this.cookieName=r}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lp(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(s){return new(s||e)(pe(Ni),pe(Na),pe(kz))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function Lz(e,i){let n=e.url.toLowerCase();if(!ve(ew)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return i(e);let s=ve(Np).getToken(),r=ve(Ez);return s!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,s)})),i(e)}var tw=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(tw||{});function Rz(e,i){return{\u0275kind:e,\u0275providers:i}}function nw(...e){let i=[Jl,X7,Z7,{provide:Bd,useExisting:Z7},{provide:Op,useFactory:()=>ve(gz,{optional:!0})??ve(X7)},{provide:Q4,useValue:Lz,multi:!0},{provide:ew,useValue:!0},{provide:Np,useClass:Az}];for(let n of e)i.push(...n.\u0275providers);return bs(i)}var $7=new xe("");function iw(){return Rz(tw.LegacyInterceptors,[{provide:$7,useFactory:Mz},{provide:Q4,useExisting:$7,multi:!0}])}var q4=class extends Tp{supportsDOMEvents=!0},e3=class e extends q4{static makeCurrent(){E7(new e)}onAndCancel(i,n,s,r){return i.addEventListener(n,s,r),()=>{i.removeEventListener(n,s,r)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.remove()}createElement(i,n){return n=n||this.getDefaultDocument(),n.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return n==="window"?window:n==="document"?i:n==="body"?i.body:null}getBaseHref(i){let n=Dz();return n==null?null:Oz(n)}resetBaseElement(){Gd=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return Lp(document.cookie,i)}},Gd=null;function Dz(){return Gd=Gd||document.querySelector("base"),Gd?Gd.getAttribute("href"):null}function Oz(e){return new URL(e,document.baseURI).pathname}var Fz=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),t3=new xe(""),uw=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,s){this._zone=s,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,s,r,o){return this._findPluginFor(s).addEventListener(n,s,r,o)}getZone(){return this._zone}_findPluginFor(n){let s=this._eventNameToPlugin.get(n);if(s)return s;if(s=this._plugins.find(o=>o.supports(n)),!s)throw new Ue(5101,!1);return this._eventNameToPlugin.set(n,s),s}static \u0275fac=function(s){return new(s||e)(pe(t3),pe(rn))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),Vp=class{_doc;constructor(i){this._doc=i}manager},Bp="ng-app-id";function sw(e){for(let i of e)i.remove()}function aw(e,i){let n=i.createElement("style");return n.textContent=e,n}function Pz(e,i,n,s){let r=e.head?.querySelectorAll(`style[${Bp}="${i}"],link[${Bp}="${i}"]`);if(r)for(let o of r)o.removeAttribute(Bp),o instanceof HTMLLinkElement?s.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function n3(e,i){let n=i.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var hw=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,s,r,o={}){this.doc=n,this.appId=s,this.nonce=r,this.isServer=Z4(o),Pz(n,s,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,s){for(let r of n)this.addUsage(r,this.inline,aw);s?.forEach(r=>this.addUsage(r,this.external,n3))}removeStyles(n,s){for(let r of n)this.removeUsage(r,this.inline);s?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,s,r){let o=s.get(n);o?o.usage++:s.set(n,{usage:1,elements:[...this.hosts].map(t=>this.addElement(t,r(n,this.doc)))})}removeUsage(n,s){let r=s.get(n);r&&(r.usage--,r.usage<=0&&(sw(r.elements),s.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])sw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[s,{elements:r}]of this.inline)r.push(this.addElement(n,aw(s,this.doc)));for(let[s,{elements:r}]of this.external)r.push(this.addElement(n,n3(s,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,s){return this.nonce&&s.setAttribute("nonce",this.nonce),this.isServer&&s.setAttribute(Bp,this.appId),n.appendChild(s)}static \u0275fac=function(s){return new(s||e)(pe(Ni),pe(t4),pe(Ed,8),pe(Na))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),_4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},r3=/%COMP%/g;var dw="%COMP%",Nz=`_nghost-${dw}`,Bz=`_ngcontent-${dw}`,Vz=!0,Gz=new xe("",{providedIn:"root",factory:()=>Vz});function zz(e){return Bz.replace(r3,e)}function Wz(e){return Nz.replace(r3,e)}function fw(e,i){return i.map(n=>n.replace(r3,e))}var ow=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,s,r,o,t,a,p,c=null,u=null){this.eventManager=n,this.sharedStylesHost=s,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=t,this.platformId=a,this.ngZone=p,this.nonce=c,this.tracingService=u,this.platformIsServer=Z4(a),this.defaultRenderer=new zd(n,t,p,this.platformIsServer,this.tracingService)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Us.ShadowDom&&(s=Se(q({},s),{encapsulation:Us.Emulated}));let r=this.getOrCreateRenderer(n,s);return r instanceof Gp?r.applyToHost(n):r instanceof Wd&&r.applyStyles(),r}getOrCreateRenderer(n,s){let r=this.rendererByCompId,o=r.get(s.id);if(!o){let t=this.doc,a=this.ngZone,p=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,l=this.tracingService;switch(s.encapsulation){case Us.Emulated:o=new Gp(p,c,s,this.appId,u,t,a,h,l);break;case Us.ShadowDom:return new i3(p,c,n,s,t,a,this.nonce,h,l);default:o=new Wd(p,c,s,u,t,a,h,l);break}r.set(s.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(s){return new(s||e)(pe(uw),pe(hw),pe(t4),pe(Gz),pe(Ni),pe(Na),pe(rn),pe(Ed),pe(hu,8))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),zd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,n,s,r,o){this.eventManager=i,this.doc=n,this.ngZone=s,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(i,n){return n?this.doc.createElementNS(_4[n]||n,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,n){(lw(i)?i.content:i).appendChild(n)}insertBefore(i,n,s){i&&(lw(i)?i.content:i).insertBefore(n,s)}removeChild(i,n){n.remove()}selectRootElement(i,n){let s=typeof i=="string"?this.doc.querySelector(i):i;if(!s)throw new Ue(-5104,!1);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,r){if(r){n=r+":"+n;let o=_4[r];o?i.setAttributeNS(o,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){let r=_4[s];r?i.removeAttributeNS(r,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,r){r&(Aa.DashCase|Aa.Important)?i.style.setProperty(n,s,r&Aa.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&Aa.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i!=null&&(i[n]=s)}setValue(i,n){i.nodeValue=n}listen(i,n,s,r){if(typeof i=="string"&&(i=za().getGlobalEventTarget(this.doc,i),!i))throw new Error(`Unsupported event target ${i} for event ${n}`);let o=this.decoratePreventDefault(s);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(i,n,o)),this.eventManager.addEventListener(i,n,o,r)}decoratePreventDefault(i){return n=>{if(n==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(n)):i(n))===!1&&n.preventDefault()}}};function lw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var i3=class extends zd{sharedStylesHost;hostEl;shadowRoot;constructor(i,n,s,r,o,t,a,p,c){super(i,o,t,p,c),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=fw(r.id,u);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}let h=r.getExternalStyles?.();if(h)for(let l of h){let d=n3(l,o);a&&d.setAttribute("nonce",a),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(null,n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wd=class extends zd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,n,s,r,o,t,a,p,c){super(i,o,t,a,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let u=s.styles;this.styles=c?fw(c,u):u,this.styleUrls=s.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Gp=class extends Wd{contentAttr;hostAttr;constructor(i,n,s,r,o,t,a,p,c){let u=r+"-"+s.id;super(i,n,s,o,t,a,p,c,u),this.contentAttr=zz(u),this.hostAttr=Wz(u)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,n){let s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}},Hz=(()=>{class e extends Vp{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,r,o){return n.addEventListener(s,r,o),()=>this.removeEventListener(n,s,r,o)}removeEventListener(n,s,r,o){return n.removeEventListener(s,r,o)}static \u0275fac=function(s){return new(s||e)(pe(Ni))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),cw=["alt","control","meta","shift"],jz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yz={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Uz=(()=>{class e extends Vp{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,s,r,o){let t=e.parseEventName(s),a=e.eventCallback(t.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>za().onAndCancel(n,t.domEventName,a,o))}static parseEventName(n){let s=n.toLowerCase().split("."),r=s.shift();if(s.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(s.pop()),t="",a=s.indexOf("code");if(a>-1&&(s.splice(a,1),t="code."),cw.forEach(c=>{let u=s.indexOf(c);u>-1&&(s.splice(u,1),t+=c+".")}),t+=o,s.length!=0||o.length===0)return null;let p={};return p.domEventName=r,p.fullKey=t,p}static matchEventFullKeyCode(n,s){let r=jz[n.key]||n.key,o="";return s.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),cw.forEach(t=>{if(t!==r){let a=Yz[t];a(n)&&(o+=t+".")}}),o+=r,o===s)}static eventCallback(n,s,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>s(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(s){return new(s||e)(pe(Ni))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function pw(e,i){return g7(q({rootComponent:e},Zz(i)))}function Zz(e){return{appProviders:[...Qz,...e?.providers??[]],platformProviders:Kz}}function Xz(){e3.makeCurrent()}function $z(){return new ar}function Jz(){return KM(document),document}var Kz=[{provide:Na,useValue:U4},{provide:n4,useValue:Xz,multi:!0},{provide:Ni,useFactory:Jz,deps:[]}];var Qz=[{provide:ap,useValue:"root"},{provide:ar,useFactory:$z,deps:[]},{provide:t3,useClass:Hz,multi:!0,deps:[Ni]},{provide:t3,useClass:Uz,multi:!0,deps:[Ni]},ow,hw,uw,{provide:au,useExisting:ow},{provide:xu,useClass:Fz,deps:[]},[]];var vw=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(s){return new(s||e)(pe(Ni))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wt="primary",tf=Symbol("RouteTitle"),c3=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){let n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Eu(e){return new c3(e)}function qz(e,i,n){let s=n.path.split("/");if(s.length>e.length||n.pathMatch==="full"&&(i.hasChildren()||s.length<e.length))return null;let r={};for(let o=0;o<s.length;o++){let t=s[o],a=e[o];if(t[0]===":")r[t.substring(1)]=a;else if(t!==a.path)return null}return{consumed:e.slice(0,s.length),posParams:r}}function eW(e,i){if(e.length!==i.length)return!1;for(let n=0;n<e.length;++n)if(!Ks(e[n],i[n]))return!1;return!0}function Ks(e,i){let n=e?u3(e):void 0,s=i?u3(i):void 0;if(!n||!s||n.length!=s.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Iw(e[r],i[r]))return!1;return!0}function u3(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Iw(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;let n=[...e].sort(),s=[...i].sort();return n.every((r,o)=>s[o]===r)}else return e===i}function kw(e){return e.length>0?e[e.length-1]:null}function Po(e){return Ca(e)?e:Ao(e)?cn(Promise.resolve(e)):Xe(e)}var tW={exact:Ew,subset:Aw},Tw={exact:nW,subset:iW,ignored:()=>!0};function gw(e,i,n){return tW[n.paths](e.root,i.root,n.matrixParams)&&Tw[n.queryParams](e.queryParams,i.queryParams)&&!(n.fragment==="exact"&&e.fragment!==i.fragment)}function nW(e,i){return Ks(e,i)}function Ew(e,i,n){if(!Ql(e.segments,i.segments)||!Hp(e.segments,i.segments,n)||e.numberOfChildren!==i.numberOfChildren)return!1;for(let s in i.children)if(!e.children[s]||!Ew(e.children[s],i.children[s],n))return!1;return!0}function iW(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(n=>Iw(e[n],i[n]))}function Aw(e,i,n){return Lw(e,i,i.segments,n)}function Lw(e,i,n,s){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Ql(r,n)||i.hasChildren()||!Hp(r,n,s))}else if(e.segments.length===n.length){if(!Ql(e.segments,n)||!Hp(e.segments,n,s))return!1;for(let r in i.children)if(!e.children[r]||!Aw(e.children[r],i.children[r],s))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ql(e.segments,r)||!Hp(e.segments,r,s)||!e.children[wt]?!1:Lw(e.children[wt],i,o,s)}}function Hp(e,i,n){return i.every((s,r)=>Tw[n](e[r].parameters,s.parameters))}var ja=class{root;queryParams;fragment;_queryParamMap;constructor(i=new tn([],{}),n={},s=null){this.root=i,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap??=Eu(this.queryParams),this._queryParamMap}toString(){return aW.serialize(this)}},tn=class{segments;children;parent=null;constructor(i,n){this.segments=i,this.children=n,Object.values(n).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jp(this)}},Kl=class{path;parameters;_parameterMap;constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap??=Eu(this.parameters),this._parameterMap}toString(){return Dw(this)}};function rW(e,i){return Ql(e,i)&&e.every((n,s)=>Ks(n.parameters,i[s].parameters))}function Ql(e,i){return e.length!==i.length?!1:e.every((n,s)=>n.path===i[s].path)}function sW(e,i){let n=[];return Object.entries(e.children).forEach(([s,r])=>{s===wt&&(n=n.concat(i(r,s)))}),Object.entries(e.children).forEach(([s,r])=>{s!==wt&&(n=n.concat(i(r,s)))}),n}var nf=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:()=>new Au,providedIn:"root"})}return e})(),Au=class{parse(i){let n=new d3(i);return new ja(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){let n=`/${Hd(i.root,!0)}`,s=cW(i.queryParams),r=typeof i.fragment=="string"?`#${oW(i.fragment)}`:"";return`${n}${s}${r}`}},aW=new Au;function jp(e){return e.segments.map(i=>Dw(i)).join("/")}function Hd(e,i){if(!e.hasChildren())return jp(e);if(i){let n=e.children[wt]?Hd(e.children[wt],!1):"",s=[];return Object.entries(e.children).forEach(([r,o])=>{r!==wt&&s.push(`${r}:${Hd(o,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}else{let n=sW(e,(s,r)=>r===wt?[Hd(e.children[wt],!1)]:[`${r}:${Hd(s,!1)}`]);return Object.keys(e.children).length===1&&e.children[wt]!=null?`${jp(e)}/${n[0]}`:`${jp(e)}/(${n.join("//")})`}}function Rw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zp(e){return Rw(e).replace(/%3B/gi,";")}function oW(e){return encodeURI(e)}function h3(e){return Rw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yp(e){return decodeURIComponent(e)}function mw(e){return Yp(e.replace(/\+/g,"%20"))}function Dw(e){return`${h3(e.path)}${lW(e.parameters)}`}function lW(e){return Object.entries(e).map(([i,n])=>`;${h3(i)}=${h3(n)}`).join("")}function cW(e){let i=Object.entries(e).map(([n,s])=>Array.isArray(s)?s.map(r=>`${zp(n)}=${zp(r)}`).join("&"):`${zp(n)}=${zp(s)}`).filter(n=>n);return i.length?`?${i.join("&")}`:""}var uW=/^[^\/()?;#]+/;function s3(e){let i=e.match(uW);return i?i[0]:""}var hW=/^[^\/()?;=#]+/;function dW(e){let i=e.match(hW);return i?i[0]:""}var fW=/^[^=?&#]+/;function pW(e){let i=e.match(fW);return i?i[0]:""}var vW=/^[^&#]+/;function gW(e){let i=e.match(vW);return i?i[0]:""}var d3=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(s[wt]=new tn(i,n)),s}parseSegment(){let i=s3(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new Ue(4009,!1);return this.capture(i),new Kl(Yp(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let n=dW(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){let r=s3(this.remaining);r&&(s=r,this.capture(s))}i[Yp(n)]=Yp(s)}parseQueryParam(i){let n=pW(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){let t=gW(this.remaining);t&&(s=t,this.capture(s))}let r=mw(n),o=mw(s);if(i.hasOwnProperty(r)){let t=i[r];Array.isArray(t)||(t=[t],i[r]=t),t.push(o)}else i[r]=o}parseParens(i){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let s=s3(this.remaining),r=this.remaining[s.length];if(r!=="/"&&r!==")"&&r!==";")throw new Ue(4010,!1);let o;s.indexOf(":")>-1?(o=s.slice(0,s.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=wt);let t=this.parseChildren();n[o]=Object.keys(t).length===1?t[wt]:new tn([],t),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new Ue(4011,!1)}};function Ow(e){return e.segments.length>0?new tn([],{[wt]:e}):e}function Fw(e){let i={};for(let[s,r]of Object.entries(e.children)){let o=Fw(r);if(s===wt&&o.segments.length===0&&o.hasChildren())for(let[t,a]of Object.entries(o.children))i[t]=a;else(o.segments.length>0||o.hasChildren())&&(i[s]=o)}let n=new tn(e.segments,i);return mW(n)}function mW(e){if(e.numberOfChildren===1&&e.children[wt]){let i=e.children[wt];return new tn(e.segments.concat(i.segments),i.children)}return e}function _l(e){return e instanceof ja}function yW(e,i,n=null,s=null){let r=Pw(e);return Nw(r,i,n,s)}function Pw(e){let i;function n(o){let t={};for(let p of o.children){let c=n(p);t[p.outlet]=c}let a=new tn(o.url,t);return o===e&&(i=a),a}let s=n(e.root),r=Ow(s);return i??r}function Nw(e,i,n,s){let r=e;for(;r.parent;)r=r.parent;if(i.length===0)return a3(r,r,r,n,s);let o=xW(i);if(o.toRoot())return a3(r,r,new tn([],{}),n,s);let t=bW(o,r,e),a=t.processChildren?Yd(t.segmentGroup,t.index,o.commands):Vw(t.segmentGroup,t.index,o.commands);return a3(r,t.segmentGroup,a,n,s)}function Up(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Xd(e){return typeof e=="object"&&e!=null&&e.outlets}function a3(e,i,n,s,r){let o={};s&&Object.entries(s).forEach(([p,c])=>{o[p]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let t;e===i?t=n:t=Bw(e,i,n);let a=Ow(Fw(t));return new ja(a,o,r)}function Bw(e,i,n){let s={};return Object.entries(e.children).forEach(([r,o])=>{o===i?s[r]=n:s[r]=Bw(o,i,n)}),new tn(e.segments,s)}var Zp=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,n,s){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=s,i&&s.length>0&&Up(s[0]))throw new Ue(4003,!1);let r=s.find(Xd);if(r&&r!==kw(s))throw new Ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xW(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Zp(!0,0,e);let i=0,n=!1,s=e.reduce((r,o,t)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([p,c])=>{a[p]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:t===0?(o.split("/").forEach((a,p)=>{p==0&&a==="."||(p==0&&a===""?n=!0:a===".."?i++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Zp(n,i,s)}var Iu=class{segmentGroup;processChildren;index;constructor(i,n,s){this.segmentGroup=i,this.processChildren=n,this.index=s}};function bW(e,i,n){if(e.isAbsolute)return new Iu(i,!0,0);if(!n)return new Iu(i,!1,NaN);if(n.parent===null)return new Iu(n,!0,0);let s=Up(e.commands[0])?0:1,r=n.segments.length-1+s;return MW(n,r,e.numberOfDoubleDots)}function MW(e,i,n){let s=e,r=i,o=n;for(;o>r;){if(o-=r,s=s.parent,!s)throw new Ue(4005,!1);r=s.segments.length}return new Iu(s,!1,r-o)}function CW(e){return Xd(e[0])?e[0].outlets:{[wt]:e}}function Vw(e,i,n){if(e??=new tn([],{}),e.segments.length===0&&e.hasChildren())return Yd(e,i,n);let s=wW(e,i,n),r=n.slice(s.commandIndex);if(s.match&&s.pathIndex<e.segments.length){let o=new tn(e.segments.slice(0,s.pathIndex),{});return o.children[wt]=new tn(e.segments.slice(s.pathIndex),e.children),Yd(o,0,r)}else return s.match&&r.length===0?new tn(e.segments,{}):s.match&&!e.hasChildren()?f3(e,i,n):s.match?Yd(e,0,r):f3(e,i,n)}function Yd(e,i,n){if(n.length===0)return new tn(e.segments,{});{let s=CW(n),r={};if(Object.keys(s).some(o=>o!==wt)&&e.children[wt]&&e.numberOfChildren===1&&e.children[wt].segments.length===0){let o=Yd(e.children[wt],i,n);return new tn(e.segments,o.children)}return Object.entries(s).forEach(([o,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(r[o]=Vw(e.children[o],i,t))}),Object.entries(e.children).forEach(([o,t])=>{s[o]===void 0&&(r[o]=t)}),new tn(e.segments,r)}}function wW(e,i,n){let s=0,r=i,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(s>=n.length)return o;let t=e.segments[r],a=n[s];if(Xd(a))break;let p=`${a}`,c=s<n.length-1?n[s+1]:null;if(r>0&&p===void 0)break;if(p&&c&&typeof c=="object"&&c.outlets===void 0){if(!xw(p,c,t))return o;s+=2}else{if(!xw(p,{},t))return o;s++}r++}return{match:!0,pathIndex:r,commandIndex:s}}function f3(e,i,n){let s=e.segments.slice(0,i),r=0;for(;r<n.length;){let o=n[r];if(Xd(o)){let p=SW(o.outlets);return new tn(s,p)}if(r===0&&Up(n[0])){let p=e.segments[i];s.push(new Kl(p.path,yw(n[0]))),r++;continue}let t=Xd(o)?o.outlets[wt]:`${o}`,a=r<n.length-1?n[r+1]:null;t&&a&&Up(a)?(s.push(new Kl(t,yw(a))),r+=2):(s.push(new Kl(t,{})),r++)}return new tn(s,{})}function SW(e){let i={};return Object.entries(e).forEach(([n,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[n]=f3(new tn([],{}),0,s))}),i}function yw(e){let i={};return Object.entries(e).forEach(([n,s])=>i[n]=`${s}`),i}function xw(e,i,n){return e==n.path&&Ks(i,n.parameters)}var Ud="imperative",gi=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(gi||{}),Yr=class{id;url;constructor(i,n){this.id=i,this.url=n}},Lu=class extends Yr{type=gi.NavigationStart;navigationTrigger;restoredState;constructor(i,n,s="imperative",r=null){super(i,n),this.navigationTrigger=s,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ts=class extends Yr{urlAfterRedirects;type=gi.NavigationEnd;constructor(i,n,s){super(i,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ar=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ar||{}),Xp=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Xp||{}),Ha=class extends Yr{reason;code;type=gi.NavigationCancel;constructor(i,n,s,r){super(i,n),this.reason=s,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Oo=class extends Yr{reason;code;type=gi.NavigationSkipped;constructor(i,n,s,r){super(i,n),this.reason=s,this.code=r}},$d=class extends Yr{error;target;type=gi.NavigationError;constructor(i,n,s,r){super(i,n),this.error=s,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$p=class extends Yr{urlAfterRedirects;state;type=gi.RoutesRecognized;constructor(i,n,s,r){super(i,n),this.urlAfterRedirects=s,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},p3=class extends Yr{urlAfterRedirects;state;type=gi.GuardsCheckStart;constructor(i,n,s,r){super(i,n),this.urlAfterRedirects=s,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v3=class extends Yr{urlAfterRedirects;state;shouldActivate;type=gi.GuardsCheckEnd;constructor(i,n,s,r,o){super(i,n),this.urlAfterRedirects=s,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},g3=class extends Yr{urlAfterRedirects;state;type=gi.ResolveStart;constructor(i,n,s,r){super(i,n),this.urlAfterRedirects=s,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},m3=class extends Yr{urlAfterRedirects;state;type=gi.ResolveEnd;constructor(i,n,s,r){super(i,n),this.urlAfterRedirects=s,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},y3=class{route;type=gi.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},x3=class{route;type=gi.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},b3=class{snapshot;type=gi.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},M3=class{snapshot;type=gi.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C3=class{snapshot;type=gi.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},w3=class{snapshot;type=gi.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jp=class{routerEvent;position;anchor;type=gi.Scroll;constructor(i,n,s){this.routerEvent=i,this.position=n,this.anchor=s}toString(){let i=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${i}')`}},Jd=class{},Ru=class{url;navigationBehaviorOptions;constructor(i,n){this.url=i,this.navigationBehaviorOptions=n}};function IW(e,i){return e.providers&&!e._injector&&(e._injector=bp(e.providers,i,`Route: ${e.path}`)),e._injector??i}function ks(e){return e.outlet||wt}function kW(e,i){let n=e.filter(s=>ks(s)===i);return n.push(...e.filter(s=>ks(s)!==i)),n}function rf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){let n=i.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var S3=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rf(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new sf(this.rootInjector)}},sf=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,s){let r=this.getOrCreateContext(n);r.outlet=s,this.contexts.set(n,r)}onChildOutletDestroyed(n){let s=this.getContext(n);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let s=this.getContext(n);return s||(s=new S3(this.rootInjector),this.contexts.set(n,s)),s}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(s){return new(s||e)(pe(Ui))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kp=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){let n=I3(i,this._root);return n?n.children.map(s=>s.value):[]}firstChild(i){let n=I3(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){let n=k3(i,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return k3(i,this._root).map(n=>n.value)}};function I3(e,i){if(e===i.value)return i;for(let n of i.children){let s=I3(e,n);if(s)return s}return null}function k3(e,i){if(e===i.value)return[i];for(let n of i.children){let s=k3(e,n);if(s.length)return s.unshift(i),s}return[]}var Er=class{value;children;constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}};function Su(e){let i={};return e&&e.children.forEach(n=>i[n.value.outlet]=n),i}var Qp=class extends Kp{snapshot;constructor(i,n){super(i),this.snapshot=n,P3(this,i)}toString(){return this.snapshot.toString()}};function Gw(e){let i=TW(e),n=new xt([new Kl("",{})]),s=new xt({}),r=new xt({}),o=new xt({}),t=new xt(""),a=new Fo(n,s,o,t,r,wt,e,i.root);return a.snapshot=i.root,new Qp(new Er(a,[]),i)}function TW(e){let i={},n={},s={},r="",o=new ku([],i,s,r,n,wt,e,null,{});return new qp("",new Er(o,[]))}var Fo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,n,s,r,o,t,a,p){this.urlSubject=i,this.paramsSubject=n,this.queryParamsSubject=s,this.fragmentSubject=r,this.dataSubject=o,this.outlet=t,this.component=a,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(ze(c=>c[tf]))??Xe(void 0),this.url=i,this.params=n,this.queryParams=s,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ze(i=>Eu(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ze(i=>Eu(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _p(e,i,n="emptyOnly"){let s,{routeConfig:r}=e;return i!==null&&(n==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?s={params:q(q({},i.params),e.params),data:q(q({},i.data),e.data),resolve:q(q(q(q({},e.data),i.data),r?.data),e._resolvedData)}:s={params:q({},e.params),data:q({},e.data),resolve:q(q({},e.data),e._resolvedData??{})},r&&Ww(r)&&(s.resolve[tf]=r.title),s}var ku=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[tf]}constructor(i,n,s,r,o,t,a,p,c){this.url=i,this.params=n,this.queryParams=s,this.fragment=r,this.data=o,this.outlet=t,this.component=a,this.routeConfig=p,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Eu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Eu(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(s=>s.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${n}')`}},qp=class extends Kp{url;constructor(i,n){super(n),this.url=i,P3(this,n)}toString(){return zw(this._root)}};function P3(e,i){i.value._routerState=e,i.children.forEach(n=>P3(e,n))}function zw(e){let i=e.children.length>0?` { ${e.children.map(zw).join(", ")} } `:"";return`${e.value}${i}`}function o3(e){if(e.snapshot){let i=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ks(i.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),i.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ks(i.params,n.params)||e.paramsSubject.next(n.params),eW(i.url,n.url)||e.urlSubject.next(n.url),Ks(i.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function T3(e,i){let n=Ks(e.params,i.params)&&rW(e.url,i.url),s=!e.parent!=!i.parent;return n&&!s&&(!e.parent||T3(e.parent,i.parent))}function Ww(e){return typeof e.title=="string"||e.title===null}var EW=new xe(""),N3=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=wt;activateEvents=new Ht;deactivateEvents=new Ht;attachEvents=new Ht;detachEvents=new Ht;routerOutletData=HM(void 0);parentContexts=ve(sf);location=ve(Cs);changeDetector=ve(Pi);inputBinder=ve(i2,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:s,previousValue:r}=n.name;if(s)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ue(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Ue(4013,!1);this._activatedRoute=n;let r=this.location,t=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,p=new E3(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(t,{index:r.length,injector:p,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(s){return new(s||e)};static \u0275dir=yn({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Oi]})}return e})(),E3=class e{route;childContexts;parent;outletData;__ngOutletInjector(i){return new e(this.route,this.childContexts,i,this.outletData)}constructor(i,n,s,r){this.route=i,this.childContexts=n,this.parent=s,this.outletData=r}get(i,n){return i===Fo?this.route:i===sf?this.childContexts:i===EW?this.outletData:this.parent.get(i,n)}},i2=new xe(""),bw=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:s}=n,r=fs([s.queryParams,s.params,s.data]).pipe(En(([o,t,a],p)=>(a=q(q(q({},o),t),a),p===0?Xe(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==s||s.component===null){this.unsubscribeFromRouteData(n);return}let t=b7(s.component);if(!t){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of t.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function AW(e,i,n){let s=Kd(e,i._root,n?n._root:void 0);return new Qp(s,i)}function Kd(e,i,n){if(n&&e.shouldReuseRoute(i.value,n.value.snapshot)){let s=n.value;s._futureSnapshot=i.value;let r=LW(e,i,n);return new Er(s,r)}else{if(e.shouldAttach(i.value)){let o=e.retrieve(i.value);if(o!==null){let t=o.route;return t.value._futureSnapshot=i.value,t.children=i.children.map(a=>Kd(e,a)),t}}let s=RW(i.value),r=i.children.map(o=>Kd(e,o));return new Er(s,r)}}function LW(e,i,n){return i.children.map(s=>{for(let r of n.children)if(e.shouldReuseRoute(s.value,r.value.snapshot))return Kd(e,s,r);return Kd(e,s)})}function RW(e){return new Fo(new xt(e.url),new xt(e.params),new xt(e.queryParams),new xt(e.fragment),new xt(e.data),e.outlet,e.component,e)}var Qd=class{redirectTo;navigationBehaviorOptions;constructor(i,n){this.redirectTo=i,this.navigationBehaviorOptions=n}},Hw="ngNavigationCancelingError";function e2(e,i){let{redirectTo:n,navigationBehaviorOptions:s}=_l(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=jw(!1,Ar.Redirect);return r.url=n,r.navigationBehaviorOptions=s,r}function jw(e,i){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Hw]=!0,n.cancellationCode=i,n}function DW(e){return Yw(e)&&_l(e.url)}function Yw(e){return!!e&&e[Hw]}var OW=(e,i,n,s)=>ze(r=>(new A3(i,r.targetRouterState,r.currentRouterState,n,s).activate(e),r)),A3=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,n,s,r,o){this.routeReuseStrategy=i,this.futureState=n,this.currState=s,this.forwardEvent=r,this.inputBindingEnabled=o}activate(i){let n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,i),o3(this.futureState.root),this.activateChildRoutes(n,s,i)}deactivateChildRoutes(i,n,s){let r=Su(n);i.children.forEach(o=>{let t=o.value.outlet;this.deactivateRoutes(o,r[t],s),delete r[t]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,s)})}deactivateRoutes(i,n,s){let r=i.value,o=n?n.value:null;if(r===o)if(r.component){let t=s.getContext(r.outlet);t&&this.deactivateChildRoutes(i,n,t.children)}else this.deactivateChildRoutes(i,n,s);else o&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(i,n){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){let s=n.getContext(i.value.outlet),r=s&&i.value.component?s.children:n,o=Su(i);for(let t of Object.values(o))this.deactivateRouteAndItsChildren(t,r);if(s&&s.outlet){let t=s.outlet.detach(),a=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:t,route:i,contexts:a})}}deactivateRouteAndOutlet(i,n){let s=n.getContext(i.value.outlet),r=s&&i.value.component?s.children:n,o=Su(i);for(let t of Object.values(o))this.deactivateRouteAndItsChildren(t,r);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(i,n,s){let r=Su(n);i.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],s),this.forwardEvent(new w3(o.value.snapshot))}),i.children.length&&this.forwardEvent(new M3(i.value.snapshot))}activateRoutes(i,n,s){let r=i.value,o=n?n.value:null;if(o3(r),r===o)if(r.component){let t=s.getOrCreateContext(r.outlet);this.activateChildRoutes(i,n,t.children)}else this.activateChildRoutes(i,n,s);else if(r.component){let t=s.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(a.contexts),t.attachRef=a.componentRef,t.route=a.route.value,t.outlet&&t.outlet.attach(a.componentRef,a.route.value),o3(a.route.value),this.activateChildRoutes(i,null,t.children)}else t.attachRef=null,t.route=r,t.outlet&&t.outlet.activateWith(r,t.injector),this.activateChildRoutes(i,null,t.children)}else this.activateChildRoutes(i,null,s)}},t2=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},Tu=class{component;route;constructor(i,n){this.component=i,this.route=n}};function FW(e,i,n){let s=e._root,r=i?i._root:null;return jd(s,r,n,[s.value])}function PW(e){let i=e.routeConfig?e.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:e,guards:i}}function Ou(e,i){let n=Symbol(),s=i.get(e,n);return s===n?typeof e=="function"&&!G9(e)?e:i.get(e):s}function jd(e,i,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Su(i);return e.children.forEach(t=>{NW(t,o[t.value.outlet],n,s.concat([t.value]),r),delete o[t.value.outlet]}),Object.entries(o).forEach(([t,a])=>Zd(a,n.getContext(t),r)),r}function NW(e,i,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,t=i?i.value:null,a=n?n.getContext(e.value.outlet):null;if(t&&o.routeConfig===t.routeConfig){let p=BW(t,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new t2(s)):(o.data=t.data,o._resolvedData=t._resolvedData),o.component?jd(e,i,a?a.children:null,s,r):jd(e,i,n,s,r),p&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Tu(a.outlet.component,t))}else t&&Zd(i,a,r),r.canActivateChecks.push(new t2(s)),o.component?jd(e,null,a?a.children:null,s,r):jd(e,null,n,s,r);return r}function BW(e,i,n){if(typeof n=="function")return n(e,i);switch(n){case"pathParamsChange":return!Ql(e.url,i.url);case"pathParamsOrQueryParamsChange":return!Ql(e.url,i.url)||!Ks(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!T3(e,i)||!Ks(e.queryParams,i.queryParams);case"paramsChange":default:return!T3(e,i)}}function Zd(e,i,n){let s=Su(e),r=e.value;Object.entries(s).forEach(([o,t])=>{r.component?i?Zd(t,i.children.getContext(o),n):Zd(t,null,n):Zd(t,i,n)}),r.component?i&&i.outlet&&i.outlet.isActivated?n.canDeactivateChecks.push(new Tu(i.outlet.component,r)):n.canDeactivateChecks.push(new Tu(null,r)):n.canDeactivateChecks.push(new Tu(null,r))}function af(e){return typeof e=="function"}function VW(e){return typeof e=="boolean"}function GW(e){return e&&af(e.canLoad)}function zW(e){return e&&af(e.canActivate)}function WW(e){return e&&af(e.canActivateChild)}function HW(e){return e&&af(e.canDeactivate)}function jW(e){return e&&af(e.canMatch)}function Uw(e){return e instanceof wa||e?.name==="EmptyError"}var Wp=Symbol("INITIAL_VALUE");function Du(){return En(e=>fs(e.map(i=>i.pipe(bn(1),ld(Wp)))).pipe(ze(i=>{for(let n of i)if(n!==!0){if(n===Wp)return Wp;if(n===!1||YW(n))return n}return!0}),en(i=>i!==Wp),bn(1)))}function YW(e){return _l(e)||e instanceof Qd}function UW(e,i){return Tn(n=>{let{targetSnapshot:s,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:t}}=n;return t.length===0&&o.length===0?Xe(Se(q({},n),{guardsResult:!0})):ZW(t,s,r,e).pipe(Tn(a=>a&&VW(a)?XW(s,o,e,i):Xe(a)),ze(a=>Se(q({},n),{guardsResult:a})))})}function ZW(e,i,n,s){return cn(e).pipe(Tn(r=>_W(r.component,r.route,n,i,s)),Ia(r=>r!==!0,!0))}function XW(e,i,n,s){return cn(i).pipe(ir(r=>ps(JW(r.route.parent,s),$W(r.route,s),QW(e,r.path,n),KW(e,r.route,n))),Ia(r=>r!==!0,!0))}function $W(e,i){return e!==null&&i&&i(new C3(e)),Xe(!0)}function JW(e,i){return e!==null&&i&&i(new b3(e)),Xe(!0)}function KW(e,i,n){let s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||s.length===0)return Xe(!0);let r=s.map(o=>mo(()=>{let t=rf(i)??n,a=Ou(o,t),p=zW(a)?a.canActivate(i,e):or(t,()=>a(i,e));return Po(p).pipe(Ia())}));return Xe(r).pipe(Du())}function QW(e,i,n){let s=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(t=>PW(t)).filter(t=>t!==null).map(t=>mo(()=>{let a=t.guards.map(p=>{let c=rf(t.node)??n,u=Ou(p,c),h=WW(u)?u.canActivateChild(s,e):or(c,()=>u(s,e));return Po(h).pipe(Ia())});return Xe(a).pipe(Du())}));return Xe(o).pipe(Du())}function _W(e,i,n,s,r){let o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!o||o.length===0)return Xe(!0);let t=o.map(a=>{let p=rf(i)??r,c=Ou(a,p),u=HW(c)?c.canDeactivate(e,i,n,s):or(p,()=>c(e,i,n,s));return Po(u).pipe(Ia())});return Xe(t).pipe(Du())}function qW(e,i,n,s){let r=i.canLoad;if(r===void 0||r.length===0)return Xe(!0);let o=r.map(t=>{let a=Ou(t,e),p=GW(a)?a.canLoad(i,n):or(e,()=>a(i,n));return Po(p)});return Xe(o).pipe(Du(),Zw(s))}function Zw(e){return cm(dn(i=>{if(typeof i!="boolean")throw e2(e,i)}),ze(i=>i===!0))}function eH(e,i,n,s){let r=i.canMatch;if(!r||r.length===0)return Xe(!0);let o=r.map(t=>{let a=Ou(t,e),p=jW(a)?a.canMatch(i,n):or(e,()=>a(i,n));return Po(p)});return Xe(o).pipe(Du(),Zw(s))}var _d=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},qd=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function wu(e){return vo(new _d(e))}function tH(e){return vo(new Ue(4e3,!1))}function nH(e){return vo(jw(!1,Ar.GuardRejected))}var L3=class{urlSerializer;urlTree;constructor(i,n){this.urlSerializer=i,this.urlTree=n}lineralizeSegments(i,n){let s=[],r=n.root;for(;;){if(s=s.concat(r.segments),r.numberOfChildren===0)return Xe(s);if(r.numberOfChildren>1||!r.children[wt])return tH(`${i.redirectTo}`);r=r.children[wt]}}applyRedirectCommands(i,n,s,r,o){if(typeof n!="string"){let a=n,{queryParams:p,fragment:c,routeConfig:u,url:h,outlet:l,params:d,data:v,title:f}=r,g=or(o,()=>a({params:d,data:v,queryParams:p,fragment:c,routeConfig:u,url:h,outlet:l,title:f}));if(g instanceof ja)throw new qd(g);n=g}let t=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),i,s);if(n[0]==="/")throw new qd(t);return t}applyRedirectCreateUrlTree(i,n,s,r){let o=this.createSegmentGroup(i,n.root,s,r);return new ja(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){let s={};return Object.entries(i).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);s[r]=n[a]}else s[r]=o}),s}createSegmentGroup(i,n,s,r){let o=this.createSegments(i,n.segments,s,r),t={};return Object.entries(n.children).forEach(([a,p])=>{t[a]=this.createSegmentGroup(i,p,s,r)}),new tn(o,t)}createSegments(i,n,s,r){return n.map(o=>o.path[0]===":"?this.findPosParam(i,o,r):this.findOrReturn(o,s))}findPosParam(i,n,s){let r=s[n.path.substring(1)];if(!r)throw new Ue(4001,!1);return r}findOrReturn(i,n){let s=0;for(let r of n){if(r.path===i.path)return n.splice(s),r;s++}return i}},R3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iH(e,i,n,s,r){let o=Xw(e,i,n);return o.matched?(s=IW(i,s),eH(s,i,n,r).pipe(ze(t=>t===!0?o:q({},R3)))):Xe(o)}function Xw(e,i,n){if(i.path==="**")return rH(n);if(i.path==="")return i.pathMatch==="full"&&(e.hasChildren()||n.length>0)?q({},R3):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(i.matcher||qz)(n,e,i);if(!r)return q({},R3);let o={};Object.entries(r.posParams??{}).forEach(([a,p])=>{o[a]=p.path});let t=r.consumed.length>0?q(q({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:t,positionalParamSegments:r.posParams??{}}}function rH(e){return{matched:!0,parameters:e.length>0?kw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Mw(e,i,n,s){return n.length>0&&oH(e,n,s)?{segmentGroup:new tn(i,aH(s,new tn(n,e.children))),slicedSegments:[]}:n.length===0&&lH(e,n,s)?{segmentGroup:new tn(e.segments,sH(e,n,s,e.children)),slicedSegments:n}:{segmentGroup:new tn(e.segments,e.children),slicedSegments:n}}function sH(e,i,n,s){let r={};for(let o of n)if(r2(e,i,o)&&!s[ks(o)]){let t=new tn([],{});r[ks(o)]=t}return q(q({},s),r)}function aH(e,i){let n={};n[wt]=i;for(let s of e)if(s.path===""&&ks(s)!==wt){let r=new tn([],{});n[ks(s)]=r}return n}function oH(e,i,n){return n.some(s=>r2(e,i,s)&&ks(s)!==wt)}function lH(e,i,n){return n.some(s=>r2(e,i,s))}function r2(e,i,n){return(e.hasChildren()||i.length>0)&&n.pathMatch==="full"?!1:n.path===""}function cH(e,i,n){return i.length===0&&!e.children[n]}var D3=class{};function uH(e,i,n,s,r,o,t="emptyOnly"){return new O3(e,i,n,s,r,t,o).recognize()}var hH=31,O3=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,n,s,r,o,t,a){this.injector=i,this.configLoader=n,this.rootComponentType=s,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=t,this.urlSerializer=a,this.applyRedirects=new L3(this.urlSerializer,this.urlTree)}noMatchError(i){return new Ue(4002,`'${i.segmentGroup}'`)}recognize(){let i=Mw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(ze(({children:n,rootSnapshot:s})=>{let r=new Er(s,n),o=new qp("",r),t=yW(s,[],this.urlTree.queryParams,this.urlTree.fragment);return t.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(t),{state:o,tree:t}}))}match(i){let n=new ku([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),wt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,wt,n).pipe(ze(s=>({children:s,rootSnapshot:n})),Hi(s=>{if(s instanceof qd)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof _d?this.noMatchError(s):s}))}processSegmentGroup(i,n,s,r,o){return s.segments.length===0&&s.hasChildren()?this.processChildren(i,n,s,o):this.processSegment(i,n,s,s.segments,r,!0,o).pipe(ze(t=>t instanceof Er?[t]:[]))}processChildren(i,n,s,r){let o=[];for(let t of Object.keys(s.children))t==="primary"?o.unshift(t):o.push(t);return cn(o).pipe(ir(t=>{let a=s.children[t],p=kW(n,t);return this.processSegmentGroup(i,p,a,t,r)}),El((t,a)=>(t.push(...a),t)),yo(null),mm(),Tn(t=>{if(t===null)return wu(s);let a=$w(t);return dH(a),Xe(a)}))}processSegment(i,n,s,r,o,t,a){return cn(n).pipe(ir(p=>this.processSegmentAgainstRoute(p._injector??i,n,p,s,r,o,t,a).pipe(Hi(c=>{if(c instanceof _d)return Xe(null);throw c}))),Ia(p=>!!p),Hi(p=>{if(Uw(p))return cH(s,r,o)?Xe(new D3):wu(s);throw p}))}processSegmentAgainstRoute(i,n,s,r,o,t,a,p){return ks(s)!==t&&(t===wt||!r2(r,o,s))?wu(r):s.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,s,o,t,p):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(i,r,n,s,o,t,p):wu(r)}expandSegmentAgainstRouteUsingRedirect(i,n,s,r,o,t,a){let{matched:p,parameters:c,consumedSegments:u,positionalParamSegments:h,remainingSegments:l}=Xw(n,r,o);if(!p)return wu(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hH&&(this.allowRedirects=!1));let d=new ku(o,c,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Cw(r),ks(r),r.component??r._loadedComponent??null,r,ww(r)),v=_p(d,a,this.paramsInheritanceStrategy);d.params=Object.freeze(v.params),d.data=Object.freeze(v.data);let f=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,h,d,i);return this.applyRedirects.lineralizeSegments(r,f).pipe(Tn(g=>this.processSegment(i,s,n,g.concat(l),t,!1,a)))}matchSegmentAgainstRoute(i,n,s,r,o,t){let a=iH(n,s,r,i,this.urlSerializer);return s.path==="**"&&(n.children={}),a.pipe(En(p=>p.matched?(i=s._injector??i,this.getChildConfig(i,s,r).pipe(En(({routes:c})=>{let u=s._loadedInjector??i,{parameters:h,consumedSegments:l,remainingSegments:d}=p,v=new ku(l,h,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Cw(s),ks(s),s.component??s._loadedComponent??null,s,ww(s)),f=_p(v,t,this.paramsInheritanceStrategy);v.params=Object.freeze(f.params),v.data=Object.freeze(f.data);let{segmentGroup:g,slicedSegments:m}=Mw(n,l,d,c);if(m.length===0&&g.hasChildren())return this.processChildren(u,c,g,v).pipe(ze(y=>new Er(v,y)));if(c.length===0&&m.length===0)return Xe(new Er(v,[]));let x=ks(s)===o;return this.processSegment(u,c,g,m,x?wt:o,!0,v).pipe(ze(y=>new Er(v,y instanceof Er?[y]:[])))}))):wu(n)))}getChildConfig(i,n,s){return n.children?Xe({routes:n.children,injector:i}):n.loadChildren?n._loadedRoutes!==void 0?Xe({routes:n._loadedRoutes,injector:n._loadedInjector}):qW(i,n,s,this.urlSerializer).pipe(Tn(r=>r?this.configLoader.loadChildren(i,n).pipe(dn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):nH(n))):Xe({routes:[],injector:i})}};function dH(e){e.sort((i,n)=>i.value.outlet===wt?-1:n.value.outlet===wt?1:i.value.outlet.localeCompare(n.value.outlet))}function fH(e){let i=e.value.routeConfig;return i&&i.path===""}function $w(e){let i=[],n=new Set;for(let s of e){if(!fH(s)){i.push(s);continue}let r=i.find(o=>s.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...s.children),n.add(r)):i.push(s)}for(let s of n){let r=$w(s.children);i.push(new Er(s.value,r))}return i.filter(s=>!n.has(s))}function Cw(e){return e.data||{}}function ww(e){return e.resolve||{}}function pH(e,i,n,s,r,o){return Tn(t=>uH(e,i,n,s,t.extractedUrl,r,o).pipe(ze(({state:a,tree:p})=>Se(q({},t),{targetSnapshot:a,urlAfterRedirects:p}))))}function vH(e,i){return Tn(n=>{let{targetSnapshot:s,guards:{canActivateChecks:r}}=n;if(!r.length)return Xe(n);let o=new Set(r.map(p=>p.route)),t=new Set;for(let p of o)if(!t.has(p))for(let c of Jw(p))t.add(c);let a=0;return cn(t).pipe(ir(p=>o.has(p)?gH(p,s,e,i):(p.data=_p(p,p.parent,e).resolve,Xe(void 0))),dn(()=>a++),Zc(1),Tn(p=>a===t.size?Xe(n):ii))})}function Jw(e){let i=e.children.map(n=>Jw(n)).flat();return[e,...i]}function gH(e,i,n,s){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Ww(r)&&(o[tf]=r.title),mH(o,e,i,s).pipe(ze(t=>(e._resolvedData=t,e.data=_p(e,e.parent,n).resolve,null)))}function mH(e,i,n,s){let r=u3(e);if(r.length===0)return Xe({});let o={};return cn(r).pipe(Tn(t=>yH(e[t],i,n,s).pipe(Ia(),dn(a=>{if(a instanceof Qd)throw e2(new Au,a);o[t]=a}))),Zc(1),ze(()=>o),Hi(t=>Uw(t)?ii:vo(t)))}function yH(e,i,n,s){let r=rf(i)??s,o=Ou(e,r),t=o.resolve?o.resolve(i,n):or(r,()=>o(i,n));return Po(t)}function l3(e){return En(i=>{let n=e(i);return n?cn(n).pipe(ze(()=>i)):Xe(i)})}var Kw=(()=>{class e{buildTitle(n){let s,r=n.root;for(;r!==void 0;)s=this.getResolvedTitleForRoute(r)??s,r=r.children.find(o=>o.outlet===wt);return s}getResolvedTitleForRoute(n){return n.data[tf]}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:()=>ve(xH),providedIn:"root"})}return e})(),xH=(()=>{class e extends Kw{title;constructor(n){super(),this.title=n}updateTitle(n){let s=this.buildTitle(n);s!==void 0&&this.title.setTitle(s)}static \u0275fac=function(s){return new(s||e)(pe(vw))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),of=new xe("",{providedIn:"root",factory:()=>({})}),bH=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275cmp=lt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(s,r){s&1&&ct(0,"router-outlet")},dependencies:[N3],encapsulation:2})}return e})();function B3(e){let i=e.children&&e.children.map(B3),n=i?Se(q({},e),{children:i}):q({},e);return!n.component&&!n.loadComponent&&(i||n.loadChildren)&&n.outlet&&n.outlet!==wt&&(n.component=bH),n}var ef=new xe(""),V3=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=ve(Sp);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Xe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let s=Po(n.loadComponent()).pipe(ze(Qw),dn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Sa(()=>{this.componentLoaders.delete(n)})),r=new Wc(s,()=>new ot).pipe(zc());return this.componentLoaders.set(n,r),r}loadChildren(n,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Xe({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let o=MH(s,this.compiler,n,this.onLoadEndListener).pipe(Sa(()=>{this.childrenLoaders.delete(s)})),t=new Wc(o,()=>new ot).pipe(zc());return this.childrenLoaders.set(s,t),t}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MH(e,i,n,s){return Po(e.loadChildren()).pipe(ze(Qw),Tn(r=>r instanceof bd||Array.isArray(r)?Xe(r):cn(i.compileModuleAsync(r))),ze(r=>{s&&s(e);let o,t,a=!1;return Array.isArray(r)?(t=r,a=!0):(o=r.create(n).injector,t=o.get(ef,[],{optional:!0,self:!0}).flat()),{routes:t.map(B3),injector:o}}))}function CH(e){return e&&typeof e=="object"&&"default"in e}function Qw(e){return CH(e)?e.default:e}var G3=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:()=>ve(wH),providedIn:"root"})}return e})(),wH=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,s){return n}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_w=new xe(""),qw=new xe("");function SH(e,i,n){let s=e.get(qw),r=e.get(Ni);return e.get(rn).runOutsideAngular(()=>{if(!r.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,t=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),IH(e))),{onViewTransitionCreated:p}=s;return p&&or(e,()=>p({transition:a,from:i,to:n})),t})}function IH(e){return new Promise(i=>{r4({read:()=>setTimeout(i)},{injector:e})})}var eS=new xe(""),z3=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ot;transitionAbortSubject=new ot;configLoader=ve(V3);environmentInjector=ve(Ui);destroyRef=ve(Xs);urlSerializer=ve(nf);rootContexts=ve(sf);location=ve(bu);inputBindingEnabled=ve(i2,{optional:!0})!==null;titleStrategy=ve(Kw);options=ve(of,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=ve(G3);createViewTransition=ve(_w,{optional:!0});navigationErrorHandler=ve(eS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Xe(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new y3(r)),s=r=>this.events.next(new x3(r));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let s=++this.navigationId;this.transitions?.next(Se(q(q({},this.transitions.value),n),{id:s}))}setupNavigations(n,s,r){return this.transitions=new xt({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ud,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(en(o=>o.id!==0),ze(o=>Se(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),En(o=>{let t=!1,a=!1;return Xe(o).pipe(En(p=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ar.SupersededByNewNavigation),ii;this.currentTransition=o,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:typeof p.extras.browserUrl=="string"?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Se(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=p.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let h="";return this.events.next(new Oo(p.id,this.urlSerializer.serialize(p.rawUrl),h,Xp.IgnoredSameUrlNavigation)),p.resolve(!1),ii}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Xe(p).pipe(En(h=>{let l=this.transitions?.getValue();return this.events.next(new Lu(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),l!==this.transitions?.getValue()?ii:Promise.resolve(h)}),pH(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),dn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Se(q({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let l=new $p(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(l)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:h,extractedUrl:l,source:d,restoredState:v,extras:f}=p,g=new Lu(h,this.urlSerializer.serialize(l),d,v);this.events.next(g);let m=Gw(this.rootComponentType).snapshot;return this.currentTransition=o=Se(q({},p),{targetSnapshot:m,urlAfterRedirects:l,extras:Se(q({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,Xe(o)}else{let h="";return this.events.next(new Oo(p.id,this.urlSerializer.serialize(p.extractedUrl),h,Xp.IgnoredByUrlHandlingStrategy)),p.resolve(!1),ii}}),dn(p=>{let c=new p3(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(c)}),ze(p=>(this.currentTransition=o=Se(q({},p),{guards:FW(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),o)),UW(this.environmentInjector,p=>this.events.next(p)),dn(p=>{if(o.guardsResult=p.guardsResult,p.guardsResult&&typeof p.guardsResult!="boolean")throw e2(this.urlSerializer,p.guardsResult);let c=new v3(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(c)}),en(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",Ar.GuardRejected),!1)),l3(p=>{if(p.guards.canActivateChecks.length)return Xe(p).pipe(dn(c=>{let u=new g3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),En(c=>{let u=!1;return Xe(c).pipe(vH(this.paramsInheritanceStrategy,this.environmentInjector),dn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Ar.NoDataFromResolver)}}))}),dn(c=>{let u=new m3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),l3(p=>{let c=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(dn(l=>{u.component=l}),ze(()=>{})));for(let l of u.children)h.push(...c(l));return h};return fs(c(p.targetSnapshot.root)).pipe(yo(null),bn(1))}),l3(()=>this.afterPreactivation()),En(()=>{let{currentSnapshot:p,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,p.root,c.root);return u?cn(u).pipe(ze(()=>o)):Xe(o)}),ze(p=>{let c=AW(n.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=o=Se(q({},p),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),dn(()=>{this.events.next(new Jd)}),OW(this.rootContexts,n.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),bn(1),dn({next:p=>{t=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ts(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{t=!0}}),Wt(this.transitionAbortSubject.pipe(dn(p=>{throw p}))),Sa(()=>{!t&&!a&&this.cancelNavigationTransition(o,"",Ar.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hi(p=>{if(this.destroyed)return o.resolve(!1),ii;if(a=!0,Yw(p))this.events.next(new Ha(o.id,this.urlSerializer.serialize(o.extractedUrl),p.message,p.cancellationCode)),DW(p)?this.events.next(new Ru(p.url,p.navigationBehaviorOptions)):o.resolve(!1);else{let c=new $d(o.id,this.urlSerializer.serialize(o.extractedUrl),p,o.targetSnapshot??void 0);try{let u=or(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Qd){let{message:h,cancellationCode:l}=e2(this.urlSerializer,u);this.events.next(new Ha(o.id,this.urlSerializer.serialize(o.extractedUrl),h,l)),this.events.next(new Ru(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),p}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ii}))}))}cancelNavigationTransition(n,s,r){let o=new Ha(n.id,this.urlSerializer.serialize(n.extractedUrl),s,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kH(e){return e!==Ud}var TH=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:()=>ve(EH),providedIn:"root"})}return e})(),F3=class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}},EH=(()=>{class e extends F3{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tS=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:()=>ve(AH),providedIn:"root"})}return e})(),AH=(()=>{class e extends tS{location=ve(bu);urlSerializer=ve(nf);options=ve(of,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=ve(G3);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ja;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Gw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(s=>{s.type==="popstate"&&n(s.url,s.state)})}handleRouterEvent(n,s){if(n instanceof Lu)this.stateMemento=this.createStateMemento();else if(n instanceof Oo)this.rawUrlTree=s.initialUrl;else if(n instanceof $p){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??r,s)}}else n instanceof Jd?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):n instanceof Ha&&(n.code===Ar.GuardRejected||n.code===Ar.NoDataFromResolver)?this.restoreHistory(s):n instanceof $d?this.restoreHistory(s,!0):n instanceof Ts&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,s){let r=n instanceof ja?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||s.extras.replaceUrl){let o=this.browserPageId,t=q(q({},s.extras.state),this.generateNgRouterState(s.id,o));this.location.replaceState(r,"",t)}else{let o=q(q({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,s=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,s){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nS(e,i){e.events.pipe(en(n=>n instanceof Ts||n instanceof Ha||n instanceof $d||n instanceof Oo),ze(n=>n instanceof Ts||n instanceof Oo?0:(n instanceof Ha?n.code===Ar.Redirect||n.code===Ar.SupersededByNewNavigation:!1)?2:1),en(n=>n!==2),bn(1)).subscribe(()=>{i()})}var LH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=ve(T4);stateManager=ve(tS);options=ve(of,{optional:!0})||{};pendingTasks=ve($s);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=ve(z3);urlSerializer=ve(nf);location=ve(bu);urlHandlingStrategy=ve(G3);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=ve(TH);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=ve(ef,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!ve(i2,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new vn;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(s=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(s,o),s instanceof Ha&&s.code!==Ar.Redirect&&s.code!==Ar.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof Ts)this.navigated=!0;else if(s instanceof Ru){let t=s.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(s.url,r.currentRawUrl),p=q({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kH(r.source)},t);this.scheduleNavigation(a,Ud,null,p,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}OH(s)&&this._events.next(s)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ud,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",s)},0)})}navigateToSyncWithBrowser(n,s,r){let o={replaceUrl:!0},t=r?.navigationId?r:null;if(r){let p=q({},r);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(o.state=p)}let a=this.parseUrl(n);this.scheduleNavigation(a,s,t,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(B3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,s={}){let{relativeTo:r,queryParams:o,fragment:t,queryParamsHandling:a,preserveFragment:p}=s,c=p?this.currentUrlTree.fragment:t,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let l=r?r.snapshot:this.routerState.snapshot.root;h=Pw(l)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return Nw(h,n,u,c??null)}navigateByUrl(n,s={skipLocationChange:!1}){let r=_l(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ud,null,s)}navigate(n,s={skipLocationChange:!1}){return DH(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,s){let r;if(s===!0?r=q({},LH):s===!1?r=q({},RH):r=s,_l(n))return gw(this.currentUrlTree,n,r);let o=this.parseUrl(n);return gw(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((s,[r,o])=>(o!=null&&(s[r]=o),s),{})}scheduleNavigation(n,s,r,o,t){if(this.disposed)return Promise.resolve(!1);let a,p,c;t?(a=t.resolve,p=t.reject,c=t.promise):c=new Promise((h,l)=>{a=h,p=l});let u=this.pendingTasks.add();return nS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:p,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DH(e){for(let i=0;i<e.length;i++)if(e[i]==null)throw new Ue(4008,!1)}function OH(e){return!(e instanceof Jd)&&!(e instanceof Ru)}var Qs=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ot;constructor(n,s,r,o,t,a){this.router=n,this.route=s,this.tabIndexAttribute=r,this.renderer=o,this.el=t,this.locationStrategy=a;let p=t.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Ts&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_l(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,s,r,o,t){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||s||r||o||t||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,p),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let s=this.href===null?null:nC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(n,s){let r=this.renderer,o=this.el.nativeElement;s!==null?r.setAttribute(o,n,s):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:_l(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(s){return new(s||e)(be(Lr),be(Fo),_y("tabindex"),be(Tr),be(fi),be(Wa))};static \u0275dir=yn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,r){s&1&&_e("click",function(t){return r.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),s&2&&pu("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xl],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xl],replaceUrl:[2,"replaceUrl","replaceUrl",Xl],routerLink:"routerLink"},features:[S4,Oi]})}return e})(),Fu=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ht;constructor(n,s,r,o,t){this.router=n,this.element=s,this.renderer=r,this.cdr=o,this.link=t,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Ts&&this.update()})}ngAfterContentInit(){Xe(this.links.changes,Xe(null)).pipe(Ws()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=cn(n).pipe(Ws()).subscribe(s=>{this._isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(n){let s=Array.isArray(n)?n:n.split(" ");this.classes=s.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(s=>{n?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let s=FH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?n.isActive(o,s):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(s){return new(s||e)(be(Lr),be(fi),be(Tr),be(Pi),be(Qs,8))};static \u0275dir=yn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(s,r,o){if(s&1&&mu(o,Qs,5),s&2){let t;Hr(t=jr())&&(r.links=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Oi]})}return e})();function FH(e){return!!e.paths}var n2=class{};var PH=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,s,r,o,t){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=t}setUpPreloading(){this.subscription=this.router.events.pipe(en(n=>n instanceof Ts),ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){let r=[];for(let o of s){o.providers&&!o._injector&&(o._injector=bp(o.providers,n,`Route: ${o.path}`));let t=o._injector??n,a=o._loadedInjector??t;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(t,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return cn(r).pipe(Ws())}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>{let r;s.loadChildren&&s.canLoad===void 0?r=this.loader.loadChildren(n,s):r=Xe(null);let o=r.pipe(Tn(t=>t===null?Xe(void 0):(s._loadedRoutes=t.routes,s._loadedInjector=t.injector,this.processRoutes(t.injector??n,t.routes))));if(s.loadComponent&&!s._loadedComponent){let t=this.loader.loadComponent(s);return cn([o,t]).pipe(Ws())}else return o})}static \u0275fac=function(s){return new(s||e)(pe(Lr),pe(Sp),pe(Ui),pe(n2),pe(V3))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iS=new xe(""),NH=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,s,r,o,t={}){this.urlSerializer=n,this.transitions=s,this.viewportScroller=r,this.zone=o,this.options=t,t.scrollPositionRestoration||="disabled",t.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Lu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ts?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Oo&&n.code===Xp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Jp&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jp(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(s){OC()};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function rS(e,...i){return bs([{provide:ef,multi:!0,useValue:e},[],{provide:Fo,useFactory:sS,deps:[Lr]},{provide:Rd,multi:!0,useFactory:aS},i.map(n=>n.\u0275providers)])}function sS(e){return e.routerState.root}function lf(e,i){return{\u0275kind:e,\u0275providers:i}}function aS(){let e=ve(ri);return i=>{let n=e.get(Ra);if(i!==n.components[0])return;let s=e.get(Lr),r=e.get(oS);e.get(W3)===1&&s.initialNavigation(),e.get(lS,null,Et.Optional)?.setUpPreloading(),e.get(iS,null,Et.Optional)?.init(),s.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var oS=new xe("",{factory:()=>new ot}),W3=new xe("",{providedIn:"root",factory:()=>1});function BH(){return lf(2,[{provide:W3,useValue:0},{provide:Mp,multi:!0,deps:[ri],useFactory:i=>{let n=i.get(A7,Promise.resolve());return()=>n.then(()=>new Promise(s=>{let r=i.get(Lr),o=i.get(oS);nS(r,()=>{s(!0)}),i.get(z3).afterPreactivation=()=>(s(!0),o.closed?Xe(void 0):o),r.initialNavigation()}))}}])}function VH(){return lf(3,[{provide:Mp,multi:!0,useFactory:()=>{let i=ve(Lr);return()=>{i.setUpLocationChangeListener()}}},{provide:W3,useValue:2}])}var lS=new xe("");function GH(e){return lf(0,[{provide:lS,useExisting:PH},{provide:n2,useExisting:e}])}function zH(){return lf(8,[bw,{provide:i2,useExisting:bw}])}function WH(e){let i=[{provide:_w,useValue:SH},{provide:qw,useValue:q({skipNextTransition:!!e?.skipInitialTransition},e)}];return lf(9,i)}var HH=[bu,{provide:nf,useClass:Au},Lr,sf,{provide:Fo,useFactory:sS,deps:[Lr]},V3,[]],No=(()=>{class e{constructor(){}static forRoot(n,s){return{ngModule:e,providers:[HH,[],{provide:ef,multi:!0,useValue:n},[],s?.errorHandler?{provide:eS,useValue:s.errorHandler}:[],{provide:of,useValue:s||{}},s?.useHash?YH():UH(),jH(),s?.preloadingStrategy?GH(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?ZH(s):[],s?.bindToComponentInputs?zH().\u0275providers:[],s?.enableViewTransitions?WH().\u0275providers:[],XH()]}}static forChild(n){return{ngModule:e,providers:[{provide:ef,multi:!0,useValue:n}]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=an({type:e});static \u0275inj=sn({})}return e})();function jH(){return{provide:iS,useFactory:()=>{let e=ve(G7),i=ve(rn),n=ve(of),s=ve(z3),r=ve(nf);return n.scrollOffset&&e.setOffset(n.scrollOffset),new NH(r,s,e,i,n)}}}function YH(){return{provide:Wa,useClass:R7}}function UH(){return{provide:Wa,useClass:Y4}}function ZH(e){return[e.initialNavigation==="disabled"?VH().\u0275providers:[],e.initialNavigation==="enabledBlocking"?BH().\u0275providers:[]]}var Sw=new xe("");function XH(){return[{provide:Sw,useFactory:aS},{provide:Rd,multi:!0,useExisting:Sw}]}var Vo=class{},cS=(()=>{class e extends Vo{getTranslation(n){return Xe({})}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),uf=class{},uS=(()=>{class e{handle(n){return n.key}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function a2(e,i){if(e===i)return!0;if(e===null||i===null)return!1;if(e!==e&&i!==i)return!0;let n=typeof e,s=typeof i,r,o,t;if(n==s&&n=="object")if(Array.isArray(e)){if(!Array.isArray(i))return!1;if((r=e.length)==i.length){for(o=0;o<r;o++)if(!a2(e[o],i[o]))return!1;return!0}}else{if(Array.isArray(i))return!1;t=Object.create(null);for(o in e){if(!a2(e[o],i[o]))return!1;t[o]=!0}for(o in i)if(!(o in t)&&typeof i[o]<"u")return!1;return!0}return!1}function Bo(e){return typeof e<"u"&&e!==null}function df(e){return s2(e)&&!$3(e)&&e!==null}function s2(e){return typeof e=="object"}function $3(e){return Array.isArray(e)}function J3(e){return typeof e=="string"}function $H(e){return typeof e=="function"}function H3(e,i){let n=Object.assign({},e);return s2(e)?(s2(e)&&s2(i)&&Object.keys(i).forEach(s=>{df(i[s])?s in e?n[s]=H3(e[s],i[s]):Object.assign(n,{[s]:i[s]}):Object.assign(n,{[s]:i[s]})}),n):H3({},i)}function j3(e,i){let n=i.split(".");i="";do i+=n.shift(),Bo(e)&&Bo(e[i])&&(df(e[i])||$3(e[i])||!n.length)?(e=e[i],i=""):n.length?i+=".":e=void 0;while(n.length);return e}function JH(e,i,n){let s=i.split("."),r=e;for(let o=0;o<s.length;o++){let t=s[o];o===s.length-1?r[t]=n:((!r[t]||!df(r[t]))&&(r[t]={}),r=r[t])}}var Nu=class{},hS=(()=>{class e extends Nu{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(n,s){if(J3(n))return this.interpolateString(n,s);if($H(n))return this.interpolateFunction(n,s)}interpolateFunction(n,s){return n(s)}interpolateString(n,s){return s?n.replace(this.templateMatcher,(r,o)=>{let t=j3(s,o);return Bo(t)?t:r}):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),Bu=class{},dS=(()=>{class e extends Bu{compile(n,s){return n}compileTranslations(n,s){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),hf=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Ht;onLangChange=new Ht;onDefaultLangChange=new Ht},Y3=new xe("ISOLATE_TRANSLATE_SERVICE"),U3=new xe("USE_DEFAULT_LANG"),Z3=new xe("DEFAULT_LANGUAGE"),X3=new xe("USE_EXTEND"),cf=e=>Ca(e)?e:Xe(e),Ya=(()=>{class e{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(n){this.store.defaultLang=n}get currentLang(){return this.store.currentLang}set currentLang(n){this.store.currentLang=n}get langs(){return this.store.langs}set langs(n){this.store.langs=n}get translations(){return this.store.translations}set translations(n){this.store.translations=n}constructor(n,s,r,o,t,a=!0,p=!1,c=!1,u){this.store=n,this.currentLoader=s,this.compiler=r,this.parser=o,this.missingTranslationHandler=t,this.useDefaultLang=a,this.extend=c,p&&(this.store=new hf),u&&this.setDefaultLang(u)}setDefaultLang(n){if(n===this.defaultLang)return;let s=this.retrieveTranslations(n);typeof s<"u"?(this.defaultLang==null&&(this.defaultLang=n),s.pipe(bn(1)).subscribe(()=>{this.changeDefaultLang(n)})):this.changeDefaultLang(n)}getDefaultLang(){return this.defaultLang}use(n){if(this.lastUseLanguage=n,n===this.currentLang)return Xe(this.translations[n]);this.currentLang||(this.currentLang=n);let s=this.retrieveTranslations(n);return Ca(s)?(s.pipe(bn(1)).subscribe(()=>{this.changeLang(n)}),s):(this.changeLang(n),Xe(this.translations[n]))}changeLang(n){n===this.lastUseLanguage&&(this.currentLang=n,this.onLangChange.emit({lang:n,translations:this.translations[n]}),this.defaultLang==null&&this.changeDefaultLang(n))}retrieveTranslations(n){if(typeof this.translations[n]>"u"||this.extend)return this._translationRequests[n]=this._translationRequests[n]||this.loadAndCompileTranslations(n),this._translationRequests[n]}getTranslation(n){return this.loadAndCompileTranslations(n)}loadAndCompileTranslations(n){this.pending=!0;let s=this.currentLoader.getTranslation(n).pipe(x0(1),bn(1));return this.loadingTranslations=s.pipe(ze(r=>this.compiler.compileTranslations(r,n)),x0(1),bn(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[n]=this.extend&&this.translations[n]?q(q({},r),this.translations[n]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),s}setTranslation(n,s,r=!1){let o=this.compiler.compileTranslations(s,n);(r||this.extend)&&this.translations[n]?this.translations[n]=H3(this.translations[n],o):this.translations[n]=o,this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}getLangs(){return this.langs}addLangs(n){let s=n.filter(r=>!this.langs.includes(r));s.length>0&&(this.langs=[...this.langs,...s])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(n,s,r){let o;if(n&&(o=this.runInterpolation(j3(n,s),r)),o===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(j3(this.translations[this.defaultLang],s),r)),o===void 0){let t={key:s,translateService:this};typeof r<"u"&&(t.interpolateParams=r),o=this.missingTranslationHandler.handle(t)}return o!==void 0?o:s}runInterpolation(n,s){if($3(n))return n.map(r=>this.runInterpolation(r,s));if(df(n)){let r={};for(let o in n){let t=this.runInterpolation(n[o],s);t!==void 0&&(r[o]=t)}return r}else return this.parser.interpolate(n,s)}getParsedResult(n,s,r){if(s instanceof Array){let o={},t=!1;for(let p of s)o[p]=this.getParsedResultForKey(n,p,r),t=t||Ca(o[p]);if(!t)return o;let a=s.map(p=>cf(o[p]));return rd(a).pipe(ze(p=>{let c={};return p.forEach((u,h)=>{c[s[h]]=u}),c}))}return this.getParsedResultForKey(n,s,r)}get(n,s){if(!Bo(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(ir(r=>cf(this.getParsedResult(r,n,s)))):cf(this.getParsedResult(this.translations[this.currentLang],n,s))}getStreamOnTranslationChange(n,s){if(!Bo(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return ps(mo(()=>this.get(n,s)),this.onTranslationChange.pipe(En(r=>{let o=this.getParsedResult(r.translations,n,s);return cf(o)})))}stream(n,s){if(!Bo(n)||!n.length)throw new Error('Parameter "key" required');return ps(mo(()=>this.get(n,s)),this.onLangChange.pipe(En(r=>{let o=this.getParsedResult(r.translations,n,s);return cf(o)})))}instant(n,s){if(!Bo(n)||n.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(this.translations[this.currentLang],n,s);return Ca(r)?Array.isArray(n)?n.reduce((o,t)=>(o[t]=t,o),{}):n:r}set(n,s,r=this.currentLang){JH(this.translations[r],n,J3(s)?this.compiler.compile(s,r):this.compiler.compileTranslations(s,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(n){this.defaultLang=n,this.onDefaultLangChange.emit({lang:n,translations:this.translations[n]})}reloadLang(n){return this.resetLang(n),this.loadAndCompileTranslations(n)}resetLang(n){delete this._translationRequests[n],delete this.translations[n]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let n=this.getBrowserCultureLang();return n?n.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(s){return new(s||e)(pe(hf),pe(Vo),pe(Bu),pe(Nu),pe(uf),pe(U3),pe(Y3),pe(X3),pe(Z3))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Jn=(()=>{class e{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(n,s){this.translate=n,this._ref=s}updateValue(n,s,r){let o=t=>{this.value=t!==void 0?t:n,this.lastKey=n,this._ref.markForCheck()};if(r){let t=this.translate.getParsedResult(r,n,s);Ca(t)?t.subscribe(o):o(t)}this.translate.get(n,s).subscribe(o)}transform(n,...s){if(!n||!n.length)return n;if(a2(n,this.lastKey)&&a2(s,this.lastParams))return this.value;let r;if(Bo(s[0])&&s.length)if(J3(s[0])&&s[0].length){let o=s[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(o)}catch(t){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${s[0]}`)}}else df(s[0])&&(r=s[0]);return this.lastKey=n,this.lastParams=s,this.updateValue(n,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(n,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(s){return new(s||e)(be(Ya,16),be(Pi,16))};static \u0275pipe=Ld({name:"translate",type:e,pure:!1});static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();var o2=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[n.loader||{provide:Vo,useClass:cS},n.compiler||{provide:Bu,useClass:dS},n.parser||{provide:Nu,useClass:hS},n.missingTranslationHandler||{provide:uf,useClass:uS},hf,{provide:Y3,useValue:n.isolate},{provide:U3,useValue:n.useDefaultLang},{provide:X3,useValue:n.extend},{provide:Z3,useValue:n.defaultLanguage},Ya]}}static forChild(n={}){return{ngModule:e,providers:[n.loader||{provide:Vo,useClass:cS},n.compiler||{provide:Bu,useClass:dS},n.parser||{provide:Nu,useClass:hS},n.missingTranslationHandler||{provide:uf,useClass:uS},{provide:Y3,useValue:n.isolate},{provide:U3,useValue:n.useDefaultLang},{provide:X3,useValue:n.extend},{provide:Z3,useValue:n.defaultLanguage},Ya]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=an({type:e});static \u0275inj=sn({})}return e})();var nn=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=an({type:e});static \u0275inj=sn({imports:[o2]})};var l2=class e{ngOnDestroy(){}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=lt({type:e,selectors:[["app-home"]],decls:7,vars:6,consts:[[1,"p-home"],[1,"p-home__title"],[1,"p-home__subtitle"]],template:function(n,s){n&1&&(re(0,"div",0)(1,"div",1),ge(2),Ae(3,"translate"),le(),re(4,"p",2),ge(5),Ae(6,"translate"),le()()),n&2&&(ne(2),Ye(Oe(3,2,"PAGES.HOME.TITLE")),ne(3),Ye(Oe(6,4,"PAGES.HOME.DESCRIPTION")))},dependencies:[nn,Jn],styles:["[_nghost-%COMP%]{padding:15px;display:flex;flex-direction:column;justify-content:center;align-items:center}.p-home__title[_ngcontent-%COMP%]{font-size:24px;color:var(--c-foreground-1);margin:20px 0}.p-home__subtitle[_ngcontent-%COMP%]{font-size:17px;color:var(--c-foreground-2);margin:5px 0}"]})};var C5=tr(Ua());var fS=tr(Ua());var c2=tr(Ua()),u2=class{constructor(i,n,s,r){this.raceId=i;this.scene=n;this.raceSvc=s;this.getCamPos=r;this.scene.events.once("shutdown",()=>this.destroy())}layers=[];raceStateSub;raceState="pre";preload(){[{key:"cloud1",path:"assets/game-img/background/cloud_1.png"},{key:"cloud2",path:"assets/game-img/background/cloud_2.png"},{key:"cloud3",path:"assets/game-img/background/cloud_3.png"},{key:"forest",path:"assets/game-img/background/forest_bg.png"},{key:"trees3",path:"assets/game-img/background/darken/grass_trees.png"},{key:"trees2",path:"assets/game-img/background/darken/grass_trees.png"},{key:"trees1",path:"assets/game-img/background/darken/grass_trees.png"},{key:"fence",path:"assets/game-img/background/darken/fence.png"}].forEach(n=>this.scene.load.image(n.key,n.path))}create(){let{width:i,height:n}=this.scene.scale,s=[{key:"forest",speed:.02,yFactor:.58,scale:1,offsetTileY:1,xRepeatFactor:2},{key:"cloud1",speed:.04,yFactor:.25,scale:.5,spacing:500,offsetX:0,tileOffsetX:0,xRepeatFactor:2},{key:"cloud2",speed:.02,yFactor:.25,scale:.2,spacing:1500,offsetX:0,tileOffsetX:0,xRepeatFactor:5},{key:"cloud3",speed:.03,yFactor:.3,scale:.4,spacing:950,offsetX:0,tileOffsetX:0,xRepeatFactor:3},{key:"trees3",speed:.17,yFactor:.6,scale:.3,offsetTileY:1,xRepeatFactor:6},{key:"trees2",speed:.2,yFactor:.67,scale:.45,offsetTileY:1,xRepeatFactor:3},{key:"trees1",speed:.23,yFactor:.81,scale:.7,offsetTileY:1,xRepeatFactor:2},{key:"fence",speed:1,yFactor:1,scale:.65,xRepeatFactor:2}];s.forEach((r,o)=>{let t=this.scene.textures.get(r.key).getSourceImage(),a=t.width,p=t.height,c=r.key;if(r.spacing&&r.spacing>0){let v=`${r.key}_spaced`;if(!this.scene.textures.exists(v)){let f=document.createElement("canvas");f.width=a+r.spacing,f.height=p,f.getContext("2d").drawImage(t,0,0),this.scene.textures.addCanvas(v,f)}c=v}let u=r.offsetX??0,h=r.xRepeatFactor??2,l=i*h,d=this.scene.add.tileSprite(u,n*r.yFactor,l,p,c).setOrigin(0,1).setScrollFactor(0).setDepth(-s.length+o).setScale(r.scale);r.tileOffsetX&&(d.tilePositionX=r.tileOffsetX),r.offsetTileY&&(d.tilePositionY=r.offsetTileY),this.layers.push({sprite:d,key:r.key,speed:r.speed,original:r.speed,scale:r.scale})}),this.raceStateSub=this.raceSvc.manager.getRaceState$(this.raceId).subscribe(r=>this.raceState=r)}update(i,n){let s=this.raceSvc.manager.getWinningDistance(this.raceId),r=this.getCamPos(),o=c2.default.Math.Clamp(r,0,s),t=this.raceState==="pre"||o>=s,a=2/12,p=c2.default.Math.Clamp(o/s,0,1),u=c2.default.Math.Wrap(p+a,0,1)*4,h=u>=1&&u<2||u>=3&&u<=4;this.layers.forEach(l=>{["forest","trees3","trees2","trees1","fence"].includes(l.key)&&(t?l.speed=0:(l.key==="forest"||l.key==="trees3")&&h?l.speed=-l.original:l.speed=l.original),l.sprite.tilePositionX+=l.speed*n})}destroy(){this.raceStateSub?.unsubscribe()}};var h2=tr(Ua()),d2=class{constructor(i){this.scene=i}create(){let{width:i,height:n}=this.scene.scale,s=this.scene.add.graphics(),r=h2.default.Display.Color.HSLToColor(.6,.2,.6).color,o=h2.default.Display.Color.HSLToColor(.99,.2,.7).color,t=h2.default.Display.Color.HSLToColor(.5,.2,.9).color;s.fillGradientStyle(o,r,t,t,1),s.fillRect(-100,0,i+100,n),s.setDepth(-10)}};var f2=tr(Ua()),p2=class{constructor(i,n){this.scene=i;this.getLightness=n}overlay;config={h:.1,s:.2,alpha:.2};create(){let{width:i,height:n}=this.scene.scale,s=this.getLightness(),r=f2.default.Display.Color.HSLToColor(this.config.h,this.config.s,s).color;this.overlay=this.scene.add.graphics(),this.overlay.fillStyle(r,this.config.alpha),this.overlay.fillRect(0,0,i,n),this.overlay.setScrollFactor(0),this.overlay.setDepth(0)}update(i,n){let{width:s,height:r}=this.scene.scale,o=f2.default.Math.Clamp(this.getLightness(),0,.5),t=f2.default.Display.Color.HSLToColor(this.config.h,this.config.s,o).color;this.overlay.clear(),this.overlay.fillStyle(t,this.config.alpha),this.overlay.fillRect(0,0,s,r)}};var Q3=tr(Ua()),v2=class{constructor(i,n,s,r=.5){this.raceId=i;this.scene=n;this.raceSvc=s;this.opacity=r}overlay;countdownText;messageText;stateSub;countdownSub;horsesSub;latestList;create(){let{width:i,height:n}=this.scene.scale;this.overlay=this.scene.add.graphics().fillStyle(0,this.opacity).fillRect(0,0,i,n).setScrollFactor(0).setDepth(100),this.countdownText=this.scene.add.text(i/2,n/2+-10,"",{fontFamily:"Courier, monospace",fontSize:"48px",color:"#ffffff",align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(101),this.messageText=this.scene.add.text(i/2,n/2+55,"",{fontFamily:"Courier, monospace",fontSize:"18px",color:"#ffffff",align:"left"}).setOrigin(.5).setScrollFactor(0).setDepth(101),this.horsesSub=this.raceSvc.manager.getHorsesList$(this.raceId).subscribe(s=>this.latestList=s),this.stateSub=this.raceSvc.manager.getRaceState$(this.raceId).subscribe(s=>{let r=s==="pre"||s==="post"||s==="completed";if(this.overlay.setVisible(r),this.countdownText.setVisible(r),this.messageText.setVisible(r),s==="pre")this.messageText.setText("Race starting in ...");else if(s==="post"){let o=this.latestList?.getByPlacement().map((t,a)=>`${a+1}. ${t.horse.name||"Horse "+t.slot}`).join(`
`)??"";this.messageText.setText(`
${o}`)}}),this.countdownSub=this.raceSvc.manager.getCountdown$(this.raceId).subscribe(s=>{this.countdownText.setText(s.toString())}),this.scene.events.once(Q3.default.Scenes.Events.SHUTDOWN,()=>this.destroy()),this.scene.events.once(Q3.default.Scenes.Events.DESTROY,()=>this.destroy())}destroy(){this.stateSub?.unsubscribe(),this.countdownSub?.unsubscribe(),this.horsesSub?.unsubscribe(),this.overlay.destroy(),this.countdownText.destroy(),this.messageText.destroy()}};var pf=tr(Ua());var g2=class{constructor(i,n,s,r,o,t,a){this.raceId=i;this.scene=n;this.horseRaceService=s;this.getMarkerOpacity=r;this.getPlacementFollow=o;this.getHorseFollow=t;this.getFollowHorse=a;this.cam=new _3(this.raceId,this.scene,this.horseRaceService,this.getMarkerOpacity,this.getPlacementFollow,this.getHorseFollow,this.getFollowHorse,p=>p.forEach(c=>this.neededSkins.add(c)),p=>p.forEach(c=>this.neededJockeys.add(c))),this.scene.events.once("shutdown",()=>this.destroy())}cam;neededSkins=new Set;neededJockeys=new Set;getCamPos=()=>this.cam.pos;preload(){this.scene.load.image("img_final_post","assets/game-img/sprite-sheet/finish-post.png"),this.scene.load.image("img_start_gate","assets/game-img/sprite-sheet/starting-gate.png");for(let i of this.neededJockeys)this.scene.load.spritesheet(`jockeySpriteSheet-${i}`,`assets/game-img/sprite-sheet/split/split-jockey-${i}.png`,{frameWidth:575,frameHeight:434});for(let i of this.neededSkins)this.scene.load.spritesheet(`overlay-${i}`,`assets/game-img/sprite-sheet/split/split-horse-${i}.png`,{frameWidth:575,frameHeight:434})}create(){this.cam.updateCam()}update(i,n){this.cam.updateCam()}destroy(){this.cam.destroy()}},_3=class{constructor(i,n,s,r,o,t,a,p,c,u){this.raceId=i;this.scene=n;this.getMarkerOpacity=r;this.getPlacementFollow=o;this.getHorseFollow=t;this.getFollowHorse=a;this.reportNeededSkins=p;this.reportNeededJockeys=c;this.raceSvc=s,this.origin=u??{x:.5,y:.5},this.graphics=this.scene.add.graphics(),this.sub.add(this.raceSvc.manager.getHorsesList$(this.raceId).subscribe(h=>{this.horsesList=h;let l=h.getAll().map(d=>d.horse.skin);this.reportNeededSkins([...new Set(l)])})),this.sub.add(this.raceSvc.manager.getRaceState$(this.raceId).subscribe(h=>{this.raceState=h}));try{this.slotColorMap=this.raceSvc.manager.getSlotColorMap(this.raceId);let h=[...new Set(Object.values(this.slotColorMap).map(l=>l.name))];this.reportNeededJockeys(h)}catch(h){console.error("Failed to load slot color map for race",this.raceId,h)}}pos=0;origin;graphics;posToPx=15;raceSvc;horsesList;raceState="pre";slotColorMap={};sub=new vn;images=new Map;sprites=new Map;shadows=new Map;composites=new Map;updateCam(){let i=this.getPlacementFollow(),n=this.getHorseFollow(),s=this.getFollowHorse(),r=this.horsesList.getByPlacement()[i].position,o=this.horsesList.getAll()[n].position;s==!1?this.pos=r:this.pos=o,this.pos>=this.raceSvc.manager.getWinningDistance(this.raceId)&&(this.pos=this.raceSvc.manager.getWinningDistance(this.raceId));let t=.63,a=pf.default.Math.Clamp(this.pos/this.raceSvc.manager.getWinningDistance(this.raceId),0,1);this.origin.x=pf.default.Math.Interpolation.Linear([.5,t],a),this.graphics.setDepth(100),this.drawView()}drawView(){this.graphics.clear(),this.drawCamCross(),this.drawCamImg(this.raceSvc.manager.getWinningDistance(this.raceId),"img_final_post","p0",.14,-18,0,0),this.drawCamImg(0,"img_start_gate","g0",.2,0,-110,1),this.drawCamImg(0,"img_start_gate","g1",.2,12,-110,3),this.drawCamImg(0,"img_start_gate","g2",.2,24,-110,5),this.drawCamImg(0,"img_start_gate","g3",.2,36,-110,10),this.horsesList.getAll().forEach((i,n)=>{if(i.position!=null){let s=this.slotColorMap[i.slot]?.color??"hsl(0,0%,0%)",r=this.hslStringToPhaserColor(s,25);this.drawCamPoint(i.position,r);let t=`jockeySpriteSheet-${this.slotColorMap[i.slot]?.name??"black"}`,a=`horse${n}`,p=18+n*10,c=-90,u=n*2,h=18+n,l=this.raceState==="pre";this.drawCamHorse(i.position,t,a,.35,p,c,u,h,l)}})}drawCamCross(){let i=this.scene.cameras.main,n=i.worldView.x+i.width*this.origin.x,s=i.worldView.y+i.height*this.origin.y,r=6;this.graphics.lineStyle(2,986895,.9),this.graphics.beginPath(),this.graphics.moveTo(n-r,s),this.graphics.lineTo(n+r,s),this.graphics.moveTo(n,s-r),this.graphics.lineTo(n,s+r),this.graphics.strokePath()}drawCamPoint(i,n=65280){let s=this.scene.cameras.main,r=s.worldView.x+s.width*this.origin.x,o=s.worldView.y+s.height*this.origin.y,t=(i-this.pos)*this.posToPx,a=r+t,p=o+118;this.graphics.fillStyle(n,this.getMarkerOpacity()),this.graphics.fillRect(a,p,2,8)}drawCamImg(i,n,s=n,r=.5,o=0,t=0,a=1){let p=this.scene.cameras.main,c=p.worldView.x+p.width*this.origin.x,u=p.worldView.y+p.height*this.origin.y,h=(i-this.pos)*this.posToPx,l=c+h+t,d=u+o,v=`img:${s}`,f=this.images.get(v);f?f.setPosition(l,d).setDepth(a):(f=this.scene.add.image(l,d,n).setScale(r).setDepth(a),this.images.set(v,f))}drawCamHorse(i,n,s,r=.15,o=0,t=0,a=1,p=19,c=!1,u=-15,h=70){let d=this.scene.cameras.main,v=d.worldView.x+d.width*this.origin.x,f=d.worldView.y+d.height*this.origin.y,g=(i-this.pos)*this.posToPx,m=v+g+t,x=f+o,y=`composite:${s}`,b=`run:${n}`,C=`overlay-${this.horsesList.getAll()[parseInt(s.replace("horse",""))].horse.skin}`,w=this.composites.get(y);if(w){if(this.pos>=this.raceSvc.manager.getWinningDistance(this.raceId))w.update(w.base.x+25,x,c);else{let I=m-w.base.x,T=w.base.x+(Math.abs(I)>1?I*.04:0);w.update(T,x,c)}let S=this.shadows.get(y);S.x=w.base.x+u,S.y=x+h,S.setDepth(a-.5)}else{let S=this.scene.add.container();w=new q3(this.scene,S,n,C,b,r,a,p),w.spawn(m,x,c),this.composites.set(y,w);let I=this.scene.add.ellipse(m+u,x+h,140,12,0,.4).setScale(1,.5).setDepth(a-.5);this.shadows.set(y,I)}}hslStringToPhaserColor(i,n=0){let s=/^hsl\((\d+),\s*(\d+)%?,\s*(\d+)%?\)$/.exec(i);if(!s)return 0;let r=parseInt(s[1],10)/360,o=parseInt(s[2],10)/100,t=parseInt(s[3],10)/100;return t=pf.default.Math.Clamp(t+n/100,0,1),pf.default.Display.Color.HSLToColor(r,o,t).color}destroy(){this.sub.unsubscribe(),this.graphics.destroy(),this.images.forEach(i=>i.destroy()),this.images.clear(),this.sprites.forEach(i=>i.destroy()),this.sprites.clear(),this.shadows.forEach(i=>i.destroy()),this.shadows.clear(),this.composites.forEach(i=>i.destroy()),this.composites.clear()}},q3=class{constructor(i,n,s,r,o,t,a,p){this.scene=i;this.container=n;this.baseKey=s;this.overlayKey=r;this.animKey=o;this.scale=t;this.depth=a;this.frameRate=p}base;overlay;overlayAnimKey;ensureAnim(){this.scene.anims.exists(this.animKey)||this.scene.anims.create({key:this.animKey,frames:this.scene.anims.generateFrameNumbers(this.baseKey),frameRate:this.frameRate,repeat:-1}),this.overlayAnimKey=`${this.animKey}__overlay`,this.scene.anims.exists(this.overlayAnimKey)||this.scene.anims.create({key:this.overlayAnimKey,frames:this.scene.anims.generateFrameNumbers(this.overlayKey),frameRate:this.frameRate,repeat:-1})}spawn(i,n,s){this.ensureAnim(),this.base=this.scene.add.sprite(i,n,this.baseKey).setScale(this.scale).setDepth(this.depth),this.overlay=this.scene.add.sprite(i,n,this.overlayKey).setScale(this.scale).setDepth(this.depth+.01),this.container.add([this.base,this.overlay]),s?(this.base.setFrame(3),this.overlay.setFrame(3)):(this.base.play(this.animKey),this.overlay.play(this.overlayAnimKey))}update(i,n,s){this.base.setPosition(i,n),this.overlay.setPosition(i,n),s?(this.base.anims.stop(),this.overlay.anims.stop(),this.base.setFrame(3),this.overlay.setFrame(3)):this.base.anims.isPlaying||(this.base.play(this.animKey),this.overlay.play(this.overlayAnimKey))}destroy(){this.base.destroy(),this.overlay.destroy()}};var vf={shot:.3,ring:.4,horseGallop:.6,countdownTick:.09,trumpet:1},KH=1,QH=.14,m2=class{constructor(i,n,s){this.raceId=i;this.scene=n;this.raceSvc=s;this.scene.events.once("shutdown",()=>this.destroy()),this.scene.events.once("destroy",()=>this.destroy())}stateSub;countdownSub;shot;ring;trumpet;tickSound;horseSounds=[];currentState="pre";preload(){this.scene.load.audio("shot","assets/game-img/sound/shot.mp3"),this.scene.load.audio("ring","assets/game-img/sound/ring.mp3"),this.scene.load.audio("horseGallop","assets/game-img/sound/horse-gallop.mp3"),this.scene.load.audio("countdownTick","assets/game-img/sound/beep.mp3"),this.scene.load.audio("trumpet","assets/game-img/sound/trumpet.mp3")}create(){this.shot=this.scene.sound.add("shot",{volume:vf.shot}),this.ring=this.scene.sound.add("ring",{volume:vf.ring}),this.trumpet=this.scene.sound.add("trumpet",{volume:vf.trumpet}),this.tickSound=this.scene.sound.add("countdownTick",{volume:vf.countdownTick});for(let i=0;i<4;i++){let n=this.scene.sound.add("horseGallop",{volume:vf.horseGallop-.2*i,loop:!0});n.setRate(KH+i*QH),this.horseSounds.push(n)}this.stateSub=this.raceSvc.manager.getRaceState$(this.raceId).subscribe(i=>{this.currentState=i,i==="in"?(this.safePlay(this.shot),this.safePlay(this.ring),this.startHorseLoops()):i==="post"?(this.safePlay(this.ring),this.stopHorseLoops()):this.safePlay(this.trumpet)}),this.countdownSub=this.raceSvc.manager.getCountdown$(this.raceId).subscribe(i=>{this.currentState==="pre"&&i>0&&i<=5&&this.safePlay(this.tickSound)})}startHorseLoops(){for(let i of this.horseSounds)i.isPlaying||this.safePlay(i)}stopHorseLoops(){for(let i of this.horseSounds)i.isPlaying&&i.stop()}safePlay(i){try{i?.play()}catch{}}destroy(){this.stateSub?.unsubscribe(),this.countdownSub?.unsubscribe(),[this.shot,this.ring,this.trumpet,this.tickSound,...this.horseSounds].forEach(i=>{i&&(i.isPlaying&&i.stop(),i.destroy())}),this.horseSounds=[]}};var gf=tr(Ua());var y2=class{constructor(i,n,s,r){this.raceId=i;this.scene=n;this.raceSvc=s;this.getMarkerOpacity=r;this.graphics=this.scene.add.graphics().setDepth(80),this.sub.add(this.raceSvc.manager.getHorsesList$(this.raceId).subscribe(o=>{this.horsesList=o}));try{this.slotColorMap=this.raceSvc.manager.getSlotColorMap(this.raceId)}catch(o){console.error("Failed to get slot color map",this.raceId,o)}this.scene.events.once("shutdown",()=>this.destroy())}graphics;dots=new Map;horsesList;sub=new vn;center;shape;slotColorMap={};baseWidth=100;baseHeight=200;trackSpacing=1;startOffset=2/12;create(){let i=this.scene.cameras.main;this.center={x:i.worldView.x+i.width-this.baseWidth/2-35,y:i.worldView.y+this.baseHeight/2+25},this.shape=new e5(this.center,this.baseWidth,this.baseHeight,this.trackSpacing,this.startOffset),this.graphics.lineStyle(1,16777215,.5);for(let s=0;s<4;s++)this.shape.drawTrack(this.graphics,s);this.graphics.lineStyle(2,16777215,1);let n=6;for(let s=0;s<4;s++){let{x:r,y:o}=this.shape.pointOnTrack(s,0),t=n;this.graphics.beginPath(),this.graphics.moveTo(r-t,o),this.graphics.lineTo(r+t,o),this.graphics.strokePath()}this.update()}update(){if(!this.horsesList)return;let i=this.raceSvc.manager.getWinningDistance(this.raceId);this.horsesList.getAll().forEach(n=>{let s=n.slot,r=4,o=gf.default.Math.Clamp(n.position/i,0,1),t=r-1-s,{x:a,y:p}=this.shape.pointOnTrack(t,o),c=this.slotColorMap[s]?.color??"hsl(0,0%,0%)",u=this.hslStringToPhaserColor(c,0),h=this.dots.get(s);h?h.setPosition(a,p).setFillStyle(u):(h=this.scene.add.arc(a,p,4,0,360,!0).setFillStyle(u).setDepth(80),this.dots.set(s,h))})}hslStringToPhaserColor(i,n=0){let s=/^hsl\((\d+),\s*(\d+)%?,\s*(\d+)%?\)$/.exec(i);if(!s)return 0;let r=+s[1]/360,o=+s[2]/100,t=+s[3]/100;return t=gf.default.Math.Clamp(t+n/100,0,1),gf.default.Display.Color.HSLToColor(r,o,t).color}destroy(){this.sub.unsubscribe(),this.graphics.destroy(),this.dots.forEach(i=>i.destroy()),this.dots.clear()}},e5=class{constructor(i,n,s,r,o=2/12){this.center=i;this.baseWidth=n;this.baseHeight=s;this.trackSpacing=r;this.startOffset=o}drawTrack(i,n){let s=this.baseWidth-n*this.trackSpacing*2,r=this.baseHeight-n*this.trackSpacing*2,o=s/2,t=r-2*o,{x:a,y:p}=this.center,c=p-t/2,u=p+t/2,h=a-o,l=a+o;i.beginPath(),i.moveTo(l,c),i.lineTo(l,u),i.strokePath(),i.beginPath(),i.arc(a,u,o,0,Math.PI,!1),i.strokePath(),i.beginPath(),i.moveTo(h,u),i.lineTo(h,c),i.strokePath(),i.beginPath(),i.arc(a,c,o,Math.PI,2*Math.PI,!1),i.strokePath()}pointOnTrack(i,n){let s=this.baseWidth-i*this.trackSpacing*2,r=this.baseHeight-i*this.trackSpacing*2,o=s/2,t=r-2*o,a=2*t+2*Math.PI*o,p=(n+this.startOffset)%1;p=gf.default.Math.Clamp(p,0,1);let c=p*a,{x:u,y:h}=this.center,l=h-t/2,d=h+t/2,v=u-o,f=u+o;if(c<=t)return{x:f,y:l+c};if(c-=t,c<=Math.PI*o){let m=c/o;return{x:u+o*Math.cos(m),y:d+o*Math.sin(m)}}if(c-=Math.PI*o,c<=t)return{x:v,y:d-c};c-=t;let g=c/o+Math.PI;return{x:u+o*Math.cos(g),y:l+o*Math.sin(g)}}};var x2=class extends fS.default.Scene{constructor(n,s,r,o,t,a,p,c){super("MainScene");this.raceId=n;this.horseRaceService=s;this.markerOpacityGetter=r;this.filterLightnessGetter=o;this.placementFollowGetter=t;this.HorseFollowGetter=a;this.FollowHorseGetter=p;this.muteGetter=c}sky;bg;filterScreen;raceLine;miniMap;soundLayer;preload(){this.raceLine=new g2(this.raceId,this,this.horseRaceService,this.markerOpacityGetter,this.placementFollowGetter,this.HorseFollowGetter,this.FollowHorseGetter),this.raceLine.preload(),this.bg=new u2(this.raceId,this,this.horseRaceService,this.raceLine.getCamPos),this.bg.preload(),this.soundLayer=new m2(this.raceId,this,this.horseRaceService),this.soundLayer.preload()}create(){this.sky=new d2(this),this.sky.create(),this.bg.create(),this.filterScreen=new p2(this,this.filterLightnessGetter),this.filterScreen.create(),this.miniMap=new y2(this.raceId,this,this.horseRaceService,this.markerOpacityGetter),this.miniMap.create(),this.raceLine.create(),new v2(this.raceId,this,this.horseRaceService,.7).create(),this.soundLayer.create()}update(n,s){this.sound.mute=this.muteGetter(),this.bg.update(n,s),this.filterScreen.update(n,s),this.miniMap.update(),this.raceLine.update(n,s)}};var hr=["(max-width: 799px) and (orientation: portrait)","(max-width: 599px)"];var CS=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,s){this._renderer=n,this._elementRef=s}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(s){return new(s||e)(be(Tr),be(fi))};static \u0275dir=yn({type:e})}return e})(),o5=(()=>{class e extends CS{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})();static \u0275dir=yn({type:e,features:[ws]})}return e})(),Cf=new xe(""),_H={provide:Cf,useExisting:Da(()=>l5),multi:!0},l5=(()=>{class e extends o5{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})();static \u0275dir=yn({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,r){s&1&&_e("change",function(t){return r.onChange(t.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Zl([_H]),ws]})}return e})(),qH={provide:Cf,useExisting:Da(()=>Hu),multi:!0};function ej(){let e=za()?za().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var tj=new xe(""),Hu=(()=>{class e extends CS{_compositionMode;_composing=!1;constructor(n,s,r){super(n,s),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!ej())}writeValue(n){let s=n??"";this.setProperty("value",s)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(s){return new(s||e)(be(Tr),be(fi),be(tj,8))};static \u0275dir=yn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,r){s&1&&_e("input",function(t){return r._handleInput(t.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(t){return r._compositionEnd(t.target.value)})},standalone:!1,features:[Zl([qH]),ws]})}return e})();function Go(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function wS(e){return e!=null&&typeof e.length=="number"}var c5=new xe(""),u5=new xe(""),nj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zu=class{static min(i){return ij(i)}static max(i){return rj(i)}static required(i){return sj(i)}static requiredTrue(i){return aj(i)}static email(i){return oj(i)}static minLength(i){return lj(i)}static maxLength(i){return cj(i)}static pattern(i){return uj(i)}static nullValidator(i){return SS(i)}static compose(i){return LS(i)}static composeAsync(i){return DS(i)}};function ij(e){return i=>{if(Go(i.value)||Go(e))return null;let n=parseFloat(i.value);return!isNaN(n)&&n<e?{min:{min:e,actual:i.value}}:null}}function rj(e){return i=>{if(Go(i.value)||Go(e))return null;let n=parseFloat(i.value);return!isNaN(n)&&n>e?{max:{max:e,actual:i.value}}:null}}function sj(e){return Go(e.value)?{required:!0}:null}function aj(e){return e.value===!0?null:{required:!0}}function oj(e){return Go(e.value)||nj.test(e.value)?null:{email:!0}}function lj(e){return i=>Go(i.value)||!wS(i.value)?null:i.value.length<e?{minlength:{requiredLength:e,actualLength:i.value.length}}:null}function cj(e){return i=>wS(i.value)&&i.value.length>e?{maxlength:{requiredLength:e,actualLength:i.value.length}}:null}function uj(e){if(!e)return SS;let i,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),i=new RegExp(n)):(n=e.toString(),i=e),s=>{if(Go(s.value))return null;let r=s.value;return i.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function SS(e){return null}function IS(e){return e!=null}function kS(e){return Ao(e)?cn(e):e}function TS(e){let i={};return e.forEach(n=>{i=n!=null?q(q({},i),n):i}),Object.keys(i).length===0?null:i}function ES(e,i){return i.map(n=>n(e))}function hj(e){return!e.validate}function AS(e){return e.map(i=>hj(i)?i:n=>i.validate(n))}function LS(e){if(!e)return null;let i=e.filter(IS);return i.length==0?null:function(n){return TS(ES(n,i))}}function RS(e){return e!=null?LS(AS(e)):null}function DS(e){if(!e)return null;let i=e.filter(IS);return i.length==0?null:function(n){let s=ES(n,i).map(kS);return rd(s).pipe(ze(TS))}}function OS(e){return e!=null?DS(AS(e)):null}function pS(e,i){return e===null?[i]:Array.isArray(e)?[...e,i]:[e,i]}function FS(e){return e._rawValidators}function PS(e){return e._rawAsyncValidators}function t5(e){return e?Array.isArray(e)?e:[e]:[]}function M2(e,i){return Array.isArray(e)?e.includes(i):e===i}function vS(e,i){let n=t5(i);return t5(e).forEach(r=>{M2(n,r)||n.push(r)}),n}function gS(e,i){return t5(i).filter(n=>!M2(e,n))}var C2=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=RS(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=OS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,n){return this.control?this.control.hasError(i,n):!1}getError(i,n){return this.control?this.control.getError(i,n):null}},ql=class extends C2{name;get formDirective(){return null}get path(){return null}},ec=class extends C2{_parent=null;name=null;valueAccessor=null},w2=class{_cd;constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},dj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wpe=Se(q({},dj),{"[class.ng-submitted]":"isSubmitted"}),E2=(()=>{class e extends w2{constructor(n){super(n)}static \u0275fac=function(s){return new(s||e)(be(ec,2))};static \u0275dir=yn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,r){s&2&&pi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ws]})}return e})(),NS=(()=>{class e extends w2{constructor(n){super(n)}static \u0275fac=function(s){return new(s||e)(be(ql,10))};static \u0275dir=yn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,r){s&2&&pi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ws]})}return e})();var mf="VALID",b2="INVALID",Vu="PENDING",yf="DISABLED",zo=class{},S2=class extends zo{value;source;constructor(i,n){super(),this.value=i,this.source=n}},xf=class extends zo{pristine;source;constructor(i,n){super(),this.pristine=i,this.source=n}},bf=class extends zo{touched;source;constructor(i,n){super(),this.touched=i,this.source=n}},Gu=class extends zo{status;source;constructor(i,n){super(),this.status=i,this.source=n}},n5=class extends zo{source;constructor(i){super(),this.source=i}},i5=class extends zo{source;constructor(i){super(),this.source=i}};function h5(e){return(A2(e)?e.validators:e)||null}function fj(e){return Array.isArray(e)?RS(e):e||null}function d5(e,i){return(A2(i)?i.asyncValidators:e)||null}function pj(e){return Array.isArray(e)?OS(e):e||null}function A2(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function BS(e,i,n){let s=e.controls;if(!(i?Object.keys(s):s).length)throw new Ue(1e3,"");if(!s[n])throw new Ue(1001,"")}function VS(e,i,n){e._forEachChild((s,r)=>{if(n[r]===void 0)throw new Ue(1002,"")})}var Wu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(i,n){this._assignValidators(i),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return ur(this.statusReactive)}set status(i){ur(()=>this.statusReactive.set(i))}_status=Ba(()=>this.statusReactive());statusReactive=Eo(void 0);get valid(){return this.status===mf}get invalid(){return this.status===b2}get pending(){return this.status==Vu}get disabled(){return this.status===yf}get enabled(){return this.status!==yf}errors;get pristine(){return ur(this.pristineReactive)}set pristine(i){ur(()=>this.pristineReactive.set(i))}_pristine=Ba(()=>this.pristineReactive());pristineReactive=Eo(!0);get dirty(){return!this.pristine}get touched(){return ur(this.touchedReactive)}set touched(i){ur(()=>this.touchedReactive.set(i))}_touched=Ba(()=>this.touchedReactive());touchedReactive=Eo(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(vS(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(vS(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(gS(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(gS(i,this._rawAsyncValidators))}hasValidator(i){return M2(this._rawValidators,i)}hasAsyncValidator(i){return M2(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let n=this.touched===!1;this.touched=!0;let s=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(Se(q({},i),{sourceControl:s})),n&&i.emitEvent!==!1&&this._events.next(new bf(!0,s))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(i))}markAsUntouched(i={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let s=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:s})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,s),n&&i.emitEvent!==!1&&this._events.next(new bf(!1,s))}markAsDirty(i={}){let n=this.pristine===!0;this.pristine=!1;let s=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(Se(q({},i),{sourceControl:s})),n&&i.emitEvent!==!1&&this._events.next(new xf(!1,s))}markAsPristine(i={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let s=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,s),n&&i.emitEvent!==!1&&this._events.next(new xf(!0,s))}markAsPending(i={}){this.status=Vu;let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Gu(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(Se(q({},i),{sourceControl:n}))}disable(i={}){let n=this._parentMarkedDirty(i.onlySelf);this.status=yf,this.errors=null,this._forEachChild(r=>{r.disable(Se(q({},i),{onlySelf:!0}))}),this._updateValue();let s=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new S2(this.value,s)),this._events.next(new Gu(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se(q({},i),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let n=this._parentMarkedDirty(i.onlySelf);this.status=mf,this._forEachChild(s=>{s.enable(Se(q({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Se(q({},i),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i,n){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let s=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mf||this.status===Vu)&&this._runAsyncValidator(s,i.emitEvent)}let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new S2(this.value,n)),this._events.next(new Gu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(Se(q({},i),{sourceControl:n}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yf:mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,n){if(this.asyncValidator){this.status=Vu,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let s=kS(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(i){let n=i;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((s,r)=>s&&s._find(r),this)}getError(i,n){let s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,n,s){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||s)&&this._events.next(new Gu(this.status,n)),this._parent&&this._parent._updateControlsErrors(i,n,s)}_initObservables(){this.valueChanges=new Ht,this.statusChanges=new Ht}_calculateStatus(){return this._allControlsDisabled()?yf:this.errors?b2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vu)?Vu:this._anyControlsHaveStatus(b2)?b2:mf}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,n){let s=!this._anyControlsDirty(),r=this.pristine!==s;this.pristine=s,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),r&&this._events.next(new xf(this.pristine,n))}_updateTouched(i={},n){this.touched=this._anyControlsTouched(),this._events.next(new bf(this.touched,n)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n)}_onDisabledChange=[];_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){A2(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let n=this._parent&&this._parent.dirty;return!i&&!!n&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=fj(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=pj(this._rawAsyncValidators)}},I2=class extends Wu{constructor(i,n,s){super(h5(n),d5(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){VS(this,!0,i),Object.keys(i).forEach(s=>{BS(this,!0,s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){i!=null&&(Object.keys(i).forEach(s=>{let r=this.controls[s];r&&r.patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,r)=>{s.reset(i?i[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>s._syncPendingControls()?!0:n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(n=>{let s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[n,s]of Object.entries(this.controls))if(this.contains(n)&&i(s))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(n,s,r)=>((s.enabled||this.disabled)&&(n[r]=s.value),n))}_reduceChildren(i,n){let s=i;return this._forEachChild((r,o)=>{s=n(s,r,o)}),s}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var r5=class extends I2{};var L2=new xe("",{providedIn:"root",factory:()=>R2}),R2="always";function GS(e,i){return[...i.path,e]}function s5(e,i,n=R2){f5(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&i.valueAccessor.setDisabledState?.(e.disabled),gj(e,i),yj(e,i),mj(e,i),vj(e,i)}function mS(e,i,n=!0){let s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),T2(e,i),e&&(i._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function k2(e,i){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function vj(e,i){if(i.valueAccessor.setDisabledState){let n=s=>{i.valueAccessor.setDisabledState(s)};e.registerOnDisabledChange(n),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function f5(e,i){let n=FS(e);i.validator!==null?e.setValidators(pS(n,i.validator)):typeof n=="function"&&e.setValidators([n]);let s=PS(e);i.asyncValidator!==null?e.setAsyncValidators(pS(s,i.asyncValidator)):typeof s=="function"&&e.setAsyncValidators([s]);let r=()=>e.updateValueAndValidity();k2(i._rawValidators,r),k2(i._rawAsyncValidators,r)}function T2(e,i){let n=!1;if(e!==null){if(i.validator!==null){let r=FS(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(t=>t!==i.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(i.asyncValidator!==null){let r=PS(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(t=>t!==i.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}let s=()=>{};return k2(i._rawValidators,s),k2(i._rawAsyncValidators,s),n}function gj(e,i){i.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&zS(e,i)})}function mj(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&zS(e,i),e.updateOn!=="submit"&&e.markAsTouched()})}function zS(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function yj(e,i){let n=(s,r)=>{i.valueAccessor.writeValue(s),r&&i.viewToModelUpdate(s)};e.registerOnChange(n),i._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function xj(e,i){e==null,f5(e,i)}function bj(e,i){return T2(e,i)}function WS(e,i){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(i,n.currentValue)}function Mj(e){return Object.getPrototypeOf(e.constructor)===o5}function Cj(e,i){e._syncPendingControls(),i.forEach(n=>{let s=n.control;s.updateOn==="submit"&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function HS(e,i){if(!i)return null;Array.isArray(i);let n,s,r;return i.forEach(o=>{o.constructor===Hu?n=o:Mj(o)?s=o:r=o}),r||s||n||null}function wj(e,i){let n=e.indexOf(i);n>-1&&e.splice(n,1)}function yS(e,i){let n=e.indexOf(i);n>-1&&e.splice(n,1)}function xS(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Mf=class extends Wu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(i=null,n,s){super(h5(n),d5(s,n)),this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xS(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(s=>s(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=this.defaultValue,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){yS(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){yS(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){xS(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var Sj=e=>e instanceof Mf;var Ij={provide:ec,useExisting:Da(()=>p5)},bS=Promise.resolve(),p5=(()=>{class e extends ec{_changeDetectorRef;callSetDisabledState;control=new Mf;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ht;constructor(n,s,r,o,t,a){super(),this._changeDetectorRef=t,this.callSetDisabledState=a,this._parent=n,this._setValidators(s),this._setAsyncValidators(r),this.valueAccessor=HS(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let s=n.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),WS(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){s5(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){bS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let s=n.isDisabled.currentValue,r=s!==0&&Xl(s);bS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?GS(n,this._parent):[n]}static \u0275fac=function(s){return new(s||e)(be(ql,9),be(c5,10),be(u5,10),be(Cf,10),be(Pi,8),be(L2,8))};static \u0275dir=yn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Zl([Ij]),ws,Oi]})}return e})(),jS=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275dir=yn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var kj={provide:Cf,useExisting:Da(()=>v5),multi:!0},v5=(()=>{class e extends o5{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=s=>{n(s==""?null:parseFloat(s))}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})();static \u0275dir=yn({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(s,r){s&1&&_e("change",function(t){return r.onChange(t.target.value)})("input",function(t){return r.onChange(t.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Zl([kj]),ws]})}return e})(),YS=new xe("");var Tj={provide:ql,useExisting:Da(()=>g5)},g5=(()=>{class e extends ql{callSetDisabledState;get submitted(){return ur(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Ba(()=>this._submittedReactive());_submittedReactive=Eo(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ht;constructor(n,s,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(T2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let s=this.form.get(n.path);return s5(s,n,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){mS(n.control||null,n,!1),wj(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this._submittedReactive.set(!0),Cj(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new n5(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new i5(this.form))}_updateDomValue(){this.directives.forEach(n=>{let s=n.control,r=this.form.get(n.path);s!==r&&(mS(s||null,n),Sj(r)&&(s5(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let s=this.form.get(n.path);xj(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let s=this.form.get(n.path);s&&bj(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){f5(this.form,this),this._oldForm&&T2(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(s){return new(s||e)(be(c5,10),be(u5,10),be(L2,8))};static \u0275dir=yn({type:e,selectors:[["","formGroup",""]],hostBindings:function(s,r){s&1&&_e("submit",function(t){return r.onSubmit(t)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Zl([Tj]),ws,Oi]})}return e})();var Ej={provide:ec,useExisting:Da(()=>m5)},m5=(()=>{class e extends ec{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Ht;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,s,r,o,t){super(),this._ngModelWarningConfig=t,this._parent=n,this._setValidators(s),this._setAsyncValidators(r),this.valueAccessor=HS(this,o)}ngOnChanges(n){this._added||this._setUpControl(),WS(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return GS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(s){return new(s||e)(be(ql,13),be(c5,10),be(u5,10),be(Cf,10),be(YS,8))};static \u0275dir=yn({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Zl([Ej]),ws,Oi]})}return e})();var US=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=an({type:e});static \u0275inj=sn({})}return e})(),a5=class extends Wu{constructor(i,n,s){super(h5(n),d5(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(i){return this.controls[this._adjustIndex(i)]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){let s=this._adjustIndex(i);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){VS(this,!1,i),i.forEach((s,r)=>{BS(this,!1,r),this.at(r).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){i!=null&&(i.forEach((s,r)=>{this.at(r)&&this.at(r).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,r)=>{s.reset(i[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((n,s)=>s._syncPendingControls()?!0:n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(let i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}};function MS(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var ZS=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,s=null){let r=this._reduceControls(n),o={};return MS(s)?o=s:s!==null&&(o.validators=s.validator,o.asyncValidators=s.asyncValidator),new I2(r,o)}record(n,s=null){let r=this._reduceControls(n);return new r5(r,s)}control(n,s,r){let o={};return this.useNonNullable?(MS(s)?o=s:(o.validators=s,o.asyncValidators=r),new Mf(n,Se(q({},o),{nonNullable:!0}))):new Mf(n,s,r)}array(n,s,r){let o=n.map(t=>this._createControl(t));return new a5(o,s,r)}_reduceControls(n){let s={};return Object.keys(n).forEach(r=>{s[r]=this._createControl(n[r])}),s}_createControl(n){if(n instanceof Mf)return n;if(n instanceof Wu)return n;if(Array.isArray(n)){let s=n[0],r=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(s,r,o)}else return this.control(n)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var XS=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:L2,useValue:n.callSetDisabledState??R2}]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=an({type:e});static \u0275inj=sn({imports:[US]})}return e})(),$S=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:YS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:L2,useValue:n.callSetDisabledState??R2}]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=an({type:e});static \u0275inj=sn({imports:[US]})}return e})();var Zr=class e{state=new xt({});groupMap=new Map;state$=this.state.asObservable();registerGroup(i,n){this.groupMap.has(i)||this.groupMap.set(i,new Set),this.groupMap.get(i).add(n)}open(i,n){let s=Se(q({},this.state.getValue()),{[i]:!0});if(n&&this.groupMap.has(n))for(let r of this.groupMap.get(n))r!==i&&(s[r]=!1);this.state.next(s)}close(i){this.state.next(Se(q({},this.state.getValue()),{[i]:!1}))}toggle(i,n){this.state.getValue()[i]?this.close(i):this.open(i,n)}closeGroup(i){let n=q({},this.state.getValue());if(this.groupMap.has(i))for(let s of this.groupMap.get(i))n[s]=!1;this.state.next(n)}closeAll(){this.state.next({})}isAnyOpen(i){let n=this.state.getValue();return i.some(s=>n[s])}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Aj=[[["","body",""]],[["","closedHeader",""]],[["","openHeader",""]]],Lj=["[body]","[closedHeader]","[openHeader]"],Rj=e=>({"c-expandable--expanded":e}),Dj=e=>({"c-expandable__header--expanded":e}),Oj=e=>({"c-expandable__body--expanded":e});function Fj(e,i){e&1&&(qn(0),Xi(1,1),ei())}function Pj(e,i){e&1&&Xi(0,2)}var _s=class e{constructor(i){this.expandableManager=i}expandableId;groupId;variant=0;hostClass="";open=new Ht;close=new Ht;toggle=new Ht;isOpen=!1;subscription;previousState=!1;ngOnInit(){this.hostClass=`expandable-variant-${this.variant}`,this.subscription=this.expandableManager.state$.subscribe(i=>{let n=!!i[this.expandableId];n!==this.previousState&&(this.isOpen=n,n?this.open.emit():this.close.emit(),this.toggle.emit(n),this.previousState=n)})}toggleComponent(){this.expandableManager.toggle(this.expandableId,this.groupId)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)(be(Zr))};static \u0275cmp=lt({type:e,selectors:[["app-expandable"]],hostVars:2,hostBindings:function(n,s){n&2&&Cp(s.hostClass)},inputs:{expandableId:"expandableId",groupId:"groupId",variant:"variant"},outputs:{open:"open",close:"close",toggle:"toggle"},ngContentSelectors:Lj,decls:7,vars:14,consts:[["openHeader",""],[1,"c-expandable",3,"ngClass","id"],[1,"c-expandable__header",3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"c-expandable__body",3,"ngClass"]],template:function(n,s){if(n&1){let r=Kt();Wr(Aj),re(0,"div",1)(1,"div",2),_e("click",function(){return Mt(r),Ct(s.toggleComponent())}),mt(2,Fj,2,0,"ng-container",3)(3,Pj,1,0,"ng-template",null,0,cr),le(),re(5,"div",4),Xi(6),le()()}if(n&2){let r=Ss(4);Ne("ngClass",Is(8,Rj,s.isOpen))("id","expandable-"+s.expandableId),ne(),Ne("ngClass",Is(10,Dj,s.isOpen)),ne(),Ne("ngIf",!s.isOpen)("ngIfElse",r),ne(3),vu("max-height",s.isOpen?"2000px":"0"),Ne("ngClass",Is(12,Oj,s.isOpen))}},dependencies:[Bt,Mu,$n],styles:[".expandable-variant-0[_nghost-%COMP%]   .c-expandable[_ngcontent-%COMP%]{border:1px solid var(--c-background-3);border-radius:8px;overflow:auto;min-width:290px;transition:all .2s}.expandable-variant-0[_nghost-%COMP%]   .c-expandable--expanded[_ngcontent-%COMP%]{box-shadow:var(--c-shadow-1);border:2px solid var(--c-accent-1)}.expandable-variant-0[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;padding:5px 20px;background-color:var(--c-background-1);cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s ease}.expandable-variant-0[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]:hover, .expandable-variant-0[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]:active{background-color:var(--c-background-1);color:var(--c-accent-0)}.expandable-variant-0[_nghost-%COMP%]   .c-expandable__header--expanded[_ngcontent-%COMP%]{background-color:var(--c-background-1);color:var(--c-accent-0);font-weight:700}.expandable-variant-0[_nghost-%COMP%]   .c-expandable__body[_ngcontent-%COMP%]{overflow:auto;background-color:var(--c-background-1);border-top:1px solid var(--c-background-3);padding:0 20px;transition:.3s ease}.expandable-variant-0[_nghost-%COMP%]   .c-expandable__body--expanded[_ngcontent-%COMP%]{padding:20px 20px 40px;max-height:none}.expandable-variant-1[_nghost-%COMP%]   .c-expandable[_ngcontent-%COMP%]{width:95vw;max-width:1000px;border:1px solid var(--c-background-3);border-radius:8px;overflow-y:hidden;transition:all .2s}.expandable-variant-1[_nghost-%COMP%]   .c-expandable--expanded[_ngcontent-%COMP%]{box-shadow:var(--c-shadow-1)}.expandable-variant-1[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;padding:5px 15px;background-color:var(--c-background-1);cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s ease}.expandable-variant-1[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]:hover, .expandable-variant-1[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]:active{background-color:var(--c-background-0)}.expandable-variant-1[_nghost-%COMP%]   .c-expandable__header--expanded[_ngcontent-%COMP%]{background-color:var(--c-background-0);color:var(--c-accent-0);font-weight:700}.expandable-variant-1[_nghost-%COMP%]   .c-expandable__header--expanded[_ngcontent-%COMP%]:hover, .expandable-variant-1[_nghost-%COMP%]   .c-expandable__header--expanded[_ngcontent-%COMP%]:active{background-color:var(--c-background-1)}.expandable-variant-1[_nghost-%COMP%]   .c-expandable__body[_ngcontent-%COMP%]{background-color:var(--c-background-0);border-top:1px solid var(--c-background-3);padding:0;transition:.3s ease}.expandable-variant-1[_nghost-%COMP%]   .c-expandable__body--expanded[_ngcontent-%COMP%]{padding:6px 6px 10px}.expandable-variant-2[_nghost-%COMP%]   .c-expandable[_ngcontent-%COMP%]{font-size:8pt;border:1px solid var(--c-background-3);border-bottom:none;border-radius:8px 8px 0 0;overflow:hidden;transition:all .2s}.expandable-variant-2[_nghost-%COMP%]   .c-expandable--expanded[_ngcontent-%COMP%]{box-shadow:none}.expandable-variant-2[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;padding:0 15px;background-color:var(--c-background-0);cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s ease}.expandable-variant-2[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]:hover, .expandable-variant-2[_nghost-%COMP%]   .c-expandable__header[_ngcontent-%COMP%]:active{background-color:var(--c-background-0);color:var(--c-accent-0)}.expandable-variant-2[_nghost-%COMP%]   .c-expandable__header--expanded[_ngcontent-%COMP%]{background-color:var(--c-background-0)}.expandable-variant-2[_nghost-%COMP%]   .c-expandable__body[_ngcontent-%COMP%]{overflow:auto;background-color:var(--c-background-0);border-top:1px solid var(--c-background-3);padding:0 12px;transition:.3s ease}.expandable-variant-2[_nghost-%COMP%]   .c-expandable__body--expanded[_ngcontent-%COMP%]{padding:6px 12px;max-height:none}"]})};function y5(e){return Array.isArray(e)?e:[e]}var x5;try{x5=typeof Intl<"u"&&Intl.v8BreakIterator}catch{x5=!1}var KS=(()=>{class e{_platformId=ve(Na);isBrowser=this._platformId?V7(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||x5)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qS=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=an({type:e});static \u0275inj=sn({})}return e})(),QS=new Set,tc,Nj=(()=>{class e{_platform=ve(KS);_nonce=ve(Ed,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Vj}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&Bj(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bj(e,i){if(!QS.has(e))try{tc||(tc=document.createElement("style"),i&&tc.setAttribute("nonce",i),tc.setAttribute("type","text/css"),document.head.appendChild(tc)),tc.sheet&&(tc.sheet.insertRule(`@media ${e} {body{ }}`,0),QS.add(e))}catch(n){console.error(n)}}function Vj(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var dr=(()=>{class e{_mediaMatcher=ve(Nj);_zone=ve(rn);_queries=new Map;_destroySubject=new ot;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return _S(y5(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=_S(y5(n)).map(t=>this._registerQuery(t).observable),o=fs(r);return o=ps(o.pipe(bn(1)),o.pipe(od(1),vs(0))),o.pipe(ze(t=>{let a={matches:!1,breakpoints:{}};return t.forEach(({matches:p,query:c})=>{a.matches=a.matches||p,a.breakpoints[c]=p}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let s=this._mediaMatcher.matchMedia(n),o={observable:new dt(t=>{let a=p=>this._zone.run(()=>t.next(p));return s.addListener(a),()=>{s.removeListener(a)}}).pipe(ld(s),ze(({matches:t})=>({query:n,matches:t})),Wt(this._destroySubject)),mql:s};return this._queries.set(n,o),o}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _S(e){return e.map(i=>i.split(",")).reduce((i,n)=>i.concat(n)).map(i=>i.trim())}var eI=[{index:1,name:"Fast Fury",skin:"creme"},{index:2,name:"Gengis Run",skin:"brown-light"},{index:3,name:"Silver Arrow",skin:"gray-blue"},{index:4,name:"Wind Chaser",skin:"white-ghost"},{index:5,name:"Storm Bringer",skin:"brown-dark"},{index:6,name:"Lightning Bolt",skin:"creme"},{index:7,name:"Tony Hoof",skin:"black"},{index:8,name:"Lucky Star",skin:"brown"},{index:9,name:"Shadow Dancer",skin:"black"},{index:10,name:"Thunder Strike",skin:"brown-light"},{index:11,name:"Moonlight Mare",skin:"gray-blue"},{index:12,name:"Open Republic",skin:"white-ghost"},{index:13,name:"Majestic Wind",skin:"brown"},{index:14,name:"Night Rider",skin:"black"},{index:15,name:"Crimson Trail",skin:"brown-dark"},{index:16,name:"Harry Sprint",skin:"brown-light"},{index:17,name:"Sapphire Skies",skin:"white-ghost"},{index:18,name:"Onyx Spirit",skin:"black"},{index:19,name:"Diamond Dancer",skin:"gray-blue"},{index:20,name:"Celestial Runner",skin:"white-ghost"},{index:21,name:"Babe Michelangelo",skin:"creme"}];var tI=[{index:0,name:"red",color:"hsl(0,70%,30%)"},{index:1,name:"green",color:"hsl(120,70%,30%)"},{index:2,name:"black",color:"hsl(0,0%,10%)"},{index:3,name:"magenta",color:"hsl(300,70%,30%)"},{index:4,name:"cyan",color:"hsl(180,70%,30%)"},{index:5,name:"orange",color:"hsl(25,70%,35%)"},{index:6,name:"blue",color:"hsl(210,70%,30%)"},{index:7,name:"yellow",color:"hsl(50, 70%, 35%)"}];var D2=class{constructor(i,n){this.count=n;let s=this.shuffle(i).slice(0,n);this.list=s.map((r,o)=>({slot:o,horse:r,position:0,finalPlace:null}))}list;shuffle(i){let n=[...i];for(let s=n.length-1;s>0;s--){let r=Math.floor(Math.random()*(s+1));[n[s],n[r]]=[n[r],n[s]]}return n}getAll(){return[...this.list]}getByPlacement(){return[...this.list].sort((i,n)=>i.finalPlace!=null&&n.finalPlace!=null?i.finalPlace-n.finalPlace:i.finalPlace!=null?-1:n.finalPlace!=null?1:n.position-i.position)}applyAdvances(i,n){let s=this.list.filter(t=>t.finalPlace>0).length,r=this.list.map(t=>t.position);return this.list.forEach((t,a)=>{t.position+=i[a]||0}),this.list.filter(t=>t.finalPlace==null&&t.position>=n).sort((t,a)=>{let p=t.position-n,c=a.position-n;if(c!==p)return c-p;let u=this.list.indexOf(t),h=this.list.indexOf(a);return r[h]-r[u]}).forEach(t=>t.finalPlace=++s),s}consoleLog(){console.log(""),this.list.forEach(i=>{console.log(`Horse ${i.horse.index} \u2014 pos: ${i.position} \u2014 Place: ${i.finalPlace}`)})}},b5=class{constructor(i){this.length=i;this.seedValue=this.gen()}seedValue;allowed=[6,7,8,9];gen(){let i="";for(let n=0;n<this.length;n++)i+=this.allowed[Math.floor(Math.random()*this.allowed.length)];return+i}splitNumber(i){let n=this.seedValue.toString().split(""),s=Math.floor(n.length/i);if(!s)return[];let r=[];for(let o=0;o<i;o++){let t=n.slice(o*s,(o+1)*s);t.length===s&&r.push(+t.join(""))}return r}},O2=class{interval$;_countdown=new xt(0);get countdown$(){return this._countdown.asObservable()}start(i,n,s){this.interval$?.unsubscribe(),this._countdown.next(i),s?.next(i),this.interval$=v0(1e3).subscribe(()=>{let r=this._countdown.getValue(),o=Math.max(0,r-1);this._countdown.next(o),s?.next(o),o===0&&(this.interval$?.unsubscribe(),n())})}stop(){this.interval$?.unsubscribe()}},F2=class{id;winningDistance;completed=!1;slotColorMap={};tickSpeed;preDuration;postDuration;allHorses;count;raceSub;preTimer=new O2;postTimer=new O2;_list$=new xt(new D2([],0));_state$=new xt("pre");_cnt$=new xt(0);horsesList$=this._list$.asObservable();raceState$=this._state$.asObservable();countdown$=this._cnt$.asObservable();constructor(i,n,s,r=100,o=20,t=10,a=2e3){this.id=i,this.allHorses=n,this.count=s,this.tickSpeed=r,this.preDuration=o,this.postDuration=t,this.winningDistance=a}startRace(){this.completed=!1,this.stopRace(),console.log(`race ${this.id} started`),this._list$.next(new D2(this.allHorses,this.count)),this.slotColorMap=this.generateSlotColorMap(this.count),this._state$.next("pre"),this.preTimer.start(this.preDuration,()=>this.begin(),this._cnt$)}begin(){this._state$.next("in"),this.raceSub=v0(this.tickSpeed).subscribe(()=>{let i=this._list$.getValue(),s=new b5(this.count).splitNumber(i.getAll().length),r=i.applyAdvances(s,this.winningDistance);this._list$.next(i),r===i.getAll().length&&(this.raceSub?.unsubscribe(),this._state$.next("post"),this.postTimer.start(this.postDuration,()=>this.raceCompleted(),this._cnt$))})}raceCompleted(){this.stopRace(),this._state$.next("completed"),console.log(`race ${this.id} finished`)}stopRace(){this.raceSub?.unsubscribe(),this.preTimer.stop(),this.postTimer.stop()}getSlotColorMap(){return this.slotColorMap}generateSlotColorMap(i){let n=[...tI];for(let s=n.length-1;s>0;s--){let r=Math.floor(Math.random()*(s+1));[n[s],n[r]]=[n[r],n[s]]}return Object.fromEntries(n.slice(0,i).map((s,r)=>[r,s]))}};var M5=class{constructor(i,n,s,r){this.allHorses=i;this.runnerCount=n;this.tickMs=s;this.postSec=r}races=[];createRace(i,n){let s=this.races.length>0?this.races[this.races.length-1].id+1:1,r=new F2(s,this.allHorses,this.runnerCount,this.tickMs,n,this.postSec,i);return this.races.push(r),r.startRace(),r}stopRace(i){this.getHorseRaceById(i).stopRace()}getRaceState$(i){return this.getHorseRaceById(i).raceState$}getCountdown$(i){return this.getHorseRaceById(i).countdown$}getHorsesList$(i){return this.getHorseRaceById(i).horsesList$}getWinningDistance(i){return this.getHorseRaceById(i).winningDistance}getRaceId(i){return this.getHorseRaceById(i).id}getSlotColorMap(i){return this.getHorseRaceById(i).getSlotColorMap()}getAllRaceIds(){return this.races.map(i=>i.id)}getHorseRaceById(i){let n=this.races.find(s=>s.id===i);if(!n)throw new Error(`Race ${i} not found`);return n}stopAll(){this.races.forEach(i=>i.stopRace())}},Xr=class e{manager;destroy$=new ot;lastRaceId;raceIds$=new xt([]);completedRaceIds=new xt([]);constructor(){this.manager=new M5(eI,4,100,10),this.createRaceday();let i=this.manager.getAllRaceIds();if(i.length===0)throw new Error("No races defined");this.raceIds$.next(i)}getAllRaceIds$(){return this.raceIds$.asObservable()}getCompletedRaceIds$(){return this.completedRaceIds.asObservable()}createRaceday(){let i=this.manager.createRace(2e3,6),n=this.manager.createRace(4e3,20),s=this.manager.createRace(6e3,40),r=this.manager.createRace(2e3,60),o=this.manager.createRace(4e3,80),t=this.manager.createRace(6e3,100);[i,n,s,r,o,t].forEach(a=>{this.manager.getRaceState$(a.id).pipe(en(p=>p==="completed"),bn(1)).subscribe(()=>{let p=[...this.completedRaceIds.value,a.id];this.completedRaceIds.next(p)})}),this.raceIds$.next(this.manager.getAllRaceIds()),this.lastRaceId=t.id,this.manager.getRaceState$(this.lastRaceId).pipe(en(a=>a==="in"),bn(1)).subscribe(()=>{this.createRaceday()})}getSlotColorMap(i){return this.manager.getSlotColorMap(i)}ngOnDestroy(){this.destroy$.next(),this.manager.stopAll()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Gj=["phaserContainer"],If=class e{constructor(i,n){this.breakpointObserver=i;this.horseRaceService=n;this.isMobileView$=this.breakpointObserver.observe(hr).pipe(ze(s=>s.matches))}containerRef;raceId;isMobileView$;markerOpacity=0;lightnessValue=.1;placementFollow=0;horseFollow=0;followHorse=!1;isMuted=!1;game;ngOnInit(){this.startGame()}ngOnDestroy(){this.game?.destroy(!0)}startGame(){let i=new x2(this.raceId,this.horseRaceService,()=>this.markerOpacity,()=>this.lightnessValue,()=>this.placementFollow,()=>this.horseFollow,()=>this.followHorse,()=>this.isMuted);this.game=new C5.default.Game({type:C5.default.AUTO,width:1e3,height:250,parent:this.containerRef.nativeElement,scene:i,input:{mouse:{preventDefaultWheel:!1},touch:{capture:!1}}})}setPlacementFollow(i){let s=(i%4+4)%4;this.placementFollow=s,this.followHorse=!1}setHorseFollow(i){let s=(i%4+4)%4;this.horseFollow=s,this.followHorse=!0}static \u0275fac=function(n){return new(n||e)(be(dr),be(Xr))};static \u0275cmp=lt({type:e,selectors:[["app-phaser-canvas"]],viewQuery:function(n,s){if(n&1&&yu(Gj,7),n&2){let r;Hr(r=jr())&&(s.containerRef=r.first)}},inputs:{raceId:"raceId"},decls:34,vars:22,consts:[["phaserContainer",""],[1,"c-phaser-canvas"],["expandableId","sliders-expandable",1,"c-phaser-canvas__sliders-container",3,"variant"],["closedHeader",""],["openHeader",""],["body",""],[1,"c-phaser-canvas__sliders-container"],[1,"c-phaser-canvas__slider"],["for","opacitySlider"],["type","range","id","opacitySlider","min","0","max","1","step","0.2",3,"ngModelChange","ngModel"],["for","lightnessSlider"],["type","range","id","lightnessSlider","min","0","max","0.4","step","0.05",3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"c-phaser-canvas__canvas-wrapper"],[1,"c-phaser-canvas__phaser-container"],[1,"c-phaser-canvas__canvas-input"],[1,"c-phaser-canvas__placement-controls"],["type","button","aria-label","Follow last",3,"click"],["type","button","aria-label","Follow 1st",3,"click"]],template:function(n,s){if(n&1){let r=Kt();re(0,"div",1),Ae(1,"async"),re(2,"app-expandable",2)(3,"div",3)(4,"p"),ge(5,"Canvas Settings"),le()(),re(6,"div",4)(7,"p"),ge(8,"Close Settings"),le()(),re(9,"div",5)(10,"div",6),Ae(11,"async"),re(12,"div",7)(13,"label",8),ge(14),le(),re(15,"input",9),Od("ngModelChange",function(t){return Mt(r),wp(s.markerOpacity,t)||(s.markerOpacity=t),Ct(t)}),le()(),re(16,"div",7)(17,"label",10),ge(18),le(),re(19,"input",11),Od("ngModelChange",function(t){return Mt(r),wp(s.lightnessValue,t)||(s.lightnessValue=t),Ct(t)}),le()(),re(20,"div",7)(21,"label"),ge(22,"Mute Sounds"),le(),re(23,"input",12),Od("ngModelChange",function(t){return Mt(r),wp(s.isMuted,t)||(s.isMuted=t),Ct(t)}),le()()()()(),re(24,"div",13),ct(25,"div",14,0),Ae(27,"async"),re(28,"div",15)(29,"div",16)(30,"button",17),_e("click",function(){return Mt(r),Ct(s.setPlacementFollow(3))}),ge(31,"\u2190"),le(),re(32,"button",18),_e("click",function(){return Mt(r),Ct(s.setPlacementFollow(0))}),ge(33,"\u2192"),le()()()()()}n&2&&(pi("mobile",Oe(1,16,s.isMobileView$)),ne(2),Ne("variant",2),ne(8),pi("mobile",Oe(11,18,s.isMobileView$)),ne(4),Ut(" Marker Opacity: ",s.markerOpacity," "),ne(),Dd("ngModel",s.markerOpacity),ne(3),Ut(" Filter Lightness: ",s.lightnessValue," "),ne(),Dd("ngModel",s.lightnessValue),ne(4),Dd("ngModel",s.isMuted),ne(2),pi("mobile",Oe(27,20,s.isMobileView$)),ne(5),pi("selected",!s.followHorse&&s.placementFollow===3),ne(2),pi("selected",!s.followHorse&&s.placementFollow===0))},dependencies:[Bt,Js,XS,Hu,v5,l5,E2,p5,_s],styles:['.c-phaser-canvas[_ngcontent-%COMP%]{max-width:1000px}.c-phaser-canvas__canvas-wrapper[_ngcontent-%COMP%]{position:relative}.c-phaser-canvas__phaser-container[_ngcontent-%COMP%]{border-radius:0 0 8px 8px;border:1px solid var(--c-background-3);display:flex;justify-content:center;align-items:center;border:1px solid var(--c-background-4);overflow:hidden;position:relative}.c-phaser-canvas__canvas-input[_ngcontent-%COMP%]{position:absolute;margin-left:0;bottom:10px;left:40px;transform:translate(-50%);z-index:10}.c-phaser-canvas__sliders-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.c-phaser-canvas__sliders-container.mobile[_ngcontent-%COMP%]{flex-direction:column}.c-phaser-canvas__sliders-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:var(--c-foreground-2)}.c-phaser-canvas__slider[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center}.c-phaser-canvas__placement-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.c-phaser-canvas__placement-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;font-size:1rem;color:var(--c-foreground-2);background-color:var(--c-background-0);border:1px solid rgba(0,0,0,0);border-radius:8px;opacity:80%;transition:.2s}.c-phaser-canvas__placement-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--c-accent-0)}.c-phaser-canvas__placement-controls[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border:1px solid var(--c-accent-0)}.c-phaser-canvas[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:var(--c-foreground-2);margin:2px 0}.c-phaser-canvas[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;width:100%;height:8px;border-radius:5px;background:var(--c-background-2);outline:none;margin:0}.c-phaser-canvas[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border-width:0px;background:var(--c-accent-0);cursor:pointer}.c-phaser-canvas[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border-width:0px;background:var(--c-accent-0);cursor:pointer}.c-phaser-canvas[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-ms-thumb{width:16px;height:16px;border-radius:50%;border-width:0px;background:var(--c-accent-0);cursor:pointer}.c-phaser-canvas[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{margin:10px;width:60px}.c-phaser-canvas[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;margin:0 8px;cursor:pointer;background-color:var(--c-background-0);border:1px solid var(--c-accent-0);border-radius:4px;position:relative;display:inline-block}.c-phaser-canvas[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:var(--c-accent-0)}.c-phaser-canvas[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked:after{content:"";position:absolute;top:1px;left:5px;width:3px;height:8px;border:solid var(--c-background-0);border-width:0 2px 2px 0;transform:rotate(45deg)}']})};function zj(e,i){if(e&1&&(qn(0),re(1,"div",6),ge(2),Ae(3,"number"),le(),ei()),e&2){let n=it();ne(2),Ut(" ",h7(3,1,n.RaceHorse.position/10,"3.1-1"),"m ")}}function Wj(e,i){if(e&1&&(re(0,"div",7),ge(1),le()),e&2){let n=it();ne(),Ut(" ",n.getOrdinal(n.RaceHorse.finalPlace)," ")}}var P2=class e{raceId;RaceHorse;color;getOrdinal(i){let n=["th","st","nd","rd"],s=i%100;return i+(n[(s-20)%10]||n[s]||n[0])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=lt({type:e,selectors:[["app-ongoing-horse-ui"]],inputs:{raceId:"raceId",RaceHorse:"RaceHorse",color:"color"},decls:9,vars:6,consts:[["finishedTpl",""],[1,"c-ongoing-horse-ui"],[1,"c-ongoing-horse-ui__info"],[1,"c-ongoing-horse-ui__index"],[1,"c-ongoing-horse-ui__name"],[4,"ngIf","ngIfElse"],[1,"c-ongoing-horse-ui__position"],[1,"c-ongoing-horse-ui__placement"]],template:function(n,s){if(n&1&&(re(0,"div",1)(1,"div",2)(2,"div",3),ge(3),le(),re(4,"div",4),ge(5),le()(),mt(6,zj,4,4,"ng-container",5)(7,Wj,2,1,"ng-template",null,0,cr),le()),n&2){let r=Ss(8);ne(2),vu("background",s.color),ne(),Ut(" ",s.RaceHorse.horse.index," "),ne(2),Ut(" ",s.RaceHorse.horse.name," "),ne(),Ne("ngIf",s.RaceHorse.finalPlace==null)("ngIfElse",r)}},dependencies:[Bt,$n,B7],styles:[".c-ongoing-horse-ui[_ngcontent-%COMP%]{border-radius:8px;border:1px solid var(--c-background-3);background-color:var(--c-background-0);display:flex;align-items:center;justify-content:space-between;gap:8px;padding:4px 8px}.c-ongoing-horse-ui__info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.c-ongoing-horse-ui__index[_ngcontent-%COMP%]{border-radius:8px;border:1px solid var(--c-background-3);width:45px;height:45px;font-weight:700;display:flex;align-items:center;justify-content:center}.c-ongoing-horse-ui__name[_ngcontent-%COMP%]{font-size:1rem}.c-ongoing-horse-ui__position[_ngcontent-%COMP%]{min-width:60px;text-align:right}.c-ongoing-horse-ui__placement[_ngcontent-%COMP%]{font-weight:700;font-size:1.3rem;color:var(--c-accent-0);min-width:60px;text-align:right}.c-ongoing-horse-ui[_ngcontent-%COMP%]:hover{background-color:var(--c-background-1);cursor:pointer}.c-ongoing-horse-ui[_ngcontent-%COMP%]:active{border:1px solid var(--c-accent-1)}"]})};var Hj=["horseTrack"];function jj(e,i){if(e&1){let n=Kt();re(0,"div",3,0),_e("click",function(){let r=Mt(n).$implicit,o=it();return Ct(o.horseSelected.emit(r.slot))}),ct(2,"app-ongoing-horse-ui",4),le()}if(e&2){let n=i.$implicit,s=it();pi("selected",s.isFollowingHorse&&s.selectedHorse===n.slot),pu("data-index",n.slot),ne(2),pi("selected",s.isFollowingHorse&&s.selectedHorse===n.slot),Ne("raceId",s.raceId)("RaceHorse",n)("color",s.getColor(n.slot))}}var N2=class e{constructor(i,n,s,r){this.horseRaceService=i;this.breakpointObserver=n;this.renderer=s;this.ngZone=r;this.breakpointObserver.observe(hr).pipe(Wt(this.destroy$)).subscribe(o=>this.isMobileView=o.matches)}raceId;selectedHorse;isFollowingHorse=!1;horseSelected=new Ht;horsesList=[];isMobileView=!1;slotColorMap={};lastListInstance;destroy$=new ot;prevY=new Map;horseElems;ngOnChanges(i){if("raceId"in i&&this.raceId!=null)try{this.slotColorMap=this.horseRaceService.getSlotColorMap(this.raceId),this.horseRaceService.manager.getHorsesList$(this.raceId).pipe(Wt(this.destroy$)).subscribe(n=>{n!==this.lastListInstance&&(this.lastListInstance=n);let s=n.getByPlacement();this.horsesList=s,s.length!==0&&(this.recordPositions(),requestAnimationFrame(()=>this.runFLIP()))})}catch(n){console.error("Invalid race ID",this.raceId,n)}}ngAfterViewInit(){this.recordPositions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}recordPositions(){this.prevY.clear(),this.horseElems.forEach(i=>{let n=+i.nativeElement.dataset.index,{top:s}=i.nativeElement.getBoundingClientRect();this.prevY.set(n,s)})}runFLIP(){let i=new Map(this.prevY);this.ngZone.runOutsideAngular(()=>{let n=new Map;this.horseElems.forEach(s=>{let r=+s.nativeElement.dataset.index,{top:o}=s.nativeElement.getBoundingClientRect(),t=o+window.pageYOffset;n.set(r,t)}),this.horseElems.forEach(s=>{let r=+s.nativeElement.dataset.index,o=i.get(r),t=n.get(r);if(o==null||t==null)return;let a=o-t;a&&(this.renderer.setStyle(s.nativeElement,"transition","none"),this.renderer.setStyle(s.nativeElement,"transform",`translateY(${a}px)`))}),this.horseElems.first?.nativeElement.getBoundingClientRect(),requestAnimationFrame(()=>{this.horseElems.forEach(s=>{let r=+s.nativeElement.dataset.index,o=i.get(r),t=n.get(r);o!=null&&t!=null&&o!==t&&(this.renderer.setStyle(s.nativeElement,"transition","transform 200ms linear"),this.renderer.setStyle(s.nativeElement,"transform","translateY(0)"))}),setTimeout(()=>this.recordPositions(),200)})})}getColor(i){return this.slotColorMap[i]?.color??"black"}static \u0275fac=function(n){return new(n||e)(be(Xr),be(dr),be(Tr),be(rn))};static \u0275cmp=lt({type:e,selectors:[["app-ongoing-list-ui"]],viewQuery:function(n,s){if(n&1&&yu(Hj,5,fi),n&2){let r;Hr(r=jr())&&(s.horseElems=r)}},inputs:{raceId:"raceId",selectedHorse:"selectedHorse",isFollowingHorse:"isFollowingHorse"},outputs:{horseSelected:"horseSelected"},features:[Oi],decls:2,vars:3,consts:[["horseTrack",""],[1,"c-ongoing-list-ui"],["class","c-ongoing-horse-wrapper",3,"selected","click",4,"ngFor","ngForOf"],[1,"c-ongoing-horse-wrapper",3,"click"],[3,"raceId","RaceHorse","color"]],template:function(n,s){n&1&&(re(0,"div",1),mt(1,jj,3,8,"div",2),le()),n&2&&(pi("mobile",s.isMobileView),ne(),Ne("ngForOf",s.horsesList))},dependencies:[Bt,Ro,P2],styles:[".c-ongoing-list-ui[_ngcontent-%COMP%]{display:flex;margin-top:6px;gap:6px;flex-direction:column}.c-ongoing-list-ui.mobile[_ngcontent-%COMP%]{flex-direction:column}.c-ongoing-list-ui__subtitle[_ngcontent-%COMP%]{font-size:17px;color:var(--c-foreground-2);margin:5px 0}.c-ongoing-horse-wrapper[_ngcontent-%COMP%]{will-change:transform}.c-ongoing-horse-wrapper.selected[_ngcontent-%COMP%]{border:1px solid var(--c-accent-1);border-radius:8px}"]})};var Yj=["*"],B2=class e{close=new Ht;onOverlayClick(){this.close.emit()}onCloseClick(){this.close.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=lt({type:e,selectors:[["app-window-container"]],outputs:{close:"close"},ngContentSelectors:Yj,decls:5,vars:0,consts:[[1,"c-window",3,"click"],["tabindex","0",1,"c-window__content",3,"click"],["aria-label","Close window",1,"c-window__close-button",3,"click"]],template:function(n,s){n&1&&(Wr(),re(0,"div",0),_e("click",function(){return s.onOverlayClick()}),re(1,"div",1),_e("click",function(o){return o.stopPropagation()}),re(2,"button",2),_e("click",function(){return s.onCloseClick()}),ge(3,"\xD7"),le(),Xi(4),le()())},dependencies:[Bt],styles:[".c-window[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;animation:fadeIn .3s ease}.c-window__content[_ngcontent-%COMP%]{position:relative;background-color:var(--c-background-0);padding:1.5rem;margin:.6rem;border-radius:8px;box-shadow:0 2px 10px #0000004d;min-width:200px;max-width:90%;animation:slideDown .3s ease;outline:none}.c-window__close-button[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:transparent;border:none;font-size:1.5rem;cursor:pointer;color:var(--c-foreground-1);transition:color .2s ease}.c-window__close-button[_ngcontent-%COMP%]:hover   .c-window__close-button[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}"]})};function Uj(e,i){if(e&1&&(qn(0),ct(1,"app-phaser-canvas",7),ei()),e&2){let n=it();ne(),Ne("raceId",n.raceId)}}function Zj(e,i){if(e&1){let n=Kt();qn(0),re(1,"app-ongoing-list-ui",8),_e("horseSelected",function(r){Mt(n);let o=it();return Ct(o.canvasCmp.setHorseFollow(r))}),le(),ei()}if(e&2){let n=it();ne(),Ne("raceId",n.raceId)("selectedHorse",n.canvasCmp.horseFollow)("isFollowingHorse",n.canvasCmp.followHorse)}}function Xj(e,i){if(e&1){let n=Kt();re(0,"app-window-container",9),_e("close",function(){Mt(n);let r=it();return Ct(r.isModalOpen=!1)}),re(1,"p",4),ge(2,"bet-ticket-ui"),le()()}}var V2=class e{constructor(i,n){this.breakpointObserver=i;this.horseRaceService=n;this.isMobileView$=this.breakpointObserver.observe(hr).pipe(ze(s=>s.matches))}canvasCmp;raceId;isMobileView$;winPos=0;showCanvas=!0;isModalOpen=!1;ngOnChanges(i){if("raceId"in i&&this.raceId!=null)try{this.winPos=this.horseRaceService.manager.getWinningDistance(this.raceId)}catch(n){console.error("Invalid race ID",this.raceId,n)}}static \u0275fac=function(n){return new(n||e)(be(dr),be(Xr))};static \u0275cmp=lt({type:e,selectors:[["app-ongoing-race"]],viewQuery:function(n,s){if(n&1&&yu(If,5),n&2){let r;Hr(r=jr())&&(s.canvasCmp=r.first)}},inputs:{raceId:"raceId"},features:[Oi],decls:10,vars:7,consts:[[1,"c-ongoing-race"],[1,"c-ongoing-race__top"],[4,"ngIf"],[1,"c-ongoing-race__bottom"],[1,"c-ongoing-race__subtitle"],[1,"c-ongoing-race__button",3,"click"],[3,"close",4,"ngIf"],[3,"raceId"],[3,"horseSelected","raceId","selectedHorse","isFollowingHorse"],[3,"close"]],template:function(n,s){n&1&&(re(0,"div",0),Ae(1,"async"),re(2,"div",1),mt(3,Uj,2,1,"ng-container",2),le(),re(4,"div",3),mt(5,Zj,2,3,"ng-container",2),le(),re(6,"div",4)(7,"button",5),_e("click",function(){return s.isModalOpen=!0}),ge(8,"Bet Now"),le()(),mt(9,Xj,3,0,"app-window-container",6),le()),n&2&&(pi("mobile",Oe(1,5,s.isMobileView$)),ne(3),Ne("ngIf",s.showCanvas),ne(2),Ne("ngIf",s.canvasCmp),ne(4),Ne("ngIf",s.isModalOpen))},dependencies:[nn,Bt,$n,Js,If,N2,B2],styles:[".c-ongoing-race[_ngcontent-%COMP%]{max-width:1000px;margin:auto}.c-ongoing-race__button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:10pt;padding:6px 25px;border-radius:6px;transition:.3s;cursor:pointer;color:var(--c-accent-0);background-color:var(--c-background-1);border:1px solid var(--c-accent-0);border-color:var(--c-accent-0) var(--c-accent-0) var(--c-accent-1) var(--c-accent-1);display:block;width:100%;margin-top:10px}.c-ongoing-race__button[_ngcontent-%COMP%]:hover{color:var(--c-background-0);background-color:var(--c-accent-0);border-color:var(--c-accent-2) var(--c-accent-2) var(--c-accent-1) var(--c-accent-1)}"]})};var $j=["*"],ju=class e{constructor(i,n){this.expandableManager=i;this.cdr=n}expandables;groupId=`group-${Math.random().toString(36).substr(2,9)}`;ngAfterViewInit(){this.registerExpandables(),this.expandables.changes.subscribe(()=>{this.registerExpandables()})}registerExpandables(){!this.expandables||this.expandables.length===0||(this.expandables.forEach(i=>{i.groupId=this.groupId,this.expandableManager.registerGroup(this.groupId,i.expandableId)}),this.cdr.detectChanges())}static \u0275fac=function(n){return new(n||e)(be(Zr),be(Pi))};static \u0275cmp=lt({type:e,selectors:[["app-expandable-group"]],contentQueries:function(n,s,r){if(n&1&&mu(r,_s,4),n&2){let o;Hr(o=jr())&&(s.expandables=o)}},ngContentSelectors:$j,decls:1,vars:0,template:function(n,s){n&1&&(Wr(),Xi(0))},encapsulation:2})};function Jj(e,i){if(e&1&&(qn(0),re(1,"span",14),ge(2),le(),ei()),e&2){let n=it().$implicit,s=it();ne(2),Ut("\u23F1 ",s.countdowns[n],"s")}}function Kj(e,i){e&1&&(qn(0),re(1,"span",15),ge(2,"FINISHED"),le(),ei())}function Qj(e,i){e&1&&(qn(0),re(1,"span",15),ge(2,"LIVE"),le(),ei())}function _j(e,i){if(e&1&&(qn(0),re(1,"span",14),ge(2),le(),ei()),e&2){let n=it().$implicit,s=it();ne(2),Ut("\u23F1 ",s.countdowns[n],"s")}}function qj(e,i){e&1&&(qn(0),re(1,"span",15),ge(2,"FINISHED"),le(),ei())}function eY(e,i){e&1&&(qn(0),re(1,"span",15),ge(2,"LIVE"),le(),ei())}function tY(e,i){if(e&1&&(re(0,"div",16),ct(1,"app-ongoing-race",17),le()),e&2){let n=it().$implicit;ne(),Ne("raceId",n)}}function nY(e,i){if(e&1){let n=Kt();re(0,"app-expandable",5),_e("open",function(){let r=Mt(n).$implicit,o=it();return Ct(o.expanded[r]=!0)})("close",function(){let r=Mt(n).$implicit,o=it();return Ct(o.expanded[r]=!1)}),re(1,"div",6)(2,"div",7)(3,"strong"),ge(4),le(),ge(5),qn(6,8),mt(7,Jj,3,1,"ng-container",9)(8,Kj,3,0,"ng-container",9)(9,Qj,3,0,"ng-container",10),ei(),le(),re(10,"div",11),ge(11,"\u25BC"),le()(),re(12,"div",12)(13,"div",7)(14,"strong"),ge(15),le(),ge(16),qn(17,8),mt(18,_j,3,1,"ng-container",9)(19,qj,3,0,"ng-container",9)(20,eY,3,0,"ng-container",10),ei(),le(),re(21,"div",11),ge(22,"\u25B2"),le()(),mt(23,tY,2,1,"div",13),le()}if(e&2){let n=i.$implicit,s=it();Ne("expandableId","race-"+n)("variant",1),ne(4),Ut("Race #",n," |"),ne(),Ut(" ",s.getDistance(n),"m | "),ne(),Ne("ngSwitch",!0),ne(),Ne("ngSwitchCase",s.raceStates[n]==="pre"),ne(),Ne("ngSwitchCase",s.raceStates[n]==="post"),ne(7),Ut("Race #",n,""),ne(),Ut(" | ",s.getDistance(n),"m | "),ne(),Ne("ngSwitch",!0),ne(),Ne("ngSwitchCase",s.raceStates[n]==="pre"),ne(),Ne("ngSwitchCase",s.raceStates[n]==="post"),ne(4),Ne("ngIf",s.expanded[n])}}var G2=class e{constructor(i,n){this.horseRaceService=i;this.expandableManager=n;fs([this.horseRaceService.getAllRaceIds$(),this.horseRaceService.getCompletedRaceIds$()]).pipe(Wt(this.destroy$)).subscribe(([s,r])=>{let o=s.filter(t=>!r.includes(t));this.updateVisibleRaces(o)})}visibleRaceIds=[];countdowns={};destroy$=new ot;countdownSubs=new Map;raceStates={};expanded={};getDistance(i){return this.horseRaceService.manager.getWinningDistance(i)/10}updateVisibleRaces(i){this.visibleRaceIds.filter(s=>!i.includes(s)).forEach(s=>{this.countdownSubs.get(s)?.unsubscribe(),this.countdownSubs.delete(s),delete this.countdowns[s]}),i.forEach(s=>{if(!this.countdownSubs.has(s)){let r=this.horseRaceService.manager.getCountdown$(s).subscribe(o=>{this.countdowns[s]=o});this.countdownSubs.set(s,r)}this.horseRaceService.manager.getRaceState$(s).pipe(Wt(this.destroy$)).subscribe(r=>{this.raceStates[s]=r})}),this.visibleRaceIds=i,this.expandableManager.isAnyOpen(i.map(s=>"race-"+s))||this.expandableManager.open("race-"+i[0])}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.countdownSubs.forEach(i=>i.unsubscribe()),this.countdownSubs.clear()}static \u0275fac=function(n){return new(n||e)(be(Xr),be(Zr))};static \u0275cmp=lt({type:e,selectors:[["app-races"]],decls:8,vars:1,consts:[[1,"p-races"],[1,"p-races__title"],[1,"p-races__subtitle"],[1,"p-races__group"],["class","p-races__expandable",3,"expandableId","variant","open","close",4,"ngFor","ngForOf"],[1,"p-races__expandable",3,"open","close","expandableId","variant"],["closedHeader","",1,"p-races__header"],[1,"p-races__header-left"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"p-races__header-arrow"],["openHeader","",1,"p-races__header","p-races__header--open"],["body","","class","c-expandable__body c-expandable__body--expanded",4,"ngIf"],[1,"p-races__pre-label"],[1,"p-races__live-label"],["body","",1,"c-expandable__body","c-expandable__body--expanded"],[3,"raceId"]],template:function(n,s){n&1&&(re(0,"div",0)(1,"div",1),ge(2," Races "),le(),re(3,"div",2),ge(4," Live Races (Excludes Completed) "),le(),ct(5,"br"),re(6,"app-expandable-group",3),mt(7,nY,24,13,"app-expandable",4),le()()),n&2&&(ne(7),Ne("ngForOf",s.visibleRaceIds))},dependencies:[nn,Bt,Ro,$n,Rp,O7,F7,V2,_s,ju],styles:["[_nghost-%COMP%]{padding:15px;display:flex;flex-direction:column;justify-content:center;align-items:center}.p-races__title[_ngcontent-%COMP%]{font-size:24px;color:var(--c-foreground-1);margin:20px 0}.p-races__subtitle[_ngcontent-%COMP%]{font-size:17px;color:var(--c-foreground-2);margin:5px 0}.p-races__group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.p-races__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.p-races__header-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px;min-height:50px}.p-races__header-arrow[_ngcontent-%COMP%]{font-size:10pt}.p-races__pre-label[_ngcontent-%COMP%]{color:var(--c-success-0)}.p-races__live-label[_ngcontent-%COMP%]{color:var(--c-alert-0);animation:_ngcontent-%COMP%_blink 1s step-start 0s infinite}@keyframes _ngcontent-%COMP%_blink{50%{opacity:0}}"]})};var z2=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=lt({type:e,selectors:[["app-bets"]],decls:4,vars:3,consts:[[1,"p-bets"],[1,"p-bets__title"]],template:function(n,s){n&1&&(re(0,"div",0)(1,"div",1),ge(2),Ae(3,"translate"),le()()),n&2&&(ne(2),Ye(Oe(3,1,"PAGES.BETS.TITLE")))},dependencies:[nn,Jn],styles:["[_nghost-%COMP%]{padding:15px;display:flex;flex-direction:column;justify-content:center;align-items:center}.p-bets__title[_ngcontent-%COMP%]{font-size:24px;color:var(--c-foreground-1);margin:20px 0}.p-bets__subtitle[_ngcontent-%COMP%]{font-size:17px;color:var(--c-foreground-2);margin:5px 0}"]})};var W2=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=lt({type:e,selectors:[["app-completed"]],decls:4,vars:3,consts:[[1,"p-completed"],[1,"p-completed__title"]],template:function(n,s){n&1&&(re(0,"div",0)(1,"div",1),ge(2),Ae(3,"translate"),le()()),n&2&&(ne(2),Ye(Oe(3,1,"PAGES.COMPLETED.TITLE")))},dependencies:[nn,Jn],styles:["[_nghost-%COMP%]{padding:15px;display:flex;flex-direction:column;justify-content:center;align-items:center}.p-completed__title[_ngcontent-%COMP%]{font-size:24px;color:var(--c-foreground-1);margin:20px 0}.p-completed__subtitle[_ngcontent-%COMP%]{font-size:17px;color:var(--c-foreground-2);margin:5px 0}"]})};var vE=tr(H2()),eo=tr(Af()),ts=tr(Jr()),Px=tr(Zk());function lh(e){let i=e.length;for(;--i>=0;)e[i]=0}var AZ=0,RT=1,LZ=2,RZ=3,DZ=258,kx=29,Xf=256,Gf=Xf+1+kx,sh=30,Tx=19,DT=2*Gf+1,hc=15,ix=16,OZ=7,Ex=256,OT=16,FT=17,PT=18,mx=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),dv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),FZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),NT=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PZ=512,_a=new Array((Gf+2)*2);lh(_a);var Nf=new Array(sh*2);lh(Nf);var zf=new Array(PZ);lh(zf);var Wf=new Array(DZ-RZ+1);lh(Wf);var Ax=new Array(kx);lh(Ax);var fv=new Array(sh);lh(fv);function rx(e,i,n,s,r){this.static_tree=e,this.extra_bits=i,this.extra_base=n,this.elems=s,this.max_length=r,this.has_stree=e&&e.length}var BT,VT,GT;function sx(e,i){this.dyn_tree=e,this.max_code=0,this.stat_desc=i}var zT=e=>e<256?zf[e]:zf[256+(e>>>7)],Hf=(e,i)=>{e.pending_buf[e.pending++]=i&255,e.pending_buf[e.pending++]=i>>>8&255},gr=(e,i,n)=>{e.bi_valid>ix-n?(e.bi_buf|=i<<e.bi_valid&65535,Hf(e,e.bi_buf),e.bi_buf=i>>ix-e.bi_valid,e.bi_valid+=n-ix):(e.bi_buf|=i<<e.bi_valid&65535,e.bi_valid+=n)},ca=(e,i,n)=>{gr(e,n[i*2],n[i*2+1])},WT=(e,i)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--i>0);return n>>>1},NZ=e=>{e.bi_valid===16?(Hf(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},BZ=(e,i)=>{let n=i.dyn_tree,s=i.max_code,r=i.stat_desc.static_tree,o=i.stat_desc.has_stree,t=i.stat_desc.extra_bits,a=i.stat_desc.extra_base,p=i.stat_desc.max_length,c,u,h,l,d,v,f=0;for(l=0;l<=hc;l++)e.bl_count[l]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<DT;c++)u=e.heap[c],l=n[n[u*2+1]*2+1]+1,l>p&&(l=p,f++),n[u*2+1]=l,!(u>s)&&(e.bl_count[l]++,d=0,u>=a&&(d=t[u-a]),v=n[u*2],e.opt_len+=v*(l+d),o&&(e.static_len+=v*(r[u*2+1]+d)));if(f!==0){do{for(l=p-1;e.bl_count[l]===0;)l--;e.bl_count[l]--,e.bl_count[l+1]+=2,e.bl_count[p]--,f-=2}while(f>0);for(l=p;l!==0;l--)for(u=e.bl_count[l];u!==0;)h=e.heap[--c],!(h>s)&&(n[h*2+1]!==l&&(e.opt_len+=(l-n[h*2+1])*n[h*2],n[h*2+1]=l),u--)}},HT=(e,i,n)=>{let s=new Array(hc+1),r=0,o,t;for(o=1;o<=hc;o++)r=r+n[o-1]<<1,s[o]=r;for(t=0;t<=i;t++){let a=e[t*2+1];a!==0&&(e[t*2]=WT(s[a]++,a))}},VZ=()=>{let e,i,n,s,r,o=new Array(hc+1);for(n=0,s=0;s<kx-1;s++)for(Ax[s]=n,e=0;e<1<<mx[s];e++)Wf[n++]=s;for(Wf[n-1]=s,r=0,s=0;s<16;s++)for(fv[s]=r,e=0;e<1<<dv[s];e++)zf[r++]=s;for(r>>=7;s<sh;s++)for(fv[s]=r<<7,e=0;e<1<<dv[s]-7;e++)zf[256+r++]=s;for(i=0;i<=hc;i++)o[i]=0;for(e=0;e<=143;)_a[e*2+1]=8,e++,o[8]++;for(;e<=255;)_a[e*2+1]=9,e++,o[9]++;for(;e<=279;)_a[e*2+1]=7,e++,o[7]++;for(;e<=287;)_a[e*2+1]=8,e++,o[8]++;for(HT(_a,Gf+1,o),e=0;e<sh;e++)Nf[e*2+1]=5,Nf[e*2]=WT(e,5);BT=new rx(_a,mx,Xf+1,Gf,hc),VT=new rx(Nf,dv,0,sh,hc),GT=new rx(new Array(0),FZ,0,Tx,OZ)},jT=e=>{let i;for(i=0;i<Gf;i++)e.dyn_ltree[i*2]=0;for(i=0;i<sh;i++)e.dyn_dtree[i*2]=0;for(i=0;i<Tx;i++)e.bl_tree[i*2]=0;e.dyn_ltree[Ex*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},YT=e=>{e.bi_valid>8?Hf(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Xk=(e,i,n,s)=>{let r=i*2,o=n*2;return e[r]<e[o]||e[r]===e[o]&&s[i]<=s[n]},ax=(e,i,n)=>{let s=e.heap[n],r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&Xk(i,e.heap[r+1],e.heap[r],e.depth)&&r++,!Xk(i,s,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=s},$k=(e,i,n)=>{let s,r,o=0,t,a;if(e.sym_next!==0)do s=e.pending_buf[e.sym_buf+o++]&255,s+=(e.pending_buf[e.sym_buf+o++]&255)<<8,r=e.pending_buf[e.sym_buf+o++],s===0?ca(e,r,i):(t=Wf[r],ca(e,t+Xf+1,i),a=mx[t],a!==0&&(r-=Ax[t],gr(e,r,a)),s--,t=zT(s),ca(e,t,n),a=dv[t],a!==0&&(s-=fv[t],gr(e,s,a)));while(o<e.sym_next);ca(e,Ex,i)},yx=(e,i)=>{let n=i.dyn_tree,s=i.stat_desc.static_tree,r=i.stat_desc.has_stree,o=i.stat_desc.elems,t,a,p=-1,c;for(e.heap_len=0,e.heap_max=DT,t=0;t<o;t++)n[t*2]!==0?(e.heap[++e.heap_len]=p=t,e.depth[t]=0):n[t*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=p<2?++p:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=s[c*2+1]);for(i.max_code=p,t=e.heap_len>>1;t>=1;t--)ax(e,n,t);c=o;do t=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ax(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=t,e.heap[--e.heap_max]=a,n[c*2]=n[t*2]+n[a*2],e.depth[c]=(e.depth[t]>=e.depth[a]?e.depth[t]:e.depth[a])+1,n[t*2+1]=n[a*2+1]=c,e.heap[1]=c++,ax(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],BZ(e,i),HT(n,p,e.bl_count)},Jk=(e,i,n)=>{let s,r=-1,o,t=i[0*2+1],a=0,p=7,c=4;for(t===0&&(p=138,c=3),i[(n+1)*2+1]=65535,s=0;s<=n;s++)o=t,t=i[(s+1)*2+1],!(++a<p&&o===t)&&(a<c?e.bl_tree[o*2]+=a:o!==0?(o!==r&&e.bl_tree[o*2]++,e.bl_tree[OT*2]++):a<=10?e.bl_tree[FT*2]++:e.bl_tree[PT*2]++,a=0,r=o,t===0?(p=138,c=3):o===t?(p=6,c=3):(p=7,c=4))},Kk=(e,i,n)=>{let s,r=-1,o,t=i[0*2+1],a=0,p=7,c=4;for(t===0&&(p=138,c=3),s=0;s<=n;s++)if(o=t,t=i[(s+1)*2+1],!(++a<p&&o===t)){if(a<c)do ca(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==r&&(ca(e,o,e.bl_tree),a--),ca(e,OT,e.bl_tree),gr(e,a-3,2)):a<=10?(ca(e,FT,e.bl_tree),gr(e,a-3,3)):(ca(e,PT,e.bl_tree),gr(e,a-11,7));a=0,r=o,t===0?(p=138,c=3):o===t?(p=6,c=3):(p=7,c=4)}},GZ=e=>{let i;for(Jk(e,e.dyn_ltree,e.l_desc.max_code),Jk(e,e.dyn_dtree,e.d_desc.max_code),yx(e,e.bl_desc),i=Tx-1;i>=3&&e.bl_tree[NT[i]*2+1]===0;i--);return e.opt_len+=3*(i+1)+5+5+4,i},zZ=(e,i,n,s)=>{let r;for(gr(e,i-257,5),gr(e,n-1,5),gr(e,s-4,4),r=0;r<s;r++)gr(e,e.bl_tree[NT[r]*2+1],3);Kk(e,e.dyn_ltree,i-1),Kk(e,e.dyn_dtree,n-1)},WZ=e=>{let i=4093624447,n;for(n=0;n<=31;n++,i>>>=1)if(i&1&&e.dyn_ltree[n*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(n=32;n<Xf;n++)if(e.dyn_ltree[n*2]!==0)return 1;return 0},Qk=!1,HZ=e=>{Qk||(VZ(),Qk=!0),e.l_desc=new sx(e.dyn_ltree,BT),e.d_desc=new sx(e.dyn_dtree,VT),e.bl_desc=new sx(e.bl_tree,GT),e.bi_buf=0,e.bi_valid=0,jT(e)},UT=(e,i,n,s)=>{gr(e,(AZ<<1)+(s?1:0),3),YT(e),Hf(e,n),Hf(e,~n),n&&e.pending_buf.set(e.window.subarray(i,i+n),e.pending),e.pending+=n},jZ=e=>{gr(e,RT<<1,3),ca(e,Ex,_a),NZ(e)},YZ=(e,i,n,s)=>{let r,o,t=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=WZ(e)),yx(e,e.l_desc),yx(e,e.d_desc),t=GZ(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&i!==-1?UT(e,i,n,s):e.strategy===4||o===r?(gr(e,(RT<<1)+(s?1:0),3),$k(e,_a,Nf)):(gr(e,(LZ<<1)+(s?1:0),3),zZ(e,e.l_desc.max_code+1,e.d_desc.max_code+1,t+1),$k(e,e.dyn_ltree,e.dyn_dtree)),jT(e),s&&YT(e)},UZ=(e,i,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=i,e.pending_buf[e.sym_buf+e.sym_next++]=i>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,i===0?e.dyn_ltree[n*2]++:(e.matches++,i--,e.dyn_ltree[(Wf[n]+Xf+1)*2]++,e.dyn_dtree[zT(i)*2]++),e.sym_next===e.sym_end),ZZ=HZ,XZ=UT,$Z=YZ,JZ=UZ,KZ=jZ,QZ={_tr_init:ZZ,_tr_stored_block:XZ,_tr_flush_block:$Z,_tr_tally:JZ,_tr_align:KZ},_Z=(e,i,n,s)=>{let r=e&65535|0,o=e>>>16&65535|0,t=0;for(;n!==0;){t=n>2e3?2e3:n,n-=t;do r=r+i[s++]|0,o=o+r|0;while(--t);r%=65521,o%=65521}return r|o<<16|0},jf=_Z,qZ=()=>{let e,i=[];for(var n=0;n<256;n++){e=n;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;i[n]=e}return i},eX=new Uint32Array(qZ()),tX=(e,i,n,s)=>{let r=eX,o=s+n;e^=-1;for(let t=s;t<o;t++)e=e>>>8^r[(e^i[t])&255];return e^-1},Mi=tX,pc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:nX,_tr_stored_block:xx,_tr_flush_block:iX,_tr_tally:Ko,_tr_align:rX}=QZ,{Z_NO_FLUSH:Qo,Z_PARTIAL_FLUSH:sX,Z_FULL_FLUSH:aX,Z_FINISH:qr,Z_BLOCK:_k,Z_OK:Ti,Z_STREAM_END:qk,Z_STREAM_ERROR:ua,Z_DATA_ERROR:oX,Z_BUF_ERROR:ox,Z_DEFAULT_COMPRESSION:lX,Z_FILTERED:cX,Z_HUFFMAN_ONLY:ov,Z_RLE:uX,Z_FIXED:hX,Z_DEFAULT_STRATEGY:dX,Z_UNKNOWN:fX,Z_DEFLATED:gv}=mc,pX=9,vX=15,gX=8,mX=29,yX=256,bx=yX+1+mX,xX=30,bX=19,MX=2*bx+1,CX=15,Vt=3,Jo=258,ha=Jo+Vt+1,wX=32,ah=42,Lx=57,Mx=69,Cx=73,wx=91,Sx=103,dc=113,Ff=666,$i=1,ch=2,vc=3,uh=4,SX=3,fc=(e,i)=>(e.msg=pc[i],i),eT=e=>e*2-(e>4?9:0),$o=e=>{let i=e.length;for(;--i>=0;)e[i]=0},IX=e=>{let i,n,s,r=e.w_size;i=e.hash_size,s=i;do n=e.head[--s],e.head[s]=n>=r?n-r:0;while(--i);i=r,s=i;do n=e.prev[--s],e.prev[s]=n>=r?n-r:0;while(--i)},kX=(e,i,n)=>(i<<e.hash_shift^n)&e.hash_mask,_o=kX,Dr=e=>{let i=e.state,n=i.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+n),e.next_out),e.next_out+=n,i.pending_out+=n,e.total_out+=n,e.avail_out-=n,i.pending-=n,i.pending===0&&(i.pending_out=0))},Or=(e,i)=>{iX(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,i),e.block_start=e.strstart,Dr(e.strm)},Qt=(e,i)=>{e.pending_buf[e.pending++]=i},Of=(e,i)=>{e.pending_buf[e.pending++]=i>>>8&255,e.pending_buf[e.pending++]=i&255},Ix=(e,i,n,s)=>{let r=e.avail_in;return r>s&&(r=s),r===0?0:(e.avail_in-=r,i.set(e.input.subarray(e.next_in,e.next_in+r),n),e.state.wrap===1?e.adler=jf(e.adler,i,r,n):e.state.wrap===2&&(e.adler=Mi(e.adler,i,r,n)),e.next_in+=r,e.total_in+=r,r)},ZT=(e,i)=>{let n=e.max_chain_length,s=e.strstart,r,o,t=e.prev_length,a=e.nice_match,p=e.strstart>e.w_size-ha?e.strstart-(e.w_size-ha):0,c=e.window,u=e.w_mask,h=e.prev,l=e.strstart+Jo,d=c[s+t-1],v=c[s+t];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(r=i,!(c[r+t]!==v||c[r+t-1]!==d||c[r]!==c[s]||c[++r]!==c[s+1])){s+=2,r++;do;while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<l);if(o=Jo-(l-s),s=l-Jo,o>t){if(e.match_start=i,t=o,o>=a)break;d=c[s+t-1],v=c[s+t]}}while((i=h[i&u])>p&&--n!==0);return t<=e.lookahead?t:e.lookahead},oh=e=>{let i=e.w_size,n,s,r;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-ha)&&(e.window.set(e.window.subarray(i,i+i-s),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),IX(e),s+=i),e.strm.avail_in===0)break;if(n=Ix(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=Vt)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=_o(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=_o(e,e.ins_h,e.window[r+Vt-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<Vt)););}while(e.lookahead<ha&&e.strm.avail_in!==0)},XT=(e,i)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s,r,o,t=0,a=e.strm.avail_in;do{if(s=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,r=e.strstart-e.block_start,s>r+e.strm.avail_in&&(s=r+e.strm.avail_in),s>o&&(s=o),s<n&&(s===0&&i!==qr||i===Qo||s!==r+e.strm.avail_in)))break;t=i===qr&&s===r+e.strm.avail_in?1:0,xx(e,0,0,t),e.pending_buf[e.pending-4]=s,e.pending_buf[e.pending-3]=s>>8,e.pending_buf[e.pending-2]=~s,e.pending_buf[e.pending-1]=~s>>8,Dr(e.strm),r&&(r>s&&(r=s),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,s-=r),s&&(Ix(e.strm,e.strm.output,e.strm.next_out,s),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s)}while(t===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),t?uh:i!==Qo&&i!==qr&&e.strm.avail_in===0&&e.strstart===e.block_start?ch:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(Ix(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,n=o>e.w_size?e.w_size:o,r=e.strstart-e.block_start,(r>=n||(r||i===qr)&&i!==Qo&&e.strm.avail_in===0&&r<=o)&&(s=r>o?o:r,t=i===qr&&e.strm.avail_in===0&&s===r?1:0,xx(e,e.block_start,s,t),e.block_start+=s,Dr(e.strm)),t?vc:$i)},lx=(e,i)=>{let n,s;for(;;){if(e.lookahead<ha){if(oh(e),e.lookahead<ha&&i===Qo)return $i;if(e.lookahead===0)break}if(n=0,e.lookahead>=Vt&&(e.ins_h=_o(e,e.ins_h,e.window[e.strstart+Vt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-ha&&(e.match_length=ZT(e,n)),e.match_length>=Vt)if(s=Ko(e,e.strstart-e.match_start,e.match_length-Vt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Vt){e.match_length--;do e.strstart++,e.ins_h=_o(e,e.ins_h,e.window[e.strstart+Vt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=_o(e,e.ins_h,e.window[e.strstart+1]);else s=Ko(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Or(e,!1),e.strm.avail_out===0))return $i}return e.insert=e.strstart<Vt-1?e.strstart:Vt-1,i===qr?(Or(e,!0),e.strm.avail_out===0?vc:uh):e.sym_next&&(Or(e,!1),e.strm.avail_out===0)?$i:ch},ih=(e,i)=>{let n,s,r;for(;;){if(e.lookahead<ha){if(oh(e),e.lookahead<ha&&i===Qo)return $i;if(e.lookahead===0)break}if(n=0,e.lookahead>=Vt&&(e.ins_h=_o(e,e.ins_h,e.window[e.strstart+Vt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Vt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ha&&(e.match_length=ZT(e,n),e.match_length<=5&&(e.strategy===cX||e.match_length===Vt&&e.strstart-e.match_start>4096)&&(e.match_length=Vt-1)),e.prev_length>=Vt&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-Vt,s=Ko(e,e.strstart-1-e.prev_match,e.prev_length-Vt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=_o(e,e.ins_h,e.window[e.strstart+Vt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Vt-1,e.strstart++,s&&(Or(e,!1),e.strm.avail_out===0))return $i}else if(e.match_available){if(s=Ko(e,0,e.window[e.strstart-1]),s&&Or(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return $i}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=Ko(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Vt-1?e.strstart:Vt-1,i===qr?(Or(e,!0),e.strm.avail_out===0?vc:uh):e.sym_next&&(Or(e,!1),e.strm.avail_out===0)?$i:ch},TX=(e,i)=>{let n,s,r,o,t=e.window;for(;;){if(e.lookahead<=Jo){if(oh(e),e.lookahead<=Jo&&i===Qo)return $i;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Vt&&e.strstart>0&&(r=e.strstart-1,s=t[r],s===t[++r]&&s===t[++r]&&s===t[++r])){o=e.strstart+Jo;do;while(s===t[++r]&&s===t[++r]&&s===t[++r]&&s===t[++r]&&s===t[++r]&&s===t[++r]&&s===t[++r]&&s===t[++r]&&r<o);e.match_length=Jo-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Vt?(n=Ko(e,1,e.match_length-Vt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ko(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Or(e,!1),e.strm.avail_out===0))return $i}return e.insert=0,i===qr?(Or(e,!0),e.strm.avail_out===0?vc:uh):e.sym_next&&(Or(e,!1),e.strm.avail_out===0)?$i:ch},EX=(e,i)=>{let n;for(;;){if(e.lookahead===0&&(oh(e),e.lookahead===0)){if(i===Qo)return $i;break}if(e.match_length=0,n=Ko(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Or(e,!1),e.strm.avail_out===0))return $i}return e.insert=0,i===qr?(Or(e,!0),e.strm.avail_out===0?vc:uh):e.sym_next&&(Or(e,!1),e.strm.avail_out===0)?$i:ch};function la(e,i,n,s,r){this.good_length=e,this.max_lazy=i,this.nice_length=n,this.max_chain=s,this.func=r}var Pf=[new la(0,0,0,0,XT),new la(4,4,8,4,lx),new la(4,5,16,8,lx),new la(4,6,32,32,lx),new la(4,4,16,16,ih),new la(8,16,32,32,ih),new la(8,16,128,128,ih),new la(8,32,128,256,ih),new la(32,128,258,1024,ih),new la(32,258,258,4096,ih)],AX=e=>{e.window_size=2*e.w_size,$o(e.head),e.max_lazy_match=Pf[e.level].max_lazy,e.good_match=Pf[e.level].good_length,e.nice_match=Pf[e.level].nice_length,e.max_chain_length=Pf[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Vt-1,e.match_available=0,e.ins_h=0};function LX(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=gv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(MX*2),this.dyn_dtree=new Uint16Array((2*xX+1)*2),this.bl_tree=new Uint16Array((2*bX+1)*2),$o(this.dyn_ltree),$o(this.dyn_dtree),$o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(CX+1),this.heap=new Uint16Array(2*bx+1),$o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bx+1),$o(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var $f=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.status!==ah&&i.status!==Lx&&i.status!==Mx&&i.status!==Cx&&i.status!==wx&&i.status!==Sx&&i.status!==dc&&i.status!==Ff?1:0},$T=e=>{if($f(e))return fc(e,ua);e.total_in=e.total_out=0,e.data_type=fX;let i=e.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?Lx:i.wrap?ah:dc,e.adler=i.wrap===2?0:1,i.last_flush=-2,nX(i),Ti},JT=e=>{let i=$T(e);return i===Ti&&AX(e.state),i},RX=(e,i)=>$f(e)||e.state.wrap!==2?ua:(e.state.gzhead=i,Ti),KT=(e,i,n,s,r,o)=>{if(!e)return ua;let t=1;if(i===lX&&(i=6),s<0?(t=0,s=-s):s>15&&(t=2,s-=16),r<1||r>pX||n!==gv||s<8||s>15||i<0||i>9||o<0||o>hX||s===8&&t!==1)return fc(e,ua);s===8&&(s=9);let a=new LX;return e.state=a,a.strm=e,a.status=ah,a.wrap=t,a.gzhead=null,a.w_bits=s,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Vt-1)/Vt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=i,a.strategy=o,a.method=n,JT(e)},DX=(e,i)=>KT(e,i,gv,vX,gX,dX),OX=(e,i)=>{if($f(e)||i>_k||i<0)return e?fc(e,ua):ua;let n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Ff&&i!==qr)return fc(e,e.avail_out===0?ox:ua);let s=n.last_flush;if(n.last_flush=i,n.pending!==0){if(Dr(e),e.avail_out===0)return n.last_flush=-1,Ti}else if(e.avail_in===0&&eT(i)<=eT(s)&&i!==qr)return fc(e,ox);if(n.status===Ff&&e.avail_in!==0)return fc(e,ox);if(n.status===ah&&n.wrap===0&&(n.status=dc),n.status===ah){let r=gv+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=ov||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,r|=o<<6,n.strstart!==0&&(r|=wX),r+=31-r%31,Of(n,r),n.strstart!==0&&(Of(n,e.adler>>>16),Of(n,e.adler&65535)),e.adler=1,n.status=dc,Dr(e),n.pending!==0)return n.last_flush=-1,Ti}if(n.status===Lx){if(e.adler=0,Qt(n,31),Qt(n,139),Qt(n,8),n.gzhead)Qt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Qt(n,n.gzhead.time&255),Qt(n,n.gzhead.time>>8&255),Qt(n,n.gzhead.time>>16&255),Qt(n,n.gzhead.time>>24&255),Qt(n,n.level===9?2:n.strategy>=ov||n.level<2?4:0),Qt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Qt(n,n.gzhead.extra.length&255),Qt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Mi(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Mx;else if(Qt(n,0),Qt(n,0),Qt(n,0),Qt(n,0),Qt(n,0),Qt(n,n.level===9?2:n.strategy>=ov||n.level<2?4:0),Qt(n,SX),n.status=dc,Dr(e),n.pending!==0)return n.last_flush=-1,Ti}if(n.status===Mx){if(n.gzhead.extra){let r=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(e.adler=Mi(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=a,Dr(e),n.pending!==0)return n.last_flush=-1,Ti;r=0,o-=a}let t=new Uint8Array(n.gzhead.extra);n.pending_buf.set(t.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>r&&(e.adler=Mi(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=Cx}if(n.status===Cx){if(n.gzhead.name){let r=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Mi(e.adler,n.pending_buf,n.pending-r,r)),Dr(e),n.pending!==0)return n.last_flush=-1,Ti;r=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,Qt(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>r&&(e.adler=Mi(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=wx}if(n.status===wx){if(n.gzhead.comment){let r=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Mi(e.adler,n.pending_buf,n.pending-r,r)),Dr(e),n.pending!==0)return n.last_flush=-1,Ti;r=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,Qt(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>r&&(e.adler=Mi(e.adler,n.pending_buf,n.pending-r,r))}n.status=Sx}if(n.status===Sx){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Dr(e),n.pending!==0))return n.last_flush=-1,Ti;Qt(n,e.adler&255),Qt(n,e.adler>>8&255),e.adler=0}if(n.status=dc,Dr(e),n.pending!==0)return n.last_flush=-1,Ti}if(e.avail_in!==0||n.lookahead!==0||i!==Qo&&n.status!==Ff){let r=n.level===0?XT(n,i):n.strategy===ov?EX(n,i):n.strategy===uX?TX(n,i):Pf[n.level].func(n,i);if((r===vc||r===uh)&&(n.status=Ff),r===$i||r===vc)return e.avail_out===0&&(n.last_flush=-1),Ti;if(r===ch&&(i===sX?rX(n):i!==_k&&(xx(n,0,0,!1),i===aX&&($o(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Dr(e),e.avail_out===0))return n.last_flush=-1,Ti}return i!==qr?Ti:n.wrap<=0?qk:(n.wrap===2?(Qt(n,e.adler&255),Qt(n,e.adler>>8&255),Qt(n,e.adler>>16&255),Qt(n,e.adler>>24&255),Qt(n,e.total_in&255),Qt(n,e.total_in>>8&255),Qt(n,e.total_in>>16&255),Qt(n,e.total_in>>24&255)):(Of(n,e.adler>>>16),Of(n,e.adler&65535)),Dr(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ti:qk)},FX=e=>{if($f(e))return ua;let i=e.state.status;return e.state=null,i===dc?fc(e,oX):Ti},PX=(e,i)=>{let n=i.length;if($f(e))return ua;let s=e.state,r=s.wrap;if(r===2||r===1&&s.status!==ah||s.lookahead)return ua;if(r===1&&(e.adler=jf(e.adler,i,n,0)),s.wrap=0,n>=s.w_size){r===0&&($o(s.head),s.strstart=0,s.block_start=0,s.insert=0);let p=new Uint8Array(s.w_size);p.set(i.subarray(n-s.w_size,n),0),i=p,n=s.w_size}let o=e.avail_in,t=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=i,oh(s);s.lookahead>=Vt;){let p=s.strstart,c=s.lookahead-(Vt-1);do s.ins_h=_o(s,s.ins_h,s.window[p+Vt-1]),s.prev[p&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=p,p++;while(--c);s.strstart=p,s.lookahead=Vt-1,oh(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=Vt-1,s.match_available=0,e.next_in=t,e.input=a,e.avail_in=o,s.wrap=r,Ti},NX=DX,BX=KT,VX=JT,GX=$T,zX=RX,WX=OX,HX=FX,jX=PX,YX="pako deflate (from Nodeca project)",Bf={deflateInit:NX,deflateInit2:BX,deflateReset:VX,deflateResetKeep:GX,deflateSetHeader:zX,deflate:WX,deflateEnd:HX,deflateSetDictionary:jX,deflateInfo:YX},UX=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),ZX=function(e){let i=Array.prototype.slice.call(arguments,1);for(;i.length;){let n=i.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let s in n)UX(n,s)&&(e[s]=n[s])}}return e},XX=e=>{let i=0;for(let s=0,r=e.length;s<r;s++)i+=e[s].length;let n=new Uint8Array(i);for(let s=0,r=0,o=e.length;s<o;s++){let t=e[s];n.set(t,r),r+=t.length}return n},mv={assign:ZX,flattenChunks:XX},QT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{QT=!1}var Yf=new Uint8Array(256);for(let e=0;e<256;e++)Yf[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Yf[254]=Yf[254]=1;var $X=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let i,n,s,r,o,t=e.length,a=0;for(r=0;r<t;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<t&&(s=e.charCodeAt(r+1),(s&64512)===56320&&(n=65536+(n-55296<<10)+(s-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(i=new Uint8Array(a),o=0,r=0;o<a;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<t&&(s=e.charCodeAt(r+1),(s&64512)===56320&&(n=65536+(n-55296<<10)+(s-56320),r++)),n<128?i[o++]=n:n<2048?(i[o++]=192|n>>>6,i[o++]=128|n&63):n<65536?(i[o++]=224|n>>>12,i[o++]=128|n>>>6&63,i[o++]=128|n&63):(i[o++]=240|n>>>18,i[o++]=128|n>>>12&63,i[o++]=128|n>>>6&63,i[o++]=128|n&63);return i},JX=(e,i)=>{if(i<65534&&e.subarray&&QT)return String.fromCharCode.apply(null,e.length===i?e:e.subarray(0,i));let n="";for(let s=0;s<i;s++)n+=String.fromCharCode(e[s]);return n},KX=(e,i)=>{let n=i||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,i));let s,r,o=new Array(n*2);for(r=0,s=0;s<n;){let t=e[s++];if(t<128){o[r++]=t;continue}let a=Yf[t];if(a>4){o[r++]=65533,s+=a-1;continue}for(t&=a===2?31:a===3?15:7;a>1&&s<n;)t=t<<6|e[s++]&63,a--;if(a>1){o[r++]=65533;continue}t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|t&1023)}return JX(o,r)},QX=(e,i)=>{i=i||e.length,i>e.length&&(i=e.length);let n=i-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?i:n+Yf[e[n]]>i?n:i},Uf={string2buf:$X,buf2string:KX,utf8border:QX};function _X(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _T=_X,qT=Object.prototype.toString,{Z_NO_FLUSH:qX,Z_SYNC_FLUSH:e$,Z_FULL_FLUSH:t$,Z_FINISH:n$,Z_OK:pv,Z_STREAM_END:i$,Z_DEFAULT_COMPRESSION:r$,Z_DEFAULT_STRATEGY:s$,Z_DEFLATED:a$}=mc;function Jf(e){this.options=mv.assign({level:r$,method:a$,chunkSize:16384,windowBits:15,memLevel:8,strategy:s$},e||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _T,this.strm.avail_out=0;let n=Bf.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(n!==pv)throw new Error(pc[n]);if(i.header&&Bf.deflateSetHeader(this.strm,i.header),i.dictionary){let s;if(typeof i.dictionary=="string"?s=Uf.string2buf(i.dictionary):qT.call(i.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(i.dictionary):s=i.dictionary,n=Bf.deflateSetDictionary(this.strm,s),n!==pv)throw new Error(pc[n]);this._dict_set=!0}}Jf.prototype.push=function(e,i){let n=this.strm,s=this.options.chunkSize,r,o;if(this.ended)return!1;for(i===~~i?o=i:o=i===!0?n$:qX,typeof e=="string"?n.input=Uf.string2buf(e):qT.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(s),n.next_out=0,n.avail_out=s),(o===e$||o===t$)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(r=Bf.deflate(n,o),r===i$)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=Bf.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===pv;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Jf.prototype.onData=function(e){this.chunks.push(e)};Jf.prototype.onEnd=function(e){e===pv&&(this.result=mv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Rx(e,i){let n=new Jf(i);if(n.push(e,!0),n.err)throw n.msg||pc[n.err];return n.result}function o$(e,i){return i=i||{},i.raw=!0,Rx(e,i)}function l$(e,i){return i=i||{},i.gzip=!0,Rx(e,i)}var c$=Jf,u$=Rx,h$=o$,d$=l$,f$=mc,p$={Deflate:c$,deflate:u$,deflateRaw:h$,gzip:d$,constants:f$},lv=16209,v$=16191,g$=function(i,n){let s,r,o,t,a,p,c,u,h,l,d,v,f,g,m,x,y,b,M,C,w,S,I,T,k=i.state;s=i.next_in,I=i.input,r=s+(i.avail_in-5),o=i.next_out,T=i.output,t=o-(n-i.avail_out),a=o+(i.avail_out-257),p=k.dmax,c=k.wsize,u=k.whave,h=k.wnext,l=k.window,d=k.hold,v=k.bits,f=k.lencode,g=k.distcode,m=(1<<k.lenbits)-1,x=(1<<k.distbits)-1;e:do{v<15&&(d+=I[s++]<<v,v+=8,d+=I[s++]<<v,v+=8),y=f[d&m];t:for(;;){if(b=y>>>24,d>>>=b,v-=b,b=y>>>16&255,b===0)T[o++]=y&65535;else if(b&16){M=y&65535,b&=15,b&&(v<b&&(d+=I[s++]<<v,v+=8),M+=d&(1<<b)-1,d>>>=b,v-=b),v<15&&(d+=I[s++]<<v,v+=8,d+=I[s++]<<v,v+=8),y=g[d&x];n:for(;;){if(b=y>>>24,d>>>=b,v-=b,b=y>>>16&255,b&16){if(C=y&65535,b&=15,v<b&&(d+=I[s++]<<v,v+=8,v<b&&(d+=I[s++]<<v,v+=8)),C+=d&(1<<b)-1,C>p){i.msg="invalid distance too far back",k.mode=lv;break e}if(d>>>=b,v-=b,b=o-t,C>b){if(b=C-b,b>u&&k.sane){i.msg="invalid distance too far back",k.mode=lv;break e}if(w=0,S=l,h===0){if(w+=c-b,b<M){M-=b;do T[o++]=l[w++];while(--b);w=o-C,S=T}}else if(h<b){if(w+=c+h-b,b-=h,b<M){M-=b;do T[o++]=l[w++];while(--b);if(w=0,h<M){b=h,M-=b;do T[o++]=l[w++];while(--b);w=o-C,S=T}}}else if(w+=h-b,b<M){M-=b;do T[o++]=l[w++];while(--b);w=o-C,S=T}for(;M>2;)T[o++]=S[w++],T[o++]=S[w++],T[o++]=S[w++],M-=3;M&&(T[o++]=S[w++],M>1&&(T[o++]=S[w++]))}else{w=o-C;do T[o++]=T[w++],T[o++]=T[w++],T[o++]=T[w++],M-=3;while(M>2);M&&(T[o++]=T[w++],M>1&&(T[o++]=T[w++]))}}else if(b&64){i.msg="invalid distance code",k.mode=lv;break e}else{y=g[(y&65535)+(d&(1<<b)-1)];continue n}break}}else if(b&64)if(b&32){k.mode=v$;break e}else{i.msg="invalid literal/length code",k.mode=lv;break e}else{y=f[(y&65535)+(d&(1<<b)-1)];continue t}break}}while(s<r&&o<a);M=v>>3,s-=M,v-=M<<3,d&=(1<<v)-1,i.next_in=s,i.next_out=o,i.avail_in=s<r?5+(r-s):5-(s-r),i.avail_out=o<a?257+(a-o):257-(o-a),k.hold=d,k.bits=v},rh=15,tT=852,nT=592,iT=0,cx=1,rT=2,m$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),y$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),x$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),b$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),M$=(e,i,n,s,r,o,t,a)=>{let p=a.bits,c=0,u=0,h=0,l=0,d=0,v=0,f=0,g=0,m=0,x=0,y,b,M,C,w,S=null,I,T=new Uint16Array(rh+1),k=new Uint16Array(rh+1),E=null,A,L,D;for(c=0;c<=rh;c++)T[c]=0;for(u=0;u<s;u++)T[i[n+u]]++;for(d=p,l=rh;l>=1&&T[l]===0;l--);if(d>l&&(d=l),l===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<l&&T[h]===0;h++);for(d<h&&(d=h),g=1,c=1;c<=rh;c++)if(g<<=1,g-=T[c],g<0)return-1;if(g>0&&(e===iT||l!==1))return-1;for(k[1]=0,c=1;c<rh;c++)k[c+1]=k[c]+T[c];for(u=0;u<s;u++)i[n+u]!==0&&(t[k[i[n+u]]++]=u);if(e===iT?(S=E=t,I=20):e===cx?(S=m$,E=y$,I=257):(S=x$,E=b$,I=0),x=0,u=0,c=h,w=o,v=d,f=0,M=-1,m=1<<d,C=m-1,e===cx&&m>tT||e===rT&&m>nT)return 1;for(;;){A=c-f,t[u]+1<I?(L=0,D=t[u]):t[u]>=I?(L=E[t[u]-I],D=S[t[u]-I]):(L=96,D=0),y=1<<c-f,b=1<<v,h=b;do b-=y,r[w+(x>>f)+b]=A<<24|L<<16|D|0;while(b!==0);for(y=1<<c-1;x&y;)y>>=1;if(y!==0?(x&=y-1,x+=y):x=0,u++,--T[c]===0){if(c===l)break;c=i[n+t[u]]}if(c>d&&(x&C)!==M){for(f===0&&(f=d),w+=h,v=c-f,g=1<<v;v+f<l&&(g-=T[v+f],!(g<=0));)v++,g<<=1;if(m+=1<<v,e===cx&&m>tT||e===rT&&m>nT)return 1;M=x&C,r[M]=d<<24|v<<16|w-o|0}}return x!==0&&(r[w+x]=c-f<<24|64<<16|0),a.bits=d,0},Vf=M$,C$=0,eE=1,tE=2,{Z_FINISH:sT,Z_BLOCK:w$,Z_TREES:cv,Z_OK:gc,Z_STREAM_END:S$,Z_NEED_DICT:I$,Z_STREAM_ERROR:es,Z_DATA_ERROR:nE,Z_MEM_ERROR:iE,Z_BUF_ERROR:k$,Z_DEFLATED:aT}=mc,yv=16180,oT=16181,lT=16182,cT=16183,uT=16184,hT=16185,dT=16186,fT=16187,pT=16188,vT=16189,vv=16190,Qa=16191,ux=16192,gT=16193,hx=16194,mT=16195,yT=16196,xT=16197,bT=16198,uv=16199,hv=16200,MT=16201,CT=16202,wT=16203,ST=16204,IT=16205,dx=16206,kT=16207,TT=16208,Mn=16209,rE=16210,sE=16211,T$=852,E$=592,A$=15,L$=A$,ET=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function R$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var yc=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.mode<yv||i.mode>sE?1:0},aE=e=>{if(yc(e))return es;let i=e.state;return e.total_in=e.total_out=i.total=0,e.msg="",i.wrap&&(e.adler=i.wrap&1),i.mode=yv,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(T$),i.distcode=i.distdyn=new Int32Array(E$),i.sane=1,i.back=-1,gc},oE=e=>{if(yc(e))return es;let i=e.state;return i.wsize=0,i.whave=0,i.wnext=0,aE(e)},lE=(e,i)=>{let n;if(yc(e))return es;let s=e.state;return i<0?(n=0,i=-i):(n=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?es:(s.window!==null&&s.wbits!==i&&(s.window=null),s.wrap=n,s.wbits=i,oE(e))},cE=(e,i)=>{if(!e)return es;let n=new R$;e.state=n,n.strm=e,n.window=null,n.mode=yv;let s=lE(e,i);return s!==gc&&(e.state=null),s},D$=e=>cE(e,L$),AT=!0,fx,px,O$=e=>{if(AT){fx=new Int32Array(512),px=new Int32Array(32);let i=0;for(;i<144;)e.lens[i++]=8;for(;i<256;)e.lens[i++]=9;for(;i<280;)e.lens[i++]=7;for(;i<288;)e.lens[i++]=8;for(Vf(eE,e.lens,0,288,fx,0,e.work,{bits:9}),i=0;i<32;)e.lens[i++]=5;Vf(tE,e.lens,0,32,px,0,e.work,{bits:5}),AT=!1}e.lencode=fx,e.lenbits=9,e.distcode=px,e.distbits=5},uE=(e,i,n,s)=>{let r,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(i.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>s&&(r=s),o.window.set(i.subarray(n-s,n-s+r),o.wnext),s-=r,s?(o.window.set(i.subarray(n-s,n),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},F$=(e,i)=>{let n,s,r,o,t,a,p,c,u,h,l,d,v,f,g=0,m,x,y,b,M,C,w,S,I=new Uint8Array(4),T,k,E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yc(e)||!e.output||!e.input&&e.avail_in!==0)return es;n=e.state,n.mode===Qa&&(n.mode=ux),t=e.next_out,r=e.output,p=e.avail_out,o=e.next_in,s=e.input,a=e.avail_in,c=n.hold,u=n.bits,h=a,l=p,S=gc;e:for(;;)switch(n.mode){case yv:if(n.wrap===0){n.mode=ux;break}for(;u<16;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,I[0]=c&255,I[1]=c>>>8&255,n.check=Mi(n.check,I,2,0),c=0,u=0,n.mode=oT;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Mn;break}if((c&15)!==aT){e.msg="unknown compression method",n.mode=Mn;break}if(c>>>=4,u-=4,w=(c&15)+8,n.wbits===0&&(n.wbits=w),w>15||w>n.wbits){e.msg="invalid window size",n.mode=Mn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?vT:Qa,c=0,u=0;break;case oT:for(;u<16;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==aT){e.msg="unknown compression method",n.mode=Mn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Mn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=Mi(n.check,I,2,0)),c=0,u=0,n.mode=lT;case lT:for(;u<32;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,n.check=Mi(n.check,I,4,0)),c=0,u=0,n.mode=cT;case cT:for(;u<16;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=Mi(n.check,I,2,0)),c=0,u=0,n.mode=uT;case uT:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=Mi(n.check,I,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=hT;case hT:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(s.subarray(o,o+d),w)),n.flags&512&&n.wrap&4&&(n.check=Mi(n.check,s,d,o)),a-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=dT;case dT:if(n.flags&2048){if(a===0)break e;d=0;do w=s[o+d++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w));while(w&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=Mi(n.check,s,d,o)),a-=d,o+=d,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=fT;case fT:if(n.flags&4096){if(a===0)break e;d=0;do w=s[o+d++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w));while(w&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=Mi(n.check,s,d,o)),a-=d,o+=d,w)break e}else n.head&&(n.head.comment=null);n.mode=pT;case pT:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Mn;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Qa;break;case vT:for(;u<32;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}e.adler=n.check=ET(c),c=0,u=0,n.mode=vv;case vv:if(n.havedict===0)return e.next_out=t,e.avail_out=p,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,I$;e.adler=n.check=1,n.mode=Qa;case Qa:if(i===w$||i===cv)break e;case ux:if(n.last){c>>>=u&7,u-=u&7,n.mode=dx;break}for(;u<3;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=gT;break;case 1:if(O$(n),n.mode=uv,i===cv){c>>>=2,u-=2;break e}break;case 2:n.mode=yT;break;case 3:e.msg="invalid block type",n.mode=Mn}c>>>=2,u-=2;break;case gT:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Mn;break}if(n.length=c&65535,c=0,u=0,n.mode=hx,i===cv)break e;case hx:n.mode=mT;case mT:if(d=n.length,d){if(d>a&&(d=a),d>p&&(d=p),d===0)break e;r.set(s.subarray(o,o+d),t),a-=d,o+=d,p-=d,t+=d,n.length-=d;break}n.mode=Qa;break;case yT:for(;u<14;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Mn;break}n.have=0,n.mode=xT;case xT:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}n.lens[E[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},S=Vf(C$,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,S){e.msg="invalid code lengths set",n.mode=Mn;break}n.have=0,n.mode=bT;case bT:for(;n.have<n.nlen+n.ndist;){for(;g=n.lencode[c&(1<<n.lenbits)-1],m=g>>>24,x=g>>>16&255,y=g&65535,!(m<=u);){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(y<16)c>>>=m,u-=m,n.lens[n.have++]=y;else{if(y===16){for(k=m+2;u<k;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(c>>>=m,u-=m,n.have===0){e.msg="invalid bit length repeat",n.mode=Mn;break}w=n.lens[n.have-1],d=3+(c&3),c>>>=2,u-=2}else if(y===17){for(k=m+3;u<k;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}c>>>=m,u-=m,w=0,d=3+(c&7),c>>>=3,u-=3}else{for(k=m+7;u<k;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}c>>>=m,u-=m,w=0,d=11+(c&127),c>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Mn;break}for(;d--;)n.lens[n.have++]=w}}if(n.mode===Mn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Mn;break}if(n.lenbits=9,T={bits:n.lenbits},S=Vf(eE,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,S){e.msg="invalid literal/lengths set",n.mode=Mn;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},S=Vf(tE,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,S){e.msg="invalid distances set",n.mode=Mn;break}if(n.mode=uv,i===cv)break e;case uv:n.mode=hv;case hv:if(a>=6&&p>=258){e.next_out=t,e.avail_out=p,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,g$(e,l),t=e.next_out,r=e.output,p=e.avail_out,o=e.next_in,s=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===Qa&&(n.back=-1);break}for(n.back=0;g=n.lencode[c&(1<<n.lenbits)-1],m=g>>>24,x=g>>>16&255,y=g&65535,!(m<=u);){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(x&&!(x&240)){for(b=m,M=x,C=y;g=n.lencode[C+((c&(1<<b+M)-1)>>b)],m=g>>>24,x=g>>>16&255,y=g&65535,!(b+m<=u);){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=m,u-=m,n.back+=m,n.length=y,x===0){n.mode=IT;break}if(x&32){n.back=-1,n.mode=Qa;break}if(x&64){e.msg="invalid literal/length code",n.mode=Mn;break}n.extra=x&15,n.mode=MT;case MT:if(n.extra){for(k=n.extra;u<k;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=CT;case CT:for(;g=n.distcode[c&(1<<n.distbits)-1],m=g>>>24,x=g>>>16&255,y=g&65535,!(m<=u);){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(!(x&240)){for(b=m,M=x,C=y;g=n.distcode[C+((c&(1<<b+M)-1)>>b)],m=g>>>24,x=g>>>16&255,y=g&65535,!(b+m<=u);){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=m,u-=m,n.back+=m,x&64){e.msg="invalid distance code",n.mode=Mn;break}n.offset=y,n.extra=x&15,n.mode=wT;case wT:if(n.extra){for(k=n.extra;u<k;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Mn;break}n.mode=ST;case ST:if(p===0)break e;if(d=l-p,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Mn;break}d>n.wnext?(d-=n.wnext,v=n.wsize-d):v=n.wnext-d,d>n.length&&(d=n.length),f=n.window}else f=r,v=t-n.offset,d=n.length;d>p&&(d=p),p-=d,n.length-=d;do r[t++]=f[v++];while(--d);n.length===0&&(n.mode=hv);break;case IT:if(p===0)break e;r[t++]=n.length,p--,n.mode=hv;break;case dx:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=s[o++]<<u,u+=8}if(l-=p,e.total_out+=l,n.total+=l,n.wrap&4&&l&&(e.adler=n.check=n.flags?Mi(n.check,r,l,t-l):jf(n.check,r,l,t-l)),l=p,n.wrap&4&&(n.flags?c:ET(c))!==n.check){e.msg="incorrect data check",n.mode=Mn;break}c=0,u=0}n.mode=kT;case kT:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=s[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Mn;break}c=0,u=0}n.mode=TT;case TT:S=S$;break e;case Mn:S=nE;break e;case rE:return iE;case sE:default:return es}return e.next_out=t,e.avail_out=p,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||l!==e.avail_out&&n.mode<Mn&&(n.mode<dx||i!==sT))&&uE(e,e.output,e.next_out,l-e.avail_out),h-=e.avail_in,l-=e.avail_out,e.total_in+=h,e.total_out+=l,n.total+=l,n.wrap&4&&l&&(e.adler=n.check=n.flags?Mi(n.check,r,l,e.next_out-l):jf(n.check,r,l,e.next_out-l)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Qa?128:0)+(n.mode===uv||n.mode===hx?256:0),(h===0&&l===0||i===sT)&&S===gc&&(S=k$),S},P$=e=>{if(yc(e))return es;let i=e.state;return i.window&&(i.window=null),e.state=null,gc},N$=(e,i)=>{if(yc(e))return es;let n=e.state;return n.wrap&2?(n.head=i,i.done=!1,gc):es},B$=(e,i)=>{let n=i.length,s,r,o;return yc(e)||(s=e.state,s.wrap!==0&&s.mode!==vv)?es:s.mode===vv&&(r=1,r=jf(r,i,n,0),r!==s.check)?nE:(o=uE(e,i,n,n),o?(s.mode=rE,iE):(s.havedict=1,gc))},V$=oE,G$=lE,z$=aE,W$=D$,H$=cE,j$=F$,Y$=P$,U$=N$,Z$=B$,X$="pako inflate (from Nodeca project)",qa={inflateReset:V$,inflateReset2:G$,inflateResetKeep:z$,inflateInit:W$,inflateInit2:H$,inflate:j$,inflateEnd:Y$,inflateGetHeader:U$,inflateSetDictionary:Z$,inflateInfo:X$};function $$(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var J$=$$,hE=Object.prototype.toString,{Z_NO_FLUSH:K$,Z_FINISH:Q$,Z_OK:Zf,Z_STREAM_END:vx,Z_NEED_DICT:gx,Z_STREAM_ERROR:_$,Z_DATA_ERROR:LT,Z_MEM_ERROR:q$}=mc;function Kf(e){this.options=mv.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(e&&e.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15||(i.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _T,this.strm.avail_out=0;let n=qa.inflateInit2(this.strm,i.windowBits);if(n!==Zf)throw new Error(pc[n]);if(this.header=new J$,qa.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Uf.string2buf(i.dictionary):hE.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(n=qa.inflateSetDictionary(this.strm,i.dictionary),n!==Zf)))throw new Error(pc[n])}Kf.prototype.push=function(e,i){let n=this.strm,s=this.options.chunkSize,r=this.options.dictionary,o,t,a;if(this.ended)return!1;for(i===~~i?t=i:t=i===!0?Q$:K$,hE.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(s),n.next_out=0,n.avail_out=s),o=qa.inflate(n,t),o===gx&&r&&(o=qa.inflateSetDictionary(n,r),o===Zf?o=qa.inflate(n,t):o===LT&&(o=gx));n.avail_in>0&&o===vx&&n.state.wrap>0&&e[n.next_in]!==0;)qa.inflateReset(n),o=qa.inflate(n,t);switch(o){case _$:case LT:case gx:case q$:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===vx))if(this.options.to==="string"){let p=Uf.utf8border(n.output,n.next_out),c=n.next_out-p,u=Uf.buf2string(n.output,p);n.next_out=c,n.avail_out=s-c,c&&n.output.set(n.output.subarray(p,p+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Zf&&a===0)){if(o===vx)return o=qa.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Kf.prototype.onData=function(e){this.chunks.push(e)};Kf.prototype.onEnd=function(e){e===Zf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Dx(e,i){let n=new Kf(i);if(n.push(e),n.err)throw n.msg||pc[n.err];return n.result}function eJ(e,i){return i=i||{},i.raw=!0,Dx(e,i)}var tJ=Kf,nJ=Dx,iJ=eJ,rJ=Dx,sJ=mc,aJ={Inflate:tJ,inflate:nJ,inflateRaw:iJ,ungzip:rJ,constants:sJ},{Deflate:oJ,deflate:lJ,deflateRaw:cJ,gzip:uJ}=p$,{Inflate:hJ,inflate:dJ,inflateRaw:fJ,ungzip:pJ}=aJ,vJ=oJ,gJ=lJ,mJ=cJ,yJ=uJ,xJ=hJ,bJ=dJ,MJ=fJ,CJ=pJ,wJ=mc,da={Deflate:vJ,deflate:gJ,deflateRaw:mJ,gzip:yJ,Inflate:xJ,inflate:bJ,inflateRaw:MJ,ungzip:CJ,constants:wJ};function hh(e,i){let n=e.length;if(n!==i.length)return!1;for(let s=0;s<n;s++)if(e[s]!==i[s])return!1;return!0}function SJ(e,i){let n=e.length;if(n!==i.length)return!1;for(let s=0;s<n;s++)if(!e[s].equals(i[s]))return!1;return!0}var el={};function gE(){el.enc=new Array(255),el.dec={};for(let e=0;e<=255;++e){let i=e.toString(16).padStart(2,"0");el.enc[e]=i,el.dec[i]=e}}function Yx(e){el.enc||gE();let i=e.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=el.enc[e[s]];return n.join("")}function IJ(e){if(el.dec||gE(),typeof e!="string")throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");e=e.toLowerCase();let i=e.length/2,n=new Uint8Array(i);for(let s=0;s<i;s++){let r=el.dec[e[s*2]+e[s*2+1]];if(r===void 0)throw new Error("Expected hex string");n[s]=r}return n}function Iv(e){return(0,vE.default)(e)}var dE=!1;function Ke(e,i){if(e instanceof i)return!0;if(e==null||typeof e!="object")return!1;let n=i.__className||i.abiName;if(!n)return!1;let s=e.constructor,r=!1;for(;s&&!r;){let o=s.__className||s.abiName;if(!o)break;r=n==o,s=Object.getPrototypeOf(s)}return r&&!dE&&(console.warn(`Detected alien instance of ${n}, this usually means more than one version of @wharfkit/antelope has been included in your bundle.`),dE=!0),r}var bc=(()=>{class e{static from(n){if(Ke(n,this))return n;if(typeof n=="string")return this.fromString(n);throw new Error("Invalid blob")}static fromString(n){if(typeof Buffer=="function")return new this(new Uint8Array(Buffer.from(n,"base64")));switch(n.length%4){case 2:n+="==";break;case 3:n+="=";break;case 1:n=n.substring(0,n.length-1);break}let s=atob(n),r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return new this(r)}constructor(n){this.array=n}equals(n){let s=this.constructor;try{return hh(this.array,s.from(n).array)}catch{return!1}}get base64String(){return typeof Buffer=="function"?Buffer.from(this.array).toString("base64"):btoa(this.utf8String)}get utf8String(){return new TextDecoder().decode(this.array)}toABI(n){n.writeArray(this.array)}toString(){return this.base64String}toJSON(){return this.toString()}}return e.abiName="blob",e})(),rt=(()=>{class e{static from(n,s){return Ke(n,this)?n:typeof n=="string"?this.fromString(n,s):ArrayBuffer.isView(n)?new this(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)):Ke(n.array,Uint8Array)?new this(n.array):new this(new Uint8Array(n))}static fromString(n,s="hex"){if(s==="hex"){let r=IJ(n);return new this(r)}else if(s=="utf8"){let r=new TextEncoder;return new this(r.encode(n))}else throw new Error(`Unknown encoding: ${s}`)}static fromABI(n){let s=n.readVaruint32();return new this(n.readArray(s))}static abiDefault(){return new e}static equal(n,s){return this.from(n).equals(this.from(s))}static random(n){return new this(Iv(n))}static isBytes(n){return!!(Ke(n,e)||Ke(n,Uint8Array)||Array.isArray(n)&&n.every(s=>typeof s=="number")||typeof n=="string"&&(/[\da-f]/i.test(n)||n===""))}constructor(n=new Uint8Array){this.array=n}get length(){return this.array.byteLength}get hexString(){return Yx(this.array)}get utf8String(){return new TextDecoder().decode(this.array)}append(n){n=e.from(n);let s=this.array.byteLength+n.array.byteLength,r=new ArrayBuffer(s),o=new Uint8Array(r);o.set(this.array),o.set(n.array,this.array.byteLength),this.array=o}appending(n){let s=new e(this.array);return s.append(n),s}zeropad(n,s=!1){let r=s?n:Math.max(n,this.array.byteLength),o=new ArrayBuffer(r),t=new Uint8Array(o);t.fill(0),s&&this.array.byteLength>r?t.set(this.array.slice(0,r),0):t.set(this.array,r-this.array.byteLength),this.array=t}zeropadded(n,s=!1){let r=new e(this.array);return r.zeropad(n,s),r}dropFirst(n=1){this.array=this.array.subarray(n)}droppingFirst(n=1){return new e(this.array.subarray(n))}copy(){let n=new ArrayBuffer(this.array.byteLength),s=new Uint8Array(n);return s.set(this.array),new e(s)}equals(n){return hh(this.array,e.from(n).array)}toString(n="hex"){if(n==="hex")return this.hexString;if(n==="utf8")return this.utf8String;throw new Error(`Unknown encoding: ${n}`)}toABI(n){n.writeVaruint32(this.array.byteLength),n.writeArray(this.array)}toJSON(){return this.hexString}}return e.abiName="bytes",e})(),Ux=(()=>{class e{static from(n){return Ke(n,this)?n:Ke(n,e)?new this(n.array):new this(rt.from(n).array)}static fromABI(n){return new this(n.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}constructor(n){let s=this.constructor.byteSize;if(n.byteLength!==s)throw new Error(`Checksum size mismatch, expected ${s} bytes got ${n.byteLength}`);this.array=n}equals(n){let s=this.constructor;try{return hh(this.array,s.from(n).array)}catch{return!1}}get hexString(){return Yx(this.array)}toABI(n){n.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}return e.abiName="__checksum",e})(),vt=(()=>{class e extends Ux{static from(n){return super.from(n)}static hash(n){let s=new Uint8Array((0,eo.sha256)().update(rt.from(n).array).digest());return new e(s)}}return e.abiName="checksum256",e.byteSize=32,e})(),kv=(()=>{class e extends Ux{static from(n){return super.from(n)}static hash(n){let s=new Uint8Array((0,eo.sha512)().update(rt.from(n).array).digest());return new e(s)}}return e.abiName="checksum512",e.byteSize=64,e})(),e1=(()=>{class e extends Ux{static from(n){return super.from(n)}static hash(n){let s=new Uint8Array((0,eo.ripemd160)().update(rt.from(n).array).digest());return new e(s)}}return e.abiName="checksum160",e.byteSize=20,e})(),Zt=function(e){return e.K1="K1",e.R1="R1",e.WA="WA",e}(Zt||{});(function(e){function i(s){switch(s){case e.K1:return 0;case e.R1:return 1;case e.WA:return 2;default:throw new Error(`Unknown curve type: ${s}`)}}e.indexFor=i;function n(s){let r;switch(typeof s!="number"?r=e.indexFor(s):r=s,r){case 0:return e.K1;case 1:return e.R1;case 2:return e.WA;default:throw new Error("Unknown curve type")}}e.from=n})(Zt||(Zt={}));var is=(()=>{class e{static get max(){return new ts.default(2).pow(new ts.default(this.byteWidth*8-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new ts.default(0)}static add(n,s,r="truncate"){return e.operator(n,s,r,(o,t)=>o.add(t))}static sub(n,s,r){return e.operator(n,s,r,(o,t)=>o.sub(t))}static mul(n,s,r){return e.operator(n,s,r,(o,t)=>o.mul(t))}static div(n,s,r){return e.operator(n,s,r,(o,t)=>{if(t.isZero())throw new Error("Division by zero");return o.div(t)})}static divRound(n,s,r){return e.operator(n,s,r,(o,t)=>{if(t.isZero())throw new Error("Division by zero");return o.divRound(t)})}static divCeil(n,s,r){return e.operator(n,s,r,(o,t)=>{if(t.isZero())throw new Error("Division by zero");let a=o.divmod(t);return a.mod.isZero()?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)})}static gt(n,s){return n.value.gt(s.value)}static lt(n,s){return n.value.lt(s.value)}static gte(n,s){return n.value.gte(s.value)}static lte(n,s){return n.value.lte(s.value)}static operator(n,s,r="truncate",o){let{a:t,b:a}=DJ(n,s),p=t.constructor,c=o(t.value,a.value);return p.from(c,r)}static from(n,s){if(Ke(n,this))return n;let r=this,o;if(Ke(n,e))r=n.constructor,o=n.value.clone();else if(n instanceof Uint8Array)o=new ts.default(n,void 0,"le"),r.isSigned&&(o=o.fromTwos(r.byteWidth*8));else{if(typeof n=="string"&&!/[0-9]+/.test(n)||typeof n=="number"&&!Number.isFinite(n))throw new Error("Invalid number");o=ts.default.isBN(n)?n.clone():new ts.default(n,10),o.isNeg()&&!r.isSigned&&(r={byteWidth:r.byteWidth,isSigned:!0})}switch(s){case"clamp":o=LJ(o,this.min,this.max);break;case"truncate":o=RJ(o,r,this);break}return new this(o)}static fromABI(n){return this.from(n.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(Iv(this.byteWidth))}constructor(n){let s=this.constructor;if(s.isSigned===void 0||s.byteWidth===void 0)throw new Error("Cannot instantiate abstract class Int");if(n.gt(s.max))throw new Error(`Number ${n} overflows ${s.abiName}`);if(n.lt(s.min))throw new Error(`Number ${n} underflows ${s.abiName}`);this.value=n}cast(n,s="truncate"){return this.constructor===n?this:n.from(this,s)}get byteArray(){let n=this.constructor;return(n.isSigned?this.value.toTwos(n.byteWidth*8):this.value).toArrayLike(Uint8Array,"le",n.byteWidth)}equals(n,s=!1){let r=this.constructor;if(s===!0&&Ke(n,e)){let o=n.constructor;if(r.byteWidth!==o.byteWidth||r.isSigned!==o.isSigned)return!1}try{return this.value.eq(r.from(n).value)}catch{return!1}}add(n){this.value=this.operator(n,e.add).value}adding(n){return this.operator(n,e.add)}subtract(n){this.value=this.operator(n,e.sub).value}subtracting(n){return this.operator(n,e.sub)}multiply(n){this.value=this.operator(n,e.mul).value}multiplying(n){return this.operator(n,e.mul)}divide(n,s){this.value=this.dividing(n,s).value}dividing(n,s){let r=e.div;switch(s){case"ceil":r=e.divCeil;break;case"round":r=e.divRound;break}return this.operator(n,r)}gt(n){return e.gt(this,n)}lt(n){return e.lt(this,n)}gte(n){return e.gte(this,n)}lte(n){return e.lte(this,n)}operator(n,s){let r;return Ke(n,e)?r=n:r=qe.from(n,"truncate"),s(this,r).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){return this.value.toString()}[Symbol.toPrimitive](n){return n==="number"?this.toNumber():this.toString()}toABI(n){n.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}return e.abiName="__int",e})(),kJ=(()=>{class e extends is{}return e.abiName="int8",e.byteWidth=1,e.isSigned=!0,e})(),TJ=(()=>{class e extends is{}return e.abiName="int16",e.byteWidth=2,e.isSigned=!0,e})(),dh=(()=>{class e extends is{}return e.abiName="int32",e.byteWidth=4,e.isSigned=!0,e})(),qe=(()=>{class e extends is{}return e.abiName="int64",e.byteWidth=8,e.isSigned=!0,e})(),EJ=(()=>{class e extends is{}return e.abiName="int128",e.byteWidth=16,e.isSigned=!0,e})(),Sn=(()=>{class e extends is{}return e.abiName="uint8",e.byteWidth=1,e.isSigned=!1,e})(),si=(()=>{class e extends is{}return e.abiName="uint16",e.byteWidth=2,e.isSigned=!1,e})(),et=(()=>{class e extends is{}return e.abiName="uint32",e.byteWidth=4,e.isSigned=!1,e})(),At=(()=>{class e extends is{}return e.abiName="uint64",e.byteWidth=8,e.isSigned=!1,e})(),Vi=(()=>{class e extends is{}return e.abiName="uint128",e.byteWidth=16,e.isSigned=!1,e})(),AJ=(()=>{class e extends is{static fromABI(n){return new this(new ts.default(n.readVarint32()))}toABI(n){n.writeVarint32(Number(this))}}return e.abiName="varint32",e.byteWidth=32,e.isSigned=!0,e})(),Zx=(()=>{class e extends is{static fromABI(n){return new this(new ts.default(n.readVaruint32()))}toABI(n){n.writeVaruint32(Number(this))}}return e.abiName="varuint32",e.byteWidth=32,e.isSigned=!1,e})();function LJ(e,i,n){return ts.default.min(ts.default.max(e,i),n)}function RJ(e,i,n){let s=e.isNeg()?255:0,o=(i.isSigned?e.toTwos(i.byteWidth*8):e).toArrayLike(Uint8Array,"le"),t=new Uint8Array(n.byteWidth);t.fill(s),t.set(o.slice(0,n.byteWidth));let a=new ts.default(t,void 0,"le");return n.isSigned?a.fromTwos(n.byteWidth*8):a}function DJ(e,i){e=fE(e),i=fE(i);let n=e.constructor,s=i.constructor;return n!==s&&(n.isSigned===s.isSigned?n.byteWidth>s.byteWidth?i=i.cast(n):s.byteWidth>n.byteWidth&&(e=e.cast(s)):n.isSigned===!1&&n.byteWidth>=s.byteWidth?i=i.cast(n):s.isSigned===!1&&s.byteWidth>=n.byteWidth?e=e.cast(s):n.isSigned===!0&&n.max.gte(s.max)&&n.min.lte(s.min)?i=i.cast(n):s.isSigned===!0&&s.max.gte(n.max)&&s.min.lte(n.min)&&(e=e.cast(s))),{a:e,b:i}}function fE(e){let i=e;return e.constructor.byteWidth<4&&(i=e.cast(dh)),i}function Tv(e){let i=[],n=[],s=[],r=new Set,o=p=>{let c;return typeof p.type!="string"?c=t(p.type):c=p.type,p.array===!0&&(c+="[]"),p.optional===!0&&(c+="?"),p.extension===!0&&(c+="$"),c},t=p=>{if(p.abiName){if(p.abiName==="__struct")throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?")}else throw new Error("Encountered non-conforming type");if(r.has(p))return p.abiName;if(r.add(p),p.abiAlias)s.push({new_type_name:p.abiName,type:o(p.abiAlias)});else if(p.abiFields){let c=p.abiFields.map(h=>({name:h.name,type:o(h)})),u={base:p.abiBase?t(p.abiBase):"",name:p.abiName,fields:c};i.push(u)}else if(p.abiVariant){let c={name:p.abiName,types:p.abiVariant.map(o)};n.push(c)}return p.abiName},a=t(e);return{abi:_t.from({structs:i,variants:n,types:s}),types:Array.from(r),root:a}}function wv(e){let i=typeof e.type=="string"?e.type:e.type.abiName;return e.array===!0&&(i+="[]"),e.optional===!0&&(i+="?"),e.extension===!0&&(i+="$"),i}function OJ(e){return typeof e!="string"&&e.abiName===void 0&&e.type!==void 0}function mE(e){return typeof e=="string"?{type:e}:typeof e.abiName<"u"?{type:e}:e}var yE={abiName:"string",abiDefault:()=>"",fromABI:e=>e.readString(),from:e=>e,toABI:(e,i)=>{i.writeString(e)}},xE={abiName:"bool",abiDefault:()=>!1,fromABI:e=>e.readByte()===1,from:e=>e,toABI:(e,i)=>{i.writeByte(e===!0?1:0)}};function FJ(){return[xE,yE,Ge,Ge.Symbol,Ge.SymbolCode,tl,rt,e1,vt,kv,zJ,ME,BJ,ci,EJ,TJ,dh,qe,kJ,te,Gi,nl,yr,_n,Vi,si,et,At,Sn,AJ,Zx]}function Nx(e=[]){let i={},n=FJ();for(let s of n)i[s.abiName]=s;for(let s of e){if(!s.abiName)throw new Error("Invalid type");i[s.abiName]=s}return i}function Xx(e){if(e.constructor&&e.constructor.abiName!==void 0)return e.constructor.abiName;if(Array.isArray(e)){let i=e.map(Xx),n=i[0];return!n||!i.every(s=>s===n)?void 0:n+"[]"}switch(typeof e){case"boolean":return"bool";case"string":return"string"}}function Sv(e,i="jsobj"){var n;if(e.constructor&&e.constructor.abiName!==void 0)return e.constructor;if(Array.isArray(e)){let r=e.map(t=>Sv(t,i)),o=r[0];return!o||!r.every(t=>t&&t.abiName===o.abiName)?void 0:o}let s=typeof e;if(s==="object"&&e!==null){let r=Object.keys(e).map(o=>({name:o,type:Sv(e[o],i+"_nested")}));return r.find(o=>!o.type)?void 0:(n=class extends F{},n.abiName=i,n.abiFields=r,n)}switch(s){case"boolean":return xE;case"string":return yE}}var PJ=(()=>{class e extends Error{constructor(n,s){let r=n.codingPath.map(({field:o,type:t})=>typeof o=="number"?o:`${o}<${t.typeName}>`).join(".");super(`Decoding error at ${r}: ${s.message}`),this.stack=s.stack,this.ctx=n,this.underlyingError=s}}return e.__className="DecodingError",e})();function to(e){let i=mE(e.type),n=wv(i),s=e.customTypes||[],r;if(e.abi)r=_t.from(e.abi);else try{let a;if(typeof i.type=="string"){let c=Nx(s),u=new _t.ResolvedType(i.type).name;if(a=c[u],!a)throw new Error(`Unknown type: ${i.type}`)}else a=i.type;let p=Tv(a);r=p.abi,s.push(...p.types)}catch(a){throw Error(`Unable to synthesize ABI for: ${n} (${a.message}). To decode non-class types you need to pass the ABI definition manually.`)}let o=r.resolveType(n);typeof i.type!="string"&&s.unshift(i.type);let t={types:Nx(s),strictExtensions:e.strictExtensions||!1,codingPath:[{field:"root",type:o}]};try{if(e.data||e.data===""){let a;if(Ke(e.data,fh))a=e.data;else{let p=rt.from(e.data),c=e.ignoreInvalidUTF8===void 0?!0:!e.ignoreInvalidUTF8;a=new fh(p.array,new TextDecoder("utf-8",{fatal:c}))}return e.metadata&&(a.metadata=e.metadata),xv(o,a,t)}else{if(e.object!==void 0)return _f(e.object,o,t);if(e.json)return _f(JSON.parse(e.json),o,t);throw new Error("Nothing to decode, you must set one of data, json, object")}}catch(a){throw new PJ(t,a)}}var xc=Symbol("Resolved");function xv(e,i,n){if(n.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(e.isExtension&&!i.canRead())return n.strictExtensions?qf(e,n):null;if(e.isOptional&&i.readByte()===0)return null;if(e.isArray){let r=i.readVaruint32(),o=[];for(let t=0;t<r;t++)n.codingPath.push({field:t,type:e}),o.push(s()),n.codingPath.pop();return o}else return s();function s(){let r=n.types[e.name];if(r&&r.fromABI)return r.fromABI(i);if(e.ref){n.codingPath.push({field:"",type:e.ref});let o=xv(e.ref,i,n);return n.codingPath.pop(),o}else if(e.fields){let o=e.allFields;if(!o)throw new Error("Invalid struct fields");let t={};for(let a of o)n.codingPath.push({field:a.name,type:a.type}),t[a.name]=xv(a.type,i,n),n.codingPath.pop();return r?(t[xc]=!0,r.from(t)):t}else if(e.variant){let o=i.readByte(),t=e.variant[o];if(!t)throw new Error(`Unknown variant idx: ${o}`);n.codingPath.push({field:`v${o}`,type:t});let a=[t.typeName,xv(t,i,n)];return n.codingPath.pop(),r?r.from(a):a}else throw r?new Error("Invalid type"):new Error(e.name==="any"?"Unable to decode 'any' type from binary":"Unknown type")}}function _f(e,i,n){if(e==null){if(i.isOptional)return null;if(i.isExtension)return n.strictExtensions?qf(i,n):null;throw new Error(`Unexpectedly encountered ${e} for non-optional (${n.codingPath.map(r=>r.field).join(".")})`)}else if(i.isArray){if(!Array.isArray(e))throw new Error("Expected array");let r=[],o=e.length;for(let t=0;t<o;t++)n.codingPath.push({field:t,type:i}),r.push(s(e[t])),n.codingPath.pop();return r}else return s(e);function s(r){let o=n.types[i.name];if(i.ref&&!o)return _f(r,i.ref,n);if(i.fields){if(typeof r!="object")throw new Error("Expected object");if(typeof o=="function"&&Ke(r,o))return r;let t=i.allFields;if(!t)throw new Error("Invalid struct fields");let a={};for(let p of t)n.codingPath.push({field:p.name,type:p.type}),a[p.name]=_f(r[p.name],p.type,n),n.codingPath.pop();return o?(a[xc]=!0,o.from(a)):a}else if(i.variant){let t;Array.isArray(r)&&r.length===2&&typeof r[0]=="string"?(t=r[0],r=r[1]):Ke(r,Os)?(t=r.variantName,r=r.value):t=Xx(r);let a=i.variant.findIndex(u=>u.typeName===t);if(a===-1)throw new Error(`Unknown variant type: ${t}`);let p=i.variant[a];n.codingPath.push({field:`v${a}`,type:p});let c=[p.typeName,_f(r,p,n)];return n.codingPath.pop(),o?(c[xc]=!0,o.from(c)):c}else{if(!o){if(i.name==="any")return r;throw new Error("Unknown type")}return o.from(r)}}}function qf(e,i,n=new Set){if(e.isArray)return[];if(e.isOptional)return null;let s=i.types[e.name];if(s&&s.abiDefault)return s.abiDefault();if(n.has(e.name))throw new Error("Circular type reference");if(n.add(e.name),e.allFields){let r={};for(let o of e.allFields)i.codingPath.push({field:o.name,type:o.type}),r[o.name]=qf(o.type,i,n),i.codingPath.pop();return s?(r[xc]=!0,s.from(r)):r}if(e.variant&&e.variant.length>0){let r=[e.variant[0].typeName,qf(e.variant[0],i)];return s?(r[xc]=!0,s.from(r)):r}if(e.ref){i.codingPath.push({field:"",type:e.ref});let r=qf(e.ref,i,n);return i.codingPath.pop(),r}throw new Error("Unable to determine default value")}var fh=(()=>{class e{constructor(n,s){this.array=n,this.pos=0,this.metadata={},this.textDecoder=s||new TextDecoder("utf-8",{fatal:!0}),this.data=new DataView(n.buffer,n.byteOffset,n.byteLength)}canRead(n=1){return!(this.pos+n>this.array.byteLength)}ensure(n){if(!this.canRead(n))throw new Error("Read past end of buffer")}setPosition(n){if(n<0||n>this.array.byteLength)throw new Error("Invalid position");this.pos=n}getPosition(){return this.pos}advance(n){this.ensure(n),this.pos+=n}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(n){this.ensure(n);let s;switch(n){case 4:s=this.data.getFloat32(this.pos,!0);break;case 8:s=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=n,s}readVaruint32(){let n=0,s=0;for(;;){let r=this.readByte();if(n|=(r&127)<<s,s+=7,!(r&128))break}return n>>>0}readVarint32(){let n=this.readVaruint32();return n&1?~n>>1|2147483648:n>>>1}readArray(n){this.ensure(n);let s=this.array.subarray(this.pos,this.pos+n);return this.pos+=n,s}readString(){let n=this.readVaruint32();return this.textDecoder.decode(this.readArray(n))}}return e.__className="ABIDecoder",e})(),NJ=(()=>{class e extends Error{constructor(n,s){let r=n.codingPath.map(({field:o,type:t})=>typeof o=="number"?o:`${o}<${t.typeName}>`).join(".");super(`Encoding error at ${r}: ${s.message}`),this.stack=s.stack,this.ctx=n,this.underlyingError=s}}return e.__className="EncodingError",e})();function ns(e){let i,n;typeof e.type=="string"?n=e.type:e.type&&OJ(e.type)?(typeof e.type.type!="string"&&(i=e.type.type),n=wv(e.type)):e.type&&e.type.abiName!==void 0?(i=e.type,n=e.type.abiName):(i=Sv(e.object),i&&(n=i.abiName,Array.isArray(e.object)&&(n+="[]")));let s=e.customTypes?e.customTypes.slice():[];if(i)s.unshift(i);else if(n){let p=new _t.ResolvedType(n).name;i=s.find(c=>c.abiName===p)}let r;if(e.abi&&n)r=_t.from(e.abi).resolveType(n);else if(i){let p=Tv(i);r=p.abi.resolveType(n||i.abiName),s.push(...p.types)}else if(n)r=new _t.ResolvedType(n);else throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");let o=Nx(s),t=e.encoder||new $x;e.metadata&&(t.metadata=e.metadata);let a={types:o,encoder:t,codingPath:[{field:"root",type:r}]};try{bv(e.object,r,a)}catch(p){throw new NJ(a,p)}return rt.from(t.getData())}function bv(e,i,n){let s=e!=null;if(i.isOptional&&(n.encoder.writeByte(s?1:0),!s))return;if(i.isArray){if(!Array.isArray(e))throw new Error(`Expected array for: ${i.typeName}`);let o=e.length;n.encoder.writeVaruint32(o);for(let t=0;t<o;t++)n.codingPath.push({field:t,type:i}),r(e[t]),n.codingPath.pop()}else r(e);function r(o){let t=n.types[i.name];if(i.ref&&!t){bv(o,i.ref,n);return}if(!s){if(i.isExtension)return;throw new Error(`Found ${o} for non-optional type: ${i.typeName} (${n.codingPath.map(a=>a.field).join(".")})`)}if(t&&t.toABI)t.toABI(o,n.encoder);else if(typeof o.toABI=="function"&&o.constructor.abiName===i.name)o.toABI(n.encoder);else if(i.fields){if(typeof o!="object")throw new Error(`Expected object for: ${i.name}`);let a=i.allFields;if(!a)throw new Error("Invalid struct fields");for(let p of a)n.codingPath.push({field:p.name,type:p.type}),bv(o[p.name],p.type,n),n.codingPath.pop()}else if(i.variant){let a;Array.isArray(o)&&o.length===2&&typeof o[0]=="string"?(a=o[0],o=o[1]):Ke(o,Os)?(a=o.variantName,o=o.value):a=Xx(o);let p=i.variant.findIndex(u=>u.typeName===a);if(p===-1){let u=i.variant.map(h=>`'${h.typeName}'`).join(", ");throw new Error(`Unknown variant type '${a}', expected one of ${u}`)}let c=i.variant[p];n.encoder.writeVaruint32(p),n.codingPath.push({field:`v${p}`,type:c}),bv(o,c,n),n.codingPath.pop()}else{if(!t)throw new Error(i.name==="any"?"Unable to encode any type to binary":"Unknown type");let a=t.from(o);if(!a.toABI)throw new Error(`Invalid type ${i.name}, no encoding methods implemented`);a.toABI(n.encoder)}}}var $x=(()=>{class e{constructor(n=1024){this.pageSize=n,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};let s=new ArrayBuffer(n);this.data=new DataView(s),this.array=new Uint8Array(s)}ensure(n){if(this.data.byteLength>=this.pos+n)return;let s=Math.ceil(n/this.pageSize),r=this.data.byteLength+this.pageSize*s,o=new ArrayBuffer(r),t=new DataView(o),a=new Uint8Array(o);a.set(this.array),this.data=t,this.array=a}writeByte(n){this.ensure(1),this.array[this.pos++]=n}writeArray(n){let s=n.length;this.ensure(s),this.array.set(n,this.pos),this.pos+=s}writeFloat(n,s){switch(this.ensure(s),s){case 4:this.data.setFloat32(this.pos,n,!0);break;case 8:this.data.setFloat64(this.pos,n,!0);break;default:throw new Error("Invalid float size")}this.pos+=s}writeVaruint32(n){for(this.ensure(4);;)if(n>>>7)this.array[this.pos++]=128|n&127,n=n>>>7;else{this.array[this.pos++]=n;break}}writeVarint32(n){this.writeVaruint32(n<<1^n>>31)}writeString(n){let s=this.textEncoder.encode(n);this.writeVaruint32(s.byteLength),this.writeArray(s)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new rt(this.getData())}}return e.__className="ABIEncoder",e})(),_t=(()=>{class e{constructor(n){this.version=n.version||e.version,this.types=n.types||[],this.variants=n.variants||[],this.structs=n.structs||[],this.actions=n.actions||[],this.tables=n.tables||[],this.ricardian_clauses=n.ricardian_clauses||[],this.action_results=n.action_results||[]}static from(n){return Ke(n,e)?n:Ke(n,bc)?to({data:n.array,type:this}):typeof n=="string"?new e(JSON.parse(n)):new e(n)}static fromABI(n){let s=n.readString(),r=[],o=n.readVaruint32();for(let x=0;x<o;x++)r.push({new_type_name:n.readString(),type:n.readString()});let t=[],a=n.readVaruint32();for(let x=0;x<a;x++){let y=n.readString(),b=n.readString(),M=n.readVaruint32(),C=[];for(let w=0;w<M;w++)C.push({name:n.readString(),type:n.readString()});t.push({base:b,name:y,fields:C})}let p=[],c=n.readVaruint32();for(let x=0;x<c;x++){let y=te.fromABI(n),b=n.readString(),M=n.readString();p.push({name:y,type:b,ricardian_contract:M})}let u=[],h=n.readVaruint32();for(let x=0;x<h;x++){let y=te.fromABI(n),b=n.readString(),M=[],C=n.readVaruint32();for(let T=0;T<C;T++)M.push(n.readString());let w=[],S=n.readVaruint32();for(let T=0;T<S;T++)w.push(n.readString());let I=n.readString();u.push({name:y,index_type:b,key_names:M,key_types:w,type:I})}let l=[],d=n.readVaruint32();for(let x=0;x<d;x++){let y=n.readString(),b=n.readString();l.push({id:y,body:b})}let v=n.readVaruint32();for(let x=0;x<v;x++)n.advance(8),n.advance(n.readVaruint32());let f=n.readVaruint32();for(let x=0;x<f;x++)n.advance(2),n.advance(n.readVaruint32());let g=[];if(n.canRead()){let x=n.readVaruint32();for(let y=0;y<x;y++){let b=n.readString(),M=[],C=n.readVaruint32();for(let w=0;w<C;w++)M.push(n.readString());g.push({name:b,types:M})}}let m=[];if(n.canRead()){let x=n.readVaruint32();for(let y=0;y<x;y++){let b=te.fromABI(n),M=n.readString();m.push({name:b,result_type:M})}}return new e({version:s,types:r,structs:t,actions:p,tables:u,ricardian_clauses:l,variants:g,action_results:m})}toABI(n){n.writeString(this.version),n.writeVaruint32(this.types.length);for(let s of this.types)n.writeString(s.new_type_name),n.writeString(s.type);n.writeVaruint32(this.structs.length);for(let s of this.structs){n.writeString(s.name),n.writeString(s.base),n.writeVaruint32(s.fields.length);for(let r of s.fields)n.writeString(r.name),n.writeString(r.type)}n.writeVaruint32(this.actions.length);for(let s of this.actions)te.from(s.name).toABI(n),n.writeString(s.type),n.writeString(s.ricardian_contract);n.writeVaruint32(this.tables.length);for(let s of this.tables){te.from(s.name).toABI(n),n.writeString(s.index_type),n.writeVaruint32(s.key_names.length);for(let r of s.key_names)n.writeString(r);n.writeVaruint32(s.key_types.length);for(let r of s.key_types)n.writeString(r);n.writeString(s.type)}n.writeVaruint32(this.ricardian_clauses.length);for(let s of this.ricardian_clauses)n.writeString(s.id),n.writeString(s.body);n.writeVaruint32(0),n.writeVaruint32(0),n.writeVaruint32(this.variants.length);for(let s of this.variants){n.writeString(s.name),n.writeVaruint32(s.types.length);for(let r of s.types)n.writeString(r)}n.writeVaruint32(this.action_results.length);for(let s of this.action_results)te.from(s.name).toABI(n),n.writeString(s.result_type)}resolveType(n){let s={};return this.resolve({name:n,types:s},{id:0})}resolveAll(){let n={},s={id:0};return{types:this.types.map(r=>this.resolve({name:r.new_type_name,types:n},s)),variants:this.variants.map(r=>this.resolve({name:r.name,types:n},s)),structs:this.structs.map(r=>this.resolve({name:r.name,types:n},s))}}resolve({name:n,types:s},r){let o=s[n];if(o)return o;let t=new e.ResolvedType(n,++r.id);s[t.typeName]=t;let a=this.types.find(u=>u.new_type_name==t.name);if(a)return t.ref=this.resolve({name:a.type,types:s},r),t;let p=this.getStruct(t.name);if(p)return p.base&&(t.base=this.resolve({name:p.base,types:s},r)),t.fields=p.fields.map(u=>({name:u.name,type:this.resolve({name:u.type,types:s},r)})),t;let c=this.getVariant(t.name);return c&&(t.variant=c.types.map(u=>this.resolve({name:u,types:s},r))),t}getStruct(n){return this.structs.find(s=>s.name==n)}getVariant(n){return this.variants.find(s=>s.name==n)}getActionType(n){let s=te.from(n).toString(),r=this.actions.find(o=>o.name.toString()===s);if(r)return r.type}equals(n){let s=e.from(n);return this.version!=s.version||this.types.length!=s.types.length||this.structs.length!=s.structs.length||this.actions.length!=s.actions.length||this.tables.length!=s.tables.length||this.ricardian_clauses.length!=s.ricardian_clauses.length||this.variants.length!=s.variants.length||this.action_results.length!=s.action_results.length?!1:ns({object:this}).equals(ns({object:s}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants,action_results:this.action_results}}}return e.abiName="abi",e.version="eosio::abi/1.1",e})();(function(e){class i{constructor(s,r=0){let o=s;o.endsWith("$")?(o=o.slice(0,-1),this.isExtension=!0):this.isExtension=!1,o.endsWith("?")?(o=o.slice(0,-1),this.isOptional=!0):this.isOptional=!1,o.endsWith("[]")?(o=o.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=r,this.name=o}get typeName(){let s=this.name;return this.isArray&&(s+="[]"),this.isOptional&&(s+="?"),this.isExtension&&(s+="$"),s}get allFields(){let s=this,r=[],o=new Set;do{if(!s.fields||o.has(s.name))return;for(let t=s.fields.length-1;t>=0;t--)r.unshift(s.fields[t]);o.add(s.name),s=s.base}while(s!==void 0);return r}}e.ResolvedType=i})(_t||(_t={}));var F=(()=>{class e{static from(n){return n[xc]===!0?new this(n):Ke(n,this)?n:to({object:n,type:this})}static get structFields(){let n=[],s=r=>{r.abiBase&&s(r.abiBase);for(let o of r.abiFields||[])n.push(o)};return s(this),n}constructor(n){let s=this.constructor;for(let r of s.structFields){let o=typeof r.type=="string"?new _t.ResolvedType(String(r.type)).isOptional:r.optional,t=n[r.name];o&&!t||(this[r.name]=t)}}equals(n){let s=this.constructor;return n.constructor&&typeof n.constructor.abiName=="string"&&n.constructor.abiName!==s.abiName?!1:ns({object:this}).equals(ns({object:s.from(n)}))}toJSON(){let n=this.constructor,s={};for(let r of n.structFields)r.optional&&!this[r.name]||(s[r.name]=this[r.name]);return s}}return e.abiName="__struct",e})();(function(e){let i=Symbol("FieldsOwner");function n(r){return function(o){return o.abiName=r,o}}e.type=n;function s(r,o={}){return(t,a)=>{let p=t.constructor;p.abiFields?p.abiFields[i]!==p&&(p.abiBase=p.abiFields[i],p.abiFields=[],p.abiFields[i]=p):(p.abiFields=[],p.abiFields[i]=p),p.abiFields.push(Se(q({},o),{name:a,type:r}))}}e.field=s})(F||(F={}));function t1(e){return function(i){return i.abiAlias={type:Object.getPrototypeOf(i.prototype).constructor},i.abiName=e,i}}var Os=(()=>{class e{static from(n){return n[xc]?new this(n):Ke(n,this)?n:to({object:n,type:this})}constructor(n){let s=this.constructor.abiVariant;this.value=n[1];let r=s.map(wv).findIndex(o=>o===n[0]);if(0>r||s.length<=r)throw new Error(`Unknown variant ${n[0]}`);this.variantIdx=r}equals(n){let r=this.constructor.from(n);return this.variantIdx!==r.variantIdx?!1:ns({object:this}).equals(ns({object:r}))}get variantName(){let n=this.constructor.abiVariant[this.variantIdx];return wv(n)}toJSON(){return[this.variantName,this.value]}}return e.abiName="__variant",e.abiVariant=[],e})();(function(e){function i(n,s){return function(r){return r.abiName=n,r.abiVariant=s.map(mE),r}}e.type=i})(Os||(Os={}));var bE=(()=>{class e{static from(n){return Ke(n,this)?n:(typeof n=="string"?n=Number.parseFloat(n):Ke(n,e)&&(n=n.value),new this(n))}static fromABI(n){return new this(n.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){let n=Iv(this.byteWidth),s=new fh(n);return this.fromABI(s)}constructor(n){this.value=n}equals(n){let s=this.constructor;return this.value===s.from(n).value}toABI(n){let s=this.constructor;n.writeFloat(this.value,s.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}return e.abiName="__float",e})(),BJ=(()=>{class e extends bE{toString(){return this.value.toFixed(7)}}return e.abiName="float32",e.byteWidth=4,e})(),ci=(()=>{class e extends bE{}return e.abiName="float64",e.byteWidth=8,e})(),ME=(()=>{class e{static from(n){return Ke(n,this)?n:(typeof n=="string"&&n.startsWith("0x")&&(n=n.slice(2)),new this(rt.from(n)))}static fromABI(n){return new this(new rt(n.readArray(this.byteWidth)))}static random(){let n=Iv(16),s=new fh(n);return this.fromABI(s)}constructor(n){if(n.array.length!==16)throw new Error("Invalid float128");this.data=n}equals(n){let s=this.constructor;return this.data.equals(s.from(n).data)}toABI(n){n.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}return e.abiName="float128",e.byteWidth=16,e})(),te=(()=>{class e{get rawValue(){return this.value}static from(n){if(Ke(n,e))return n;if(typeof n=="string")return new e(VJ(n));if(Ke(n,At))return new e(n);throw new Error("Invalid name")}static fromABI(n){return new e(At.fromABI(n))}static abiDefault(){return new this(At.from(0))}constructor(n){this.value=n}equals(n){return this.value.equals(e.from(n).value)}toString(){return GJ(this.value)}toABI(n){this.value.toABI(n)}toJSON(){return this.toString()}}return e.abiName="name",e.pattern=/^[a-z1-5.]{0,13}$/,e})();function VJ(e){function i(r){return r>=97&&r<=122?r-97+6:r>=49&&r<=53?r-49+1:0}let n=new Uint8Array(8),s=63;for(let r=0;r<e.length;++r){let o=i(e.charCodeAt(r));s<5&&(o=o<<1);for(let t=4;t>=0;--t)s>=0&&(n[Math.floor(s/8)]|=(o>>t&1)<<s%8,--s)}return At.from(n)}function GJ(e){let i=e.value.toArray("le",8),n="";for(let s=63;s>=0;){let r=0;for(let o=0;o<5;++o)s>=0&&(r=r<<1|i[Math.floor(s/8)]>>s%8&1,--s);r>=6?n+=String.fromCharCode(r+97-6):r>=1?n+=String.fromCharCode(r+49-1):n+="."}for(;n.endsWith(".");)n=n.substr(0,n.length-1);return n}var Jx=(()=>{class e{static from(n){return Ke(n,this)?n:Ke(n,e)?this.fromMilliseconds(n.toMilliseconds()):Ke(n,Date)?this.fromDate(n):typeof n=="string"?this.fromString(n):this.fromInteger(n)}static fromString(n){let s=Date.parse(n+"Z");if(!Number.isFinite(s))throw new Error("Invalid date string");return this.fromMilliseconds(s)}static fromDate(n){return this.fromMilliseconds(n.getTime())}static abiDefault(){return this.from(0)}toABI(n){this.value.toABI(n)}equals(n){let s=this.constructor;return this.toMilliseconds()===s.from(n).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}return e.abiName="__time_point_base",e})(),yr=(()=>{class e extends Jx{static fromMilliseconds(n){return new this(qe.from(Math.round(n*1e3)))}static fromInteger(n){return new this(qe.from(n))}static fromABI(n){return new this(qe.fromABI(n))}constructor(n){super(),this.value=n}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}return e.abiName="time_point",e})(),_n=(()=>{class e extends Jx{static fromMilliseconds(n){return new this(et.from(Math.round(n/1e3)))}static fromInteger(n){return new this(et.from(n))}static fromABI(n){return new this(et.fromABI(n))}constructor(n){super(),this.value=n}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(At).multiplying(1e3))}}return e.abiName="time_point_sec",e})(),tl=(()=>{class e extends Jx{static fromMilliseconds(n){return new this(et.from(Math.round((n-9466848e5)/500)))}static fromInteger(n){return new this(et.from(n))}static fromABI(n){return new this(et.fromABI(n))}constructor(n){super(),this.value=n}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(At).multiplying(500).adding(9466848e5))}}return e.abiName="block_timestamp_type",e})(),Ge=(()=>{class e{static from(n,s){if(Ke(n,e))return n;switch(typeof n){case"number":if(!s)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(n,s);case"string":return this.fromString(n);default:throw new Error("Invalid asset")}}static fromString(n){let s=(typeof n=="string"?n:"").split(" ");if(s.length!==2)throw new Error("Invalid asset string");let r=s[0].replace(".",""),o=(s[0].split(".")[1]||"").length,t=e.Symbol.fromParts(s[1],o);return new e(qe.from(r),t)}static fromFloat(n,s){let r=e.Symbol.from(s);return new e(r.convertFloat(n),r)}static fromUnits(n,s){return new e(qe.from(n),e.Symbol.from(s))}static fromABI(n){let s=qe.fromABI(n),r=e.Symbol.fromABI(n);return new e(s,r)}static abiDefault(){return new this(qe.from(0),e.Symbol.abiDefault())}static formatUnits(n,s){let r=qe.from(n).toString().split(""),o=!1;for(r[0]==="-"&&(o=!0,r.shift());r.length<=s;)r.unshift("0");s>0&&r.splice(r.length-s,0,".");let t=r.join("");return o&&(t="-"+t),t}constructor(n,s){this.units=n,this.symbol=s}equals(n){let{symbol:s,units:r}=e.from(n);return this.symbol.value.equals(s.value)&&this.units.equals(r)}get value(){return this.symbol.convertUnits(this.units)}set value(n){this.units=this.symbol.convertFloat(n)}get quantity(){return e.formatUnits(this.units,this.symbol.precision)}toABI(n){this.units.toABI(n),this.symbol.toABI(n)}toString(){return this.quantity+" "+this.symbol.name}toJSON(){return this.toString()}}return e.abiName="asset",e})();(function(e){let i=(()=>{class s{static from(o){if(Ke(o,s))return o;if(Ke(o,At))return new s(o);let t=o.split(",");if(t.length!==2&&o!=="0,")throw new Error("Invalid symbol string");o==="0,"&&t.push("");let a=Number.parseInt(t[0]);return s.fromParts(t[1],a)}static fromParts(o,t){return new s(WJ(o,t))}static fromABI(o){return new s(At.fromABI(o))}static abiDefault(){return this.from("4,SYS")}constructor(o){if(pE(o)>s.maxPrecision)throw new Error("Invalid asset symbol, precision too large");if(!o.equals(0)&&!n.pattern.test(Ox(o)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=o}equals(o){return this.value.equals(s.from(o).value)}get name(){return Ox(this.value)}get precision(){return pE(this.value)}get code(){return new n(At.from(this.value.value.clone().iushrn(8)))}toABI(o){this.value.toABI(o)}convertUnits(o){return o.value.toNumber()/Math.pow(10,this.precision)}convertFloat(o){return qe.from(o.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}return s.abiName="symbol",s.maxPrecision=18,s})();e.Symbol=i;let n=(()=>{class s{static from(o){return Ke(o,s)?o:(typeof o=="string"&&(o=At.from(wE(o))),new this(At.from(o)))}static fromABI(o){return new s(At.fromABI(o))}static abiDefault(){return this.from("SYS")}constructor(o){if(!o.equals(0)&&!s.pattern.test(Ox(o)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=o}equals(o){return this.value.equals(s.from(o).value)}toABI(o){this.value.toABI(o)}toString(){return CE(this.value.value.toArray("be"))}toJSON(){return this.toString()}}return s.abiName="symbol_code",s.pattern=/^[A-Z]{0,7}$/,s})();e.SymbolCode=n})(Ge||(Ge={}));var zJ=(()=>{class e{static from(n){return Ke(n,e)?n:new this(Ge.from(n.quantity),te.from(n.contract))}static fromABI(n){return new e(Ge.fromABI(n),te.fromABI(n))}constructor(n,s){this.quantity=n,this.contract=s}equals(n){return this.quantity.equals(n.quantity)&&this.contract.equals(n.contract)}toABI(n){this.quantity.toABI(n),this.contract.toABI(n)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}return e.abiName="extended_asset",e})();function pE(e){return e.value.and(At.from(255).value).toNumber()}function Ox(e){let i=e.value.toArray("be").slice(0,-1);return CE(i)}function CE(e){return e.map(i=>String.fromCharCode(i)).reverse().join("")}function WJ(e,i){let n=wE(e),s=new Uint8Array(n.length+1);return s[0]=i,s.set(n,1),At.from(s)}function wE(e){let i=Math.min(e.length,7),n=new Uint8Array(i);for(let s=0;s<i;s++)n[s]=e.charCodeAt(s);return n}var mr;(function(e){let i;(function(v){v.E_CHECKSUM="E_CHECKSUM",v.E_INVALID="E_INVALID"})(i=e.ErrorCode||(e.ErrorCode={}));let n=(()=>{class v extends Error{constructor(g,m,x={}){super(g),this.code=m,this.info=x}}return v.__className="DecodingError",v})();e.DecodingError=n;let s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r=new Int16Array(255).fill(-1);for(let v=0;v<58;++v)r[s.charCodeAt(v)]=v;function o(v,f){if(f==null)return h(v);let g=new Uint8Array(f);for(let m=0;m<v.length;++m){let x=r[v.charCodeAt(m)];if(x<0)throw new n("Invalid Base58 character encountered",i.E_INVALID,{char:v[m]});for(let y=0;y<f;++y){let b=g[y]*58+x;g[y]=b,x=b>>8}if(x)throw new n("Base58 value is out of range",i.E_INVALID)}return g.reverse(),new rt(g)}e.decode=o;function t(v,f){let g=o(v,f!=null?f+4:f),m=g.array.subarray(0,-4),x=g.array.subarray(-4),y=d(m);if(!hh(x,y))throw new n("Checksum mismatch",i.E_CHECKSUM,{actual:y,expected:x,data:m,hash:"double_sha256"});return new rt(m)}e.decodeCheck=t;function a(v,f,g){let m=o(v,f!=null?f+4:f),x=m.array.subarray(0,-4),y=m.array.subarray(-4),b=l(x,g);if(!hh(y,b))throw new n("Checksum mismatch",i.E_CHECKSUM,{actual:b,expected:y,data:x,hash:"ripemd160"});return new rt(x)}e.decodeRipemd160Check=a;function p(v){v=rt.from(v);let f=[];for(let g of v.array){let m=g;for(let x=0;x<f.length;++x){let y=(r[f[x]]<<8)+m;f[x]=s.charCodeAt(y%58),m=y/58|0}for(;m;)f.push(s.charCodeAt(m%58)),m=m/58|0}for(let g of v.array){if(g)break;f.push(49)}return f.reverse(),String.fromCharCode(...f)}e.encode=p;function c(v){return v=rt.from(v),v=v.appending(d(v.array)),p(v)}e.encodeCheck=c;function u(v,f){return v=rt.from(v),v=v.appending(l(v.array,f)),p(v)}e.encodeRipemd160Check=u;function h(v){let f=[];for(let g=0;g<v.length;++g){let m=r[v.charCodeAt(g)];if(m<0)throw new n("Invalid Base58 character encountered",i.E_INVALID,{char:v[g]});for(let x=0;x<f.length;++x){let y=f[x]*58+m;f[x]=y&255,m=y>>8}m&&f.push(m)}for(let g of v)if(g==="1")f.push(0);else break;return f.reverse(),rt.from(f)}function l(v,f){let g=(0,eo.ripemd160)().update(v);return f&&g.update(f),new Uint8Array(g.digest().slice(0,4))}function d(v){let f=(0,eo.sha256)().update(v).digest(),g=(0,eo.sha256)().update(f).digest();return new Uint8Array(g.slice(0,4))}})(mr||(mr={}));var Gi=(()=>{class e{static from(n){if(Ke(n,e))return n;if(typeof n=="object"&&n.type&&n.compressed)return new e(Zt.from(n.type),new rt(n.compressed));if(typeof n!="string")throw new Error("Invalid public key");if(n.startsWith("PUB_")){let s=n.split("_");if(s.length!==3)throw new Error("Invalid public key string");let r=Zt.from(s[1]),o=r===Zt.K1||r===Zt.R1?33:void 0,t=mr.decodeRipemd160Check(s[2],o,r);return new e(r,t)}else if(n.length>=50){let s=mr.decodeRipemd160Check(n.slice(-50));return new e(Zt.K1,s)}else throw new Error("Invalid public key string")}static fromABI(n){let s=Zt.from(n.readByte());if(s==Zt.WA){let r=n.getPosition();n.advance(33),n.advance(1),n.advance(n.readVaruint32());let o=n.getPosition()-r;n.setPosition(r);let t=rt.from(n.readArray(o));return new e(Zt.WA,t)}return new e(s,new rt(n.readArray(33)))}constructor(n,s){this.type=n,this.data=s}equals(n){let s=e.from(n);return this.type===s.type&&this.data.equals(s.data)}toLegacyString(n="EOS"){if(this.type!==Zt.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${n}${mr.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${mr.encodeRipemd160Check(this.data,this.type)}`}toABI(n){n.writeByte(Zt.indexFor(this.type)),n.writeArray(this.data.array)}toJSON(){return this.toString()}}return e.abiName="public_key",e})(),Fx={};function vh(e){let i=Fx[e];if(!i)if(e==="K1")i=Fx[e]=new Px.ec("secp256k1");else if(e==="R1")i=Fx[e]=new Px.ec("p256");else throw new Error(`Unknown curve type: ${e}`);return i}function HJ(e,i,n){let s=vh(n),r=e[0]-31,o=e.subarray(1,33),t=e.subarray(33),a=s.recoverPubKey(i,{r:o,s:t},r);return new Uint8Array(a.encodeCompressed())}function jJ(e,i,n,s){let r=vh(s),o=e.subarray(1,33),t=e.subarray(33);return r.verify(i,{r:o,s:t},n)}var nl=(()=>{class e{static from(n){if(Ke(n,e))return n;if(typeof n=="object"&&n.r&&n.s){let s=new Uint8Array(65),r=n.recid,o=Zt.from(n.type);return(n.type===Zt.K1||n.type===Zt.R1)&&(r+=31),s[0]=r,s.set(n.r,1),s.set(n.s,33),new e(o,new rt(s))}if(typeof n!="string")throw new Error("Invalid signature");if(n.startsWith("SIG_")){let s=n.split("_");if(s.length!==3)throw new Error("Invalid signature string");let r=Zt.from(s[1]),o=r===Zt.K1||r===Zt.R1?65:void 0,t=mr.decodeRipemd160Check(s[2],o,r);return new e(r,t)}else throw new Error("Invalid signature string")}static fromABI(n){let s=Zt.from(n.readByte());if(s===Zt.WA){let r=n.getPosition();n.advance(65),n.advance(n.readVaruint32()),n.advance(n.readVaruint32());let o=n.getPosition()-r;n.setPosition(r);let t=rt.from(n.readArray(o));return new e(Zt.WA,t)}return new e(s,new rt(n.readArray(65)))}constructor(n,s){this.type=n,this.data=s}equals(n){let s=e.from(n);return this.type===s.type&&this.data.equals(s.data)}recoverDigest(n){n=vt.from(n);let s=HJ(this.data.array,n.array,this.type);return Gi.from({compressed:s,type:this.type})}recoverMessage(n){return this.recoverDigest(vt.hash(n))}verifyDigest(n,s){return n=vt.from(n),jJ(this.data.array,n.array,s.data.array,this.type)}verifyMessage(n,s){return this.verifyDigest(vt.hash(n),s)}toString(){return`SIG_${this.type}_${mr.encodeRipemd160Check(this.data,this.type)}`}toABI(n){n.writeByte(Zt.indexFor(this.type)),n.writeArray(this.data.array)}toJSON(){return this.toString()}}return e.abiName="signature",e})();function YJ(e,i){let r=vh(i).keyFromPrivate(e).getPublic();return new Uint8Array(r.encodeCompressed())}function UJ(e,i,n){let s=vh(n),r=s.keyFromPrivate(e),o=s.keyFromPublic(i).getPublic();return r.derive(o).toArrayLike(Uint8Array,"be")}function ZJ(e,i,n){let r=vh(n).keyFromPrivate(e),o,t,a;if(n==="K1"){let p=1;do o=r.sign(i,{canonical:!0,pers:[p++]}),t=o.r.toArrayLike(Uint8Array,"be",32),a=o.s.toArrayLike(Uint8Array,"be",32);while(!XJ(t,a))}else o=r.sign(i,{canonical:!0}),t=o.r.toArrayLike(Uint8Array,"be",32),a=o.s.toArrayLike(Uint8Array,"be",32);return{type:n,r:t,s:a,recid:o.recoveryParam||0}}function XJ(e,i){return!(e[0]&128)&&!(e[0]===0&&!(e[1]&128))&&!(i[0]&128)&&!(i[0]===0&&!(i[1]&128))}function $J(e){return vh(e).genKeyPair().getPrivate().toArrayLike(Uint8Array,"be",32)}var ph=class e{static from(i){return Ke(i,e)?i:this.fromString(i)}static fromString(i,n=!1){try{let{type:s,data:r}=JJ(i);return new this(s,r)}catch(s){if(s.message=`Invalid private key (${s.message})`,n&&Ke(s,mr.DecodingError)&&s.code===mr.ErrorCode.E_CHECKSUM){let r=i.startsWith("PVT_R1")?Zt.R1:Zt.K1,o=new rt(s.info.data);return o.length===33&&o.dropFirst(),o.zeropad(32,!0),new this(r,o)}throw s}}static generate(i){return new e(Zt.from(i),new rt($J(i)))}constructor(i,n){if((i===Zt.K1||i===Zt.R1)&&n.length!==32)throw new Error("Invalid private key length");this.type=i,this.data=n}signDigest(i){return i=vt.from(i),nl.from(ZJ(this.data.array,i.array,this.type))}signMessage(i){return this.signDigest(vt.hash(i))}sharedSecret(i){let n=UJ(this.data.array,i.data.array,this.type);return kv.hash(n)}toPublic(){let i=YJ(this.data.array,this.type);return Gi.from({compressed:i,type:this.type})}toWif(){if(this.type!==Zt.K1)throw new Error("Unable to generate WIF for non-k1 key");return mr.encodeCheck(rt.from([128]).appending(this.data))}toString(){return`PVT_${this.type}_${mr.encodeRipemd160Check(this.data,this.type)}`}toJSON(){return this.toString()}};function JJ(e){let i=typeof e;if(i!=="string")throw new Error(`Expected string, got ${i}`);if(e.startsWith("PVT_")){let n=e.split("_");if(n.length!==3)throw new Error("Invalid PVT format");let s=Zt.from(n[1]),r;switch(s){case Zt.K1:case Zt.R1:r=32;break}let o=mr.decodeRipemd160Check(n[2],r,s);return{type:s,data:o}}else{let n=Zt.K1,s=mr.decodeCheck(e);if(s.array[0]!==128)throw new Error("Invalid WIF");return{type:n,data:s.droppingFirst()}}}var Bx,jt=Bx=class extends F{static from(i){if(typeof i=="string"){let n=i.split("@");if(n.length!==2&&n[0].length>0&&n[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");i={actor:n[0],permission:n[1]}}return super.from(i)}equals(i){let n=Bx.from(i);return this.actor.equals(n.actor)&&this.permission.equals(n.permission)}toString(){return`${this.actor}@${this.permission}`}};z([F.field("name")],jt.prototype,"actor",void 0);z([F.field("name")],jt.prototype,"permission",void 0);jt=Bx=z([F.type("permission_level")],jt);var Vx,wn=Vx=class extends F{static from(i,n){let s=q({},i),r=s.data;if(!rt.isBytes(r)){let t;if(n)t=_t.from(n).getActionType(s.name);else if(!r.constructor||r.constructor.abiName===void 0)throw new Error("Missing ABI definition when creating action with untyped action data");s=Se(q({},s),{data:ns({object:r,type:t,abi:n})})}let o=super.from(s);if(n)o.abi=_t.from(n);else{let t=Sv(r);t&&(o.abi=_t.from(Se(q({},Tv(t).abi),{actions:[{name:o.name,type:t.abiName,ricardian_contract:""}]})))}return o}equals(i){let n=Vx.from(i,this.abi);return this.account.equals(n.account)&&this.name.equals(n.name)&&SJ(this.authorization,n.authorization)&&this.data.equals(n.data)}decodeData(i){if(typeof i=="string"||i.abiName)return to({data:this.data,type:i});{let n=_t.from(i),s=n.getActionType(this.name);if(!s)throw new Error(`Action ${this.name} does not exist in provided ABI`);return to({data:this.data,type:s,abi:n})}}get decoded(){if(!this.abi)throw new Error("Missing ABI definition when decoding action data");return Se(q({},this.toJSON()),{data:this.decodeData(this.abi)})}};z([F.field("name")],wn.prototype,"account",void 0);z([F.field("name")],wn.prototype,"name",void 0);z([F.field(jt,{array:!0})],wn.prototype,"authorization",void 0);z([F.field("bytes")],wn.prototype,"data",void 0);wn=Vx=z([F.type("action")],wn);var Gx,KJ=(()=>{let e=class extends F{};return z([F.field("uint16")],e.prototype,"type",void 0),z([F.field("bytes")],e.prototype,"data",void 0),e=z([F.type("transaction_extension")],e),e})(),SE=(()=>{let e=class extends F{static from(n){return super.from(q({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0},n))}};return z([F.field("time_point_sec")],e.prototype,"expiration",void 0),z([F.field("uint16")],e.prototype,"ref_block_num",void 0),z([F.field("uint32")],e.prototype,"ref_block_prefix",void 0),z([F.field("varuint32")],e.prototype,"max_net_usage_words",void 0),z([F.field("uint8")],e.prototype,"max_cpu_usage_ms",void 0),z([F.field("varuint32")],e.prototype,"delay_sec",void 0),e=z([F.type("transaction_header")],e),e})(),Cn=Gx=class extends SE{static from(i,n){let s=p=>{if(n)return Array.isArray(n)?n.filter(c=>te.from(c.contract).equals(p)).map(({abi:c})=>c)[0]:n},r=p=>p instanceof wn?p:wn.from(p,s(p.account)),o=(i.actions||[]).map(r),t=(i.context_free_actions||[]).map(r),a=Se(q({transaction_extensions:[]},i),{context_free_actions:t,actions:o});return super.from(a)}equals(i){let n=Gx.from(i);return this.id.equals(n.id)}get id(){return vt.hash(ns({object:this}))}signingDigest(i){let n=this.signingData(i);return vt.hash(n)}signingData(i){let n=rt.from(vt.from(i).array);return n=n.appending(ns({object:this})),n=n.appending(new Uint8Array(32)),n}};z([F.field(wn,{array:!0})],Cn.prototype,"context_free_actions",void 0);z([F.field(wn,{array:!0})],Cn.prototype,"actions",void 0);z([F.field(KJ,{array:!0})],Cn.prototype,"transaction_extensions",void 0);Cn=Gx=z([F.type("transaction")],Cn);var qo=(()=>{let e=class extends Cn{get transaction(){return Cn.from(Se(q({},this),{signatures:void 0,context_free_data:void 0}))}get id(){return this.transaction.id}static from(n){return super.from(q({signatures:[],context_free_data:[]},n))}};return z([F.field("signature[]")],e.prototype,"signatures",void 0),z([F.field("bytes[]")],e.prototype,"context_free_data",void 0),e=z([F.type("signed_transaction")],e),e})(),Qf=function(e){return e[e.none=0]="none",e[e.zlib=1]="zlib",e}(Qf||{}),fa=(()=>{let e=class extends F{static from(n){return super.from(q({signatures:[],packed_context_free_data:"",compression:0},n))}static fromSigned(n,s=1){let r=ns({object:Cn.from(n)}),o=ns({object:n.context_free_data,type:"bytes[]"});switch(s){case Qf.zlib:{r=da.deflate(r.array),o=da.deflate(o.array);break}case Qf.none:break}return this.from({compression:s,signatures:n.signatures,packed_context_free_data:o,packed_trx:r})}getTransaction(){switch(Number(this.compression)){case Qf.none:return to({data:this.packed_trx,type:Cn});case Qf.zlib:{let n=da.inflate(this.packed_trx.array);return to({data:n,type:Cn})}default:throw new Error(`Unknown transaction compression ${this.compression}`)}}getSignedTransaction(){let n=this.getTransaction();return qo.from(Se(q({},n),{signatures:this.signatures}))}};return z([F.field("signature[]")],e.prototype,"signatures",void 0),z([F.field("uint8")],e.prototype,"compression",void 0),z([F.field("bytes")],e.prototype,"packed_context_free_data",void 0),z([F.field("bytes")],e.prototype,"packed_trx",void 0),e=z([F.type("packed_transaction")],e),e})(),IE=(()=>{let e=class extends F{};return z([F.field("string")],e.prototype,"status",void 0),z([F.field("uint32")],e.prototype,"cpu_usage_us",void 0),z([F.field("uint32")],e.prototype,"net_usage_words",void 0),e=z([F.type("transaction_receipt")],e),e})(),zx,Ev=(()=>{let e=class extends si{};return e=z([t1("weight_type")],e),e})(),Av=(()=>{let e=class extends F{};return z([F.field(Gi)],e.prototype,"key",void 0),z([F.field(Ev)],e.prototype,"weight",void 0),e=z([F.type("key_weight")],e),e})(),Kx=(()=>{let e=class extends F{};return z([F.field(jt)],e.prototype,"permission",void 0),z([F.field(Ev)],e.prototype,"weight",void 0),e=z([F.type("permission_level_weight")],e),e})(),Lv=(()=>{let e=class extends F{};return z([F.field(et)],e.prototype,"wait_sec",void 0),z([F.field(Ev)],e.prototype,"weight",void 0),e=z([F.type("wait_weight")],e),e})(),no=zx=class extends F{static from(i){if(Ke(i,zx))return i;let n=super.from(q({keys:[],accounts:[],waits:[]},i));return n.sort(),n}get waitThreshold(){return this.waits.reduce((i,n)=>i+n.weight.toNumber(),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(i){let n=this.keys.find(({key:s})=>s.equals(i));return n?n.weight.toNumber():0}hasPermission(i,n=!1){let s=n?1:this.keyThreshold;return this.keyWeight(i)>=s}sort(){this.keys.sort((i,n)=>String(i.key).localeCompare(String(n.key))),this.accounts.sort((i,n)=>String(i.permission).localeCompare(String(n.permission))),this.waits.sort((i,n)=>String(i.wait_sec).localeCompare(String(n.wait_sec)))}};z([F.field(et)],no.prototype,"threshold",void 0);z([F.field(Av,{array:!0})],no.prototype,"keys",void 0);z([F.field(Kx,{array:!0})],no.prototype,"accounts",void 0);z([F.field(Lv,{array:!0})],no.prototype,"waits",void 0);no=zx=z([F.type("authority")],no);var Ji=(()=>{class e{static from(n){return Ke(n,this)?n:rt.isBytes(n)?new this(rt.from(n).array):this.fromBlockChecksum(n.checksum,n.blockNum)}static fromABI(n){return new this(n.readArray(32))}static fromBlockChecksum(n,s){let r=new e(vt.from(n).array),o=new Uint8Array(4);return o[0]=Number(s)>>24&255,o[1]=Number(s)>>16&255,o[2]=Number(s)>>8&255,o[3]=Number(s)&255,r.array.set(o,0),r}constructor(n){if(n.byteLength!==32)throw new Error(`BlockId size mismatch, expected 32 bytes got ${n.byteLength}`);this.array=n}equals(n){let s=this.constructor;try{return hh(this.array,s.from(n).array)}catch{return!1}}toABI(n){n.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}get hexString(){return Yx(this.array)}get blockNum(){let n=this.array.slice(0,4),s=0;for(let r=0;r<4;r++)s=(s<<8)+n[r];return et.from(s)}}return e.abiName="block_id_type",e})(),yt;(function(e){e.encode=ns,e.decode=to;function i(r){return Tv(r).abi}e.synthesize=i;function n(r){return JSON.stringify(r)}e.stringify=n;function s(r){let o=t=>{switch(typeof t){case"boolean":case"number":case"string":return t;case"object":{if(t===null)return t;if(typeof t.toJSON=="function")return o(t.toJSON());if(Array.isArray(t))return t.map(o);let a={};for(let p of Object.keys(t))a[p]=o(t[p]);return a}}};return o(r)}e.objectify=s})(yt||(yt={}));var io=class{constructor(i,n={}){if(this.headers={},i=i.trim(),i.endsWith("/")&&(i=i.slice(0,-1)),this.url=i,n.headers&&(this.headers=n.headers),n.fetch)this.fetch=n.fetch;else if(typeof window<"u"&&window.fetch)this.fetch=window.fetch.bind(window);else if(typeof global<"u"&&global.fetch)this.fetch=global.fetch.bind(global);else throw new Error("Missing fetch")}call(i){return fe(this,null,function*(){let n=this.url+i.path,s=i.params!==void 0?JSON.stringify(i.params):void 0,r=q(q({},this.headers),i.headers),o=yield this.fetch(n,{method:i.method||"POST",body:s,headers:r}),t=yield o.text(),a;try{a=JSON.parse(t)}catch{}let p={};for(let[c,u]of o.headers.entries())p[c]=u;return{headers:p,status:o.status,json:a,text:t}})}},kE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"account",void 0),z([F.field("name",{optional:!0})],e.prototype,"action",void 0),e=z([F.type("account_linked_action")],e),e})(),TE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"perm_name",void 0),z([F.field("name")],e.prototype,"parent",void 0),z([F.field(no)],e.prototype,"required_auth",void 0),z([F.field(kE,{optional:!0,array:!0})],e.prototype,"linked_actions",void 0),e=z([F.type("account_permission")],e),e})(),Mv=(()=>{let e=class extends F{};return z([F.field("int64")],e.prototype,"used",void 0),z([F.field("int64")],e.prototype,"available",void 0),z([F.field("int64")],e.prototype,"max",void 0),z([F.field("time_point",{optional:!0})],e.prototype,"last_usage_update_time",void 0),z([F.field("int64",{optional:!0})],e.prototype,"current_used",void 0),e=z([F.type("account_resource_limit")],e),e})(),EE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"owner",void 0),z([F.field("asset")],e.prototype,"net_weight",void 0),z([F.field("asset")],e.prototype,"cpu_weight",void 0),z([F.field("uint64")],e.prototype,"ram_bytes",void 0),e=z([F.type("account_total_resources")],e),e})(),AE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"from",void 0),z([F.field("name")],e.prototype,"to",void 0),z([F.field("asset")],e.prototype,"net_weight",void 0),z([F.field("asset")],e.prototype,"cpu_weight",void 0),e=z([F.type("account_self_delegated_bandwidth")],e),e})(),LE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"owner",void 0),z([F.field("time_point")],e.prototype,"request_time",void 0),z([F.field("asset")],e.prototype,"net_amount",void 0),z([F.field("asset")],e.prototype,"cpu_amount",void 0),e=z([F.type("account_refund_request")],e),e})(),RE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"owner",void 0),z([F.field("name")],e.prototype,"proxy",void 0),z([F.field("name",{array:!0})],e.prototype,"producers",void 0),z([F.field("int64",{optional:!0})],e.prototype,"staked",void 0),z([F.field("float64")],e.prototype,"last_vote_weight",void 0),z([F.field("float64")],e.prototype,"proxied_vote_weight",void 0),z([F.field("bool")],e.prototype,"is_proxy",void 0),z([F.field("uint32",{optional:!0})],e.prototype,"flags1",void 0),z([F.field("uint32")],e.prototype,"reserved2",void 0),z([F.field("string")],e.prototype,"reserved3",void 0),e=z([F.type("account_voter_info")],e),e})(),DE=(()=>{let e=class extends F{};return z([F.field("time_point",{optional:!0})],e.prototype,"key",void 0),z([F.field("int64",{optional:!0})],e.prototype,"value",void 0),z([F.field("time_point",{optional:!0})],e.prototype,"first",void 0),z([F.field("int64",{optional:!0})],e.prototype,"second",void 0),e=z([F.type("account_rex_info_maturities")],e),e})(),OE=(()=>{let e=class extends F{};return z([F.field("uint32")],e.prototype,"version",void 0),z([F.field("name")],e.prototype,"owner",void 0),z([F.field("asset")],e.prototype,"vote_stake",void 0),z([F.field("asset")],e.prototype,"rex_balance",void 0),z([F.field("int64")],e.prototype,"matured_rex",void 0),z([F.field(DE,{array:!0})],e.prototype,"rex_maturities",void 0),e=z([F.type("account_rex_info")],e),e})(),FE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"account_name",void 0),z([F.field("checksum256")],e.prototype,"code_hash",void 0),z([F.field("checksum256")],e.prototype,"abi_hash",void 0),z([F.field(bc)],e.prototype,"abi",void 0),e=z([F.type("get_raw_abi_response")],e),e})(),PE=(()=>{let e=class extends F{getPermission(n){let s=te.from(n),r=this.permissions.find(o=>o.perm_name.equals(s));if(!r)throw new Error(`Unknown permission ${s} on account ${this.account_name}.`);return r}};return z([F.field("name")],e.prototype,"account_name",void 0),z([F.field("uint32")],e.prototype,"head_block_num",void 0),z([F.field("time_point")],e.prototype,"head_block_time",void 0),z([F.field("bool")],e.prototype,"privileged",void 0),z([F.field("time_point")],e.prototype,"last_code_update",void 0),z([F.field("time_point")],e.prototype,"created",void 0),z([F.field("asset?")],e.prototype,"core_liquid_balance",void 0),z([F.field("int64")],e.prototype,"ram_quota",void 0),z([F.field("int64")],e.prototype,"net_weight",void 0),z([F.field("int64")],e.prototype,"cpu_weight",void 0),z([F.field(Mv)],e.prototype,"net_limit",void 0),z([F.field(Mv)],e.prototype,"cpu_limit",void 0),z([F.field(Mv,{optional:!0})],e.prototype,"subjective_cpu_bill_limit",void 0),z([F.field("uint64")],e.prototype,"ram_usage",void 0),z([F.field(TE,{array:!0})],e.prototype,"permissions",void 0),z([F.field(EE,{optional:!0})],e.prototype,"total_resources",void 0),z([F.field(AE,{optional:!0})],e.prototype,"self_delegated_bandwidth",void 0),z([F.field(LE,{optional:!0})],e.prototype,"refund_request",void 0),z([F.field(RE,{optional:!0})],e.prototype,"voter_info",void 0),z([F.field(OE,{optional:!0})],e.prototype,"rex_info",void 0),e=z([F.type("account_object")],e),e})(),NE=(()=>{let e=class extends F{};return z([F.field(te)],e.prototype,"account_name",void 0),z([F.field(te)],e.prototype,"permission_name",void 0),z([F.field(Gi,{optional:!0})],e.prototype,"authorizing_key",void 0),z([F.field(jt,{optional:!0})],e.prototype,"authorizing_account",void 0),z([F.field(Ev)],e.prototype,"weight",void 0),z([F.field(et)],e.prototype,"threshold",void 0),e=z([F.type("account_by_authorizers_row")],e),e})(),BE=(()=>{let e=class extends F{};return z([F.field(NE,{array:!0})],e.prototype,"accounts",void 0),e=z([F.type("account_by_authorizers")],e),e})(),VE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"producer_name",void 0),z([F.field("public_key")],e.prototype,"block_signing_key",void 0),e=z([F.type("new_producers_entry")],e),e})(),GE=(()=>{let e=class extends F{};return z([F.field("uint32")],e.prototype,"version",void 0),z([F.field(VE,{array:!0})],e.prototype,"producers",void 0),e=z([F.type("new_producers")],e),e})(),QJ=(()=>{let e=class extends F{};return z([F.field("uint16")],e.prototype,"type",void 0),z([F.field("bytes")],e.prototype,"data",void 0),e=z([F.type("block_extension")],e),e})(),_J=(()=>{let e=class extends F{};return z([F.field("uint16")],e.prototype,"type",void 0),z([F.field("bytes")],e.prototype,"data",void 0),e=z([F.type("header_extension")],e),e})(),zE=(()=>{let e=class{static from(n){let s,r;return typeof n=="string"?(s=vt.from(n),r={}):(s=vt.from(n.id),r=n),new this(s,r)}constructor(n,s){this.id=n,this.extra=s}get transaction(){if(this.extra.packed_trx)switch(this.extra.compression){case"zlib":{let n=da.inflate(rt.from(this.extra.packed_trx,"hex").array);return yt.decode({data:n,type:Cn})}case"none":return yt.decode({data:this.extra.packed_trx,type:Cn});default:throw new Error(`Unsupported compression type ${this.extra.compression}`)}}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(nl.from)}equals(n){return this.id.equals(n.id)}toJSON(){return this.id}};return e.abiName="trx_variant",e})(),WE=(()=>{let e=class extends IE{get id(){return this.trx.id}};return z([F.field(zE)],e.prototype,"trx",void 0),e=z([F.type("get_block_response_receipt")],e),e})(),HE=(()=>{let e=class extends F{};return z([F.field("time_point")],e.prototype,"timestamp",void 0),z([F.field("name")],e.prototype,"producer",void 0),z([F.field("uint16")],e.prototype,"confirmed",void 0),z([F.field(Ji)],e.prototype,"previous",void 0),z([F.field("checksum256")],e.prototype,"transaction_mroot",void 0),z([F.field("checksum256")],e.prototype,"action_mroot",void 0),z([F.field("uint32")],e.prototype,"schedule_version",void 0),z([F.field(GE,{optional:!0})],e.prototype,"new_producers",void 0),z([F.field("any",{optional:!0})],e.prototype,"header_extensions",void 0),z([F.field("any",{optional:!0})],e.prototype,"new_protocol_features",void 0),z([F.field("signature")],e.prototype,"producer_signature",void 0),z([F.field(WE,{array:!0})],e.prototype,"transactions",void 0),z([F.field("block_extension",{optional:!0})],e.prototype,"block_extensions",void 0),z([F.field(Ji)],e.prototype,"id",void 0),z([F.field("uint32")],e.prototype,"block_num",void 0),z([F.field("uint32")],e.prototype,"ref_block_prefix",void 0),e=z([F.type("get_block_response")],e),e})(),jE=(()=>{let e=class extends F{};return z([F.field("uint32")],e.prototype,"block_num",void 0),z([F.field("uint32")],e.prototype,"ref_block_num",void 0),z([F.field(Ji)],e.prototype,"id",void 0),z([F.field("time_point")],e.prototype,"timestamp",void 0),z([F.field("name")],e.prototype,"producer",void 0),z([F.field("uint16")],e.prototype,"confirmed",void 0),z([F.field(Ji)],e.prototype,"previous",void 0),z([F.field("checksum256")],e.prototype,"transaction_mroot",void 0),z([F.field("checksum256")],e.prototype,"action_mroot",void 0),z([F.field("uint32")],e.prototype,"schedule_version",void 0),z([F.field("signature")],e.prototype,"producer_signature",void 0),z([F.field("uint32")],e.prototype,"ref_block_prefix",void 0),e=z([F.type("get_block_response")],e),e})(),YE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"producer_name",void 0),z([F.field("any")],e.prototype,"authority",void 0),e=z([F.type("active_schedule_producer_authority")],e),e})(),UE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"producer_name",void 0),z([F.field(YE)],e.prototype,"authority",void 0),e=z([F.type("active_schedule_producer")],e),e})(),qJ=(()=>{let e=class extends F{};return z([F.field("uint32")],e.prototype,"version",void 0),z([F.field(UE,{array:!0})],e.prototype,"producers",void 0),e=z([F.type("active_schedule")],e),e})(),ZE=(()=>{let e=class extends F{};return z([F.field("time_point")],e.prototype,"timestamp",void 0),z([F.field("name")],e.prototype,"producer",void 0),z([F.field("uint16")],e.prototype,"confirmed",void 0),z([F.field(Ji)],e.prototype,"previous",void 0),z([F.field("checksum256")],e.prototype,"transaction_mroot",void 0),z([F.field("checksum256")],e.prototype,"action_mroot",void 0),z([F.field("uint32")],e.prototype,"schedule_version",void 0),z([F.field("any",{array:!0,optional:!0})],e.prototype,"header_extensions",void 0),z([F.field("signature")],e.prototype,"producer_signature",void 0),e=z([F.type("block_state_header")],e),e})(),XE=(()=>{let e=class extends F{};return z([F.field("uint32")],e.prototype,"block_num",void 0),z([F.field("uint32")],e.prototype,"dpos_proposed_irreversible_blocknum",void 0),z([F.field("uint32")],e.prototype,"dpos_irreversible_blocknum",void 0),z([F.field(Ji)],e.prototype,"id",void 0),z([F.field(ZE)],e.prototype,"header",void 0),z([F.field("any")],e.prototype,"active_schedule",void 0),z([F.field("any")],e.prototype,"blockroot_merkle",void 0),z([F.field("any")],e.prototype,"producer_to_last_produced",void 0),z([F.field("any")],e.prototype,"producer_to_last_implied_irb",void 0),z([F.field("any")],e.prototype,"valid_block_signing_authority",void 0),z([F.field("any")],e.prototype,"confirm_count",void 0),z([F.field("any")],e.prototype,"pending_schedule",void 0),z([F.field("any",{optional:!0})],e.prototype,"activated_protocol_features",void 0),z([F.field("any")],e.prototype,"additional_signatures",void 0),e=z([F.type("get_block_header_state_response")],e),e})(),$E=(()=>{let e=class extends F{getTransactionHeader(n=120){let s=_n.fromMilliseconds(this.head_block_time.toMilliseconds()+n*1e3),o=this.last_irreversible_block_id.array.subarray(8,12),t=new Uint32Array(o.buffer,o.byteOffset,1)[0];return SE.from({expiration:s,ref_block_num:Number(this.last_irreversible_block_num)&65535,ref_block_prefix:t})}};return z([F.field("string")],e.prototype,"server_version",void 0),z([F.field("checksum256")],e.prototype,"chain_id",void 0),z([F.field("uint32")],e.prototype,"head_block_num",void 0),z([F.field("uint32")],e.prototype,"last_irreversible_block_num",void 0),z([F.field(Ji)],e.prototype,"last_irreversible_block_id",void 0),z([F.field(Ji)],e.prototype,"head_block_id",void 0),z([F.field("time_point")],e.prototype,"head_block_time",void 0),z([F.field("name")],e.prototype,"head_block_producer",void 0),z([F.field("uint64")],e.prototype,"virtual_block_cpu_limit",void 0),z([F.field("uint64")],e.prototype,"virtual_block_net_limit",void 0),z([F.field("uint64")],e.prototype,"block_cpu_limit",void 0),z([F.field("uint64")],e.prototype,"block_net_limit",void 0),z([F.field("string?")],e.prototype,"server_version_string",void 0),z([F.field("uint32?")],e.prototype,"fork_db_head_block_num",void 0),z([F.field("block_id_type?")],e.prototype,"fork_db_head_block_id",void 0),e=z([F.type("get_info_response")],e),e})(),JE=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"code",void 0),z([F.field("name")],e.prototype,"scope",void 0),z([F.field("name")],e.prototype,"table",void 0),z([F.field("name")],e.prototype,"payer",void 0),z([F.field("uint32")],e.prototype,"count",void 0),e=z([F.type("get_table_by_scope_response_row")],e),e})(),KE=(()=>{let e=class extends F{};return z([F.field(JE,{array:!0})],e.prototype,"rows",void 0),z([F.field("string")],e.prototype,"more",void 0),e=z([F.type("get_table_by_scope_response")],e),e})(),QE=(()=>{let e=class extends F{};return z([F.field(At)],e.prototype,"global_action_seq",void 0),z([F.field(qe)],e.prototype,"account_action_seq",void 0),z([F.field(et)],e.prototype,"block_num",void 0),z([F.field(tl)],e.prototype,"block_time",void 0),z([F.field("any")],e.prototype,"action_trace",void 0),z([F.field("boolean?")],e.prototype,"irrevirsible",void 0),e=z([F.type("ordered_action_result")],e),e})(),_E=(()=>{let e=class extends F{};return z([F.field(QE,{array:!0})],e.prototype,"actions",void 0),z([F.field(dh)],e.prototype,"last_irreversible_block",void 0),z([F.field(dh)],e.prototype,"head_block_num",void 0),z([F.field("boolean?")],e.prototype,"time_limit_exceeded_error",void 0),e=z([F.type("get_actions_response")],e),e})(),eK=(()=>{let e=class extends F{};return e=z([F.type("transaction_trace")],e),e})(),tK=(()=>{let e=class extends F{};return z([F.field("any")],e.prototype,"actions",void 0),z([F.field("any")],e.prototype,"context_free_actions",void 0),z([F.field("any")],e.prototype,"context_free_data",void 0),z([F.field("number")],e.prototype,"delay_sec",void 0),z([F.field("string")],e.prototype,"expiration",void 0),z([F.field("number")],e.prototype,"max_cpu_usage_ms",void 0),z([F.field("number")],e.prototype,"max_net_usage_words",void 0),z([F.field("number")],e.prototype,"ref_block_num",void 0),z([F.field("number")],e.prototype,"ref_block_prefix",void 0),z([F.field("string",{array:!0})],e.prototype,"signatures",void 0),e=z([F.type("trx")],e),e})(),nK=(()=>{let e=class extends F{};return z([F.field(IE)],e.prototype,"receipt",void 0),z([F.field("trx")],e.prototype,"trx",void 0),e=z([F.type("transaction_info")],e),e})(),qE=(()=>{let e=class extends F{};return z([F.field(vt)],e.prototype,"id",void 0),z([F.field(et)],e.prototype,"block_num",void 0),z([F.field(tl)],e.prototype,"block_time",void 0),z([F.field(et)],e.prototype,"last_irreversible_block",void 0),z([F.field("any?")],e.prototype,"traces",void 0),z([F.field("any")],e.prototype,"trx",void 0),e=z([F.type("get_transaction_response")],e),e})(),eA=(()=>{let e=class extends F{};return z([F.field("name",{array:!0})],e.prototype,"account_names",void 0),e=z([F.type("get_key_accounts_response")],e),e})(),tA=(()=>{let e=class extends F{};return z([F.field(_t)],e.prototype,"abi",void 0),z([F.field("name")],e.prototype,"account_name",void 0),z([F.field("checksum256")],e.prototype,"code_hash",void 0),z([F.field("string")],e.prototype,"wast",void 0),z([F.field("string")],e.prototype,"wasm",void 0),e=z([F.type("get_code_response")],e),e})(),nA=(()=>{let e=class extends F{};return z([F.field("name",{array:!0})],e.prototype,"controlled_accounts",void 0),e=z([F.type("get_controlled_accounts_response")],e),e})(),iA=(()=>{let e=class extends F{};return z([F.field("asset")],e.prototype,"supply",void 0),z([F.field("asset")],e.prototype,"max_supply",void 0),z([F.field("name")],e.prototype,"issuer",void 0),e=z([F.type("get_currency_stats_item_response")],e),e})(),rA=(()=>{let e=class extends F{};return z([F.field("string")],e.prototype,"state",void 0),z([F.field("uint32")],e.prototype,"head_number",void 0),z([F.field(Ji)],e.prototype,"head_id",void 0),z([F.field("time_point")],e.prototype,"head_timestamp",void 0),z([F.field("uint32")],e.prototype,"irreversible_number",void 0),z([F.field(Ji)],e.prototype,"irreversible_id",void 0),z([F.field("time_point")],e.prototype,"irreversible_timestamp",void 0),z([F.field(Ji)],e.prototype,"earliest_tracked_block_id",void 0),z([F.field("uint32")],e.prototype,"earliest_tracked_block_number",void 0),e=z([F.type("get_transaction_status_response")],e),e})(),sA=(()=>{let e=class extends F{};return z([F.field(et)],e.prototype,"threshold",void 0),z([F.field(Av,{array:!0})],e.prototype,"keys",void 0),e=z([F.type("producer_authority")],e),e})(),aA=(()=>{let e=class extends F{static from(n){return super.from(Se(q({},n),{authority:[n.authority[0],sA.from(n.authority[1])]}))}};return z([F.field("name")],e.prototype,"producer_name",void 0),z([F.field("any",{array:!0})],e.prototype,"authority",void 0),e=z([F.type("producer")],e),e})(),Cv=(()=>{let e=class extends F{};return z([F.field("uint32")],e.prototype,"version",void 0),z([F.field(aA,{array:!0})],e.prototype,"producers",void 0),e=z([F.type("producer_schedule")],e),e})(),oA=(()=>{let e=class extends F{};return z([F.field(Cv,{optional:!0})],e.prototype,"active",void 0),z([F.field(Cv,{optional:!0})],e.prototype,"pending",void 0),z([F.field(Cv,{optional:!0})],e.prototype,"proposed",void 0),e=z([F.type("get_producer_schedule_response")],e),e})(),lA=(()=>{let e=class extends F{};return z([F.field("checksum256")],e.prototype,"feature_digest",void 0),z([F.field("uint32")],e.prototype,"activation_ordinal",void 0),z([F.field("uint32")],e.prototype,"activation_block_num",void 0),z([F.field("checksum256")],e.prototype,"description_digest",void 0),z([F.field("string",{array:!0})],e.prototype,"dependencies",void 0),z([F.field("string")],e.prototype,"protocol_feature_type",void 0),z([F.field("any",{array:!0})],e.prototype,"specification",void 0),e=z([F.type("protocol_feature")],e),e})(),cA=(()=>{let e=class extends F{};return z([F.field(lA,{array:!0})],e.prototype,"activated_protocol_features",void 0),z([F.field("uint32",{optional:!0})],e.prototype,"more",void 0),e=z([F.type("get_protocol_features_response")],e),e})(),iK=Object.freeze({__proto__:null,get AccountByAuthorizersRow(){return NE},get AccountLinkedAction(){return kE},get AccountObject(){return PE},get AccountPermission(){return TE},get AccountRefundRequest(){return LE},get AccountResourceLimit(){return Mv},get AccountRexInfo(){return OE},get AccountRexInfoMaturities(){return DE},get AccountSelfDelegatedBandwidth(){return AE},get AccountTotalResources(){return EE},get AccountVoterInfo(){return RE},get AccountsByAuthorizers(){return BE},get ActiveSchedule(){return qJ},get ActiveScheduleProducer(){return UE},get ActiveScheduleProducerAuthority(){return YE},get BlockExtension(){return QJ},get BlockStateHeader(){return ZE},get GetActionsResponse(){return _E},get GetBlockHeaderStateResponse(){return XE},get GetBlockInfoResponse(){return jE},get GetBlockResponse(){return HE},get GetBlockResponseTransactionReceipt(){return WE},get GetCodeResponse(){return tA},get GetControlledAccountsResponse(){return nA},get GetCurrencyStatsItemResponse(){return iA},get GetInfoResponse(){return $E},get GetKeyAccountsResponse(){return eA},get GetProducerScheduleResponse(){return oA},get GetProtocolFeaturesResponse(){return cA},get GetRawAbiResponse(){return FE},get GetTableByScopeResponse(){return KE},get GetTableByScopeResponseRow(){return JE},get GetTransactionResponse(){return qE},get GetTransactionStatusResponse(){return rA},get HeaderExtension(){return _J},get NewProducers(){return GE},get NewProducersEntry(){return VE},get OrderedActionsResult(){return QE},get Producer(){return aA},get ProducerAuthority(){return sA},get ProducerSchedule(){return Cv},get ProtocolFeature(){return lA},get TransactionInfo(){return nK},get TransactionTrace(){return eK},get Trx(){return tK},TrxVariant:zE}),Wx=class{constructor(i){this.client=i}get_abi(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:te.from(i)}})})}get_code(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_code",params:{account_name:te.from(i)},responseType:tA})})}get_raw_abi(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_raw_abi",params:{account_name:te.from(i)},responseType:FE})})}get_account(s){return fe(this,arguments,function*(i,n=PE){return this.client.call({path:"/v1/chain/get_account",params:{account_name:te.from(i)},responseType:n})})}get_accounts_by_authorizers(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_accounts_by_authorizers",params:i,responseType:BE})})}get_activated_protocol_features(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_activated_protocol_features",params:i,responseType:cA})})}get_block(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:i},responseType:HE})})}get_block_header_state(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:i},responseType:XE})})}get_block_info(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_block_info",params:{block_num:i},responseType:jE})})}get_currency_balance(i,n,s){return fe(this,null,function*(){let r={account:te.from(n),code:te.from(i)};return s&&(r.symbol=s),this.client.call({path:"/v1/chain/get_currency_balance",params:r,responseType:"asset[]"})})}get_currency_stats(i,n){return fe(this,null,function*(){let s={code:te.from(i),symbol:n},r=yield this.client.call({path:"/v1/chain/get_currency_stats",params:s}),o={};return Object.keys(r).forEach(t=>o[t]=iA.from(r[t])),o})}get_info(){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_info",responseType:$E,method:"GET"})})}get_producer_schedule(){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_producer_schedule",responseType:oA})})}compute_transaction(i){return fe(this,null,function*(){return Ke(i,fa)||(i=fa.fromSigned(qo.from(i))),this.client.call({path:"/v1/chain/compute_transaction",params:{transaction:i}})})}send_read_only_transaction(i){return fe(this,null,function*(){return Ke(i,fa)||(i=fa.fromSigned(qo.from(i))),this.client.call({path:"/v1/chain/send_read_only_transaction",params:{transaction:i}})})}push_transaction(i){return fe(this,null,function*(){return Ke(i,fa)||(i=fa.fromSigned(qo.from(i))),this.client.call({path:"/v1/chain/push_transaction",params:i})})}send_transaction(i){return fe(this,null,function*(){return Ke(i,fa)||(i=fa.fromSigned(qo.from(i))),this.client.call({path:"/v1/chain/send_transaction",params:i})})}send_transaction2(i,n){return fe(this,null,function*(){return Ke(i,fa)||(i=fa.fromSigned(qo.from(i))),this.client.call({path:"/v1/chain/send_transaction2",params:q({return_failure_trace:!0,retry_trx:!1,retry_trx_num_blocks:0,transaction:i},n)})})}get_table_rows(i){return fe(this,null,function*(){let n=i.type,s=i.key_type,r=i.lower_bound||i.upper_bound;!s&&r&&(Ke(r,At)?s="i64":Ke(r,Vi)?s="i128":Ke(r,vt)?s="sha256":Ke(r,e1)&&(s="ripemd160")),s||(s="name");let o=i.json;o===void 0&&(o=n===void 0);let t=i.upper_bound;t&&typeof t!="string"&&(t=String(t));let a=i.lower_bound;a&&typeof a!="string"&&(a=String(a));let p=i.scope;typeof p>"u"?p=String(te.from(i.code)):typeof p!="string"&&(p=String(p));let{rows:c,more:u,next_key:h}=yield this.client.call({path:"/v1/chain/get_table_rows",params:Se(q({},i),{code:te.from(i.code),table:te.from(i.table),limit:i.limit!==void 0?et.from(i.limit):void 0,scope:p,key_type:s,json:o,upper_bound:t,lower_bound:a})}),l;if(i.show_payer&&(l=[],c=c.map(({data:d,payer:v})=>(l.push(te.from(v)),d))),n&&(o?c=c.map(d=>typeof d=="string"&&rt.isBytes(d)?yt.decode({data:rt.from(d),type:n}):yt.decode({object:d,type:n})):c=c.map(d=>rt.from(d)).map(d=>yt.decode({data:d,type:n}))),h&&h.length>0){let d;switch(s){case"i64":d=At;break;case"i128":d=Vi;break;case"name":d=te;break;case"float64":d=ci;break;case"float128":d=ME;break;case"sha256":d=vt;break;case"ripemd160":d=e1;break;default:throw new Error(`Unsupported key type: ${s}`)}d===te?h=te.from(yt.decode({object:h,type:At})):h=yt.decode({object:h,type:d})}else h=void 0;return{rows:c,more:u,next_key:h,ram_payers:l}})}get_table_by_scope(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_table_by_scope",params:i,responseType:KE})})}get_transaction_status(i){return fe(this,null,function*(){return this.client.call({path:"/v1/chain/get_transaction_status",params:{id:vt.from(i)},responseType:rA})})}},Hx=class{constructor(i){this.client=i}get_actions(i,n,s){return fe(this,null,function*(){return this.client.call({path:"/v1/history/get_actions",params:{account_name:te.from(i),pos:dh.from(n),offset:dh.from(s)},responseType:_E})})}get_transaction(s){return fe(this,arguments,function*(i,n={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:vt.from(i),block_num_hint:n.blockNumHint&&et.from(n.blockNumHint),traces:n.excludeTraces===!0?!1:void 0},responseType:qE})})}get_key_accounts(i){return fe(this,null,function*(){return this.client.call({path:"/v1/history/get_key_accounts",params:{public_key:Gi.from(i)},responseType:eA})})}get_controlled_accounts(i){return fe(this,null,function*(){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:te.from(i)},responseType:nA})})}},rK=(()=>{class e extends Error{static formatError(n){return n.what==="unspecified"&&n.details[0].file&&n.details[0].file==="http_plugin.cpp"&&n.details[0].message.slice(0,11)==="unknown key"?"Account not found":n.what==="unspecified"&&n.details&&n.details.length>0?n.details[0].message:n.what&&n.what.length>0?n.what:"Unknown API error"}constructor(n,s){let r;s.json&&s.json.error?r=`${e.formatError(s.json.error)} at ${n}`:r=`HTTP ${s.status} at ${n}`,super(r),this.path=n,this.response=s}get error(){let{json:n}=this.response;return n?n.error:void 0}get name(){let{error:n}=this;return n?n.name:"unspecified"}get code(){let{error:n}=this;return n?n.code:0}get details(){let{error:n}=this;return n?n.details:[]}}return e.__className="APIError",e})(),pa=(()=>{class e{constructor(n){if(this.v1={chain:new Wx(this),history:new Hx(this)},n.provider)this.provider=n.provider;else if(n.url)this.provider=new io(n.url,n);else throw new Error("Missing url or provider")}call(n){return fe(this,null,function*(){let s=yield this.provider.call(n),{json:r}=s;if(Math.floor(s.status/100)!==2||r&&typeof r.error=="object")throw new rK(n.path,s);return n.responseType?to({type:n.responseType,object:s.json}):s.json||s.text})}}return e.__className="APIClient",e})(),Mc=Object.freeze({__proto__:null,v1:iK}),jx;var sK=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"producer_name",void 0),z([F.field("public_key")],e.prototype,"block_signing_key",void 0),e=z([F.type("new_producers_entry")],e),e})(),aK=(()=>{let e=class extends F{};return z([F.field("uint32")],e.prototype,"version",void 0),z([F.field(sK,{array:!0})],e.prototype,"producers",void 0),e=z([F.type("new_producers")],e),e})();var Fs=jx=class extends F{get blockNum(){return this.previous.blockNum.adding(1)}get id(){let i=vt.hash(yt.encode({object:this,type:jx}));return Ji.fromBlockChecksum(i,this.blockNum)}};z([F.field("uint32")],Fs.prototype,"timeSlot",void 0);z([F.field("name")],Fs.prototype,"producer",void 0);z([F.field("uint16")],Fs.prototype,"confirmed",void 0);z([F.field(Ji)],Fs.prototype,"previous",void 0);z([F.field(Ji)],Fs.prototype,"transaction_mroot",void 0);z([F.field(Ji)],Fs.prototype,"action_mroot",void 0);z([F.field("uint32")],Fs.prototype,"schedule_version",void 0);z([F.field(aK,{optional:!0})],Fs.prototype,"new_producers",void 0);z([F.field("any",{array:!0})],Fs.prototype,"header_extensions",void 0);Fs=jx=z([F.type("block_header")],Fs);var n1=class e extends Error{constructor(i,n=!1){super(i),this.silent=!1,this.silent=n,Object.setPrototypeOf(this,e.prototype)}};function Dv(e,i){let n=null,s=new Promise((r,o)=>{n=(t="",a=!1)=>{try{i&&i(new n1(t,a))}catch(p){o(p)}return s},e.then(r,o)});return n&&(s.cancel=n),s}function ti(e,i,n,s){var r=arguments.length,o=r<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,n):s,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,i,n,s);else for(var a=e.length-1;a>=0;a--)(t=e[a])&&(o=(r<3?t(o):r>3?t(i,n,o):t(i,n))||o);return r>3&&o&&Object.defineProperty(i,n,o),o}var oK=(()=>{let e=class extends F{url(n){return`${this.prefix}${n}${this.suffix}`}};return ti([F.field("string")],e.prototype,"prefix",void 0),ti([F.field("string")],e.prototype,"suffix",void 0),e=ti([F.type("explorer_definition")],e),e})(),Qx,xr=Qx=class extends F{static from(i){return typeof i=="string"?new Qx({light:i,dark:i}):super.from(i)}getVariant(i){return this[i]}toString(){return this.light}};ti([F.field("string")],xr.prototype,"dark",void 0);ti([F.field("string")],xr.prototype,"light",void 0);xr=Qx=ti([F.type("logo")],xr);var lK=(()=>{let e=class extends F{};return ti([F.field(vt)],e.prototype,"chain",void 0),ti([F.field(te)],e.prototype,"contract",void 0),ti([F.field(Ge.Symbol)],e.prototype,"symbol",void 0),e=ti([F.type("token_identifier")],e),e})();var Ln=class e{constructor(i){this.id=vt.from(i.id),this.url=i.url,this.logo=i.logo,this.explorer=i.explorer,this.accountDataType=i.accountDataType,this.coinType=i.coinType,i.systemTokenContract&&i.systemTokenSymbol&&(this.systemToken=lK.from({chain:this.id,contract:i.systemTokenContract,symbol:i.systemTokenSymbol})),i.systemToken&&(this.systemToken=i.systemToken)}static from(i){return new e(Se(q({},i),{explorer:i.explorer?oK.from(i.explorer):void 0,logo:i.logo?xr.from(i.logo):void 0}))}get name(){let i=dK.get(String(this.id));return i?cK[i]:"Unknown blockchain"}getLogo(){let i=String(this.id);if(this.logo)return xr.from(this.logo);if(dA.has(i)){let n=dA.get(i);if(n)return xr.from(n)}}equals(i){let n=e.from(i);return this.id.equals(n.id)&&this.url===n.url}},cK={EOS:"EOS",FIO:"FIO",FIOTestnet:"FIO (Testnet)",Jungle4:"Jungle 4 (Testnet)",KylinTestnet:"Kylin (Testnet)",Libre:"Libre",LibreTestnet:"Libre (Testnet)",Proton:"XPR Network",ProtonTestnet:"XPR Network (Testnet)",Telos:"Telos",TelosTestnet:"Telos (Testnet)",UX:"UX Network",WAX:"WAX",WAXTestnet:"WAX (Testnet)",XPR:"XPR Network",XPRTestnet:"XPR Network (Testnet)"},uK=(()=>{let e=class extends Mc.v1.AccountVoterInfo{};return ti([F.field(qe)],e.prototype,"last_stake",void 0),e=ti([F.type("telos_account_voter_info")],e),e})(),uA=(()=>{let e=class extends Mc.v1.AccountObject{};return ti([F.field(uK,{optional:!0})],e.prototype,"voter_info",void 0),e=ti([F.type("telos_account_object")],e),e})(),hK=(()=>{let e=class extends Mc.v1.AccountVoterInfo{};return ti([F.field(ci)],e.prototype,"unpaid_voteshare",void 0),ti([F.field(yr)],e.prototype,"unpaid_voteshare_last_updated",void 0),ti([F.field(ci)],e.prototype,"unpaid_voteshare_change_rate",void 0),ti([F.field(yr)],e.prototype,"last_claim_time",void 0),e=ti([F.type("wax_account_voter_info")],e),e})(),hA=(()=>{let e=class extends Mc.v1.AccountObject{};return ti([F.field(hK,{optional:!0})],e.prototype,"voter_info",void 0),e=ti([F.type("wax_account_object")],e),e})(),Rv;(function(e){e.EOS=Ln.from({id:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",url:"https://eos.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.FIO=Ln.from({id:"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c",url:"https://fio.greymass.com",coinType:235,systemTokenSymbol:"9,FIO",systemTokenContract:"eosio.token"}),e.FIOTestnet=Ln.from({id:"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e",url:"https://fiotestnet.greymass.com",systemTokenSymbol:"9,FIO",systemTokenContract:"fio.token"}),e.Jungle4=Ln.from({id:"73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d",url:"https://jungle4.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.KylinTestnet=Ln.from({id:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",url:"https://kylintestnet.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),e.Libre=Ln.from({id:"38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465",url:"https://libre.greymass.com",systemTokenSymbol:"4,LIBRE",systemTokenContract:"eosio.token"}),e.LibreTestnet=Ln.from({id:"b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee",url:"https://libretestnet.greymass.com",systemTokenSymbol:"4,LIBRE",systemTokenContract:"eosio.token"}),e.Proton=Ln.from({id:"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0",url:"https://proton.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.ProtonTestnet=Ln.from({id:"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd",url:"https://proton-testnet.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.Telos=Ln.from({id:"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11",url:"https://telos.greymass.com",accountDataType:uA,coinType:977,systemTokenSymbol:"4,TLOS",systemTokenContract:"eosio.token"}),e.TelosTestnet=Ln.from({id:"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f",url:"https://telostestnet.greymass.com",accountDataType:uA,coinType:977,systemTokenSymbol:"4,TLOS",systemTokenContract:"eosio.token"}),e.UX=Ln.from({id:"8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02",url:"https://api.uxnetwork.io",systemTokenSymbol:"4,UTX",systemTokenContract:"eosio.token"}),e.WAX=Ln.from({id:"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4",url:"https://wax.greymass.com",accountDataType:hA,coinType:14001,systemTokenSymbol:"8,WAX",systemTokenContract:"eosio.token"}),e.WAXTestnet=Ln.from({id:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",url:"https://waxtestnet.greymass.com",accountDataType:hA,coinType:14001,systemTokenSymbol:"8,WAX",systemTokenContract:"eosio.token"}),e.XPR=Ln.from({id:"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0",url:"https://proton.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),e.XPRTestnet=Ln.from({id:"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd",url:"https://proton-testnet.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"})})(Rv||(Rv={}));var dK=new Map([["aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","EOS"],["21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","FIO"],["b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","FIOTestnet"],["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d","Jungle4"],["5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191","KylinTestnet"],["38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465","Libre"],["b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee","LibreTestnet"],["384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0","XPR"],["71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","XPRTestnet"],["4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","Telos"],["1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","TelosTestnet"],["8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02","UX"],["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4","WAX"],["f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","WAXTestnet"]]),dA=new Map([["aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","https://assets.wharfkit.com/chain/eos.png"],["21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","https://assets.wharfkit.com/chain/fio.png"],["b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","https://assets.wharfkit.com/chain/fio.png"],["2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840","https://assets.wharfkit.com/chain/jungle.png"],["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d","https://assets.wharfkit.com/chain/jungle.png"],["38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465","https://assets.wharfkit.com/chain/libre.png"],["b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee","https://assets.wharfkit.com/chain/libre.png"],["384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0","https://assets.wharfkit.com/chain/xprnetwork.png"],["71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","https://assets.wharfkit.com/chain/xprnetwork.png"],["4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","https://assets.wharfkit.com/chain/telos.png"],["1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","https://assets.wharfkit.com/chain/telos.png"],["8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02","https://assets.wharfkit.com/chain/ux.png"],["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4","https://assets.wharfkit.com/chain/wax.png"],["f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","https://assets.wharfkit.com/chain/wax.png"]]);var br=tr(Jr());function Ov(e,i){var n;i===void 0&&(i="0");var s=0,r=-1;e[0]=="-"&&(e=e.substring(1),eb(e)||(s++,r=1,e.length)),i[0]=="-"&&(i=i.substring(1),eb(i)||(s++,r=2,i.length)),e=zi(e),i=zi(i),n=sb(zi(e),zi(i)),e=n[0],i=n[1],s==1&&(r===1?e=_x(e):r===2&&(i=_x(i)));var o=yA(e,i);return s?s==2?"-"+zi(o):e.length<o.length?zi(o.substring(1)):"-"+zi(_x(o)):zi(o)}function _x(e){if(eb(e))return e;for(var i="",n=e.length,s=e.split(".")[1],r=s?s.length:0,o=0;o<n;o++)e[o]>="0"&&e[o]<="9"?i+=9-parseInt(e[o]):i+=e[o];var t=r>0?"0."+new Array(r).join("0")+"1":"1";return yA(i,t)}function zi(e){var i=e.split(".");for(i[0]||(i[0]="0");i[0][0]=="0"&&i[0].length>1;)i[0]=i[0].substring(1);return i[0]+(i[1]?"."+i[1]:"")}function sb(e,i){var n=e.split("."),s=i.split("."),r=n[0].length,o=s[0].length;return r>o?s[0]=new Array(Math.abs(r-o)+1).join("0")+(s[0]?s[0]:""):n[0]=new Array(Math.abs(r-o)+1).join("0")+(n[0]?n[0]:""),r=n[1]?n[1].length:0,o=s[1]?s[1].length:0,(r||o)&&(r>o?s[1]=(s[1]?s[1]:"")+new Array(Math.abs(r-o)+1).join("0"):n[1]=(n[1]?n[1]:"")+new Array(Math.abs(r-o)+1).join("0")),e=n[0]+(n[1]?"."+n[1]:""),i=s[0]+(s[1]?"."+s[1]:""),[e,i]}function yA(e,i){var n;n=sb(e,i),e=n[0],i=n[1];for(var s="",r=0,o=e.length-1;o>=0;o--){if(e[o]==="."){s="."+s;continue}var t=parseInt(e[o])+parseInt(i[o])+r;s=t%10+s,r=Math.floor(t/10)}return r?r.toString()+s:s}function eb(e){return/^0[0]*[.]{0,1}[0]*$/.test(e)}function fA(e){return(typeof e=="number"||typeof e=="bigint")&&(e=e.toString()),e[0]=="-"?e.substring(1):e}var ni=function(e){return e[e.CEILING=0]="CEILING",e[e.DOWN=1]="DOWN",e[e.FLOOR=2]="FLOOR",e[e.HALF_DOWN=3]="HALF_DOWN",e[e.HALF_EVEN=4]="HALF_EVEN",e[e.HALF_UP=5]="HALF_UP",e[e.UNNECESSARY=6]="UNNECESSARY",e[e.UP=7]="UP",e}(ni||{});function i1(e,i,n){if(i===void 0&&(i=0),n===void 0&&(n=ni.HALF_EVEN),n===ni.UNNECESSARY)throw new Error("UNNECESSARY Rounding Mode has not yet been implemented");(typeof e=="number"||typeof e=="bigint")&&(e=e.toString());var s=!1;e[0]==="-"&&(s=!0,e=e.substring(1));var r=e.split("."),o=r[0],t=r[1];if(i<0){if(i=-i,o.length<=i)return"0";var a=o.substr(0,o.length-i);return e=a+"."+o.substr(o.length-i)+t,a=i1(e,0,n),(s?"-":"")+a+new Array(i+1).join("0")}if(i==0)return o.length,pA(r[1],o,s,n)&&(o=qx(o)),(s&&parseInt(o)?"-":"")+o;if(r[1]){if(r[1].length<i)return(s?"-":"")+o+"."+r[1]+new Array(i-r[1].length+1).join("0")}else return(s?"-":"")+o+"."+new Array(i+1).join("0");t=r[1].substring(0,i);var p=r[1].substring(i);return p&&pA(p,t,s,n)&&(t=qx(t),t.length>i)?(s?"-":"")+qx(o,parseInt(t[0]))+"."+t.substring(1):(s&&(parseInt(o)||parseInt(t))?"-":"")+o+"."+t}function pA(e,i,n,s){if(!e||e===new Array(e.length+1).join("0")||s===ni.DOWN||!n&&s===ni.FLOOR||n&&s===ni.CEILING)return!1;if(s===ni.UP||n&&s===ni.FLOOR||!n&&s===ni.CEILING)return!0;var r="5"+new Array(e.length).join("0");if(e>r)return!0;if(e<r)return!1;switch(s){case ni.HALF_DOWN:return!1;case ni.HALF_UP:return!0;case ni.HALF_EVEN:default:return parseInt(i[i.length-1])%2==1}}function qx(e,i){i===void 0&&(i=0),i||(i=1),typeof e=="number"&&e.toString();for(var n=e.length-1,s="",r=n;r>=0;r--){var o=parseInt(e[r])+i;o==10?(i=1,o=0):i=0,s+=o}return i&&(s+=i),s.split("").reverse().join("")}function il(e){var i=e[0]==="-";for(i&&(e=e.substr(1));e[0]=="0";)e=e.substr(1);if(e.indexOf(".")!=-1)for(;e[e.length-1]=="0";)e=e.substr(0,e.length-1);return e==""||e=="."?e="0":e[e.length-1]=="."&&(e=e.substr(0,e.length-1)),e[0]=="."&&(e="0"+e),i&&e!="0"&&(e="-"+e),e}function tb(e,i){e=e.toString(),i=i.toString();var n=0;e[0]=="-"&&(n++,e=e.substr(1)),i[0]=="-"&&(n++,i=i.substr(1)),e=il(e),i=il(i);var s=0,r=0;e.indexOf(".")!=-1&&(s=e.length-e.indexOf(".")-1),i.indexOf(".")!=-1&&(r=i.length-i.indexOf(".")-1);var o=s+r;if(e=il(e.replace(".","")),i=il(i.replace(".","")),e.length<i.length){var t=e;e=i,i=t}if(i=="0")return"0";for(var a=i.length,p=0,c=[],u=a-1,h="",l=0;l<a;l++)c[l]=e.length-1;for(var l=0;l<2*e.length;l++){for(var d=0,v=i.length-1;v>=u&&v>=0;v--)c[v]>-1&&c[v]<e.length&&(d+=parseInt(e[c[v]--])*parseInt(i[v]));d+=p,p=Math.floor(d/10),h=d%10+h,u--}return h=il(fK(h,o)),n==1&&(h="-"+h),h}function fK(e,i){return i==0?e:(e=i>=e.length?new Array(i-e.length+1).join("0")+e:e,e.substr(0,e.length-i)+"."+e.substr(e.length-i,i))}function nb(e,i,n,s){if(n===void 0&&(n=8),s===void 0&&(s=ni.HALF_EVEN),i==0)throw new Error("Cannot divide by 0");if(e=e.toString(),i=i.toString(),e=e.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),i=i.replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,""),e==0)return"0";var r=0;i[0]=="-"&&(i=i.substring(1),r++),e[0]=="-"&&(e=e.substring(1),r++);var o=i.indexOf(".")>0?i.length-i.indexOf(".")-1:-1;if(i=zi(i.replace(".","")),o>=0){var t=e.indexOf(".")>0?e.length-e.indexOf(".")-1:-1;if(t==-1)e=zi(e+new Array(o+1).join("0"));else if(o>t)e=e.replace(".",""),e=zi(e+new Array(o-t+1).join("0"));else if(o<t){e=e.replace(".","");var a=e.length-t+o;e=zi(e.substring(0,a)+"."+e.substring(a))}else o==t&&(e=zi(e.replace(".","")))}var p=0,c=i.length,u="",h=e.indexOf(".")>-1&&e.indexOf(".")<c?e.substring(0,c+1):e.substring(0,c);if(e=e.indexOf(".")>-1&&e.indexOf(".")<c?e.substring(c+1):e.substring(c),h.indexOf(".")>-1){var l=h.length-h.indexOf(".")-1;h=h.replace(".",""),c>h.length&&(l+=c-h.length,h=h+new Array(c-h.length+1).join("0")),p=l,u="0."+new Array(l).join("0")}for(n=n+2;p<=n;){for(var d=0;parseInt(h)>=parseInt(i);)h=Ov(h,"-"+i),d++;u+=d,e?(e[0]=="."&&(u+=".",p++,e=e.substring(1)),h=h+e.substring(0,1),e=e.substring(1)):(p||(u+="."),p++,h=h+"0")}return(r==1?"-":"")+zi(i1(u,n-2,s))}function ib(e,i){return e=e.toString(),i=i.toString(),i=rb(i),Ov(e,i)}function rb(e){return e[0]=="-"?e=e.substr(1):e="-"+e,e}function vA(e,i){if(i==0)throw new Error("Cannot divide by 0");e=e.toString(),i=i.toString(),gA(e),gA(i);var n="";e[0]=="-"&&(n="-",e=e.substr(1)),i[0]=="-"&&(i=i.substr(1));var s=ib(e,tb(i,i1(nb(e,i),0,ni.FLOOR)));return n+s}function gA(e){if(e.indexOf(".")!=-1)throw new Error("Modulus of non-integers not supported")}function mA(e,i){var n,s,r=!1;if(n=[e,i].map(function(t){return il(t)}),e=n[0],i=n[1],e[0]=="-"&&i[0]!="-")return-1;if(e[0]!="-"&&i[0]=="-")return 1;if(e[0]=="-"&&i[0]=="-"&&(e=e.substr(1),i=i.substr(1),r=!0),s=sb(e,i),e=s[0],i=s[1],e.localeCompare(i)==0)return 0;for(var o=0;o<e.length;o++)if(e[o]!=i[o])return e[o]>i[o]?r?-1:1:r?1:-1;return 0}var ab=function(){function e(i){i===void 0&&(i="0"),this.value=e.validate(i)}return e.validate=function(i){if(i){if(i=i.toString(),isNaN(i))throw Error("Parameter is not a number: "+i);i[0]=="+"&&(i=i.substring(1))}else i="0";if(i.startsWith(".")?i="0"+i:i.startsWith("-.")&&(i="-0"+i.substr(1)),/e/i.test(i)){var n=i.split(/[eE]/),s=n[0],r=n[1];s=zi(s);var o="";s[0]=="-"&&(o="-",s=s.substring(1)),s.indexOf(".")>=0?(r=parseInt(r)+s.indexOf("."),s=s.replace(".","")):r=parseInt(r)+s.length,s.length<r?i=o+s+new Array(r-s.length+1).join("0"):s.length>=r&&r>0?i=o+zi(s.substring(0,r))+(s.length>r?"."+s.substring(r):""):i=o+"0."+new Array(-r+1).join("0")+s}return i},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(i){this.value=e.validate(i)},e.getPrettyValue=function(i,n,s){n===void 0&&(n=3),s===void 0&&(s=","),i=e.validate(i);var r=i.charAt(0)=="-";r&&(i=i.substring(1));var o=i.indexOf(".");o=o>0?o:i.length;for(var t="",a=o;a>0;)a<n?(n=a,a=0):a-=n,t=i.substring(a,a+n)+(a<o-n&&a>=0?s:"")+t;return(r?"-":"")+t+i.substring(o)},e.prototype.getPrettyValue=function(i,n){return i===void 0&&(i=3),n===void 0&&(n=","),e.getPrettyValue(this.value,i,n)},e.round=function(i,n,s){if(n===void 0&&(n=0),s===void 0&&(s=ni.HALF_EVEN),i=e.validate(i),isNaN(n))throw Error("Precision is not a number: "+n);return i1(i,n,s)},e.prototype.round=function(i,n){if(i===void 0&&(i=0),n===void 0&&(n=ni.HALF_EVEN),isNaN(i))throw Error("Precision is not a number: "+i);return new e(i1(this.value,i,n))},e.abs=function(i){return i=e.validate(i),fA(i)},e.prototype.abs=function(){return new e(fA(this.value))},e.floor=function(i){return i=e.validate(i),i.indexOf(".")===-1?i:e.round(i,0,ni.FLOOR)},e.prototype.floor=function(){return this.value.indexOf(".")===-1?new e(this.value):new e(this.value).round(0,ni.FLOOR)},e.ceil=function(i){return i=e.validate(i),i.indexOf(".")===-1?i:e.round(i,0,ni.CEILING)},e.prototype.ceil=function(){return this.value.indexOf(".")===-1?new e(this.value):new e(this.value).round(0,ni.CEILING)},e.add=function(i,n){return i=e.validate(i),n=e.validate(n),Ov(i,n)},e.prototype.add=function(i){return new e(Ov(this.value,i.getValue()))},e.subtract=function(i,n){return i=e.validate(i),n=e.validate(n),ib(i,n)},e.prototype.subtract=function(i){return new e(ib(this.value,i.getValue()))},e.multiply=function(i,n){return i=e.validate(i),n=e.validate(n),tb(i,n)},e.prototype.multiply=function(i){return new e(tb(this.value,i.getValue()))},e.divide=function(i,n,s,r){return i=e.validate(i),n=e.validate(n),nb(i,n,s,r)},e.prototype.divide=function(i,n,s){return new e(nb(this.value,i.getValue(),n,s))},e.modulus=function(i,n){return i=e.validate(i),n=e.validate(n),vA(i,n)},e.prototype.modulus=function(i){return new e(vA(this.value,i.getValue()))},e.compareTo=function(i,n){return i=e.validate(i),n=e.validate(n),mA(i,n)},e.prototype.compareTo=function(i){return mA(this.value,i.getValue())},e.negate=function(i){return i=e.validate(i),rb(i)},e.prototype.negate=function(){return new e(rb(this.value))},e.stripTrailingZero=function(i){return i=e.validate(i),il(i)},e.prototype.stripTrailingZero=function(){return new e(il(this.value))},e.RoundingModes=ni,e}();var MA=(()=>{class e extends F{constructor(){super(...arguments),this.default_block_cpu_limit=At.from(2e5),this.default_block_net_limit=At.from(1048576e3)}get allocated(){return 1-Number(this.weight_ratio)/Number(this.target_weight_ratio)/100}get reserved(){return new br.default(String(this.utilization))/new br.default(String(this.weight))}get symbol(){return this.min_price.symbol}cast(){return{adjusted_utilization:Number(this.adjusted_utilization),decay_secs:Number(this.decay_secs.value),exponent:Number(this.exponent),utilization:Number(this.utilization),utilization_timestamp:Number(this.utilization_timestamp.value),weight:new br.default(String(this.weight)),weight_ratio:Number(this.weight_ratio)}}utilization_increase(n,s){let{weight:r}=this,o=Vi.from(s),t=new br.default(r.value.mul(new br.default(o.value)))/Math.pow(10,15);return Math.ceil(t)}price_function(n){let{exponent:s,weight:r}=this.cast(),o=this.max_price.value,t=this.min_price.value,a=t,p=s-1;if(p<=0)return o;{let c=new br.default(n)/r;a+=(o-t)*Math.pow(c,p)}return a}price_integral_delta(n,s){let{exponent:r,weight:o}=this.cast(),t=this.max_price.value,a=this.min_price.value,p=(t-a)/r,c=new br.default(n)/o,u=new br.default(s)/o;return a*u-a*c+p*Math.pow(u,r)-p*Math.pow(c,r)}fee(n,s){let{utilization:r,weight:o}=this.cast(),t=r,a=t+n,p=0;if(t<s){let c=Math.min(n,s-t);p+=Number(new ab(this.price_function(s)*c).divide(new ab(o.toString())).getValue()),t=s}return t<a&&(p+=this.price_integral_delta(t,a)),p}determine_adjusted_utilization(n){let{decay_secs:s,utilization:r,utilization_timestamp:o}=this.cast(),{adjusted_utilization:t}=this.cast();if(r<t){let a=n&&n.timestamp?n.timestamp:new Date,p=_n.from(a).toMilliseconds()/1e3,c=t-r,u=c*Math.exp(-(p-o)/s);u=Math.min(Math.max(u,0),c),t=r+u}return t}}return z([F.field("uint8")],e.prototype,"version",void 0),z([F.field("int64")],e.prototype,"weight",void 0),z([F.field("int64")],e.prototype,"weight_ratio",void 0),z([F.field("int64")],e.prototype,"assumed_stake_weight",void 0),z([F.field("int64")],e.prototype,"initial_weight_ratio",void 0),z([F.field("int64")],e.prototype,"target_weight_ratio",void 0),z([F.field("time_point_sec")],e.prototype,"initial_timestamp",void 0),z([F.field("time_point_sec")],e.prototype,"target_timestamp",void 0),z([F.field("float64")],e.prototype,"exponent",void 0),z([F.field("uint32")],e.prototype,"decay_secs",void 0),z([F.field("asset")],e.prototype,"min_price",void 0),z([F.field("asset")],e.prototype,"max_price",void 0),z([F.field("int64")],e.prototype,"utilization",void 0),z([F.field("int64")],e.prototype,"adjusted_utilization",void 0),z([F.field("time_point_sec")],e.prototype,"utilization_timestamp",void 0),e})(),pK=(()=>{let e=class extends MA{constructor(){super(...arguments),this.per_day=n=>this.us_per_day(n),this.frac=(n,s)=>this.frac_by_us(n,s),this.frac_by_ms=(n,s)=>this.frac_by_us(n,s*1e3),this.price_per=(n,s=1e3,r)=>this.price_per_us(n,s,r),this.price_per_ms=(n,s=1,r)=>this.price_per_us(n,s*1e3,r)}ms_per_day(n){return this.us_per_day(n)/1e3}us_per_day(n){let s=n&&n.virtual_block_cpu_limit?n.virtual_block_cpu_limit:this.default_block_cpu_limit;return Number(s)*2*60*60*24}weight_to_us(n,s){return Math.ceil(s*Number(n)/Cc)}us_to_weight(n,s){return Math.floor(s/Number(n)*Cc)}frac_by_us(n,s){let{weight:r}=this.cast(),o=new br.default(this.us_to_weight(n.cpu,s))/r;return Math.floor(o*Math.pow(10,15))}price_per_us(n,s=1e3,r){let o=Vi.from(this.frac(n,s)),t=this.utilization_increase(n.cpu,o),a=this.determine_adjusted_utilization(r),p=this.fee(t,a),c=Math.pow(10,this.max_price.symbol.precision);return Math.ceil(p*c)/c}};return e=z([F.type("powerupstateresourcecpu")],e),e})(),vK=(()=>{let e=class extends MA{constructor(){super(...arguments),this.per_day=n=>this.bytes_per_day(n),this.frac=(n,s)=>this.frac_by_bytes(n,s),this.frac_by_kb=(n,s)=>this.frac_by_bytes(n,s*1e3),this.price_per=(n,s=1e3,r)=>this.price_per_byte(n,s,r),this.price_per_kb=(n,s=1,r)=>this.price_per_byte(n,s*1e3,r)}kb_per_day(n){return this.bytes_per_day(n)/1e3}bytes_per_day(n){let s=n&&n.virtual_block_net_limit?n.virtual_block_net_limit:this.default_block_net_limit;return Number(s)*2*60*60*24}weight_to_bytes(n,s){return Math.ceil(s*Number(n)/Cc)}bytes_to_weight(n,s){return Math.floor(s/Number(n)*Cc)}frac_by_bytes(n,s){let{weight:r}=this.cast(),o=new br.default(this.bytes_to_weight(n.net,s))/r;return Math.floor(o*Math.pow(10,15))}price_per_byte(n,s=1e3,r){let o=Vi.from(this.frac(n,s)),t=this.utilization_increase(n.net,o),a=this.determine_adjusted_utilization(r),p=this.fee(t,a),c=Math.pow(10,this.max_price.symbol.precision);return Math.ceil(p*c)/c}};return e=z([F.type("powerupstateresourcenet")],e),e})(),gK=(()=>{let e=class extends F{};return z([F.field("uint8")],e.prototype,"version",void 0),z([F.field(vK)],e.prototype,"net",void 0),z([F.field(pK)],e.prototype,"cpu",void 0),z([F.field("uint32")],e.prototype,"powerup_days",void 0),z([F.field("asset")],e.prototype,"min_powerup_fee",void 0),e=z([F.type("powerupstate")],e),e})(),ob=class{constructor(i){this.parent=i}get_state(){return fe(this,null,function*(){return(yield this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"",table:"powup.state",type:gK})).rows[0]})}},xA=(()=>{let e=class extends F{};return z([F.field("asset")],e.prototype,"balance",void 0),z([F.field("float64")],e.prototype,"weight",void 0),e=z([F.type("connector")],e),e})(),mK=(()=>{let e=class extends F{};return z([F.field("asset")],e.prototype,"supply",void 0),z([F.field(xA)],e.prototype,"base",void 0),z([F.field(xA)],e.prototype,"quote",void 0),e=z([F.type("exchange_state")],e),e})(),yK=(()=>{let e=class extends mK{price_per(n){let s=this.base.balance.units,r=this.quote.balance.units;return Ge.fromUnits(this.get_input(s,r,qe.from(n)),this.quote.balance.symbol)}price_per_kb(n){return this.price_per(n*1e3)}get_input(n,s,r){return s.multiplying(r).dividing(n.subtracting(r),"ceil")}};return e=z([F.type("ramstate")],e),e})(),lb=class{constructor(i){this.parent=i}get_state(){return fe(this,null,function*(){return(yield this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"eosio",table:"rammarket",type:yK})).rows[0]})}},xK=(()=>{let e=class extends F{get reserved(){return Number(this.total_lent.units)/Number(this.total_lendable.units)}get symbol(){return this.total_lent.symbol}get precision(){return this.total_lent.symbol.precision}get value(){return(Number(this.total_lent.units)+Number(this.total_unlent.units))/Number(this.total_rex.units)}exchange(n){return Ge.from(n.value*this.total_lendable.value/this.total_rex.value,this.symbol)}cpu_price_per_ms(n,s=1){return this.cpu_price_per_us(n,s*1e3)}cpu_price_per_us(n,s=1e3){return this.price_per(n,s,n.cpu)}net_price_per_kb(n,s=1){return this.net_price_per_byte(n,s*1e3)}net_price_per_byte(n,s=1e3){return this.price_per(n,s,n.net)}price_per(n,s=1e3,r=n.cpu){let o=Ge.fromUnits(1e4,this.symbol),a=Number(o.units)/(this.total_rent.value/this.total_unlent.value)*(Number(r)/Cc);return Number(o.units)/a*s/Math.pow(10,this.precision)}};return z([F.field("uint8")],e.prototype,"version",void 0),z([F.field("asset")],e.prototype,"total_lent",void 0),z([F.field("asset")],e.prototype,"total_unlent",void 0),z([F.field("asset")],e.prototype,"total_rent",void 0),z([F.field("asset")],e.prototype,"total_lendable",void 0),z([F.field("asset")],e.prototype,"total_rex",void 0),z([F.field("asset")],e.prototype,"namebid_proceeds",void 0),z([F.field("uint64")],e.prototype,"loan_num",void 0),e=z([F.type("rexstate")],e),e})(),cb=class{constructor(i){this.parent=i}get_state(){return fe(this,null,function*(){return(yield this.parent.api.v1.chain.get_table_rows({code:"eosio",scope:"eosio",table:"rexpool",type:xK})).rows[0]})}},Cc=new br.default(100*1e3*1e3),CA=(()=>{class e{constructor(n){if(this.sampleAccount="greymassfuel",this.symbol="4,EOS",this.v1={powerup:new ob(this),ram:new lb(this),rex:new cb(this)},n.sampleAccount&&(this.sampleAccount=n.sampleAccount),n.symbol&&(this.symbol=n.symbol),n.api)this.api=n.api;else if(n.url)this.api=new pa({provider:new io(n.url,n)});else throw new Error("Missing url or api client")}getSampledUsage(){return fe(this,null,function*(){let n=yield this.api.v1.chain.get_account(this.sampleAccount),s=Vi.from(n.cpu_limit.max.value.mul(Cc)),r=Vi.from(n.net_limit.max.value.mul(Cc)),o=Vi.from(n.cpu_weight.value),t=Vi.from(n.net_weight.value);return{account:n,cpu:bA(s.value,o.value),net:bA(r.value,t.value)}})}}return e.__className="Resources",e})();function bA(e,i){let n=e.div(i),s=new br.default(0),r=new br.default(1);return e.mod(i).gt(s)&&n.gt(r)&&(n=n.sub(r)),Vi.from(n)}var kA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ro=new Uint8Array(256);for(let e=0;e<62;e++)ro[kA.charCodeAt(e)]=e;ro[43]=ro[45]=62;ro[47]=ro[95]=63;function TA(e,i=!0){let n=e.byteLength,s=n%3,r=n-s,o=kA+(i?"-_":"+/"),t=[],a,p,c,u,h;for(let l=0;l<r;l+=3)h=e[l]<<16|e[l+1]<<8|e[l+2],a=(h&16515072)>>18,p=(h&258048)>>12,c=(h&4032)>>6,u=h&63,t.push(o[a]+o[p]+o[c]+o[u]);return s===1?(h=e[r],a=(h&252)>>2,p=(h&3)<<4,t.push(o[a]+o[p])):s===2&&(h=e[r]<<8|e[r+1],a=(h&64512)>>10,p=(h&1008)>>4,c=(h&15)<<2,t.push(o[a]+o[p]+o[c])),t.join("")}function EA(e){let i=e.length*.75,n=new Uint8Array(i),s,r,o,t,a=0;for(let p=0;p<e.length;p+=4)s=ro[e.charCodeAt(p)],r=ro[e.charCodeAt(p+1)],o=ro[e.charCodeAt(p+2)],t=ro[e.charCodeAt(p+3)],n[a++]=s<<2|r>>4,n[a++]=(r&15)<<4|o>>2,n[a++]=(o&3)<<6|t&63;return n}var Ei=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.EOS=1]="EOS",e[e.TELOS=2]="TELOS",e[e.JUNGLE=3]="JUNGLE",e[e.KYLIN=4]="KYLIN",e[e.WORBLI=5]="WORBLI",e[e.BOS=6]="BOS",e[e.MEETONE=7]="MEETONE",e[e.INSIGHTS=8]="INSIGHTS",e[e.BEOS=9]="BEOS",e[e.WAX=10]="WAX",e[e.PROTON=11]="PROTON",e[e.FIO=12]="FIO",e}(Ei||{}),Mr=(()=>{let e=class extends vt{static from(n){if(Ke(n,this))return n;if(typeof n=="number"&&(n=wA.get(n),!n))throw new Error("Unknown chain id alias");return super.from(n)}get chainVariant(){let n=this.chainName;return n!==Ei.UNKNOWN?rl.from(["chain_alias",n]):rl.from(this)}get chainName(){let n=this.hexString;for(let[s,r]of wA)if(r===n)return s;return Ei.UNKNOWN}};return e=z([t1("chain_id")],e),e})(),bK=(()=>{let e=class extends Sn{};return e=z([t1("chain_alias")],e),e})(),rl=(()=>{let e=class extends Os{get chainId(){return Ke(this.value,Mr)?this.value:Mr.from(Number(this.value.value))}};return e=z([Os.type("variant_id",[bK,Mr])],e),e})(),wA=new Map([[Ei.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[Ei.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[Ei.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[Ei.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[Ei.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[Ei.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[Ei.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[Ei.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[Ei.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[Ei.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[Ei.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[Ei.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"]]),gh;var AA=(()=>{let e=class extends F{};return z([F.field(jt,{optional:!0})],e.prototype,"permission",void 0),e=z([F.type("identity")],e),e})(),Fv=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"scope",void 0),z([F.field(jt,{optional:!0})],e.prototype,"permission",void 0),e=z([F.type("identity")],e),e})(),MK=(()=>{let e=class extends Os{};return e=z([Os.type("variant_req",[wn,{type:wn,array:!0},Cn,AA])],e),e})(),CK=(()=>{let e=class extends Os{};return e=z([Os.type("variant_req",[wn,{type:wn,array:!0},Cn,Fv])],e),e})(),sl=gh=class extends Sn{get broadcast(){return(Number(this)&gh.broadcast)!==0}set broadcast(i){this.setFlag(gh.broadcast,i)}get background(){return(Number(this)&gh.background)!==0}set background(i){this.setFlag(gh.background,i)}setFlag(i,n){n?this.value=Sn.from(Number(this)|i).value:this.value=Sn.from(Number(this)&~i).value}};sl.broadcast=1;sl.background=2;sl=gh=z([t1("request_flags")],sl);var hb=(()=>{let e=class extends F{};return z([F.field("string")],e.prototype,"key",void 0),z([F.field("bytes")],e.prototype,"value",void 0),e=z([F.type("info_pair")],e),e})(),db=(()=>{let e=class extends F{};return z([F.field(rl)],e.prototype,"chain_id",void 0),z([F.field(MK)],e.prototype,"req",void 0),z([F.field(sl)],e.prototype,"flags",void 0),z([F.field("string")],e.prototype,"callback",void 0),z([F.field(hb,{array:!0})],e.prototype,"info",void 0),e=z([F.type("signing_request")],e),e})(),fb=(()=>{let e=class extends F{};return z([F.field(rl)],e.prototype,"chain_id",void 0),z([F.field(CK)],e.prototype,"req",void 0),z([F.field(sl)],e.prototype,"flags",void 0),z([F.field("string")],e.prototype,"callback",void 0),z([F.field(hb,{array:!0})],e.prototype,"info",void 0),e=z([F.type("signing_request")],e),e})(),yh=(()=>{let e=class extends F{};return z([F.field("name")],e.prototype,"signer",void 0),z([F.field("signature")],e.prototype,"signature",void 0),e=z([F.type("request_signature")],e),e})(),r1,al=r1=class extends F{static from(i){return Ke(i,r1)?i:typeof i=="string"?r1.fromString(i):super.from(i)}static fromString(i){let n=i.split(" ");if(n.length!==2||n[0]!=="EOSIO")throw new Error("Invalid IdentityProof string");let s=EA(n[1]);return yt.decode({data:s,type:r1})}static fromPayload(i,n={}){let s=rs.from(i.req,n);if(!(s.version>=3&&s.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:i.cid||s.getChainId(),scope:s.getIdentityScope(),expiration:i.ex,signer:{actor:i.sa,permission:i.sp},signature:i.sig})}get transaction(){let i=wn.from({account:"",name:"identity",authorization:[this.signer],data:Fv.from({scope:this.scope,permission:this.signer})});return Cn.from({ref_block_num:0,ref_block_prefix:0,expiration:this.expiration,actions:[i]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(i,n){return _n.from(n||new Date).toMilliseconds()<this.expiration.toMilliseconds()&&no.from(i).hasPermission(this.recover())}toString(){let i=yt.encode({object:this});return`EOSIO ${TA(i.array,!1)}`}};z([F.field(Mr)],al.prototype,"chainId",void 0);z([F.field(te)],al.prototype,"scope",void 0);z([F.field(_n)],al.prototype,"expiration",void 0);z([F.field(jt)],al.prototype,"signer",void 0);z([F.field(nl)],al.prototype,"signature",void 0);al=r1=z([F.type("identity_proof")],al);var wc=te.from("............1"),mh=te.from("............2"),Pv=jt.from({actor:wc,permission:mh}),rs=class e{constructor(i,n,s,r,o){if(n.flags.broadcast&&n.req.variantName==="identity")throw new Error("Invalid request (identity request cannot be broadcast)");this.version=i,this.data=n,this.zlib=s,this.abiProvider=r,this.signature=o}static identityAbi(i){let n=yt.synthesize(this.identityType(i));return n.actions=[{name:"identity",type:"identity",ricardian_contract:""}],n}static identityType(i){return i===2?AA:Fv}static storageType(i){return i===2?db:fb}static create(s){return fe(this,arguments,function*(i,n={}){let r;i.action?r=[i.action]:i.actions?r=i.actions:i.transaction?r=i.transaction.actions||[]:r=[];let o=r.filter(a=>!rt.isBytes(a.data)&&a.data.constructor.abiName===void 0).map(a=>te.from(a.account)),t={};if(o.length>0){let a=n.abiProvider;if(!a)throw new Error("Missing abi provider");let p=yield Promise.all(o.map(c=>a.getAbi(c)));for(let[c,u]of p.entries())t[o[c].toString()]=u}return this.createSync(i,n,t)})}static createSync(i,n={},s={}){let r=2,o={},t=u=>wK(u,s);if(i.chainId===null&&(r=3),i.identity!==void 0)i.identity.scope&&(r=3),o.req=["identity",this.identityType(r).from(i.identity)];else if(i.action&&!i.actions&&!i.transaction)o.req=["action",t(i.action)];else if(i.actions&&!i.action&&!i.transaction)i.actions.length===1?o.req=["action",t(i.actions[0])]:o.req=["action[]",i.actions.map(t)];else if(i.transaction&&!i.action&&!i.actions){let u=i.transaction;u.expiration===void 0&&(u.expiration="1970-01-01T00:00:00.000"),u.ref_block_num===void 0&&(u.ref_block_num=0),u.ref_block_prefix===void 0&&(u.ref_block_prefix=0),u.context_free_actions===void 0&&(u.context_free_actions=[]),u.transaction_extensions===void 0&&(u.transaction_extensions=[]),u.delay_sec===void 0&&(u.delay_sec=0),u.max_cpu_usage_ms===void 0&&(u.max_cpu_usage_ms=0),u.max_net_usage_words===void 0&&(u.max_net_usage_words=0),u.actions===void 0&&(u.actions=[]),u.context_free_actions===void 0&&(u.context_free_actions=[]),u.actions=u.actions.map(t),o.req=["transaction",u]}else throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");i.chainId===null?o.chain_id=rl.from(["chain_alias",0]):o.chain_id=Mr.from(i.chainId||Ei.EOS).chainVariant;let a=sl.from(0),p="";if(a.broadcast=i.broadcast!==void 0?i.broadcast:o.req[0]!=="identity",typeof i.callback=="string"?p=i.callback:typeof i.callback=="object"&&(p=i.callback.url,a.background=i.callback.background||!1),o.flags=a,o.callback=p,o.info=[],typeof i.info=="object"){for(let u in i.info)if(Object.prototype.hasOwnProperty.call(i.info,u)){let l=i.info[u];typeof l=="string"?l=rt.from(l,"utf8"):l instanceof rt||(l=yt.encode({object:l})),o.info.push({key:u,value:l})}}if(i.chainIds&&i.chainId===null){let u=i.chainIds.map(h=>Mr.from(h).chainVariant);o.info.push({key:"chain_ids",value:yt.encode({object:u,type:{type:rl,array:!0}})})}let c=new e(r,this.storageType(r).from(o),n.zlib,n.abiProvider);return n.signatureProvider&&c.sign(n.signatureProvider),c}static identity(i,n={}){let s={actor:i.account||wc,permission:i.permission||mh};return s.actor===wc&&s.permission===mh&&(s=void 0),this.createSync(Se(q({},i),{identity:{permission:s,scope:i.scope},broadcast:!1}),n)}static fromTransaction(i,n,s={}){let r=Mr.from(i);n=rt.from(n);let o=new $x;return o.writeByte(2),o.writeArray(yt.encode({object:r.chainVariant}).array),o.writeByte(2),o.writeArray(rt.from(n).array),o.writeByte(sl.broadcast),o.writeByte(0),o.writeByte(0),e.fromData(o.getData(),s)}static from(i,n={}){if(typeof i!="string")throw new Error("Invalid request uri");let[,s]=i.split(":"),r=EA(s.startsWith("//")?s.slice(2):s);return e.fromData(r,n)}static fromData(i,n={}){i=rt.from(i);let s=i.array[0],r=s&-129;if(r!==2&&r!==3)throw new Error("Unsupported protocol version");let o=i.droppingFirst(1);if(s&128){if(!n.zlib)throw new Error("Compressed URI needs zlib");o=rt.from(n.zlib.inflateRaw(o.array))}let t=new fh(o.array),a=yt.decode({data:t,type:this.storageType(r)}),p;return t.canRead()&&(p=yt.decode({data:t,type:yh})),new e(r,a,n.zlib,n.abiProvider,p)}sign(i){let n=this.getSignatureDigest();this.signature=yh.from(i.sign(n))}getSignatureDigest(){let i=[this.version,114,101,113,117,101,115,116];return vt.hash(rt.from(i).appending(this.getData()))}setSignature(i,n){this.signature=yh.from({signer:i,signature:n})}setCallback(i,n){this.data.callback=i,this.data.flags.background=n}setBroadcast(i){this.data.flags.broadcast=i}encode(i,n,s="esr:"){let r=i!==void 0?i:this.zlib!==void 0;if(r&&this.zlib===void 0)throw new Error("Need zlib to compress");let o=this.version,t=this.getData(),a=this.getSignatureData(),p=new Uint8Array(t.byteLength+a.byteLength);if(p.set(t,0),p.set(a,t.byteLength),r){let u=this.zlib.deflateRaw(p);p.byteLength>u.byteLength&&(o|=128,p=u)}let c=new Uint8Array(1+p.byteLength);return c[0]=o,c.set(p,1),n!==!1&&(s+="//"),s+TA(c)}getData(){return yt.encode({object:this.data}).array}getSignatureData(){return this.signature?yt.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter(i=>!ub(i)).map(i=>i.account).filter((i,n,s)=>s.indexOf(i)===n)}requiresTapos(){let i=this.getRawTransaction();return!this.isIdentity()&&!SA(i)}fetchAbis(i){return fe(this,null,function*(){let n=this.getRequiredAbis();if(n.length>0){let s=i||this.abiProvider;if(!s)throw new Error("Missing ABI provider");let r=new Map;return yield Promise.all(n.map(o=>fe(this,null,function*(){r.set(o.toString(),_t.from(yield s.getAbi(o)))}))),r}else return new Map})}resolveActions(i,n){return this.getRawActions().map(s=>{let r;if(ub(s))r=this.constructor.identityAbi(this.version);else{let p=i.get(s.account.toString());if(!p)throw new Error(`Missing ABI definition for ${s.account}`);r=_t.from(p)}if(!r.getActionType(s.name))throw new Error(`Missing type for action ${s.account}:${s.name} in ABI`);let t=s.decodeData(r),a=s.authorization;if(n){let p=jt.from(n),c=u=>{if(u instanceof te)return u.equals(wc)?p.actor:u.equals(mh)?p.permission:u;if(Array.isArray(u))return u.map(c);if(typeof u=="object"&&u!==null){for(let h of Object.keys(u))u[h]=c(u[h]);return u}else return u};t=c(t),a=a.map(u=>{let{actor:h,permission:l}=u;return h.equals(wc)&&(h=p.actor),l.equals(mh)&&(l=p.permission),l.equals(wc)&&(l=p.permission),jt.from({actor:h,permission:l})})}return Se(q({},s),{authorization:a,data:t})})}resolveTransaction(i,n,s={}){let r=this.getRawTransaction();if(!this.isIdentity()&&!SA(r))if(s.expiration!==void 0&&s.ref_block_num!==void 0&&s.ref_block_prefix!==void 0)r.expiration=_n.from(s.expiration),r.ref_block_num=si.from(s.ref_block_num,"truncate"),r.ref_block_prefix=et.from(s.ref_block_prefix);else if(s.block_num!==void 0&&s.ref_block_prefix!==void 0&&s.timestamp!==void 0)r.expiration=IA(s.timestamp,s.expire_seconds),r.ref_block_num=si.from(s.block_num,"truncate"),r.ref_block_prefix=et.from(s.ref_block_prefix);else throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");else this.isIdentity()&&this.version>2&&(r.expiration=s.expiration?_n.from(s.expiration):IA(s.timestamp,s.expire_seconds));let o=this.resolveActions(i,n),t=r.context_free_actions;return Se(q({},r),{context_free_actions:t,actions:o})}resolve(i,n,s={}){let r=this.resolveTransaction(i,n,s),o=r.actions.map(p=>{let c;if(ub(p)?c=this.constructor.identityAbi(this.version):c=i.get(p.account.toString()),!c)throw new Error(`Missing ABI definition for ${p.account}`);let u=c.getActionType(p.name),h=yt.encode({object:p.data,type:u,abi:c});return wn.from(Se(q({},p),{data:h}))}),t=Cn.from(Se(q({},r),{actions:o})),a;if(this.isMultiChain()){if(!s.chainId)throw new Error("Missing chosen chain ID for multi-chain request");a=Mr.from(s.chainId);let p=this.getChainIds();if(p&&!p.some(c=>a.equals(c)))throw new Error("Trying to resolve for chain ID not defined in request")}else a=this.getChainId();return new ol(this,jt.from(n),t,r,a)}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;let i=this.getInfoKey("chain_ids",{type:rl,array:!0});return i?i.map(n=>n.chainId):null}setChainIds(i){let n=i.map(s=>Mr.from(s).chainVariant);this.setInfoKey("chain_ids",n,{type:rl,array:!0})}isMultiChain(){return this.data.chain_id.variantIdx===0&&this.data.chain_id.value.equals(Ei.UNKNOWN)}getRawActions(){let i=this.data.req;switch(i.variantName){case"action":return[i.value];case"action[]":return i.value;case"identity":if(this.version===2){let n=i.value,s="0101000000000000000200000000000000",r=[Pv];n.permission&&(s=yt.encode({object:n}),r=[n.permission]);let o=wn.from({account:"",name:"identity",authorization:r,data:s});return delete o.abi,[o]}else{let{scope:n,permission:s}=i.value;s||(s=Pv);let r=yt.encode({object:{scope:n,permission:s},type:Fv}),o=wn.from({account:"",name:"identity",authorization:[s],data:r});return delete o.abi,[o]}case"transaction":return i.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){let i=this.data.req;switch(i.variantName){case"transaction":return Cn.from(q({},i.value));case"action":case"action[]":case"identity":return Cn.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return this.data.req.variantName==="identity"}shouldBroadcast(){return this.isIdentity()?!1:this.data.flags.broadcast}getIdentity(){if(!this.isIdentity())return null;let i=this.data.req.value;return i.permission&&!i.permission.actor.equals(wc)?i.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;let i=this.data.req.value;return i.permission&&!i.permission.permission.equals(mh)?i.permission.permission:null}getIdentityScope(){return!this.isIdentity()||this.version<=2?null:this.data.req.value.scope}getRawInfo(){let i={};for(let{key:n,value:s}of this.data.info)i[n]=s;return i}getRawInfoKey(i){let n=this.data.info.find(s=>s.key===i);if(n)return n.value}setRawInfoKey(i,n){let s=this.data.info.find(r=>r.key===i);s?s.value=rt.from(n):(s=hb.from({key:i,value:n}),this.data.info.push(s))}setInfoKey(i,n,s){let r;typeof n=="string"&&!s?r=rt.from(n,"utf8"):r=yt.encode({object:n,type:s}),this.setRawInfoKey(i,r)}getInfoKey(i,n){let s=this.getRawInfoKey(i);if(s)return n?yt.decode({data:s,type:n}):s.utf8String}clone(){let i;this.signature&&(i=yh.from(JSON.parse(JSON.stringify(this.signature))));let s=this.constructor.storageType(this.version).from(JSON.parse(JSON.stringify(this.data)));return new e(this.version,s,this.zlib,this.abiProvider,i)}toString(){return this.encode()}toJSON(){return this.encode()}},ol=class{constructor(i,n,s,r,o){this.request=i,this.signer=n,this.transaction=s,this.resolvedTransaction=r,this.chainId=o}static fromPayload(s){return fe(this,arguments,function*(i,n={}){let r=rs.from(i.req,n),o=yield r.fetchAbis();return r.resolve(o,{actor:i.sa,permission:i.sp},{ref_block_num:i.rbn,ref_block_prefix:i.rid,expiration:i.ex,chainId:i.cid||r.getChainId()})})}get serializedTransaction(){return yt.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}get signingData(){return this.transaction.signingData(this.chainId)}getCallback(i,n){let{callback:s,flags:r}=this.request.data;if(!s||s.length===0)return null;if(!i||i.length===0)throw new Error("Must have at least one signature to resolve callback");let o=i.map(p=>nl.from(p)),t={sig:String(o[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(let[p,c]of o.slice(1).entries())t[`sig${p}`]=String(c);n&&(t.bn=String(et.from(n)));let a=s.replace(/({{([a-z0-9]+)}})/g,(p,c,u)=>t[u]||"");return{background:r.background,payload:t,url:a}}getIdentityProof(i){if(!this.request.isIdentity())throw new Error("Not a identity request");return al.from({chainId:this.chainId,scope:this.request.getIdentityScope(),expiration:this.transaction.expiration,signer:this.signer,signature:i})}};function wK(e,i){if(rt.isBytes(e.data)||e.data.constructor.abiName!==void 0)return wn.from(e);let n=i[String(te.from(e.account))];if(!n)throw new Error(`Missing ABI for ${e.account}`);let s=wn.from(e,n);return delete s.abi,s}function ub(e){let i=te.from(e.account),n=te.from(e.name);return i.rawValue.equals(0)&&n.equals("identity")}function SA(e){return!(e.expiration.equals(0)&&e.ref_block_num.equals(0)&&e.ref_block_prefix.equals(0))}function IA(e,i=60){let n=_n.from(e||new Date),s=et.from(i);return _n.fromInteger(n.value.adding(s))}var xh=class{constructor(i){this.client=i,this.cache=new Map,this.pending=new Map}getAbi(i){return fe(this,null,function*(){let n=String(i),s=this.cache.get(n);if(!s){let r=this.pending.get(n);r||(r=this.client.v1.chain.get_raw_abi(i),this.pending.set(n,r));let o=yield r;if(this.pending.delete(n),o.abi)s=_t.from(o.abi),this.cache.set(n,s);else throw new Error(`ABI for ${n} could not be loaded.`)}return s})}setAbi(i,n,s=!1){let r=String(i),o=_t.from(n),t=this.cache.get(r);s&&t?this.cache.set(r,_t.from({action_results:Sc(t.action_results,o.action_results),types:Sc(t.types,o.types,"new_type_name"),structs:Sc(t.structs,o.structs),actions:Sc(t.actions,o.actions),tables:Sc(t.tables,o.tables),ricardian_clauses:Sc(t.ricardian_clauses,o.ricardian_clauses,"id"),variants:Sc(t.variants,o.variants),version:o.version})):this.cache.set(r,o)}};function Sc(e,i,n="name"){return i.reduce((s,r)=>(s.some(o=>String(o[n])===String(r[n]))||s.push(r),s),e.slice())}function SK(e){return["primary","secondary","tertiary","fourth","fifth","sixth","seventh","eighth","ninth","tenth"][e]}function ll(e){if(e!=null)return Ke(e,Vi)||Ke(e,At)||Ke(e,ci)||Ke(e,vt)||Ke(e,e1)?e:typeof e=="number"?At.from(e):te.from(e)}var IK={json:!1,limit:1e3},Nv=class{constructor(i){this.endReached=!1,this.rowsCount=0,this.maxRows=Number.MAX_SAFE_INTEGER,this.abi=_t.from(i.abi),this.client=i.client,this.params=q(q({},IK),i.params),i.maxRows&&(this.maxRows=i.maxRows);let n=this.abi.tables.find(s=>te.from(s.name).equals(this.params.table));if(!n)throw new Error("Table not found");this.type=n.type}get nextkey(){return this.next_key}[Symbol.asyncIterator](){return h8(this,null,function*(){for(;;){let i=yield new _g(this.next());for(let n of i)yield n;if(i.length===0||!this.next_key)return}})}reset(){return fe(this,null,function*(){this.next_key=void 0,this.endReached=!1,this.rowsCount=0})}all(){return fe(this,null,function*(){let i=[];try{for(var n=d8(this),s,r,o;s=!(r=yield n.next()).done;s=!1){let t=r.value;i.push(t)}}catch{o=[r]}finally{try{s&&(r=n.return)&&(yield r.call(n))}finally{if(o)throw o[0]}}return i})}},pb=class extends Nv{next(){return fe(this,arguments,function*(i=Number.MAX_SAFE_INTEGER){if(this.endReached)return[];let n=this.params.lower_bound;this.next_key&&(n=this.next_key);let s=this.maxRows-this.rowsCount,r=Math.min(s,i,this.params.limit),o=Se(q({},this.params),{limit:r,lower_bound:ll(n),upper_bound:ll(this.params.upper_bound)}),t=yield this.client.v1.chain.get_table_rows(o),p=this.params.json===!1&&!o.type?t.rows.map(c=>yt.decode({data:c,abi:this.abi,type:this.type})):t.rows;return this.next_key=t.next_key,this.rowsCount+=p.length,(!t.next_key||p.length===0||this.rowsCount===this.maxRows)&&(this.endReached=!0),p})}},vb=class extends Nv{next(){return fe(this,arguments,function*(i=Number.MAX_SAFE_INTEGER){if(this.endReached)return[];let n=this.params.lower_bound;this.next_key&&(n=this.next_key);let s=this.maxRows-this.rowsCount,r=Math.min(s,i,this.params.limit),o={code:this.params.code,table:this.params.table,limit:r,lower_bound:n?String(n):void 0,upper_bound:this.params.upper_bound?String(this.params.upper_bound):void 0},t=yield this.client.v1.chain.get_table_by_scope(o),a=t.rows;return this.next_key=t.more,this.rowsCount+=a.length,(!t.more||a.length===0||this.rowsCount===this.maxRows)&&(this.endReached=!0),a})}},gb=class e{constructor(i){this.debug=!1,this.defaultRowLimit=1e3,this.abi=_t.from(i.abi),this.account=te.from(i.account),this.name=te.from(i.name),this.client=i.client,this.rowType=i.rowType,this.fieldToIndex=i.fieldToIndex;let n=this.abi.tables.find(s=>this.name.equals(s.name));if(!n)throw new Error(`Table ${this.name} not found in ABI`);this.tableABI=n,this.defaultScope=i.defaultScope,i.debug&&(this.debug=!0)}static from(i){return new e(i)}query(i={}){let n={table:this.name,code:this.account,scope:i.scope!==void 0?String(i.scope):this.defaultScope||this.account,type:this.rowType,json:this.debug,index_position:i.index_position,key_type:i.key_type,lower_bound:ll(i.from),upper_bound:ll(i.to),limit:i.rowsPerAPIRequest||this.defaultRowLimit,reverse:i.reverse};if(i.index){let s=this.getFieldToIndex();if(!s[i.index])throw new Error(`Field ${i.index} is not listed in the ABI under key_names/key_types. Try using 'index_position' instead.`);n.index_position=s[i.index].index_position}return new pb({abi:this.abi,client:this.client,maxRows:i.maxRows,params:n})}get(s){return fe(this,arguments,function*(i,n={}){let r={table:this.name,code:this.account,scope:n.scope!==void 0?String(n.scope):this.defaultScope||this.account,type:this.rowType,limit:1,lower_bound:ll(i),upper_bound:ll(i),index_position:n.index_position,key_type:n.key_type,json:this.debug,reverse:n.reverse};if(n.index){let a=this.getFieldToIndex();if(!a[n.index])throw new Error(`Field ${n.index} is not listed in the ABI under key_names/key_types. Try using 'index_position' instead.`);r.index_position=a[n.index].index_position}let{rows:o}=yield this.client.v1.chain.get_table_rows(r);if(o.length===0)return;let[t]=o;return this.debug||(this.rowType||(t=yt.decode({data:t,abi:this.abi,type:this.tableABI.type})),n.json&&(t=yt.objectify(t))),t})}first(i,n={}){return this.query(Se(q({},n),{maxRows:i}))}all(){return fe(this,arguments,function*(i={}){return this.query(i).all()})}getFieldToIndex(){if(this.fieldToIndex)return this.fieldToIndex;let i={};for(let n=0;n<this.tableABI.key_names.length;n++)i[this.tableABI.key_names[n]]={type:this.tableABI.key_types[n],index_position:SK(n)};return i}scopes(i={}){let n={code:this.account,table:this.name,lower_bound:ll(i.from),upper_bound:ll(i.to),limit:i.rowsPerAPIRequest||this.defaultRowLimit,reverse:i.reverse};return new vb({abi:this.abi,client:this.client,maxRows:i.maxRows,params:n})}},Ic=class{constructor(i,n={}){if(this.debug=!1,!i.abi)throw new Error("Contract requires an ABI");if(this.abi=_t.from(i.abi),!i.account)throw new Error("Contract requires an account name");if(this.account=te.from(i.account),!i.client)throw new Error("Contract requires an APIClient");this.client=i.client,n.debug&&(this.debug=n.debug)}get tableNames(){return this.abi.tables.map(i=>String(i.name))}hasTable(i){return this.tableNames.includes(String(i))}table(i,n,s){if(!this.hasTable(i))throw new Error(`Contract (${this.account}) does not have a table named (${i})`);return gb.from({abi:this.abi,account:this.account,client:this.client,debug:this.debug,defaultScope:n,name:i,rowType:s})}get actionNames(){return this.abi.actions.map(i=>String(i.name))}hasAction(i){return this.actionNames.includes(String(i))}action(i,n,s){if(!this.hasAction(i))throw new Error(`Contract (${this.account}) does not have an action named (${i})`);let r=[Pv];return s&&s.authorization&&(r=s.authorization.map(o=>jt.from(o))),wn.from({account:this.account,name:i,authorization:r,data:n},this.abi)}readonly(i,n){return fe(this,null,function*(){n||(n={});let s=this.action(i,n);s.authorization=[];let r=Cn.from({ref_block_num:0,ref_block_prefix:0,expiration:0,actions:[s]}),t=(yield this.client.v1.chain.send_read_only_transaction(r)).processed.action_traces[0].return_value_hex_data,a=this.abi.action_results.find(p=>te.from(p.name).equals(i));if(!a)throw new Error(`Return type for ${i} not defined in the ABI.`);return yt.decode({data:t,type:a.result_type,abi:this.abi})})}actions(i,n){return i.map(s=>this.action(s.name,s.data,{authorization:s.authorization||n?.authorization}))}ricardian(i){if(!this.hasAction(i))throw new Error(`Contract (${this.account}) does not have an action named (${i})`);let n=this.abi.actions.find(s=>te.from(s.name).equals(i));if(!n||!n.ricardian_contract)throw new Error(`Contract (${this.account}) action named (${i}) does not have a defined ricardian contract`);return n.ricardian_contract}},kK={},Bv=class{constructor(i,n=kK){if(this.debug=!1,i.client)this.client=i.client;else throw new Error("A `client` must be passed when initializing the ContractKit.");n.abiCache?this.abiCache=n.abiCache:this.abiCache=new xh(this.client),n.abis&&n.abis.forEach(({name:s,abi:r})=>this.abiCache.setAbi(te.from(s),_t.from(r))),n.debug&&(this.debug=n.debug)}load(i){return fe(this,null,function*(){let n=te.from(i),s=yield this.abiCache.getAbi(n);return new Ic({abi:_t.from(s),account:n,client:this.client},{debug:this.debug})})}};var TK=bc.from("DmVvc2lvOjphYmkvMS4xAAgHYWNjb3VudAABB2JhbGFuY2UFYXNzZXQFY2xvc2UAAgVvd25lcgRuYW1lBnN5bWJvbAZzeW1ib2wGY3JlYXRlAAIGaXNzdWVyBG5hbWUObWF4aW11bV9zdXBwbHkFYXNzZXQOY3VycmVuY3lfc3RhdHMAAwZzdXBwbHkFYXNzZXQKbWF4X3N1cHBseQVhc3NldAZpc3N1ZXIEbmFtZQVpc3N1ZQADAnRvBG5hbWUIcXVhbnRpdHkFYXNzZXQEbWVtbwZzdHJpbmcEb3BlbgADBW93bmVyBG5hbWUGc3ltYm9sBnN5bWJvbAlyYW1fcGF5ZXIEbmFtZQZyZXRpcmUAAghxdWFudGl0eQVhc3NldARtZW1vBnN0cmluZwh0cmFuc2ZlcgAEBGZyb20EbmFtZQJ0bwRuYW1lCHF1YW50aXR5BWFzc2V0BG1lbW8Gc3RyaW5nBgAAAAAAhWlEBWNsb3Nl7QMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbG9zZSBUb2tlbiBCYWxhbmNlCnN1bW1hcnk6ICdDbG9zZSB7e25vd3JhcCBvd25lcn194oCZcyB6ZXJvIHF1YW50aXR5IGJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KCnt7b3duZXJ9fSBhZ3JlZXMgdG8gY2xvc2UgdGhlaXIgemVybyBxdWFudGl0eSBiYWxhbmNlIGZvciB0aGUge3tzeW1ib2xfdG9fc3ltYm9sX2NvZGUgc3ltYm9sfX0gdG9rZW4uCgpSQU0gd2lsbCBiZSByZWZ1bmRlZCB0byB0aGUgUkFNIHBheWVyIG9mIHRoZSB7e3N5bWJvbF90b19zeW1ib2xfY29kZSBzeW1ib2x9fSB0b2tlbiBiYWxhbmNlIGZvciB7e293bmVyfX0uAAAAAKhs1EUGY3JlYXRljgUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDcmVhdGUgTmV3IFRva2VuCnN1bW1hcnk6ICdDcmVhdGUgYSBuZXcgdG9rZW4nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWdyZWVzIHRvIGNyZWF0ZSBhIG5ldyB0b2tlbiB3aXRoIHN5bWJvbCB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIG1heGltdW1fc3VwcGx5fX0gdG8gYmUgbWFuYWdlZCBieSB7e2lzc3Vlcn19LgoKVGhpcyBhY3Rpb24gd2lsbCBub3QgcmVzdWx0IGFueSBhbnkgdG9rZW5zIGJlaW5nIGlzc3VlZCBpbnRvIGNpcmN1bGF0aW9uLgoKe3tpc3N1ZXJ9fSB3aWxsIGJlIGFsbG93ZWQgdG8gaXNzdWUgdG9rZW5zIGludG8gY2lyY3VsYXRpb24sIHVwIHRvIGEgbWF4aW11bSBzdXBwbHkgb2Yge3ttYXhpbXVtX3N1cHBseX19LgoKUkFNIHdpbGwgZGVkdWN0ZWQgZnJvbSB7eyRhY3Rpb24uYWNjb3VudH194oCZcyByZXNvdXJjZXMgdG8gY3JlYXRlIHRoZSBuZWNlc3NhcnkgcmVjb3Jkcy4AAAAAAKUxdgVpc3N1ZeIHLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogSXNzdWUgVG9rZW5zIGludG8gQ2lyY3VsYXRpb24Kc3VtbWFyeTogJ0lzc3VlIHt7bm93cmFwIHF1YW50aXR5fX0gaW50byBjaXJjdWxhdGlvbiBhbmQgdHJhbnNmZXIgaW50byB7e25vd3JhcCB0b3194oCZcyBhY2NvdW50JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY3J5cHRva3lsaW4vZW9zaW8uY29udHJhY3RzL3YxLjcuMC9jb250cmFjdHMvaWNvbnMvdG9rZW4ucG5nIzIwN2ZmNjhiMDQwNmVhYTU2NjE4YjA4YmRhODFkNmEwOTU0NTQzZjM2YWRjMzI4YWIzMDY1ZjMxYTVjNWQ2NTQKLS0tCgpUaGUgdG9rZW4gbWFuYWdlciBhZ3JlZXMgdG8gaXNzdWUge3txdWFudGl0eX19IGludG8gY2lyY3VsYXRpb24sIGFuZCB0cmFuc2ZlciBpdCBpbnRvIHt7dG99feKAmXMgYWNjb3VudC4KCnt7I2lmIG1lbW99fVRoZXJlIGlzIGEgbWVtbyBhdHRhY2hlZCB0byB0aGUgdHJhbnNmZXIgc3RhdGluZzoKe3ttZW1vfX0Ke3svaWZ9fQoKSWYge3t0b319IGRvZXMgbm90IGhhdmUgYSBiYWxhbmNlIGZvciB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0sIG9yIHRoZSB0b2tlbiBtYW5hZ2VyIGRvZXMgbm90IGhhdmUgYSBiYWxhbmNlIGZvciB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0sIHRoZSB0b2tlbiBtYW5hZ2VyIHdpbGwgYmUgZGVzaWduYXRlZCBhcyB0aGUgUkFNIHBheWVyIG9mIHRoZSB7e2Fzc2V0X3RvX3N5bWJvbF9jb2RlIHF1YW50aXR5fX0gdG9rZW4gYmFsYW5jZSBmb3Ige3t0b319LiBBcyBhIHJlc3VsdCwgUkFNIHdpbGwgYmUgZGVkdWN0ZWQgZnJvbSB0aGUgdG9rZW4gbWFuYWdlcuKAmXMgcmVzb3VyY2VzIHRvIGNyZWF0ZSB0aGUgbmVjZXNzYXJ5IHJlY29yZHMuCgpUaGlzIGFjdGlvbiBkb2VzIG5vdCBhbGxvdyB0aGUgdG90YWwgcXVhbnRpdHkgdG8gZXhjZWVkIHRoZSBtYXggYWxsb3dlZCBzdXBwbHkgb2YgdGhlIHRva2VuLgAAAAAAMFWlBG9wZW66BS0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IE9wZW4gVG9rZW4gQmFsYW5jZQpzdW1tYXJ5OiAnT3BlbiBhIHplcm8gcXVhbnRpdHkgYmFsYW5jZSBmb3Ige3tub3dyYXAgb3duZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NyeXB0b2t5bGluL2Vvc2lvLmNvbnRyYWN0cy92MS43LjAvY29udHJhY3RzL2ljb25zL3Rva2VuLnBuZyMyMDdmZjY4YjA0MDZlYWE1NjYxOGIwOGJkYTgxZDZhMDk1NDU0M2YzNmFkYzMyOGFiMzA2NWYzMWE1YzVkNjU0Ci0tLQoKe3tyYW1fcGF5ZXJ9fSBhZ3JlZXMgdG8gZXN0YWJsaXNoIGEgemVybyBxdWFudGl0eSBiYWxhbmNlIGZvciB7e293bmVyfX0gZm9yIHRoZSB7e3N5bWJvbF90b19zeW1ib2xfY29kZSBzeW1ib2x9fSB0b2tlbi4KCklmIHt7b3duZXJ9fSBkb2VzIG5vdCBoYXZlIGEgYmFsYW5jZSBmb3Ige3tzeW1ib2xfdG9fc3ltYm9sX2NvZGUgc3ltYm9sfX0sIHt7cmFtX3BheWVyfX0gd2lsbCBiZSBkZXNpZ25hdGVkIGFzIHRoZSBSQU0gcGF5ZXIgb2YgdGhlIHt7c3ltYm9sX3RvX3N5bWJvbF9jb2RlIHN5bWJvbH19IHRva2VuIGJhbGFuY2UgZm9yIHt7b3duZXJ9fS4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tyYW1fcGF5ZXJ9feKAmXMgcmVzb3VyY2VzIHRvIGNyZWF0ZSB0aGUgbmVjZXNzYXJ5IHJlY29yZHMuAAAAAKjrsroGcmV0aXJl0AMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZW1vdmUgVG9rZW5zIGZyb20gQ2lyY3VsYXRpb24Kc3VtbWFyeTogJ1JlbW92ZSB7e25vd3JhcCBxdWFudGl0eX19IGZyb20gY2lyY3VsYXRpb24nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcnlwdG9reWxpbi9lb3Npby5jb250cmFjdHMvdjEuNy4wL2NvbnRyYWN0cy9pY29ucy90b2tlbi5wbmcjMjA3ZmY2OGIwNDA2ZWFhNTY2MThiMDhiZGE4MWQ2YTA5NTQ1NDNmMzZhZGMzMjhhYjMwNjVmMzFhNWM1ZDY1NAotLS0KClRoZSB0b2tlbiBtYW5hZ2VyIGFncmVlcyB0byByZW1vdmUge3txdWFudGl0eX19IGZyb20gY2lyY3VsYXRpb24sIHRha2VuIGZyb20gdGhlaXIgb3duIGFjY291bnQuCgp7eyNpZiBtZW1vfX0gVGhlcmUgaXMgYSBtZW1vIGF0dGFjaGVkIHRvIHRoZSBhY3Rpb24gc3RhdGluZzoKe3ttZW1vfX0Ke3svaWZ9fQAAAFctPM3NCHRyYW5zZmVyqgctLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBUcmFuc2ZlciBUb2tlbnMKc3VtbWFyeTogJ1NlbmQge3tub3dyYXAgcXVhbnRpdHl9fSBmcm9tIHt7bm93cmFwIGZyb219fSB0byB7e25vd3JhcCB0b319JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY3J5cHRva3lsaW4vZW9zaW8uY29udHJhY3RzL3YxLjcuMC9jb250cmFjdHMvaWNvbnMvdHJhbnNmZXIucG5nIzVkZmFkMGRmNzI3NzJlZTFjY2MxNTVlNjcwYzFkMTI0ZjVjNTEyMmYxZDUwMjc1NjVkZjM4YjQxODA0MmQxZGQKLS0tCgp7e2Zyb219fSBhZ3JlZXMgdG8gc2VuZCB7e3F1YW50aXR5fX0gdG8ge3t0b319LgoKe3sjaWYgbWVtb319VGhlcmUgaXMgYSBtZW1vIGF0dGFjaGVkIHRvIHRoZSB0cmFuc2ZlciBzdGF0aW5nOgp7e21lbW99fQp7ey9pZn19CgpJZiB7e2Zyb219fSBpcyBub3QgYWxyZWFkeSB0aGUgUkFNIHBheWVyIG9mIHRoZWlyIHt7YXNzZXRfdG9fc3ltYm9sX2NvZGUgcXVhbnRpdHl9fSB0b2tlbiBiYWxhbmNlLCB7e2Zyb219fSB3aWxsIGJlIGRlc2lnbmF0ZWQgYXMgc3VjaC4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHJlc291cmNlcyB0byByZWZ1bmQgdGhlIG9yaWdpbmFsIFJBTSBwYXllci4KCklmIHt7dG99fSBkb2VzIG5vdCBoYXZlIGEgYmFsYW5jZSBmb3Ige3thc3NldF90b19zeW1ib2xfY29kZSBxdWFudGl0eX19LCB7e2Zyb219fSB3aWxsIGJlIGRlc2lnbmF0ZWQgYXMgdGhlIFJBTSBwYXllciBvZiB0aGUge3thc3NldF90b19zeW1ib2xfY29kZSBxdWFudGl0eX19IHRva2VuIGJhbGFuY2UgZm9yIHt7dG99fS4gQXMgYSByZXN1bHQsIFJBTSB3aWxsIGJlIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHJlc291cmNlcyB0byBjcmVhdGUgdGhlIG5lY2Vzc2FyeSByZWNvcmRzLgIAAAA4T00RMgNpNjQAAAdhY2NvdW50AAAAAACQTcYDaTY0AAAOY3VycmVuY3lfc3RhdHMAAAAAAA=="),EK=_t.from(TK),Vv;(function(e){let i=(()=>{let c=class extends F{};return z([F.field(Ge)],c.prototype,"balance",void 0),c=z([F.type("account")],c),c})();e.account=i;let n=(()=>{let c=class extends F{};return z([F.field(te)],c.prototype,"owner",void 0),z([F.field(Ge.Symbol)],c.prototype,"symbol",void 0),c=z([F.type("close")],c),c})();e.close=n;let s=(()=>{let c=class extends F{};return z([F.field(te)],c.prototype,"issuer",void 0),z([F.field(Ge)],c.prototype,"maximum_supply",void 0),c=z([F.type("create")],c),c})();e.create=s;let r=(()=>{let c=class extends F{};return z([F.field(Ge)],c.prototype,"supply",void 0),z([F.field(Ge)],c.prototype,"max_supply",void 0),z([F.field(te)],c.prototype,"issuer",void 0),c=z([F.type("currency_stats")],c),c})();e.currency_stats=r;let o=(()=>{let c=class extends F{};return z([F.field(te)],c.prototype,"to",void 0),z([F.field(Ge)],c.prototype,"quantity",void 0),z([F.field("string")],c.prototype,"memo",void 0),c=z([F.type("issue")],c),c})();e.issue=o;let t=(()=>{let c=class extends F{};return z([F.field(te)],c.prototype,"owner",void 0),z([F.field(Ge.Symbol)],c.prototype,"symbol",void 0),z([F.field(te)],c.prototype,"ram_payer",void 0),c=z([F.type("open")],c),c})();e.open=t;let a=(()=>{let c=class extends F{};return z([F.field(Ge)],c.prototype,"quantity",void 0),z([F.field("string")],c.prototype,"memo",void 0),c=z([F.type("retire")],c),c})();e.retire=a;let p=(()=>{let c=class extends F{};return z([F.field(te)],c.prototype,"from",void 0),z([F.field(te)],c.prototype,"to",void 0),z([F.field(Ge)],c.prototype,"quantity",void 0),z([F.field("string")],c.prototype,"memo",void 0),c=z([F.type("transfer")],c),c})();e.transfer=p})(Vv||(Vv={}));var AK={accounts:Vv.account,stat:Vv.currency_stats},mb=class extends Ic{constructor(i){super({client:i.client,abi:EK,account:i.account||te.from("eosio.token")})}action(i,n,s){return super.action(i,n,s)}table(i,n){return super.table(i,n,AK[i])}},Gv=class{constructor({client:i,contract:n}){this.client=i,this.contract=n||new mb({client:i}),this.contractKit=new Bv({client:i})}getContract(i){return fe(this,null,function*(){return i?this.contractKit.load(i):this.contract})}transfer(i,n,s,r=""){return fe(this,null,function*(){let o=Ge.from(s);return(yield this.getContract()).action("transfer",{from:te.from(i),to:te.from(n),quantity:o,memo:r})})}balance(i,n,s){return fe(this,null,function*(){let o=(yield this.getContract(s)).table("accounts",i),t;return n?t=o.get(String(n),{index_position:"primary"}):t=o.get(),t.then(a=>{if(!a)throw new Error(`Account ${i} does not exist.`);if(n&&!a.balance.symbol.code.equals(n))throw new Error(`Symbol '${n}' does not exist.`);return a?.balance}).catch(a=>{throw new Error(`Failed to fetch balance for ${i}: ${a}`)})})}};var LA=(()=>{let e=class extends Mc.v1.AccountPermission{get name(){return this.perm_name}addKey(n,s=1){if(this.required_auth.keys.find(o=>Gi.from(n).equals(o.key)))throw new Error(`The provided key (${String(n)}) already exists on the "${this.perm_name}" permission.`);this.required_auth.keys.push(Av.from({key:n,weight:s})),this.required_auth.sort()}removeKey(n){let s=this.required_auth.keys.findIndex(r=>Gi.from(n).equals(r.key));if(s===-1)throw new Error(`The provided key (${String(n)}) does not exist on the "${this.perm_name}" permission.`);this.required_auth.keys.splice(s,1)}addAccount(n,s=1){if(this.required_auth.accounts.find(o=>jt.from(n).equals(o.permission)))throw new Error(`The provided account (${String(jt.from(n))}) already exists on the "${this.perm_name}" permission.`);this.required_auth.accounts.push(Kx.from({permission:jt.from(n),weight:s})),this.required_auth.sort()}removeAccount(n){let s=this.required_auth.accounts.findIndex(r=>jt.from(n).equals(r.permission));if(s===-1)throw new Error(`The provided permission (${String(n)}) does not exist on the "${this.perm_name}" permission.`);this.required_auth.accounts.splice(s,1)}addWait(n){this.required_auth.waits.push(Lv.from(n)),this.required_auth.sort()}removeWait(n){this.required_auth.waits=this.required_auth.waits.filter(s=>!Lv.from(n).equals(s))}};return e=z([F.type("permission")],e),e})(),LK=bc.from("DmVvc2lvOjphYmkvMS4yAhdibG9ja19zaWduaW5nX2F1dGhvcml0eSJ2YXJpYW50X2Jsb2NrX3NpZ25pbmdfYXV0aG9yaXR5X3YwF2Jsb2NrY2hhaW5fcGFyYW1ldGVyc190GGJsb2NrY2hhaW5fcGFyYW1ldGVyc192MWcIYWJpX2hhc2gAAgVvd25lcgRuYW1lBGhhc2gLY2hlY2tzdW0yNTYIYWN0aXZhdGUAAQ5mZWF0dXJlX2RpZ2VzdAtjaGVja3N1bTI1NglhdXRob3JpdHkABAl0aHJlc2hvbGQGdWludDMyBGtleXMMa2V5X3dlaWdodFtdCGFjY291bnRzGXBlcm1pc3Npb25fbGV2ZWxfd2VpZ2h0W10Fd2FpdHMNd2FpdF93ZWlnaHRbXQpiaWRfcmVmdW5kAAIGYmlkZGVyBG5hbWUGYW1vdW50BWFzc2V0B2JpZG5hbWUAAwZiaWRkZXIEbmFtZQduZXduYW1lBG5hbWUDYmlkBWFzc2V0CWJpZHJlZnVuZAACBmJpZGRlcgRuYW1lB25ld25hbWUEbmFtZQxibG9ja19oZWFkZXIACAl0aW1lc3RhbXAGdWludDMyCHByb2R1Y2VyBG5hbWUJY29uZmlybWVkBnVpbnQxNghwcmV2aW91cwtjaGVja3N1bTI1NhF0cmFuc2FjdGlvbl9tcm9vdAtjaGVja3N1bTI1NgxhY3Rpb25fbXJvb3QLY2hlY2tzdW0yNTYQc2NoZWR1bGVfdmVyc2lvbgZ1aW50MzINbmV3X3Byb2R1Y2VycxJwcm9kdWNlcl9zY2hlZHVsZT8RYmxvY2tfaW5mb19yZWNvcmQAAwd2ZXJzaW9uBXVpbnQ4DGJsb2NrX2hlaWdodAZ1aW50MzIPYmxvY2tfdGltZXN0YW1wCnRpbWVfcG9pbnQaYmxvY2tfc2lnbmluZ19hdXRob3JpdHlfdjAAAgl0aHJlc2hvbGQGdWludDMyBGtleXMMa2V5X3dlaWdodFtdFWJsb2NrY2hhaW5fcGFyYW1ldGVycwARE21heF9ibG9ja19uZXRfdXNhZ2UGdWludDY0GnRhcmdldF9ibG9ja19uZXRfdXNhZ2VfcGN0BnVpbnQzMhltYXhfdHJhbnNhY3Rpb25fbmV0X3VzYWdlBnVpbnQzMh5iYXNlX3Blcl90cmFuc2FjdGlvbl9uZXRfdXNhZ2UGdWludDMyEG5ldF91c2FnZV9sZWV3YXkGdWludDMyI2NvbnRleHRfZnJlZV9kaXNjb3VudF9uZXRfdXNhZ2VfbnVtBnVpbnQzMiNjb250ZXh0X2ZyZWVfZGlzY291bnRfbmV0X3VzYWdlX2RlbgZ1aW50MzITbWF4X2Jsb2NrX2NwdV91c2FnZQZ1aW50MzIadGFyZ2V0X2Jsb2NrX2NwdV91c2FnZV9wY3QGdWludDMyGW1heF90cmFuc2FjdGlvbl9jcHVfdXNhZ2UGdWludDMyGW1pbl90cmFuc2FjdGlvbl9jcHVfdXNhZ2UGdWludDMyGG1heF90cmFuc2FjdGlvbl9saWZldGltZQZ1aW50MzIeZGVmZXJyZWRfdHJ4X2V4cGlyYXRpb25fd2luZG93BnVpbnQzMhVtYXhfdHJhbnNhY3Rpb25fZGVsYXkGdWludDMyFm1heF9pbmxpbmVfYWN0aW9uX3NpemUGdWludDMyF21heF9pbmxpbmVfYWN0aW9uX2RlcHRoBnVpbnQxNhNtYXhfYXV0aG9yaXR5X2RlcHRoBnVpbnQxNhhibG9ja2NoYWluX3BhcmFtZXRlcnNfdjEVYmxvY2tjaGFpbl9wYXJhbWV0ZXJzARxtYXhfYWN0aW9uX3JldHVybl92YWx1ZV9zaXplB3VpbnQzMiQGYnV5cmFtAAMFcGF5ZXIEbmFtZQhyZWNlaXZlcgRuYW1lBXF1YW50BWFzc2V0C2J1eXJhbWJ5dGVzAAMFcGF5ZXIEbmFtZQhyZWNlaXZlcgRuYW1lBWJ5dGVzBnVpbnQzMgZidXlyZXgAAgRmcm9tBG5hbWUGYW1vdW50BWFzc2V0C2NhbmNlbGRlbGF5AAIOY2FuY2VsaW5nX2F1dGgQcGVybWlzc2lvbl9sZXZlbAZ0cnhfaWQLY2hlY2tzdW0yNTYKY2ZncG93ZXJ1cAABBGFyZ3MOcG93ZXJ1cF9jb25maWcMY2xhaW1yZXdhcmRzAAEFb3duZXIEbmFtZQhjbG9zZXJleAABBW93bmVyBG5hbWUMY25jbHJleG9yZGVyAAEFb3duZXIEbmFtZQljb25uZWN0b3IAAgdiYWxhbmNlBWFzc2V0BndlaWdodAdmbG9hdDY0C2NvbnNvbGlkYXRlAAEFb3duZXIEbmFtZQpkZWZjcHVsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAZhbW91bnQFYXNzZXQKZGVmbmV0bG9hbgADBGZyb20EbmFtZQhsb2FuX251bQZ1aW50NjQGYW1vdW50BWFzc2V0CmRlbGVnYXRlYncABQRmcm9tBG5hbWUIcmVjZWl2ZXIEbmFtZRJzdGFrZV9uZXRfcXVhbnRpdHkFYXNzZXQSc3Rha2VfY3B1X3F1YW50aXR5BWFzc2V0CHRyYW5zZmVyBGJvb2wTZGVsZWdhdGVkX2JhbmR3aWR0aAAEBGZyb20EbmFtZQJ0bwRuYW1lCm5ldF93ZWlnaHQFYXNzZXQKY3B1X3dlaWdodAVhc3NldApkZWxldGVhdXRoAAMHYWNjb3VudARuYW1lCnBlcm1pc3Npb24EbmFtZQ1hdXRob3JpemVkX2J5BW5hbWUkB2RlcG9zaXQAAgVvd25lcgRuYW1lBmFtb3VudAVhc3NldBJlb3Npb19nbG9iYWxfc3RhdGUVYmxvY2tjaGFpbl9wYXJhbWV0ZXJzDQxtYXhfcmFtX3NpemUGdWludDY0GHRvdGFsX3JhbV9ieXRlc19yZXNlcnZlZAZ1aW50NjQPdG90YWxfcmFtX3N0YWtlBWludDY0HWxhc3RfcHJvZHVjZXJfc2NoZWR1bGVfdXBkYXRlFGJsb2NrX3RpbWVzdGFtcF90eXBlGGxhc3RfcGVydm90ZV9idWNrZXRfZmlsbAp0aW1lX3BvaW50DnBlcnZvdGVfYnVja2V0BWludDY0D3BlcmJsb2NrX2J1Y2tldAVpbnQ2NBN0b3RhbF91bnBhaWRfYmxvY2tzBnVpbnQzMhV0b3RhbF9hY3RpdmF0ZWRfc3Rha2UFaW50NjQbdGhyZXNoX2FjdGl2YXRlZF9zdGFrZV90aW1lCnRpbWVfcG9pbnQbbGFzdF9wcm9kdWNlcl9zY2hlZHVsZV9zaXplBnVpbnQxNhp0b3RhbF9wcm9kdWNlcl92b3RlX3dlaWdodAdmbG9hdDY0D2xhc3RfbmFtZV9jbG9zZRRibG9ja190aW1lc3RhbXBfdHlwZRNlb3Npb19nbG9iYWxfc3RhdGUyAAURbmV3X3JhbV9wZXJfYmxvY2sGdWludDE2EWxhc3RfcmFtX2luY3JlYXNlFGJsb2NrX3RpbWVzdGFtcF90eXBlDmxhc3RfYmxvY2tfbnVtFGJsb2NrX3RpbWVzdGFtcF90eXBlHHRvdGFsX3Byb2R1Y2VyX3ZvdGVwYXlfc2hhcmUHZmxvYXQ2NAhyZXZpc2lvbgV1aW50OBNlb3Npb19nbG9iYWxfc3RhdGUzAAIWbGFzdF92cGF5X3N0YXRlX3VwZGF0ZQp0aW1lX3BvaW50HHRvdGFsX3ZwYXlfc2hhcmVfY2hhbmdlX3JhdGUHZmxvYXQ2NBNlb3Npb19nbG9iYWxfc3RhdGU0AAMPY29udGludW91c19yYXRlB2Zsb2F0NjQUaW5mbGF0aW9uX3BheV9mYWN0b3IFaW50NjQOdm90ZXBheV9mYWN0b3IFaW50NjQOZXhjaGFuZ2Vfc3RhdGUAAwZzdXBwbHkFYXNzZXQEYmFzZQljb25uZWN0b3IFcXVvdGUJY29ubmVjdG9yC2Z1bmRjcHVsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAdwYXltZW50BWFzc2V0C2Z1bmRuZXRsb2FuAAMEZnJvbQRuYW1lCGxvYW5fbnVtBnVpbnQ2NAdwYXltZW50BWFzc2V0BGluaXQAAgd2ZXJzaW9uCXZhcnVpbnQzMgRjb3JlBnN5bWJvbAprZXlfd2VpZ2h0AAIDa2V5CnB1YmxpY19rZXkGd2VpZ2h0BnVpbnQxNgxsaW1pdGF1dGhjaGcAAwdhY2NvdW50BG5hbWULYWxsb3dfcGVybXMGbmFtZVtdDmRpc2FsbG93X3Blcm1zBm5hbWVbXQhsaW5rYXV0aAAFB2FjY291bnQEbmFtZQRjb2RlBG5hbWUEdHlwZQRuYW1lC3JlcXVpcmVtZW50BG5hbWUNYXV0aG9yaXplZF9ieQVuYW1lJAttdmZyc2F2aW5ncwACBW93bmVyBG5hbWUDcmV4BWFzc2V0C212dG9zYXZpbmdzAAIFb3duZXIEbmFtZQNyZXgFYXNzZXQIbmFtZV9iaWQABAduZXduYW1lBG5hbWULaGlnaF9iaWRkZXIEbmFtZQhoaWdoX2JpZAVpbnQ2NA1sYXN0X2JpZF90aW1lCnRpbWVfcG9pbnQKbmV3YWNjb3VudAAEB2NyZWF0b3IEbmFtZQRuYW1lBG5hbWUFb3duZXIJYXV0aG9yaXR5BmFjdGl2ZQlhdXRob3JpdHkHb25ibG9jawABBmhlYWRlcgxibG9ja19oZWFkZXIHb25lcnJvcgACCXNlbmRlcl9pZAd1aW50MTI4CHNlbnRfdHJ4BWJ5dGVzGXBhaXJfdGltZV9wb2ludF9zZWNfaW50NjQAAgVmaXJzdA50aW1lX3BvaW50X3NlYwZzZWNvbmQFaW50NjQQcGVybWlzc2lvbl9sZXZlbAACBWFjdG9yBG5hbWUKcGVybWlzc2lvbgRuYW1lF3Blcm1pc3Npb25fbGV2ZWxfd2VpZ2h0AAIKcGVybWlzc2lvbhBwZXJtaXNzaW9uX2xldmVsBndlaWdodAZ1aW50MTYHcG93ZXJ1cAAGBXBheWVyBG5hbWUIcmVjZWl2ZXIEbmFtZQRkYXlzBnVpbnQzMghuZXRfZnJhYwVpbnQ2NAhjcHVfZnJhYwVpbnQ2NAttYXhfcGF5bWVudAVhc3NldA5wb3dlcnVwX2NvbmZpZwAEA25ldBdwb3dlcnVwX2NvbmZpZ19yZXNvdXJjZQNjcHUXcG93ZXJ1cF9jb25maWdfcmVzb3VyY2UMcG93ZXJ1cF9kYXlzB3VpbnQzMj8PbWluX3Bvd2VydXBfZmVlBmFzc2V0Pxdwb3dlcnVwX2NvbmZpZ19yZXNvdXJjZQAIFGN1cnJlbnRfd2VpZ2h0X3JhdGlvBmludDY0PxN0YXJnZXRfd2VpZ2h0X3JhdGlvBmludDY0PxRhc3N1bWVkX3N0YWtlX3dlaWdodAZpbnQ2ND8QdGFyZ2V0X3RpbWVzdGFtcA90aW1lX3BvaW50X3NlYz8IZXhwb25lbnQIZmxvYXQ2ND8KZGVjYXlfc2Vjcwd1aW50MzI/CW1pbl9wcmljZQZhc3NldD8JbWF4X3ByaWNlBmFzc2V0Pw1wb3dlcnVwX29yZGVyAAYHdmVyc2lvbgV1aW50OAJpZAZ1aW50NjQFb3duZXIEbmFtZQpuZXRfd2VpZ2h0BWludDY0CmNwdV93ZWlnaHQFaW50NjQHZXhwaXJlcw50aW1lX3BvaW50X3NlYw1wb3dlcnVwX3N0YXRlAAUHdmVyc2lvbgV1aW50OANuZXQWcG93ZXJ1cF9zdGF0ZV9yZXNvdXJjZQNjcHUWcG93ZXJ1cF9zdGF0ZV9yZXNvdXJjZQxwb3dlcnVwX2RheXMGdWludDMyD21pbl9wb3dlcnVwX2ZlZQVhc3NldBZwb3dlcnVwX3N0YXRlX3Jlc291cmNlAA8HdmVyc2lvbgV1aW50OAZ3ZWlnaHQFaW50NjQMd2VpZ2h0X3JhdGlvBWludDY0FGFzc3VtZWRfc3Rha2Vfd2VpZ2h0BWludDY0FGluaXRpYWxfd2VpZ2h0X3JhdGlvBWludDY0E3RhcmdldF93ZWlnaHRfcmF0aW8FaW50NjQRaW5pdGlhbF90aW1lc3RhbXAOdGltZV9wb2ludF9zZWMQdGFyZ2V0X3RpbWVzdGFtcA50aW1lX3BvaW50X3NlYwhleHBvbmVudAdmbG9hdDY0CmRlY2F5X3NlY3MGdWludDMyCW1pbl9wcmljZQVhc3NldAltYXhfcHJpY2UFYXNzZXQLdXRpbGl6YXRpb24FaW50NjQUYWRqdXN0ZWRfdXRpbGl6YXRpb24FaW50NjQVdXRpbGl6YXRpb25fdGltZXN0YW1wDnRpbWVfcG9pbnRfc2VjC3Bvd2VydXBleGVjAAIEdXNlcgRuYW1lA21heAZ1aW50MTYNcHJvZHVjZXJfaW5mbwAJBW93bmVyBG5hbWULdG90YWxfdm90ZXMHZmxvYXQ2NAxwcm9kdWNlcl9rZXkKcHVibGljX2tleQlpc19hY3RpdmUEYm9vbAN1cmwGc3RyaW5nDXVucGFpZF9ibG9ja3MGdWludDMyD2xhc3RfY2xhaW1fdGltZQp0aW1lX3BvaW50CGxvY2F0aW9uBnVpbnQxNhJwcm9kdWNlcl9hdXRob3JpdHkYYmxvY2tfc2lnbmluZ19hdXRob3JpdHkkDnByb2R1Y2VyX2luZm8yAAMFb3duZXIEbmFtZQ12b3RlcGF5X3NoYXJlB2Zsb2F0NjQZbGFzdF92b3RlcGF5X3NoYXJlX3VwZGF0ZQp0aW1lX3BvaW50DHByb2R1Y2VyX2tleQACDXByb2R1Y2VyX25hbWUEbmFtZRFibG9ja19zaWduaW5nX2tleQpwdWJsaWNfa2V5EXByb2R1Y2VyX3NjaGVkdWxlAAIHdmVyc2lvbgZ1aW50MzIJcHJvZHVjZXJzDnByb2R1Y2VyX2tleVtdBnJlZnVuZAABBW93bmVyBG5hbWUOcmVmdW5kX3JlcXVlc3QABAVvd25lcgRuYW1lDHJlcXVlc3RfdGltZQ50aW1lX3BvaW50X3NlYwpuZXRfYW1vdW50BWFzc2V0CmNwdV9hbW91bnQFYXNzZXQLcmVncHJvZHVjZXIABAhwcm9kdWNlcgRuYW1lDHByb2R1Y2VyX2tleQpwdWJsaWNfa2V5A3VybAZzdHJpbmcIbG9jYXRpb24GdWludDE2DHJlZ3Byb2R1Y2VyMgAECHByb2R1Y2VyBG5hbWUScHJvZHVjZXJfYXV0aG9yaXR5F2Jsb2NrX3NpZ25pbmdfYXV0aG9yaXR5A3VybAZzdHJpbmcIbG9jYXRpb24GdWludDE2CHJlZ3Byb3h5AAIFcHJveHkEbmFtZQdpc3Byb3h5BGJvb2wHcmVudGNwdQAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lDGxvYW5fcGF5bWVudAVhc3NldAlsb2FuX2Z1bmQFYXNzZXQHcmVudG5ldAAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lDGxvYW5fcGF5bWVudAVhc3NldAlsb2FuX2Z1bmQFYXNzZXQLcmV4X2JhbGFuY2UABgd2ZXJzaW9uBXVpbnQ4BW93bmVyBG5hbWUKdm90ZV9zdGFrZQVhc3NldAtyZXhfYmFsYW5jZQVhc3NldAttYXR1cmVkX3JleAVpbnQ2NA5yZXhfbWF0dXJpdGllcxtwYWlyX3RpbWVfcG9pbnRfc2VjX2ludDY0W10IcmV4X2Z1bmQAAwd2ZXJzaW9uBXVpbnQ4BW93bmVyBG5hbWUHYmFsYW5jZQVhc3NldAhyZXhfbG9hbgAIB3ZlcnNpb24FdWludDgEZnJvbQRuYW1lCHJlY2VpdmVyBG5hbWUHcGF5bWVudAVhc3NldAdiYWxhbmNlBWFzc2V0DHRvdGFsX3N0YWtlZAVhc3NldAhsb2FuX251bQZ1aW50NjQKZXhwaXJhdGlvbgp0aW1lX3BvaW50CXJleF9vcmRlcgAHB3ZlcnNpb24FdWludDgFb3duZXIEbmFtZQ1yZXhfcmVxdWVzdGVkBWFzc2V0CHByb2NlZWRzBWFzc2V0DHN0YWtlX2NoYW5nZQVhc3NldApvcmRlcl90aW1lCnRpbWVfcG9pbnQHaXNfb3BlbgRib29sCHJleF9wb29sAAgHdmVyc2lvbgV1aW50OAp0b3RhbF9sZW50BWFzc2V0DHRvdGFsX3VubGVudAVhc3NldAp0b3RhbF9yZW50BWFzc2V0DnRvdGFsX2xlbmRhYmxlBWFzc2V0CXRvdGFsX3JleAVhc3NldBBuYW1lYmlkX3Byb2NlZWRzBWFzc2V0CGxvYW5fbnVtBnVpbnQ2NBJyZXhfcmV0dXJuX2J1Y2tldHMAAgd2ZXJzaW9uBXVpbnQ4DnJldHVybl9idWNrZXRzG3BhaXJfdGltZV9wb2ludF9zZWNfaW50NjRbXQ9yZXhfcmV0dXJuX3Bvb2wABwd2ZXJzaW9uBXVpbnQ4Dmxhc3RfZGlzdF90aW1lDnRpbWVfcG9pbnRfc2VjE3BlbmRpbmdfYnVja2V0X3RpbWUOdGltZV9wb2ludF9zZWMSb2xkZXN0X2J1Y2tldF90aW1lDnRpbWVfcG9pbnRfc2VjF3BlbmRpbmdfYnVja2V0X3Byb2NlZWRzBWludDY0GGN1cnJlbnRfcmF0ZV9vZl9pbmNyZWFzZQVpbnQ2NAhwcm9jZWVkcwVpbnQ2NAdyZXhleGVjAAIEdXNlcgRuYW1lA21heAZ1aW50MTYLcm12cHJvZHVjZXIAAQhwcm9kdWNlcgRuYW1lB3NlbGxyYW0AAgdhY2NvdW50BG5hbWUFYnl0ZXMFaW50NjQHc2VsbHJleAACBGZyb20EbmFtZQNyZXgFYXNzZXQGc2V0YWJpAAMHYWNjb3VudARuYW1lA2FiaQVieXRlcwRtZW1vB3N0cmluZyQKc2V0YWNjdGNwdQACB2FjY291bnQEbmFtZQpjcHVfd2VpZ2h0BmludDY0PwpzZXRhY2N0bmV0AAIHYWNjb3VudARuYW1lCm5ldF93ZWlnaHQGaW50NjQ/CnNldGFjY3RyYW0AAgdhY2NvdW50BG5hbWUJcmFtX2J5dGVzBmludDY0PwpzZXRhbGltaXRzAAQHYWNjb3VudARuYW1lCXJhbV9ieXRlcwVpbnQ2NApuZXRfd2VpZ2h0BWludDY0CmNwdV93ZWlnaHQFaW50NjQHc2V0Y29kZQAFB2FjY291bnQEbmFtZQZ2bXR5cGUFdWludDgJdm12ZXJzaW9uBXVpbnQ4BGNvZGUFYnl0ZXMEbWVtbwdzdHJpbmckDHNldGluZmxhdGlvbgADC2FubnVhbF9yYXRlBWludDY0FGluZmxhdGlvbl9wYXlfZmFjdG9yBWludDY0DnZvdGVwYXlfZmFjdG9yBWludDY0CXNldHBhcmFtcwABBnBhcmFtcxdibG9ja2NoYWluX3BhcmFtZXRlcnNfdAdzZXRwcml2AAIHYWNjb3VudARuYW1lB2lzX3ByaXYFdWludDgGc2V0cmFtAAEMbWF4X3JhbV9zaXplBnVpbnQ2NApzZXRyYW1yYXRlAAEPYnl0ZXNfcGVyX2Jsb2NrBnVpbnQxNgZzZXRyZXgAAQdiYWxhbmNlBWFzc2V0DHVuZGVsZWdhdGVidwAEBGZyb20EbmFtZQhyZWNlaXZlcgRuYW1lFHVuc3Rha2VfbmV0X3F1YW50aXR5BWFzc2V0FHVuc3Rha2VfY3B1X3F1YW50aXR5BWFzc2V0CnVubGlua2F1dGgABAdhY2NvdW50BG5hbWUEY29kZQRuYW1lBHR5cGUEbmFtZQ1hdXRob3JpemVkX2J5BW5hbWUkCXVucmVncHJvZAABCHByb2R1Y2VyBG5hbWUMdW5zdGFrZXRvcmV4AAQFb3duZXIEbmFtZQhyZWNlaXZlcgRuYW1lCGZyb21fbmV0BWFzc2V0CGZyb21fY3B1BWFzc2V0CnVwZGF0ZWF1dGgABQdhY2NvdW50BG5hbWUKcGVybWlzc2lvbgRuYW1lBnBhcmVudARuYW1lBGF1dGgJYXV0aG9yaXR5DWF1dGhvcml6ZWRfYnkFbmFtZSQJdXBkYXRlcmV4AAEFb3duZXIEbmFtZQx1cGR0cmV2aXNpb24AAQhyZXZpc2lvbgV1aW50OA51c2VyX3Jlc291cmNlcwAEBW93bmVyBG5hbWUKbmV0X3dlaWdodAVhc3NldApjcHVfd2VpZ2h0BWFzc2V0CXJhbV9ieXRlcwVpbnQ2NAx2b3RlcHJvZHVjZXIAAwV2b3RlcgRuYW1lBXByb3h5BG5hbWUJcHJvZHVjZXJzBm5hbWVbXQp2b3Rlcl9pbmZvAAoFb3duZXIEbmFtZQVwcm94eQRuYW1lCXByb2R1Y2VycwZuYW1lW10Gc3Rha2VkBWludDY0EGxhc3Rfdm90ZV93ZWlnaHQHZmxvYXQ2NBNwcm94aWVkX3ZvdGVfd2VpZ2h0B2Zsb2F0NjQIaXNfcHJveHkEYm9vbAZmbGFnczEGdWludDMyCXJlc2VydmVkMgZ1aW50MzIJcmVzZXJ2ZWQzBWFzc2V0CnZvdGV1cGRhdGUAAQp2b3Rlcl9uYW1lBG5hbWULd2FpdF93ZWlnaHQAAgh3YWl0X3NlYwZ1aW50MzIGd2VpZ2h0BnVpbnQxNgd3YXNtY2ZnAAEIc2V0dGluZ3MEbmFtZQh3aXRoZHJhdwACBW93bmVyBG5hbWUGYW1vdW50BWFzc2V0EWxpbWl0X2F1dGhfY2hhbmdlAAQHdmVyc2lvbgV1aW50OAdhY2NvdW50BG5hbWULYWxsb3dfcGVybXMGbmFtZVtdDmRpc2FsbG93X3Blcm1zBm5hbWVbXT4AAAAqm+0yMghhY3RpdmF0ZYgDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQWN0aXZhdGUgUHJvdG9jb2wgRmVhdHVyZQpzdW1tYXJ5OiAnQWN0aXZhdGUgcHJvdG9jb2wgZmVhdHVyZSB7e25vd3JhcCBmZWF0dXJlX2RpZ2VzdH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWRtaW4ucG5nIzliZjFjZWM2NjQ4NjNiZDZhYWFjMGY4MTRiMjM1Zjg3OTlmYjAyYzg1MGU5YWE1ZGEzNGU4YTAwNGJkNjUxOGUKLS0tCgp7eyRhY3Rpb24uYWNjb3VudH19IGFjdGl2YXRlcyB0aGUgcHJvdG9jb2wgZmVhdHVyZSB3aXRoIGEgZGlnZXN0IG9mIHt7ZmVhdHVyZV9kaWdlc3R9fS4AAABASTOTOwdiaWRuYW1lqQ4tLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCaWQgT24gYSBQcmVtaXVtIEFjY291bnQgTmFtZQpzdW1tYXJ5OiAne3tub3dyYXAgYmlkZGVyfX0gYmlkcyBvbiB0aGUgcHJlbWl1bSBhY2NvdW50IG5hbWUge3tub3dyYXAgbmV3bmFtZX19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7YmlkZGVyfX0gYmlkcyB7e2JpZH19IG9uIGFuIGF1Y3Rpb24gdG8gb3duIHRoZSBwcmVtaXVtIGFjY291bnQgbmFtZSB7e25ld25hbWV9fS4KCnt7YmlkZGVyfX0gdHJhbnNmZXJzIHt7YmlkfX0gdG8gdGhlIHN5c3RlbSB0byBjb3ZlciB0aGUgY29zdCBvZiB0aGUgYmlkLCB3aGljaCB3aWxsIGJlIHJldHVybmVkIHRvIHt7YmlkZGVyfX0gb25seSBpZiB7e2JpZGRlcn19IGlzIGxhdGVyIG91dGJpZCBpbiB0aGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gYnkgYW5vdGhlciBhY2NvdW50LgoKSWYgdGhlIGF1Y3Rpb24gZm9yIHt7bmV3bmFtZX19IGNsb3NlcyB3aXRoIHt7YmlkZGVyfX0gcmVtYWluaW5nIGFzIHRoZSBoaWdoZXN0IGJpZGRlciwge3tiaWRkZXJ9fSB3aWxsIGJlIGF1dGhvcml6ZWQgdG8gY3JlYXRlIHRoZSBhY2NvdW50IHdpdGggbmFtZSB7e25ld25hbWV9fS4KCiMjIEJpZCByZWZ1bmQgYmVoYXZpb3IKCklmIHt7YmlkZGVyfX3igJlzIGJpZCBvbiB7e25ld25hbWV9fSBpcyBsYXRlciBvdXRiaWQgYnkgYW5vdGhlciBhY2NvdW50LCB7e2JpZGRlcn19IHdpbGwgYmUgYWJsZSB0byBjbGFpbSBiYWNrIHRoZSB0cmFuc2ZlcnJlZCBhbW91bnQgb2Yge3tiaWR9fS4gVGhlIHN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gYXV0b21hdGljYWxseSBkbyB0aGlzIG9uIGJlaGFsZiBvZiB7e2JpZGRlcn19LCBidXQgdGhlIGF1dG9tYXRpYyByZWZ1bmQgbWF5IG9jY2FzaW9uYWxseSBmYWlsIHdoaWNoIHdpbGwgdGhlbiByZXF1aXJlIHt7YmlkZGVyfX0gdG8gbWFudWFsbHkgY2xhaW0gdGhlIHJlZnVuZCB3aXRoIHRoZSBiaWRyZWZ1bmQgYWN0aW9uLgoKIyMgQXVjdGlvbiBjbG9zZSBjcml0ZXJpYQoKVGhlIHN5c3RlbSBzaG91bGQgYXV0b21hdGljYWxseSBjbG9zZSB0aGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gaWYgaXQgc2F0aXNmaWVzIHRoZSBjb25kaXRpb24gdGhhdCBvdmVyIGEgcGVyaW9kIG9mIHR3byBtaW51dGVzIHRoZSBmb2xsb3dpbmcgdHdvIHByb3BlcnRpZXMgY29udGludW91c2x5IGhvbGQ6CgotIG5vIG9uZSBoYXMgYmlkIG9uIHt7bmV3bmFtZX19IHdpdGhpbiB0aGUgbGFzdCAyNCBob3VyczsKLSBhbmQsIHRoZSB2YWx1ZSBvZiB0aGUgbGF0ZXN0IGJpZCBvbiB7e25ld25hbWV9fSBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIHRoZSBiaWRzIG9uIGVhY2ggb2YgdGhlIG90aGVyIG9wZW4gYXVjdGlvbnMuCgpCZSBhd2FyZSB0aGF0IHRoZSBjb25kaXRpb24gdG8gY2xvc2UgdGhlIGF1Y3Rpb24gZGVzY3JpYmVkIGFib3ZlIGFyZSBzdWZmaWNpZW50IGJ1dCBub3QgbmVjZXNzYXJ5LiBUaGUgYXVjdGlvbiBmb3Ige3tuZXduYW1lfX0gY2Fubm90IGNsb3NlIHVubGVzcyBib3RoIG9mIHRoZSBwcm9wZXJ0aWVzIGFyZSBzaW11bHRhbmVvdXNseSBzYXRpc2ZpZWQsIGJ1dCBpdCBtYXkgYmUgY2xvc2VkIHdpdGhvdXQgcmVxdWlyaW5nIHRoZSBwcm9wZXJ0aWVzIHRvIGhvbGQgZm9yIGEgcGVyaW9kIG9mIDIgbWludXRlcy4AAEhTL3WTOwliaWRyZWZ1bmT0Ai0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IENsYWltIFJlZnVuZCBvbiBOYW1lIEJpZApzdW1tYXJ5OiAnQ2xhaW0gcmVmdW5kIG9uIHt7bm93cmFwIG5ld25hbWV9fSBiaWQnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3tiaWRkZXJ9fSBjbGFpbXMgcmVmdW5kIG9uIHt7bmV3bmFtZX19IGJpZCBhZnRlciBiZWluZyBvdXRiaWQgYnkgc29tZW9uZSBlbHNlLgAAAABIc70+BmJ1eXJhbfoDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQnV5IFJBTQpzdW1tYXJ5OiAne3tub3dyYXAgcGF5ZXJ9fSBidXlzIFJBTSBvbiBiZWhhbGYgb2Yge3tub3dyYXAgcmVjZWl2ZXJ9fSBieSBwYXlpbmcge3tub3dyYXAgcXVhbnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKe3twYXllcn19IGJ1eXMgUkFNIG9uIGJlaGFsZiBvZiB7e3JlY2VpdmVyfX0gYnkgcGF5aW5nIHt7cXVhbnR9fS4gVGhpcyB0cmFuc2FjdGlvbiB3aWxsIGluY3VyIGEgMC41JSBmZWUgb3V0IG9mIHt7cXVhbnR9fSBhbmQgdGhlIGFtb3VudCBvZiBSQU0gZGVsaXZlcmVkIHdpbGwgZGVwZW5kIG9uIG1hcmtldCByYXRlcy4AsMr+SHO9PgtidXlyYW1ieXRlc4EELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQnV5IFJBTQpzdW1tYXJ5OiAne3tub3dyYXAgcGF5ZXJ9fSBidXlzIHt7bm93cmFwIGJ5dGVzfX0gYnl0ZXMgb2YgUkFNIG9uIGJlaGFsZiBvZiB7e25vd3JhcCByZWNlaXZlcn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmVzb3VyY2UucG5nIzM4MzBmMWNlOGNiMDdmNzc1N2RiY2YzODNiMWVjMWIxMTkxNGFjMzRhMWY5ZDhiMDY1ZjA3NjAwZmE5ZGFjMTkKLS0tCgp7e3BheWVyfX0gYnV5cyBhcHByb3hpbWF0ZWx5IHt7Ynl0ZXN9fSBieXRlcyBvZiBSQU0gb24gYmVoYWxmIG9mIHt7cmVjZWl2ZXJ9fSBieSBwYXlpbmcgbWFya2V0IHJhdGVzIGZvciBSQU0uIFRoaXMgdHJhbnNhY3Rpb24gd2lsbCBpbmN1ciBhIDAuNSUgZmVlIGFuZCB0aGUgY29zdCB3aWxsIGRlcGVuZCBvbiBtYXJrZXQgcmF0ZXMuAAAAAHR1vT4GYnV5cmV41wYtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCdXkgUkVYIFRva2VucwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IGJ1eXMgUkVYIHRva2VucyBpbiBleGNoYW5nZSBmb3Ige3tub3dyYXAgYW1vdW50fX0gYW5kIHRoZWlyIHZvdGUgc3Rha2UgaW5jcmVhc2VzIGJ5IHt7bm93cmFwIGFtb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3thbW91bnR9fSBpcyB0YWtlbiBvdXQgb2Yge3tmcm9tfX3igJlzIFJFWCBmdW5kIGFuZCB1c2VkIHRvIHB1cmNoYXNlIFJFWCB0b2tlbnMgYXQgdGhlIGN1cnJlbnQgbWFya2V0IGV4Y2hhbmdlIHJhdGUuIEluIG9yZGVyIGZvciB0aGUgYWN0aW9uIHRvIHN1Y2NlZWQsIHt7ZnJvbX19IG11c3QgaGF2ZSB2b3RlZCBmb3IgYSBwcm94eSBvciBhdCBsZWFzdCAyMSBibG9jayBwcm9kdWNlcnMuIHt7YW1vdW50fX0gaXMgYWRkZWQgdG8ge3tmcm9tfX3igJlzIHZvdGUgc3Rha2UuCgpBIHNlbGwgb3JkZXIgb2YgdGhlIHB1cmNoYXNlZCBhbW91bnQgY2FuIG9ubHkgYmUgaW5pdGlhdGVkIGFmdGVyIHdhaXRpbmcgZm9yIHRoZSBtYXR1cml0eSBwZXJpb2Qgb2YgNCB0byA1IGRheXMgdG8gcGFzcy4gRXZlbiB0aGVuLCBkZXBlbmRpbmcgb24gdGhlIG1hcmtldCBjb25kaXRpb25zLCB0aGUgaW5pdGlhdGVkIHNlbGwgb3JkZXIgbWF5IG5vdCBiZSBleGVjdXRlZCBpbW1lZGlhdGVseS4AvIkqRYWmQQtjYW5jZWxkZWxheYoDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ2FuY2VsIERlbGF5ZWQgVHJhbnNhY3Rpb24Kc3VtbWFyeTogJ3t7bm93cmFwIGNhbmNlbGluZ19hdXRoLmFjdG9yfX0gY2FuY2VscyBhIGRlbGF5ZWQgdHJhbnNhY3Rpb24nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3tjYW5jZWxpbmdfYXV0aC5hY3Rvcn19IGNhbmNlbHMgdGhlIGRlbGF5ZWQgdHJhbnNhY3Rpb24gd2l0aCBpZCB7e3RyeF9pZH19LgBA1VdxWtlCCmNmZ3Bvd2VydXAAgNM1XF3pTEQMY2xhaW1yZXdhcmRz5wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbGFpbSBCbG9jayBQcm9kdWNlciBSZXdhcmRzCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGNsYWltcyBibG9jayBhbmQgdm90ZSByZXdhcmRzJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWRtaW4ucG5nIzliZjFjZWM2NjQ4NjNiZDZhYWFjMGY4MTRiMjM1Zjg3OTlmYjAyYzg1MGU5YWE1ZGEzNGU4YTAwNGJkNjUxOGUKLS0tCgp7e293bmVyfX0gY2xhaW1zIGJsb2NrIGFuZCB2b3RlIHJld2FyZHMgZnJvbSB0aGUgc3lzdGVtLgAAAF1dhWlECGNsb3NlcmV4lAQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDbGVhbnVwIFVudXNlZCBSRVggRGF0YQpzdW1tYXJ5OiAnRGVsZXRlIFJFWCByZWxhdGVkIERCIGVudHJpZXMgYW5kIGZyZWUgYXNzb2NpYXRlZCBSQU0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpEZWxldGUgUkVYIHJlbGF0ZWQgREIgZW50cmllcyBhbmQgZnJlZSBhc3NvY2lhdGVkIFJBTSBmb3Ige3tvd25lcn19LgoKVG8gZnVsbHkgZGVsZXRlIGFsbCBSRVggcmVsYXRlZCBEQiBlbnRyaWVzLCB7e293bmVyfX0gbXVzdCBlbnN1cmUgdGhhdCB0aGVpciBSRVggYmFsYW5jZSBhbmQgUkVYIGZ1bmQgYW1vdW50cyBhcmUgYm90aCB6ZXJvIGFuZCB0aGV5IGhhdmUgbm8gb3V0c3RhbmRpbmcgbG9hbnMucFW6tKsb0UQMY25jbHJleG9yZGVy6wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDYW5jZWwgU2NoZWR1bGVkIFJFWCBTZWxsIE9yZGVyCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGNhbmNlbHMgYSBzY2hlZHVsZWQgc2VsbCBvcmRlciBpZiBub3QgeWV0IGZpbGxlZCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7b3duZXJ9fSBjYW5jZWxzIHRoZWlyIG9wZW4gc2VsbCBvcmRlci4AVDbJRYonRQtjb25zb2xpZGF0ZaYDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ29uc29saWRhdGUgUkVYIE1hdHVyaXR5IEJ1Y2tldHMgSW50byBPbmUKc3VtbWFyeTogJ0NvbnNvbGlkYXRlIFJFWCBtYXR1cml0eSBidWNrZXRzIGludG8gb25lJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKQ29uc29saWRhdGUgUkVYIG1hdHVyaXR5IGJ1Y2tldHMgaW50byBvbmUgYnVja2V0IHRoYXQge3tvd25lcn19IHdpbGwgbm90IGJlIGFibGUgdG8gc2VsbCB1bnRpbCA0IHRvIDUgZGF5cyBsYXRlci4AwDQ06oqWSgpkZWZjcHVsb2Fu3gMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBXaXRoZHJhdyBmcm9tIHRoZSBGdW5kIG9mIGEgU3BlY2lmaWMgQ1BVIExvYW4Kc3VtbWFyeTogJ3t7bm93cmFwIGZyb219fSB0cmFuc2ZlcnMge3tub3dyYXAgYW1vdW50fX0gZnJvbSB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tub3dyYXAgbG9hbl9udW19fSBiYWNrIHRvIFJFWCBmdW5kJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tmcm9tfX0gdHJhbnNmZXJzIHt7YW1vdW50fX0gZnJvbSB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tsb2FuX251bX19IGJhY2sgdG8gUkVYIGZ1bmQuAMA0NGY1l0oKZGVmbmV0bG9hbt4DLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogV2l0aGRyYXcgZnJvbSB0aGUgRnVuZCBvZiBhIFNwZWNpZmljIE5FVCBMb2FuCnN1bW1hcnk6ICd7e25vd3JhcCBmcm9tfX0gdHJhbnNmZXJzIHt7bm93cmFwIGFtb3VudH19IGZyb20gdGhlIGZ1bmQgb2YgTkVUIGxvYW4gbnVtYmVyIHt7bm93cmFwIGxvYW5fbnVtfX0gYmFjayB0byBSRVggZnVuZCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHRyYW5zZmVycyB7e2Ftb3VudH19IGZyb20gdGhlIGZ1bmQgb2YgTkVUIGxvYW4gbnVtYmVyIHt7bG9hbl9udW19fSBiYWNrIHRvIFJFWCBmdW5kLgAAPyobpqJKCmRlbGVnYXRlYnfzBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFN0YWtlIFRva2VucyBmb3IgTkVUIGFuZC9vciBDUFUKc3VtbWFyeTogJ1N0YWtlIHRva2VucyBmb3IgTkVUIGFuZC9vciBDUFUgYW5kIG9wdGlvbmFsbHkgdHJhbnNmZXIgb3duZXJzaGlwJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmVzb3VyY2UucG5nIzM4MzBmMWNlOGNiMDdmNzc1N2RiY2YzODNiMWVjMWIxMTkxNGFjMzRhMWY5ZDhiMDY1ZjA3NjAwZmE5ZGFjMTkKLS0tCgp7eyNpZiB0cmFuc2Zlcn19IHt7ZnJvbX19IHN0YWtlcyBvbiBiZWhhbGYgb2Yge3tyZWNlaXZlcn19IHt7c3Rha2VfbmV0X3F1YW50aXR5fX0gZm9yIE5FVCBiYW5kd2lkdGggYW5kIHt7c3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpTdGFrZWQgdG9rZW5zIHdpbGwgYWxzbyBiZSB0cmFuc2ZlcnJlZCB0byB7e3JlY2VpdmVyfX0uIFRoZSBzdW0gb2YgdGhlc2UgdHdvIHF1YW50aXRpZXMgd2lsbCBiZSBkZWR1Y3RlZCBmcm9tIHt7ZnJvbX194oCZcyBsaXF1aWQgYmFsYW5jZSBhbmQgYWRkIHRvIHRoZSB2b3RlIHdlaWdodCBvZiB7e3JlY2VpdmVyfX0uCnt7ZWxzZX19Cnt7ZnJvbX19IHN0YWtlcyB0byBzZWxmIGFuZCBkZWxlZ2F0ZXMgdG8ge3tyZWNlaXZlcn19IHt7c3Rha2VfbmV0X3F1YW50aXR5fX0gZm9yIE5FVCBiYW5kd2lkdGggYW5kIHt7c3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpUaGUgc3VtIG9mIHRoZXNlIHR3byBxdWFudGl0aWVzIGFkZCB0byB0aGUgdm90ZSB3ZWlnaHQgb2Yge3tmcm9tfX0uCnt7L2lmfX0AQMvaqKyiSgpkZWxldGVhdXRo9QItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZWxldGUgQWNjb3VudCBQZXJtaXNzaW9uCnN1bW1hcnk6ICdEZWxldGUgdGhlIHt7bm93cmFwIHBlcm1pc3Npb259fSBwZXJtaXNzaW9uIG9mIHt7bm93cmFwIGFjY291bnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FjY291bnQucG5nIzNkNTVhMmZjM2E1YzIwYjQ1NmY1NjU3ZmFmNjY2YmMyNWZmZDA2ZjQ4MzZjNWU4MjU2Zjc0MTE0OWIwYjI5NGYKLS0tCgpEZWxldGUgdGhlIHt7cGVybWlzc2lvbn19IHBlcm1pc3Npb24gb2Yge3thY2NvdW50fX0uAAAAIDtMq0oHZGVwb3NpdIgELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogRGVwb3NpdCBJbnRvIFJFWCBGdW5kCnN1bW1hcnk6ICdBZGQgdG8ge3tub3dyYXAgb3duZXJ9feKAmXMgUkVYIGZ1bmQgYnkgdHJhbnNmZXJyaW5nIHt7bm93cmFwIGFtb3VudH19IGZyb20ge3tub3dyYXAgb3duZXJ9feKAmXMgbGlxdWlkIGJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpUcmFuc2ZlciB7e2Ftb3VudH19IGZyb20ge3tvd25lcn194oCZcyBsaXF1aWQgYmFsYW5jZSB0byB7e293bmVyfX3igJlzIFJFWCBmdW5kLiBBbGwgcHJvY2VlZHMgYW5kIGV4cGVuc2VzIHJlbGF0ZWQgdG8gUkVYIGFyZSBhZGRlZCB0byBvciB0YWtlbiBvdXQgb2YgdGhpcyBmdW5kLgCmoVFXlKZeC2Z1bmRjcHVsb2Fu/AMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZXBvc2l0IGludG8gdGhlIEZ1bmQgb2YgYSBTcGVjaWZpYyBDUFUgTG9hbgpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IGZ1bmRzIGEgQ1BVIGxvYW4nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgp7e2Zyb219fSB0cmFuc2ZlcnMge3twYXltZW50fX0gZnJvbSBSRVggZnVuZCB0byB0aGUgZnVuZCBvZiBDUFUgbG9hbiBudW1iZXIge3tsb2FuX251bX19IGluIG9yZGVyIHRvIGJlIHVzZWQgaW4gbG9hbiByZW5ld2FsIGF0IGV4cGlyeS4ge3tmcm9tfX0gY2FuIHdpdGhkcmF3IHRoZSB0b3RhbCBiYWxhbmNlIG9mIHRoZSBsb2FuIGZ1bmQgYXQgYW55IHRpbWUuAKahMauZpl4LZnVuZG5ldGxvYW78Ay0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IERlcG9zaXQgaW50byB0aGUgRnVuZCBvZiBhIFNwZWNpZmljIE5FVCBMb2FuCnN1bW1hcnk6ICd7e25vd3JhcCBmcm9tfX0gZnVuZHMgYSBORVQgbG9hbicKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHRyYW5zZmVycyB7e3BheW1lbnR9fSBmcm9tIFJFWCBmdW5kIHRvIHRoZSBmdW5kIG9mIE5FVCBsb2FuIG51bWJlciB7e2xvYW5fbnVtfX0gaW4gb3JkZXIgdG8gYmUgdXNlZCBpbiBsb2FuIHJlbmV3YWwgYXQgZXhwaXJ5LiB7e2Zyb219fSBjYW4gd2l0aGRyYXcgdGhlIHRvdGFsIGJhbGFuY2Ugb2YgdGhlIGxvYW4gZnVuZCBhdCBhbnkgdGltZS4AAAAAAJDddARpbml04wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBJbml0aWFsaXplIFN5c3RlbSBDb250cmFjdApzdW1tYXJ5OiAnSW5pdGlhbGl6ZSBzeXN0ZW0gY29udHJhY3QnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCkluaXRpYWxpemUgc3lzdGVtIGNvbnRyYWN0LiBUaGUgY29yZSB0b2tlbiBzeW1ib2wgd2lsbCBiZSBzZXQgdG8ge3tjb3JlfX0uwBpqWZvspIsMbGltaXRhdXRoY2hnAAAAAC1rA6eLCGxpbmthdXRonQUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBMaW5rIEFjdGlvbiB0byBQZXJtaXNzaW9uCnN1bW1hcnk6ICd7e25vd3JhcCBhY2NvdW50fX0gc2V0cyB0aGUgbWluaW11bSByZXF1aXJlZCBwZXJtaXNzaW9uIGZvciB0aGUge3sjaWYgdHlwZX19e3tub3dyYXAgdHlwZX19IGFjdGlvbiBvZiB0aGV7ey9pZn19IHt7bm93cmFwIGNvZGV9fSBjb250cmFjdCB0byB7e25vd3JhcCByZXF1aXJlbWVudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7YWNjb3VudH19IHNldHMgdGhlIG1pbmltdW0gcmVxdWlyZWQgcGVybWlzc2lvbiBmb3IgdGhlIHt7I2lmIHR5cGV9fXt7dHlwZX19IGFjdGlvbiBvZiB0aGV7ey9pZn19IHt7Y29kZX19IGNvbnRyYWN0IHRvIHt7cmVxdWlyZW1lbnR9fS4KCnt7I2lmIHR5cGV9fXt7ZWxzZX19QW55IGxpbmtzIGV4cGxpY2l0bHkgYXNzb2NpYXRlZCB0byBzcGVjaWZpYyBhY3Rpb25zIG9mIHt7Y29kZX19IHdpbGwgdGFrZSBwcmVjZWRlbmNlLnt7L2lmfX0AMJtuG3zXlgttdmZyc2F2aW5nc5wDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVW5sb2NrIFJFWCBUb2tlbnMKc3VtbWFyeTogJ3t7bm93cmFwIG93bmVyfX0gdW5sb2NrcyBSRVggVG9rZW5zJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tvd25lcn19IHVubG9ja3Mge3tyZXh9fSBieSBtb3ZpbmcgaXQgb3V0IG9mIHRoZSBSRVggc2F2aW5ncyBidWNrZXQuIFRoZSB1bmxvY2tlZCBSRVggdG9rZW5zIGNhbm5vdCBiZSBzb2xkIHVudGlsIDQgdG8gNSBkYXlzIGxhdGVyLgAwm24bTPOWC212dG9zYXZpbmdzugMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBMb2NrIFJFWCBUb2tlbnMKc3VtbWFyeTogJ3t7bm93cmFwIG93bmVyfX0gbG9ja3MgUkVYIFRva2VucycKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7b3duZXJ9fSBsb2NrcyB7e3JleH19IGJ5IG1vdmluZyBpdCBpbnRvIHRoZSBSRVggc2F2aW5ncyBidWNrZXQuIFRoZSBsb2NrZWQgUkVYIHRva2VucyBjYW5ub3QgYmUgc29sZCBkaXJlY3RseSBhbmQgd2lsbCBoYXZlIHRvIGJlIHVubG9ja2VkIGV4cGxpY2l0bHkgYmVmb3JlIHNlbGxpbmcuAECemiJkuJoKbmV3YWNjb3VudIAELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ3JlYXRlIE5ldyBBY2NvdW50CnN1bW1hcnk6ICd7e25vd3JhcCBjcmVhdG9yfX0gY3JlYXRlcyBhIG5ldyBhY2NvdW50IHdpdGggdGhlIG5hbWUge3tub3dyYXAgbmFtZX19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCnt7Y3JlYXRvcn19IGNyZWF0ZXMgYSBuZXcgYWNjb3VudCB3aXRoIHRoZSBuYW1lIHt7bmFtZX19IGFuZCB0aGUgZm9sbG93aW5nIHBlcm1pc3Npb25zOgoKb3duZXIgcGVybWlzc2lvbiB3aXRoIGF1dGhvcml0eToKe3t0b19qc29uIG93bmVyfX0KCmFjdGl2ZSBwZXJtaXNzaW9uIHdpdGggYXV0aG9yaXR5Ogp7e3RvX2pzb24gYWN0aXZlfX0AAAAAIhrPpAdvbmJsb2NrAAAAAODSe9WkB29uZXJyb3IAAAAAoOqrOK0HcG93ZXJ1cNQCLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogUG93ZXJ1cCByZXNvdXJjZXMKc3VtbWFyeTogJ1VzZXIgbWF5IHBvd2VydXAgdG8gcmVzZXJ2ZSByZXNvdXJjZXMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXNvdXJjZS5wbmcjMzgzMGYxY2U4Y2IwN2Y3NzU3ZGJjZjM4M2IxZWMxYjExOTE0YWMzNGExZjlkOGIwNjVmMDc2MDBmYTlkYWMxOQotLS0KClVzZXJzIG1heSB1c2UgdGhlIHBvd2VydXAgYWN0aW9uIHRvIHJlc2VydmUgcmVzb3VyY2VzLgCQ6qrqqzitC3Bvd2VydXBleGVjAAAAAACkqZe6BnJlZnVuZIcDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogQ2xhaW0gVW5zdGFrZWQgVG9rZW5zCnN1bW1hcnk6ICdSZXR1cm4gcHJldmlvdXNseSB1bnN0YWtlZCB0b2tlbnMgdG8ge3tub3dyYXAgb3duZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FjY291bnQucG5nIzNkNTVhMmZjM2E1YzIwYjQ1NmY1NjU3ZmFmNjY2YmMyNWZmZDA2ZjQ4MzZjNWU4MjU2Zjc0MTE0OWIwYjI5NGYKLS0tCgpSZXR1cm4gcHJldmlvdXNseSB1bnN0YWtlZCB0b2tlbnMgdG8ge3tvd25lcn19IGFmdGVyIHRoZSB1bnN0YWtpbmcgcGVyaW9kIGhhcyBlbGFwc2VkLgCuQjrRW5m6C3JlZ3Byb2R1Y2VymQQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZWdpc3RlciBhcyBhIEJsb2NrIFByb2R1Y2VyIENhbmRpZGF0ZQpzdW1tYXJ5OiAnUmVnaXN0ZXIge3tub3dyYXAgcHJvZHVjZXJ9fSBhY2NvdW50IGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKUmVnaXN0ZXIge3twcm9kdWNlcn19IGFjY291bnQgYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuCgpVUkw6IHt7dXJsfX0KTG9jYXRpb24gY29kZToge3tsb2NhdGlvbn19CkJsb2NrIHNpZ25pbmcga2V5OiB7e3Byb2R1Y2VyX2tleX19CgojIyBCbG9jayBQcm9kdWNlciBBZ3JlZW1lbnQKe3skY2xhdXNlcy5CbG9ja1Byb2R1Y2VyQWdyZWVtZW50fX0grkI60VuZugxyZWdwcm9kdWNlcjKtBC0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlZ2lzdGVyIGFzIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICdSZWdpc3RlciB7e25vd3JhcCBwcm9kdWNlcn19IGFjY291bnQgYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy92b3RpbmcucG5nI2RiMjhjZDNkYjZlNjJkNDUwOWFmMzY0NGNlN2QzNzczMjk0ODJhMTRiYjRiZmFjYTJhYTVmMTQwMGQ4ZThhODQKLS0tCgpSZWdpc3RlciB7e3Byb2R1Y2VyfX0gYWNjb3VudCBhcyBhIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZS4KClVSTDoge3t1cmx9fQpMb2NhdGlvbiBjb2RlOiB7e2xvY2F0aW9ufX0KQmxvY2sgc2lnbmluZyBhdXRob3JpdHk6Cnt7dG9fanNvbiBwcm9kdWNlcl9hdXRob3JpdHl9fQoKIyMgQmxvY2sgUHJvZHVjZXIgQWdyZWVtZW50Cnt7JGNsYXVzZXMuQmxvY2tQcm9kdWNlckFncmVlbWVudH19AAAAvtNbmboIcmVncHJveHmjBC0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlZ2lzdGVyL3VucmVnaXN0ZXIgYXMgYSBQcm94eQpzdW1tYXJ5OiAnUmVnaXN0ZXIvdW5yZWdpc3RlciB7e25vd3JhcCBwcm94eX19IGFzIGEgcHJveHkgYWNjb3VudCcKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3ZvdGluZy5wbmcjZGIyOGNkM2RiNmU2MmQ0NTA5YWYzNjQ0Y2U3ZDM3NzMyOTQ4MmExNGJiNGJmYWNhMmFhNWYxNDAwZDhlOGE4NAotLS0KCnt7I2lmIGlzcHJveHl9fQp7e3Byb3h5fX0gcmVnaXN0ZXJzIGFzIGEgcHJveHkgdGhhdCBjYW4gdm90ZSBvbiBiZWhhbGYgb2YgYWNjb3VudHMgdGhhdCBhcHBvaW50IGl0IGFzIHRoZWlyIHByb3h5Lgp7e2Vsc2V9fQp7e3Byb3h5fX0gdW5yZWdpc3RlcnMgYXMgYSBwcm94eSB0aGF0IGNhbiB2b3RlIG9uIGJlaGFsZiBvZiBhY2NvdW50cyB0aGF0IGFwcG9pbnQgaXQgYXMgdGhlaXIgcHJveHkuCnt7L2lmfX0AAABAV5SnugdyZW50Y3B13AktLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBSZW50IENQVSBCYW5kd2lkdGggZm9yIDMwIERheXMKc3VtbWFyeTogJ3t7bm93cmFwIGZyb219fSBwYXlzIHt7bm93cmFwIGxvYW5fcGF5bWVudH19IHRvIHJlbnQgQ1BVIGJhbmR3aWR0aCBmb3Ige3tub3dyYXAgcmVjZWl2ZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IHBheXMge3tsb2FuX3BheW1lbnR9fSB0byByZW50IENQVSBiYW5kd2lkdGggb24gYmVoYWxmIG9mIHt7cmVjZWl2ZXJ9fSBmb3IgYSBwZXJpb2Qgb2YgMzAgZGF5cy4KCnt7bG9hbl9wYXltZW50fX0gaXMgdGFrZW4gb3V0IG9mIHt7ZnJvbX194oCZcyBSRVggZnVuZC4gVGhlIG1hcmtldCBwcmljZSBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgdG9rZW5zIHRvIGJlIHN0YWtlZCB0byB7e3JlY2VpdmVyfX3igJlzIENQVSByZXNvdXJjZXMuIEluIGFkZGl0aW9uLCB7e2Zyb219fSBwcm92aWRlcyB7e2xvYW5fZnVuZH19LCB3aGljaCBpcyBhbHNvIHRha2VuIG91dCBvZiB7e2Zyb219feKAmXMgUkVYIGZ1bmQsIHRvIGJlIHVzZWQgZm9yIGF1dG9tYXRpYyByZW5ld2FsIG9mIHRoZSBsb2FuLgoKQXQgZXhwaXJhdGlvbiwgaWYgdGhlIGxvYW4gaGFzIGxlc3MgZnVuZHMgdGhhbiB7e2xvYW5fcGF5bWVudH19LCBpdCBpcyBjbG9zZWQgYW5kIGxlbnQgdG9rZW5zIHRoYXQgaGF2ZSBiZWVuIHN0YWtlZCBhcmUgdGFrZW4gb3V0IG9mIHt7cmVjZWl2ZXJ9feKAmXMgQ1BVIGJhbmR3aWR0aC4gT3RoZXJ3aXNlLCBpdCBpcyByZW5ld2VkIGF0IHRoZSBtYXJrZXQgcHJpY2UgYXQgdGhlIHRpbWUgb2YgcmVuZXdhbCwgdGhhdCBpcywgdGhlIG51bWJlciBvZiBzdGFrZWQgdG9rZW5zIGlzIHJlY2FsY3VsYXRlZCBhbmQge3tyZWNlaXZlcn194oCZcyBDUFUgYmFuZHdpZHRoIGlzIHVwZGF0ZWQgYWNjb3JkaW5nbHkuIHt7ZnJvbX19IGNhbiBmdW5kIG9yIGRlZnVuZCBhIGxvYW4gYXQgYW55IHRpbWUgYmVmb3JlIGV4cGlyYXRpb24uIFdoZW4gdGhlIGxvYW4gaXMgY2xvc2VkLCB7e2Zyb219fSBpcyByZWZ1bmRlZCBhbnkgdG9rZW5zIHJlbWFpbmluZyBpbiB0aGUgbG9hbiBmdW5kLgAAACCrmae6B3JlbnRuZXToCS0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFJlbnQgTkVUIEJhbmR3aWR0aCBmb3IgMzAgRGF5cwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IHBheXMge3tub3dyYXAgbG9hbl9wYXltZW50fX0gdG8gcmVudCBORVQgYmFuZHdpZHRoIGZvciB7e25vd3JhcCByZWNlaXZlcn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKe3tmcm9tfX0gcGF5cyB7e2xvYW5fcGF5bWVudH19IHRvIHJlbnQgTkVUIGJhbmR3aWR0aCBvbiBiZWhhbGYgb2Yge3tyZWNlaXZlcn19IGZvciBhIHBlcmlvZCBvZiAzMCBkYXlzLgoKe3tsb2FuX3BheW1lbnR9fSBpcyB0YWtlbiBvdXQgb2Yge3tmcm9tfX3igJlzIFJFWCBmdW5kLiBUaGUgbWFya2V0IHByaWNlIGRldGVybWluZXMgdGhlIG51bWJlciBvZiB0b2tlbnMgdG8gYmUgc3Rha2VkIHRvIHt7cmVjZWl2ZXJ9feKAmXMgTkVUIHJlc291cmNlcyBmb3IgMzAgZGF5cy4gSW4gYWRkaXRpb24sIHt7ZnJvbX19IHByb3ZpZGVzIHt7bG9hbl9mdW5kfX0sIHdoaWNoIGlzIGFsc28gdGFrZW4gb3V0IG9mIHt7ZnJvbX194oCZcyBSRVggZnVuZCwgdG8gYmUgdXNlZCBmb3IgYXV0b21hdGljIHJlbmV3YWwgb2YgdGhlIGxvYW4uCgpBdCBleHBpcmF0aW9uLCBpZiB0aGUgbG9hbiBoYXMgbGVzcyBmdW5kcyB0aGFuIHt7bG9hbl9wYXltZW50fX0sIGl0IGlzIGNsb3NlZCBhbmQgbGVudCB0b2tlbnMgdGhhdCBoYXZlIGJlZW4gc3Rha2VkIGFyZSB0YWtlbiBvdXQgb2Yge3tyZWNlaXZlcn194oCZcyBORVQgYmFuZHdpZHRoLiBPdGhlcndpc2UsIGl0IGlzIHJlbmV3ZWQgYXQgdGhlIG1hcmtldCBwcmljZSBhdCB0aGUgdGltZSBvZiByZW5ld2FsLCB0aGF0IGlzLCB0aGUgbnVtYmVyIG9mIHN0YWtlZCB0b2tlbnMgaXMgcmVjYWxjdWxhdGVkIGFuZCB7e3JlY2VpdmVyfX3igJlzIE5FVCBiYW5kd2lkdGggaXMgdXBkYXRlZCBhY2NvcmRpbmdseS4ge3tmcm9tfX0gY2FuIGZ1bmQgb3IgZGVmdW5kIGEgbG9hbiBhdCBhbnkgdGltZSBiZWZvcmUgZXhwaXJhdGlvbi4gV2hlbiB0aGUgbG9hbiBpcyBjbG9zZWQsIHt7ZnJvbX19IGlzIHJlZnVuZGVkIGFueSB0b2tlbnMgcmVtYWluaW5nIGluIHRoZSBsb2FuIGZ1bmQuAAAAAKmuuroHcmV4ZXhlY6IDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogUGVyZm9ybSBSRVggTWFpbnRlbmFuY2UKc3VtbWFyeTogJ1Byb2Nlc3Mgc2VsbCBvcmRlcnMgYW5kIGV4cGlyZWQgbG9hbnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpQZXJmb3JtcyBSRVggbWFpbnRlbmFuY2UgYnkgcHJvY2Vzc2luZyBhIG1heGltdW0gb2Yge3ttYXh9fSBSRVggc2VsbCBvcmRlcnMgYW5kIGV4cGlyZWQgbG9hbnMuIEFueSBhY2NvdW50IGNhbiBleGVjdXRlIHRoaXMgYWN0aW9uLgCuQjrRW7e8C3JtdnByb2R1Y2VyggUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBGb3JjaWJseSBVbnJlZ2lzdGVyIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICd7e25vd3JhcCBwcm9kdWNlcn19IGlzIHVucmVnaXN0ZXJlZCBhcyBhIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3skYWN0aW9uLmFjY291bnR9fSB1bnJlZ2lzdGVycyB7e3Byb2R1Y2VyfX0gYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuIHt7cHJvZHVjZXJ9fSBhY2NvdW50IHdpbGwgcmV0YWluIGl0cyB2b3RlcyBhbmQgdGhvc2Ugdm90ZXMgY2FuIGNoYW5nZSBiYXNlZCBvbiB2b3RlciBzdGFrZSBjaGFuZ2VzIG9yIHZvdGVzIHJlbW92ZWQgZnJvbSB7e3Byb2R1Y2VyfX0uIEhvd2V2ZXIgbmV3IHZvdGVycyB3aWxsIG5vdCBiZSBhYmxlIHRvIHZvdGUgZm9yIHt7cHJvZHVjZXJ9fSB3aGlsZSBpdCByZW1haW5zIHVucmVnaXN0ZXJlZC4AAABAmhujwgdzZWxscmFtxQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBTZWxsIFJBTSBGcm9tIEFjY291bnQKc3VtbWFyeTogJ1NlbGwgdW51c2VkIFJBTSBmcm9tIHt7bm93cmFwIGFjY291bnR9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKU2VsbCB7e2J5dGVzfX0gYnl0ZXMgb2YgdW51c2VkIFJBTSBmcm9tIGFjY291bnQge3thY2NvdW50fX0gYXQgbWFya2V0IHByaWNlLiBUaGlzIHRyYW5zYWN0aW9uIHdpbGwgaW5jdXIgYSAwLjUlIGZlZSBvbiB0aGUgcHJvY2VlZHMgd2hpY2ggZGVwZW5kIG9uIG1hcmtldCByYXRlcy4AAACgqxujwgdzZWxscmV4qQotLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBTZWxsIFJFWCBUb2tlbnMgaW4gRXhjaGFuZ2UgZm9yIEVPUwpzdW1tYXJ5OiAne3tub3dyYXAgZnJvbX19IHNlbGxzIHt7bm93cmFwIHJleH19IHRva2VucycKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3JleC5wbmcjZDIyOTgzN2ZhNjJhNDY0YjljNzFlMDYwNjBhYTg2MTc5YWRmMGIzZjRlM2I4YzRmOTcwMmY0ZjRiMGMzNDBhOAotLS0KCnt7ZnJvbX19IGluaXRpYXRlcyBhIHNlbGwgb3JkZXIgdG8gc2VsbCB7e3JleH19IHRva2VucyBhdCB0aGUgbWFya2V0IGV4Y2hhbmdlIHJhdGUgZHVyaW5nIHRoZSB0aW1lIGF0IHdoaWNoIHRoZSBvcmRlciBpcyB1bHRpbWF0ZWx5IGV4ZWN1dGVkLiBJZiB7e2Zyb219fSBhbHJlYWR5IGhhcyBhbiBvcGVuIHNlbGwgb3JkZXIgaW4gdGhlIHNlbGwgcXVldWUsIHt7cmV4fX0gd2lsbCBiZSBhZGRlZCB0byB0aGUgYW1vdW50IG9mIHRoZSBzZWxsIG9yZGVyIHdpdGhvdXQgY2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2VsbCBvcmRlciB3aXRoaW4gdGhlIHF1ZXVlLiBPbmNlIHRoZSBzZWxsIG9yZGVyIGlzIGV4ZWN1dGVkLCBwcm9jZWVkcyBhcmUgYWRkZWQgdG8ge3tmcm9tfX3igJlzIFJFWCBmdW5kLCB0aGUgdmFsdWUgb2Ygc29sZCBSRVggdG9rZW5zIGlzIGRlZHVjdGVkIGZyb20ge3tmcm9tfX3igJlzIHZvdGUgc3Rha2UsIGFuZCB2b3RlcyBhcmUgdXBkYXRlZCBhY2NvcmRpbmdseS4KCkRlcGVuZGluZyBvbiB0aGUgbWFya2V0IGNvbmRpdGlvbnMsIGl0IG1heSBub3QgYmUgcG9zc2libGUgdG8gZmlsbCB0aGUgZW50aXJlIHNlbGwgb3JkZXIgaW1tZWRpYXRlbHkuIEluIHN1Y2ggYSBjYXNlLCB0aGUgc2VsbCBvcmRlciBpcyBhZGRlZCB0byB0aGUgYmFjayBvZiBhIHNlbGwgcXVldWUuIEEgc2VsbCBvcmRlciBhdCB0aGUgZnJvbnQgb2YgdGhlIHNlbGwgcXVldWUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGV4ZWN1dGVkIHdoZW4gdGhlIG1hcmtldCBjb25kaXRpb25zIGFsbG93IGZvciB0aGUgZW50aXJlIG9yZGVyIHRvIGJlIGZpbGxlZC4gUmVnYXJkbGVzcyBvZiB0aGUgbWFya2V0IGNvbmRpdGlvbnMsIHRoZSBzeXN0ZW0gaXMgZGVzaWduZWQgdG8gZXhlY3V0ZSB0aGlzIHNlbGwgb3JkZXIgd2l0aGluIDMwIGRheXMuIHt7ZnJvbX19IGNhbiBjYW5jZWwgdGhlIG9yZGVyIGF0IGFueSB0aW1lIGJlZm9yZSBpdCBpcyBmaWxsZWQgdXNpbmcgdGhlIGNuY2xyZXhvcmRlciBhY3Rpb24uAAAAALhjssIGc2V0YWJp8wItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBEZXBsb3kgQ29udHJhY3QgQUJJCnN1bW1hcnk6ICdEZXBsb3kgY29udHJhY3QgQUJJIG9uIGFjY291bnQge3tub3dyYXAgYWNjb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCkRlcGxveSB0aGUgQUJJIGZpbGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb250cmFjdCBvbiBhY2NvdW50IHt7YWNjb3VudH19LgCArigjZLLCCnNldGFjY3RjcHWeBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEV4cGxpY2l0bHkgTWFuYWdlIHRoZSBDUFUgUXVvdGEgb2YgQWNjb3VudApzdW1tYXJ5OiAnRXhwbGljaXRseSBtYW5hZ2UgdGhlIENQVSBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSBjcHVfd2VpZ2h0fX0KRXhwbGljaXRseSBtYW5hZ2UgdGhlIENQVSBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e2FjY291bnR9fSBieSBwaW5uaW5nIGl0IHRvIGEgd2VpZ2h0IG9mIHt7Y3B1X3dlaWdodH19LgoKe3thY2NvdW50fX0gY2FuIHN0YWtlIGFuZCB1bnN0YWtlLCBob3dldmVyLCBpdCB3aWxsIG5vdCBjaGFuZ2UgdGhlaXIgQ1BVIGJhbmR3aWR0aCBxdW90YSBhcyBsb25nIGFzIGl0IHJlbWFpbnMgcGlubmVkLgp7e2Vsc2V9fQpVbnBpbiB0aGUgQ1BVIGJhbmR3aWR0aCBxdW90YSBvZiBhY2NvdW50IHt7YWNjb3VudH19LiBUaGUgQ1BVIGJhbmR3aWR0aCBxdW90YSBvZiB7e2FjY291bnR9fSB3aWxsIGJlIGRyaXZlbiBieSB0aGUgY3VycmVudCB0b2tlbnMgc3Rha2VkIGZvciBDUFUgYmFuZHdpZHRoIGJ5IHt7YWNjb3VudH19Lgp7ey9pZl9oYXNfdmFsdWV9fQBAVjMjZLLCCnNldGFjY3RuZXSiBi0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEV4cGxpY2l0bHkgTWFuYWdlIHRoZSBORVQgUXVvdGEgb2YgQWNjb3VudApzdW1tYXJ5OiAnRXhwbGljaXRseSBtYW5hZ2UgdGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSBuZXRfd2VpZ2h0fX0KRXhwbGljaXRseSBtYW5hZ2UgdGhlIG5ldHdvcmsgYmFuZHdpZHRoIHF1b3RhIG9mIGFjY291bnQge3thY2NvdW50fX0gYnkgcGlubmluZyBpdCB0byBhIHdlaWdodCBvZiB7e25ldF93ZWlnaHR9fS4KCnt7YWNjb3VudH19IGNhbiBzdGFrZSBhbmQgdW5zdGFrZSwgaG93ZXZlciwgaXQgd2lsbCBub3QgY2hhbmdlIHRoZWlyIE5FVCBiYW5kd2lkdGggcXVvdGEgYXMgbG9uZyBhcyBpdCByZW1haW5zIHBpbm5lZC4Ke3tlbHNlfX0KVW5waW4gdGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2YgYWNjb3VudCB7e2FjY291bnR9fS4gVGhlIE5FVCBiYW5kd2lkdGggcXVvdGEgb2Yge3thY2NvdW50fX0gd2lsbCBiZSBkcml2ZW4gYnkgdGhlIGN1cnJlbnQgdG9rZW5zIHN0YWtlZCBmb3IgTkVUIGJhbmR3aWR0aCBieSB7e2FjY291bnR9fS4Ke3svaWZfaGFzX3ZhbHVlfX0AgDQ3I2SywgpzZXRhY2N0cmFt0AUtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBFeHBsaWNpdGx5IE1hbmFnZSB0aGUgUkFNIFF1b3RhIG9mIEFjY291bnQKc3VtbWFyeTogJ0V4cGxpY2l0bHkgbWFuYWdlIHRoZSBSQU0gcXVvdGEgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7I2lmX2hhc192YWx1ZSByYW1fYnl0ZXN9fQpFeHBsaWNpdGx5IG1hbmFnZSB0aGUgUkFNIHF1b3RhIG9mIGFjY291bnQge3thY2NvdW50fX0gYnkgcGlubmluZyBpdCB0byB7e3JhbV9ieXRlc319IGJ5dGVzLgoKe3thY2NvdW50fX0gY2FuIGJ1eSBhbmQgc2VsbCBSQU0sIGhvd2V2ZXIsIGl0IHdpbGwgbm90IGNoYW5nZSB0aGVpciBSQU0gcXVvdGEgYXMgbG9uZyBhcyBpdCByZW1haW5zIHBpbm5lZC4Ke3tlbHNlfX0KVW5waW4gdGhlIFJBTSBxdW90YSBvZiBhY2NvdW50IHt7YWNjb3VudH19LiBUaGUgUkFNIHF1b3RhIG9mIHt7YWNjb3VudH19IHdpbGwgYmUgZHJpdmVuIGJ5IHRoZSBjdXJyZW50IFJBTSBob2xkaW5ncyBvZiB7e2FjY291bnR9fS4Ke3svaWZfaGFzX3ZhbHVlfX0AAM5OumiywgpzZXRhbGltaXRz9gMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBBZGp1c3QgUmVzb3VyY2UgTGltaXRzIG9mIEFjY291bnQKc3VtbWFyeTogJ0FkanVzdCByZXNvdXJjZSBsaW1pdHMgb2YgYWNjb3VudCB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gdXBkYXRlcyB7e2FjY291bnR9feKAmXMgcmVzb3VyY2UgbGltaXRzIHRvIGhhdmUgYSBSQU0gcXVvdGEgb2Yge3tyYW1fYnl0ZXN9fSBieXRlcywgYSBORVQgYmFuZHdpZHRoIHF1b3RhIG9mIHt7bmV0X3dlaWdodH19IGFuZCBhIENQVSBiYW5kd2lkdGggcXVvdGEgb2Yge3tjcHVfd2VpZ2h0fX0uAAAAQCWKssIHc2V0Y29kZeYCLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogRGVwbG95IENvbnRyYWN0IENvZGUKc3VtbWFyeTogJ0RlcGxveSBjb250cmFjdCBjb2RlIG9uIGFjY291bnQge3tub3dyYXAgYWNjb3VudH19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvYWNjb3VudC5wbmcjM2Q1NWEyZmMzYTVjMjBiNDU2ZjU2NTdmYWY2NjZiYzI1ZmZkMDZmNDgzNmM1ZTgyNTZmNzQxMTQ5YjBiMjk0ZgotLS0KCkRlcGxveSBjb21waWxlZCBjb250cmFjdCBjb2RlIHRvIHRoZSBhY2NvdW50IHt7YWNjb3VudH19LjCpyyau6bLCDHNldGluZmxhdGlvbusELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IEluZmxhdGlvbiBQYXJhbWV0ZXJzCnN1bW1hcnk6ICdTZXQgaW5mbGF0aW9uIHBhcmFtZXRlcnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyB0aGUgaW5mbGF0aW9uIHBhcmFtZXRlcnMgYXMgZm9sbG93czoKCiogQW5udWFsIGluZmxhdGlvbiByYXRlIChpbiB1bml0cyBvZiBhIGh1bmRyZWR0aCBvZiBhIHBlcmNlbnQpOiB7e2FubnVhbF9yYXRlfX0KKiBGcmFjdGlvbiBvZiBpbmZsYXRpb24gdXNlZCB0byByZXdhcmQgYmxvY2sgcHJvZHVjZXJzOiAxMDAwMC97e2luZmxhdGlvbl9wYXlfZmFjdG9yfX0KKiBGcmFjdGlvbiBvZiBibG9jayBwcm9kdWNlciByZXdhcmRzIHRvIGJlIGRpc3RyaWJ1dGVkIHByb3BvcnRpb25hbCB0byBibG9ja3MgcHJvZHVjZWQ6IDEwMDAwL3t7dm90ZXBheV9mYWN0b3J9fQAAwNJcU7PCCXNldHBhcmFtc9ACLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IFN5c3RlbSBQYXJhbWV0ZXJzCnN1bW1hcnk6ICdTZXQgU3lzdGVtIFBhcmFtZXRlcnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyBzeXN0ZW0gcGFyYW1ldGVycyB0bzoKe3t0b19qc29uIHBhcmFtc319AAAAYLtbs8IHc2V0cHJpdo0ELS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogTWFrZSBhbiBBY2NvdW50IFByaXZpbGVnZWQgb3IgVW5wcml2aWxlZ2VkCnN1bW1hcnk6ICd7eyNpZiBpc19wcml2fX1NYWtlIHt7bm93cmFwIGFjY291bnR9fSBwcml2aWxlZ2Vke3tlbHNlfX1SZW1vdmUgcHJpdmlsZWdlZCBzdGF0dXMgb2Yge3tub3dyYXAgYWNjb3VudH19e3svaWZ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3sjaWYgaXNfcHJpdn19Cnt7JGFjdGlvbi5hY2NvdW50fX0gbWFrZXMge3thY2NvdW50fX0gcHJpdmlsZWdlZC4Ke3tlbHNlfX0Ke3skYWN0aW9uLmFjY291bnR9fSByZW1vdmVzIHByaXZpbGVnZWQgc3RhdHVzIG9mIHt7YWNjb3VudH19Lgp7ey9pZn19AAAAAEhzs8IGc2V0cmFt5gItLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBDb25maWd1cmUgdGhlIEF2YWlsYWJsZSBSQU0Kc3VtbWFyeTogJ0NvbmZpZ3VyZSB0aGUgYXZhaWxhYmxlIFJBTScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL2FkbWluLnBuZyM5YmYxY2VjNjY0ODYzYmQ2YWFhYzBmODE0YjIzNWY4Nzk5ZmIwMmM4NTBlOWFhNWRhMzRlOGEwMDRiZDY1MThlCi0tLQoKe3skYWN0aW9uLmFjY291bnR9fSBjb25maWd1cmVzIHRoZSBhdmFpbGFibGUgUkFNIHRvIHt7bWF4X3JhbV9zaXplfX0gYnl0ZXMuAIDK5kpzs8IKc2V0cmFtcmF0ZYUDLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogU2V0IHRoZSBSYXRlIG9mIEluY3JlYXNlIG9mIFJBTQpzdW1tYXJ5OiAnU2V0IHRoZSByYXRlIG9mIGluY3JlYXNlIG9mIFJBTSBwZXIgYmxvY2snCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gc2V0cyB0aGUgcmF0ZSBvZiBpbmNyZWFzZSBvZiBSQU0gdG8ge3tieXRlc19wZXJfYmxvY2t9fSBieXRlcy9ibG9jay4AAAAAdHWzwgZzZXRyZXi3Ay0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IEFkanVzdCBSRVggUG9vbCBWaXJ0dWFsIEJhbGFuY2UKc3VtbWFyeTogJ0FkanVzdCBSRVggUG9vbCBWaXJ0dWFsIEJhbGFuY2UnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWRqdXN0cyBSRVggbG9hbiByYXRlIGJ5IHNldHRpbmcgUkVYIHBvb2wgdmlydHVhbCBiYWxhbmNlIHRvIHt7YmFsYW5jZX19LiBObyB0b2tlbiB0cmFuc2ZlciBvciBpc3N1ZSBpcyBleGVjdXRlZCBpbiB0aGlzIGFjdGlvbi7Aj8qGqajS1Ax1bmRlbGVnYXRlYnehBy0tLQpzcGVjX3ZlcnNpb246ICIwLjIuMCIKdGl0bGU6IFVuc3Rha2UgVG9rZW5zIGZvciBORVQgYW5kL29yIENQVQpzdW1tYXJ5OiAnVW5zdGFrZSB0b2tlbnMgZm9yIE5FVCBhbmQvb3IgQ1BVIGZyb20ge3tub3dyYXAgcmVjZWl2ZXJ9fScKaWNvbjogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vvc25ldHdvcmtmb3VuZGF0aW9uL2Vvcy1zeXN0ZW0tY29udHJhY3RzL21haW4vY29udHJhY3RzL2ljb25zL3Jlc291cmNlLnBuZyMzODMwZjFjZThjYjA3Zjc3NTdkYmNmMzgzYjFlYzFiMTE5MTRhYzM0YTFmOWQ4YjA2NWYwNzYwMGZhOWRhYzE5Ci0tLQoKe3tmcm9tfX0gdW5zdGFrZXMgZnJvbSB7e3JlY2VpdmVyfX0ge3t1bnN0YWtlX25ldF9xdWFudGl0eX19IGZvciBORVQgYmFuZHdpZHRoIGFuZCB7e3Vuc3Rha2VfY3B1X3F1YW50aXR5fX0gZm9yIENQVSBiYW5kd2lkdGguCgpUaGUgc3VtIG9mIHRoZXNlIHR3byBxdWFudGl0aWVzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSB2b3RlIHdlaWdodCBvZiB7e3JlY2VpdmVyfX0gYW5kIHdpbGwgYmUgbWFkZSBhdmFpbGFibGUgdG8ge3tmcm9tfX0gYWZ0ZXIgYW4gdW5pbnRlcnJ1cHRlZCAzIGRheSBwZXJpb2Qgd2l0aG91dCBmdXJ0aGVyIHVuc3Rha2luZyBieSB7e2Zyb219fS4gQWZ0ZXIgdGhlIHVuaW50ZXJydXB0ZWQgMyBkYXkgcGVyaW9kIHBhc3NlcywgdGhlIHN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gYXV0b21hdGljYWxseSByZXR1cm4gdGhlIGZ1bmRzIHRvIHt7ZnJvbX194oCZcyByZWd1bGFyIHRva2VuIGJhbGFuY2UuIEhvd2V2ZXIsIHRoaXMgYXV0b21hdGljIHJlZnVuZCBtYXkgb2NjYXNpb25hbGx5IGZhaWwgd2hpY2ggd2lsbCB0aGVuIHJlcXVpcmUge3tmcm9tfX0gdG8gbWFudWFsbHkgY2xhaW0gdGhlIGZ1bmRzIHdpdGggdGhlIHJlZnVuZCBhY3Rpb24uAEDL2sDp4tQKdW5saW5rYXV0aJEFLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVW5saW5rIEFjdGlvbiBmcm9tIFBlcm1pc3Npb24Kc3VtbWFyeTogJ3t7bm93cmFwIGFjY291bnR9fSB1bnNldHMgdGhlIG1pbmltdW0gcmVxdWlyZWQgcGVybWlzc2lvbiBmb3IgdGhlIHt7I2lmIHR5cGV9fXt7bm93cmFwIHR5cGV9fSBhY3Rpb24gb2YgdGhle3svaWZ9fSB7e25vd3JhcCBjb2RlfX0gY29udHJhY3QnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKe3thY2NvdW50fX0gcmVtb3ZlcyB0aGUgYXNzb2NpYXRpb24gYmV0d2VlbiB0aGUge3sjaWYgdHlwZX19e3t0eXBlfX0gYWN0aW9uIG9mIHRoZXt7L2lmfX0ge3tjb2RlfX0gY29udHJhY3QgYW5kIGl0cyBtaW5pbXVtIHJlcXVpcmVkIHBlcm1pc3Npb24uCgp7eyNpZiB0eXBlfX17e2Vsc2V9fVRoaXMgd2lsbCBub3QgcmVtb3ZlIGFueSBsaW5rcyBleHBsaWNpdGx5IGFzc29jaWF0ZWQgdG8gc3BlY2lmaWMgYWN0aW9ucyBvZiB7e2NvZGV9fS57ey9pZn19AABI9Fam7tQJdW5yZWdwcm9k5QQtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVbnJlZ2lzdGVyIGFzIGEgQmxvY2sgUHJvZHVjZXIgQ2FuZGlkYXRlCnN1bW1hcnk6ICd7e25vd3JhcCBwcm9kdWNlcn19IHVucmVnaXN0ZXJzIGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKe3twcm9kdWNlcn19IHVucmVnaXN0ZXJzIGFzIGEgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlLiB7e3Byb2R1Y2VyfX0gYWNjb3VudCB3aWxsIHJldGFpbiBpdHMgdm90ZXMgYW5kIHRob3NlIHZvdGVzIGNhbiBjaGFuZ2UgYmFzZWQgb24gdm90ZXIgc3Rha2UgY2hhbmdlcyBvciB2b3RlcyByZW1vdmVkIGZyb20ge3twcm9kdWNlcn19LiBIb3dldmVyIG5ldyB2b3RlcnMgd2lsbCBub3QgYmUgYWJsZSB0byB2b3RlIGZvciB7e3Byb2R1Y2VyfX0gd2hpbGUgaXQgcmVtYWlucyB1bnJlZ2lzdGVyZWQu0NWlWUGT8dQMdW5zdGFrZXRvcmV44wYtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBCdXkgUkVYIFRva2VucyBVc2luZyBTdGFrZWQgVG9rZW5zCnN1bW1hcnk6ICd7e25vd3JhcCBvd25lcn19IGJ1eXMgUkVYIHRva2VucyBpbiBleGNoYW5nZSBmb3IgdG9rZW5zIGN1cnJlbnRseSBzdGFrZWQgdG8gTkVUIGFuZC9vciBDUFUnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgp7e2Zyb21fbmV0fX0gYW5kIHt7ZnJvbV9jcHV9fSBhcmUgd2l0aGRyYXduIGZyb20ge3tyZWNlaXZlcn194oCZcyBORVQgYW5kIENQVSBiYW5kd2lkdGhzIHJlc3BlY3RpdmVseS4gVGhlc2UgZnVuZHMgYXJlIHVzZWQgdG8gcHVyY2hhc2UgUkVYIHRva2VucyBhdCB0aGUgY3VycmVudCBtYXJrZXQgZXhjaGFuZ2UgcmF0ZS4gSW4gb3JkZXIgZm9yIHRoZSBhY3Rpb24gdG8gc3VjY2VlZCwge3tvd25lcn19IG11c3QgaGF2ZSB2b3RlZCBmb3IgYSBwcm94eSBvciBhdCBsZWFzdCAyMSBibG9jayBwcm9kdWNlcnMuCgpBIHNlbGwgb3JkZXIgb2YgdGhlIHB1cmNoYXNlZCBhbW91bnQgY2FuIG9ubHkgYmUgaW5pdGlhdGVkIGFmdGVyIHdhaXRpbmcgZm9yIHRoZSBtYXR1cml0eSBwZXJpb2Qgb2YgNCB0byA1IGRheXMgdG8gcGFzcy4gRXZlbiB0aGVuLCBkZXBlbmRpbmcgb24gdGhlIG1hcmtldCBjb25kaXRpb25zLCB0aGUgaW5pdGlhdGVkIHNlbGwgb3JkZXIgbWF5IG5vdCBiZSBleGVjdXRlZCBpbW1lZGlhdGVseS4AQMvaqGxS1Qp1cGRhdGVhdXRo7QMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBNb2RpZnkgQWNjb3VudCBQZXJtaXNzaW9uCnN1bW1hcnk6ICdBZGQgb3IgdXBkYXRlIHRoZSB7e25vd3JhcCBwZXJtaXNzaW9ufX0gcGVybWlzc2lvbiBvZiB7e25vd3JhcCBhY2NvdW50fX0nCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hY2NvdW50LnBuZyMzZDU1YTJmYzNhNWMyMGI0NTZmNTY1N2ZhZjY2NmJjMjVmZmQwNmY0ODM2YzVlODI1NmY3NDExNDliMGIyOTRmCi0tLQoKTW9kaWZ5LCBhbmQgY3JlYXRlIGlmIG5lY2Vzc2FyeSwgdGhlIHt7cGVybWlzc2lvbn19IHBlcm1pc3Npb24gb2Yge3thY2NvdW50fX0gdG8gaGF2ZSBhIHBhcmVudCBwZXJtaXNzaW9uIG9mIHt7cGFyZW50fX0gYW5kIHRoZSBmb2xsb3dpbmcgYXV0aG9yaXR5Ogp7e3RvX2pzb24gYXV0aH19AADo6qpsUtUJdXBkYXRlcmV4gQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVcGRhdGUgUkVYIE93bmVyIFZvdGUgV2VpZ2h0CnN1bW1hcnk6ICdVcGRhdGUgdm90ZSB3ZWlnaHQgdG8gY3VycmVudCB2YWx1ZSBvZiBoZWxkIFJFWCB0b2tlbnMnCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9yZXgucG5nI2QyMjk4MzdmYTYyYTQ2NGI5YzcxZTA2MDYwYWE4NjE3OWFkZjBiM2Y0ZTNiOGM0Zjk3MDJmNGY0YjBjMzQwYTgKLS0tCgpVcGRhdGUgdm90ZSB3ZWlnaHQgb2Yge3tvd25lcn19IGFjY291bnQgdG8gY3VycmVudCB2YWx1ZSBvZiBoZWxkIFJFWCB0b2tlbnMuMKnDbqubU9UMdXBkdHJldmlzaW9uggMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBVcGRhdGUgU3lzdGVtIENvbnRyYWN0IFJldmlzaW9uIE51bWJlcgpzdW1tYXJ5OiAnVXBkYXRlIHN5c3RlbSBjb250cmFjdCByZXZpc2lvbiBudW1iZXInCmljb246IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9lb3NuZXR3b3JrZm91bmRhdGlvbi9lb3Mtc3lzdGVtLWNvbnRyYWN0cy9tYWluL2NvbnRyYWN0cy9pY29ucy9hZG1pbi5wbmcjOWJmMWNlYzY2NDg2M2JkNmFhYWMwZjgxNGIyMzVmODc5OWZiMDJjODUwZTlhYTVkYTM0ZThhMDA0YmQ2NTE4ZQotLS0KCnt7JGFjdGlvbi5hY2NvdW50fX0gYWR2YW5jZXMgdGhlIHN5c3RlbSBjb250cmFjdCByZXZpc2lvbiBudW1iZXIgdG8ge3tyZXZpc2lvbn19LnAV0oneqjLdDHZvdGVwcm9kdWNlcq0GLS0tCnNwZWNfdmVyc2lvbjogIjAuMi4wIgp0aXRsZTogVm90ZSBmb3IgQmxvY2sgUHJvZHVjZXJzCnN1bW1hcnk6ICd7e25vd3JhcCB2b3Rlcn19IHZvdGVzIGZvciB7eyNpZiBwcm94eX19dGhlIHByb3h5IHt7bm93cmFwIHByb3h5fX17e2Vsc2V9fXVwIHRvIDMwIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZXN7ey9pZn19JwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvdm90aW5nLnBuZyNkYjI4Y2QzZGI2ZTYyZDQ1MDlhZjM2NDRjZTdkMzc3MzI5NDgyYTE0YmI0YmZhY2EyYWE1ZjE0MDBkOGU4YTg0Ci0tLQoKe3sjaWYgcHJveHl9fQp7e3ZvdGVyfX0gdm90ZXMgZm9yIHRoZSBwcm94eSB7e3Byb3h5fX0uCkF0IHRoZSB0aW1lIG9mIHZvdGluZyB0aGUgZnVsbCB3ZWlnaHQgb2Ygdm90ZXLigJlzIHN0YWtlZCAoQ1BVICsgTkVUKSB0b2tlbnMgd2lsbCBiZSBjYXN0IHRvd2FyZHMgZWFjaCBvZiB0aGUgcHJvZHVjZXJzIHZvdGVkIGJ5IHt7cHJveHl9fS4Ke3tlbHNlfX0Ke3t2b3Rlcn19IHZvdGVzIGZvciB0aGUgZm9sbG93aW5nIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZXM6Cgp7eyNlYWNoIHByb2R1Y2Vyc319CiAgKyB7e3RoaXN9fQp7ey9lYWNofX0KCkF0IHRoZSB0aW1lIG9mIHZvdGluZyB0aGUgZnVsbCB3ZWlnaHQgb2Ygdm90ZXLigJlzIHN0YWtlZCAoQ1BVICsgTkVUKSB0b2tlbnMgd2lsbCBiZSBjYXN0IHRvd2FyZHMgZWFjaCBvZiB0aGUgYWJvdmUgcHJvZHVjZXJzLgp7ey9pZn19AIDKJlWtMt0Kdm90ZXVwZGF0ZQAAAACALSSx4Qd3YXNtY2ZnAAAAANzc1LLjCHdpdGhkcmF3yQMtLS0Kc3BlY192ZXJzaW9uOiAiMC4yLjAiCnRpdGxlOiBXaXRoZHJhdyBmcm9tIFJFWCBGdW5kCnN1bW1hcnk6ICdXaXRoZHJhdyB7e25vd3JhcCBhbW91bnR9fSBmcm9tIHt7bm93cmFwIG93bmVyfX3igJlzIFJFWCBmdW5kIGJ5IHRyYW5zZmVycmluZyB0byB7e293bmVyfX3igJlzIGxpcXVpZCBiYWxhbmNlJwppY29uOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZW9zbmV0d29ya2ZvdW5kYXRpb24vZW9zLXN5c3RlbS1jb250cmFjdHMvbWFpbi9jb250cmFjdHMvaWNvbnMvcmV4LnBuZyNkMjI5ODM3ZmE2MmE0NjRiOWM3MWUwNjA2MGFhODYxNzlhZGYwYjNmNGUzYjhjNGY5NzAyZjRmNGIwYzM0MGE4Ci0tLQoKV2l0aGRyYXdzIHt7YW1vdW50fX0gZnJvbSB7e293bmVyfX3igJlzIFJFWCBmdW5kIGFuZCB0cmFuc2ZlciB0aGVtIHRvIHt7b3duZXJ9feKAmXMgbGlxdWlkIGJhbGFuY2UuGgAAAKBh09wxA2k2NAAACGFiaV9oYXNoAABOUy91kzsDaTY0AAAKYmlkX3JlZnVuZAAAoGs6iGg8A2k2NAAAEWJsb2NrX2luZm9fcmVjb3JkAAAAYBoadUUDaTY0AAAIcmV4X2xvYW4AAAAgTXOiSgNpNjQAABNkZWxlZ2F0ZWRfYmFuZHdpZHRoAAAAAERzaGQDaTY0AAASZW9zaW9fZ2xvYmFsX3N0YXRlAAAAQERzaGQDaTY0AAATZW9zaW9fZ2xvYmFsX3N0YXRlMgAAAGBEc2hkA2k2NAAAE2Vvc2lvX2dsb2JhbF9zdGF0ZTMAAACARHNoZANpNjQAABNlb3Npb19nbG9iYWxfc3RhdGU0AAAAOLmjpJkDaTY0AAAIbmFtZV9iaWQAAABgGhqzmgNpNjQAAAhyZXhfbG9hbgCuSpeCqjmtA2k2NAAADXBvd2VydXBfb3JkZXIAVDYZg6o5rQNpNjQAAA1wb3dlcnVwX3N0YXRlAADAVyGd6K0DaTY0AAANcHJvZHVjZXJfaW5mbwCAwFchneitA2k2NAAADnByb2R1Y2VyX2luZm8yAADICl4jpbkDaTY0AAAOZXhjaGFuZ2Vfc3RhdGUAAAAAp6mXugNpNjQAAA5yZWZ1bmRfcmVxdWVzdAAAzgoifbK6A2k2NAAAEnJleF9yZXR1cm5fYnVja2V0cwAAAABEc7q6A2k2NAAAC3JleF9iYWxhbmNlAAAAIE29uroDaTY0AAAIcmV4X2Z1bmQAAAAgUlq7ugNpNjQAAAhyZXhfcG9vbAAAAEorbbu6A2k2NAAACXJleF9vcmRlcgBApLRmdbu6A2k2NAAAD3JleF9yZXR1cm5fcG9vbAAAAACrexXWA2k2NAAADnVzZXJfcmVzb3VyY2VzAAAAAOCrMt0DaTY0AAAKdm90ZXJfaW5mb8Aaalmb7KSLA2k2NAAAEWxpbWl0X2F1dGhfY2hhbmdlAg1Vc2VyQWdyZWVtZW507H8jIEVPUyBVc2VyIEFncmVlbWVudAoKIyMgRGVmaW5pdGlvbnMKCiBBbGwgY2FwaXRhbGl6ZWQsIGl0YWxpY2l6ZWQsIG9yIGlubGluZSBjb2RlIHRlcm1zIGluICpUaGUgRU9TIFVzZXIgQWdyZWVtZW50KiB3aWxsIGJlIGdpdmVuIHRoZSBzYW1lIGVmZmVjdCBhbmQgbWVhbmluZyBhcyBpbiAqRGVmaW5pdGlvbnMqLgoKKiBFT1MgVXNlciBBZ3JlZW1lbnQ6IFRoaXMgZG9jdW1lbnQgKCpFVUEqKQoKKiBDaGFpbiBJRDogYGNoYWluX2lkYOKAii3igIphY2EzNzZmMjA2YjhmYzI1YTZlZDQ0ZGJkYzY2NTQ3YzM2YzZjMzNlM2ExMTlmZmJlYWVmOTQzNjQyZjBlOTA2CgoqIFVzZXI6IEFueSBwZXJzb24gb3Igb3JnYW5pemF0aW9uIG9mIHBlcnNvbnMgd2hvIG1haW50YWluKHMpIGRpcmVjdCBvciBpbmRpcmVjdCBvd25lcnNoaXAgb2YgYW4gRU9TIGFjY291bnQsIG9yIEVPUy1iYXNlZCBwcm9wZXJ0eSBjb25uZWN0ZWQgdG8gYW4gRU9TIGFjY291bnQuCgoqIE93bmVyc2hpcDogRGlyZWN0IG9yIGluZGlyZWN0IGFjY2VzcyB0byBhbiBFT1MgYWNjb3VudCB0aHJvdWdoIG9uZSBvciBtb3JlIHZhbGlkIHBlcm1pc3Npb25zIGNoZWNrcy4gT3duZXJzaGlwIG1heSBiZSBwYXJ0aWFsbHkgc2hhcmVkIGJldHdlZW4gVXNlcnMgdGhyb3VnaCB0aGUgdXNlIG9mIG11bHRpLXNpZ25hdHVyZSBwZXJtaXNzaW9ucy4KCiogQmxvY2sgUHJvZHVjZXI6IFVzZXJzIHdobyBoYXZlIGNhbGxlZCBgcmVncHJvZHVjZXJgIGFuZCByZWNlaXZlIHJld2FyZHMgZnJvbSBlb3Npby52cGF5LgoKKiBgZW9zaW8ucHJvZHNgOiBBbiBFT1MgYWNjb3VudCB3aXRoIGEgZHluYW1pYyBwZXJtaXNzaW9ucyBzdHJ1Y3R1cmUgdGhhdCBjYW4gYXNzdW1lIHRoZSBwcml2aWxlZ2VzIG9mIHRoZSBgZW9zaW9gIGFjY291bnQgd2hlbiAxNS8yMSBCbG9jayBQcm9kdWNlcnMgYWdyZWUgdG8gZG8gc28uCgoqIE5ldHdvcmsgRnVuZHM6IFRva2VucyBjb250YWluZWQgd2l0aGluIHRoZSBmb2xsb3dpbmcgYWNjb3VudHM6IGBlb3Npby5uYW1lc2AsIGBlb3Npby5yYW1mZWVgLCBgZW9zaW8uc2F2aW5nYC4KCiogR292ZXJuaW5nIERvY3VtZW50czogKnJlZ3Byb2R1Y2VyKiBpcyBjb25zaWRlcmVkIGEgZ292ZXJuaW5nIGRvY3VtZW50LgoKKiBPbi1DaGFpbjogQW55IHRyYW5zYWN0aW9uLCBzbWFydCBjb250cmFjdCwgb3IgUmljYXJkaWFuIGNvbnRyYWN0IHdoaWNoIGlzIGxvY2F0ZWQgd2l0aGluIGEgYmxvY2sgdGhhdCBpcyBpcnJldmVyc2libGUgYW5kIGFwcGVuZGVkIHRvIHRoZSBFT1MgYmxvY2tjaGFpbiBgY2hhaW5faWRgLgoKKiBFT1MtYmFzZWQgUHJvcGVydHk6IEFueXRoaW5nIHRoYXQgcmVxdWlyZXMgYSB2YWxpZCBwZXJtaXNzaW9uIGluIG9yZGVyIHRvIGRpcmVjdGx5IG1hbmlwdWxhdGUsIGFsdGVyLCB0cmFuc2ZlciwgaW5mbHVlbmNlLCBvciBvdGhlcndpc2UgZWZmZWN0IG9uIHRoZSBFT1MgQmxvY2tjaGFpbgoKKiBDYWxsOiBUbyBzdWJtaXQgYW4gYWN0aW9uIHRvIHRoZSBFT1MgQmxvY2tjaGFpbiBgY2hhaW5faWRgLgoKKiBBdXRob3JpemF0aW9ucyAmIFBlcm1pc3Npb25zOiBQZXJtaXNzaW9ucyBhcmUgYXJiaXRyYXJ5IG5hbWVzIHVzZWQgdG8gZGVmaW5lIHRoZSByZXF1aXJlbWVudHMgZm9yIGEgdHJhbnNhY3Rpb24gc2VudCBvbiBiZWhhbGYgb2YgdGhhdCBwZXJtaXNzaW9uLiBQZXJtaXNzaW9ucyBjYW4gYmUgYXNzaWduZWQgZm9yIGF1dGhvcml0eSBvdmVyIHNwZWNpZmljIGNvbnRyYWN0IGFjdGlvbnMuCgoqIFJpY2FyZGlhbiBDb250cmFjdDogQSBjb250cmFjdCB0aGF0IHBsYWNlcyB0aGUgZGVmaW5pbmcgZWxlbWVudHMgb2YgYSBsZWdhbCBhZ3JlZW1lbnQgaW4gYSBmb3JtYXQgdGhhdCBjYW4gYmUgZXhwcmVzc2VkIGFuZCBleGVjdXRlZCBpbiBzb2Z0d2FyZS4KCiMjIEFydGljbGUgSSAt4oCKIFVzZXIgQWNrbm93bGVkZ2VtZW50IG9mIFJpc2tzCklmIFVzZXIgbG9zZXMgYWNjZXNzIHRvIHRoZWlyIEVPUyBhY2NvdW50IG9uIGBjaGFpbl9pZGAgYW5kIGhhcyBub3QgdGFrZW4gYXBwcm9wcmlhdGUgbWVhc3VyZXMgdG8gc2VjdXJlIGFjY2VzcyB0byB0aGVpciBFT1MgYWNjb3VudCBieSBvdGhlciBtZWFucywgdGhlIFVzZXIgYWNrbm93bGVkZ2VzIGFuZCBhZ3JlZXMgdGhhdCB0aGF0IEVPUyBhY2NvdW50IHdpbGwgYmVjb21lIGluYWNjZXNzaWJsZS4gVXNlcnMgYWNrbm93bGVkZ2UgdGhhdCB0aGUgVXNlciBoYXMgYW4gYWRlcXVhdGUgdW5kZXJzdGFuZGluZyBvZiB0aGUgcmlza3MsIHVzYWdlIGFuZCBpbnRyaWNhY2llcyBvZiBjcnlwdG9ncmFwaGljIHRva2VucyBhbmQgYmxvY2tjaGFpbi1iYXNlZCBzb2Z0d2FyZS4gVGhlIFVzZXIgYWNrbm93bGVkZ2VzIGFuZCBhZ3JlZXMgdGhhdCB0aGUgVXNlciBpcyB1c2luZyB0aGUgRU9TIGJsb2NrY2hhaW4gYXQgdGhlaXIgc29sZSByaXNrLgoKIyMgQXJ0aWNsZSBJSeKAii3igIpTcGVjaWFsIFVzZXIgVHlwZXMKVXNlcnMgd2hvIGNhbGwgYHJlZ3Byb2R1Y2VyYCBhZ3JlZSB0bywgYW5kIGFyZSBib3VuZCBieSwgdGhlICpyZWdwcm9kdWNlciogUmljYXJkaWFuIENvbnRyYWN0LgoKIyMgQXJ0aWNsZSBJSUnigIot4oCKQ29uc2VudCBvZiB0aGUgRVVBClRoZSBuYXR1cmUgb2YgdGhlICpFT1MgVXNlciBBZ3JlZW1lbnQqIGlzIHN1Y2ggdGhhdCBpdCBzZXJ2ZXMgYXMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgY3VycmVudCBFT1MgTWFpbm5ldCBnb3Zlcm5hbmNlIGZ1bmN0aW9ucyB0aGF0IGFyZSBpbiBwbGFjZS4gVGhlc2UgZnVuY3Rpb25zLCBlbmZvcmNlZCBieSBjb2RlLCBkbyBub3QgcmVxdWlyZSB0aGUgY29uc2VudCBvZiBVc2VycyBhcyB0aGVzZSBmdW5jdGlvbnMgYXJlIGluaGVyZW50IGFuZCBzeXN0ZW1pYyB0byB0aGUgRU9TIE1haW5uZXQgaXRzZWxmLgoKIyMgQXJ0aWNsZSBJVuKAii3igIpHb3Zlcm5pbmcgRG9jdW1lbnRzCkFueSBtb2RpZmljYXRpb25zIHRvIHRoZSAqRVVBKiBhbmQgKmdvdmVybmluZyBkb2N1bWVudHMqIG1heSBiZSBtYWRlIGJ5IGBlb3Npby5wcm9kc2AuIEl0IGlzIGFkbW9uaXNoZWQgdGhhdCBhIHN0YXRlbWVudCBiZSBjcmFmdGVkIGFuZCBpc3N1ZWQgdGhyb3VnaCBgZW9zaW8ucHJvZHNgIHZpYSBlb3Npby5mb3J1bSByZWZlcmVuZHVtIGNvbnRyYWN0IGRlc2NyaWJpbmcgc3VjaCBhIG1vZGlmaWNhdGlvbiBpbiBhZHZhbmNlLgoKIyMgQXJ0aWNsZSBW4oCKLeKAik5hdGl2ZSBVbml0IG9mIFZhbHVlClRoZSBuYXRpdmUgdW5pdCBvZiB2YWx1ZSBvbiBFT1MgY2hhaW5faWQgc2hhbGwgYmUgdGhlIEVPUyB0b2tlbiBhcyBkZWZpbmVkIGFuZCBjcmVhdGVkIGJ5IHRoZSBgZW9zaW8udG9rZW5gIHNtYXJ0IGNvbnRyYWN0LgoKIyMgQXJ0aWNsZSBWSeKAii3igIpNYWludGFpbmluZyB0aGUgRU9TIGJsb2NrY2hhaW4KYGVvc2lvLnByb2RzYCB3aWxsIG1haW50YWluIHRoZSBhY3RpdmUgYmxvY2tjaGFpbiBjb2RlYmFzZSB3aGljaCBpbmNsdWRlcywgYnV0IGlzIG5vdCBsaW1pdGVkIHRvLCB0aGUgaW1wbGVtZW50YXRpb24gb2YgYWxsIG1vZGlmaWNhdGlvbnMgb2YgYWxsIGZlYXR1cmVzLCBvcHRpbWl6YXRpb25zLCBhbmQgdXBncmFkZXM6IHByZXNlbnQgYW5kIGZ1dHVyZS4KCiMjIEFydGljbGUgVklJ4oCKLeKAik5ldHdvcmsgRnVuZHMKSXQgaXMgYWRtb25pc2hlZCB0aGF0IGFueSBhbHRlcmluZyBvZiB0aGUgc3RhdGUgb2YgYW55IHRva2VucyBjb250YWluZWQgd2l0aGluIG5ldHdvcmsgZnVuZCBhY2NvdW50cywgb3IgYWx0ZXJpbmcgYW55IHByZS1leGlzdGluZyBjb2RlIHRoYXQgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBnb3Zlcm5zIHRoZSBhbGxvY2F0aW9uLCBmdWxmaWxsbWVudCwgb3IgZGlzdHJpYnV0aW9uIG9mIGFueSAqbmV0d29yayBmdW5kcyogYmUgcHJlY2VkZWQgYnkgYSBzdGF0ZW1lbnQgY3JhZnRlZCBhbmQgaXNzdWVkIGJ5IGBlb3Npby5wcm9kc2AgdG8gdGhlICplb3Npby5mb3J1bSogcmVmZXJlbmR1bSBzeXN0ZW0gY29udHJhY3QgZGVzY3JpYmluZyB0aGUgZWZmZWN0IGluIGFkdmFuY2UuCgojIyBBcnRpY2xlIFZJSUnigIot4oCKRnJlZWRvbSBvZiBBY2NvdW50IENyZWF0aW9uCkFueSBjdXJyZW50IG9yIGZ1dHVyZSBVc2VyIGlzIGFibGUgdG8gY3JlYXRlIGFuIEVPUyBBY2NvdW50IHdpdGhvdXQgdGhlIHBlcm1pc3Npb24gYnkgYW55IG90aGVyIFVzZXIuIGBlb3Npby5wcm9kc2AgbWF5IG5ldmVyIGFmZmVjdCBhbiBFT1MgVXNlciBBY2NvdW50KHMpIHdpdGhvdXQgdmFsaWQgcGVybWlzc2lvbihzKSB3aGljaCBoYXZlIGJlZW4gc2hhcmVkIHdpdGggYGVvc2lvLnByb2RzYCBieSBhbiBFT1MgYWNjb3VudC4gYGVvc2lvLnByb2RzYCBtYXkgY2hhcmdlIGEgZmVlIGZvciBhbnkgYWN0aW9ucyB0aGF0IGFyZSByZXF1ZXN0ZWQgYnkgb3RoZXIgVXNlcnMgcGVydGFpbmluZyB0byBhbiBFT1MgYWNjb3VudCB3aGVyZSBwZXJtaXNzaW9ucyBhcmUgc2hhcmVkLgoKIyMgQXJ0aWNsZSBJWOKAii3igIpObyBGaWR1Y2lhcnkKTm8gVXNlciBzaGFsbCBoYXZlIGEgZmlkdWNpYXJ5IHB1cnBvc2UgdG8gc3VwcG9ydCB0aGUgdmFsdWUgb2YgdGhlIEVPUyB0b2tlbi4gTm8gVXNlciBjYW4gYXV0aG9yaXplIGFueW9uZSB0byBob2xkIGFzc2V0cywgYm9ycm93LCBzcGVhaywgY29udHJhY3Qgb24gYmVoYWxmIG9mIG90aGVyIEVPUyBVc2VycyBvciB0aGUgRU9TIGJsb2NrY2hhaW4gYGNoYWluX2lkYCBjb2xsZWN0aXZlbHkuIFRoaXMgRU9TIGJsb2NrY2hhaW4gc2hhbGwgaGF2ZSBubyBvd25lcnMsIG1hbmFnZXJzLCBvciBmaWR1Y2lhcmllcy4KCiMjIEFydGljbGUgWOKAii3igIpVc2VyIFNlY3VyaXR5CkFsbCBpdGVtcyBwZXJ0YWluaW5nIHRvIHBlcnNvbmFsIGFjY291bnQgc2VjdXJpdHksIGluY2x1ZGluZyBidXQgbm90IGxpbWl0ZWQgdG8gdGhlIHNhZmVrZWVwaW5nIG9mIHByaXZhdGUga2V5cywgaXMgc29sZWx5IHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgVXNlciB0byBzZWN1cmUuCgojIyBBcnRpY2xlIFhJIC0gYGVvc2lvLnByb2RzYCBMaW1pdGVkIExpYWJpbGl0eQpUaGUgVXNlciBhY2tub3dsZWRnZXMgYW5kIGFncmVlcyB0aGF0LCB0byB0aGUgZnVsbGVzdCBleHRlbnQgcGVybWl0dGVkIGJ5IGFueSBhcHBsaWNhYmxlIGxhdywgdGhpcyBkaXNjbGFpbWVyIG9mIGxpYWJpbGl0eSBhcHBsaWVzIHRvIGFueSBhbmQgYWxsIGRhbWFnZXMgb3IgaW5qdXJ5IHdoYXRzb2V2ZXIgY2F1c2VkIGJ5IG9yIHJlbGF0ZWQgdG8gcmlza3Mgb2YsIHVzZSBvZiwgb3IgaW5hYmlsaXR5IHRvIHVzZSwgdGhlIEVPUyB0b2tlbiBvciB0aGUgRU9TIGJsb2NrY2hhaW4gYGNoYWluX2lkYCB1bmRlciBhbnkgY2F1c2Ugb2YgYWN0aW9uIHdoYXRzb2V2ZXIgb2YgYW55IGtpbmQgaW4gYW55IGp1cmlzZGljdGlvbiwgaW5jbHVkaW5nLCB3aXRob3V0IGxpbWl0YXRpb24sIGFjdGlvbnMgZm9yIGJyZWFjaCBvZiB3YXJyYW50eSwgYnJlYWNoIG9mIGNvbnRyYWN0IG9yIHRvcnQgKGluY2x1ZGluZyBuZWdsaWdlbmNlKSBhbmQgdGhhdCBgZW9zaW8ucHJvZHNgLCBub3IgdGhlIGluZGl2aWR1YWwgcGVybWlzc2lvbnMgdGhhdCBvcGVyYXRlIGl0LCBzaGFsbCBub3QgYmUgbGlhYmxlIGZvciBhbnkgaW5kaXJlY3QsIGluY2lkZW50YWwsIHNwZWNpYWwsIGV4ZW1wbGFyeSBvciBjb25zZXF1ZW50aWFsIGRhbWFnZXMsIGluY2x1ZGluZyBmb3IgbG9zcyBvZiBwcm9maXRzLCBnb29kd2lsbCBvciBkYXRhLgoKIyBFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnAoKIyMg7KCV7J2YCgpFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnOydmCDrqqjrk6Ag64yA66y47J6QLCDquLDsmrjsnoQg6ry0LCDrmJDripQg7J2465287J24IOy9lOuTnCDsmqnslrTripQg7KCV7J2Y7JeQ7ISc7JmAIOuPmeydvO2VnCDtmqjqs7zsmYAg7J2Y66+46rCAIOu2gOyXrOuQqeuLiOuLpC4KCi0gICBFT1Mg7IKs7Jqp7J6QIOuPmeydmOyEnDog67O4IOusuOyEnCAoRVVBKQotICAg7LK07J24IElEOiBjaGFpbl9pZOKAii0tLeKAimFjYTM3NmYyMDZiOGZjMjVhNmVkNDRkYmRjNjY1NDdjMzZjNmMzM2UzYTExOWZmYmVhZWY5NDM2NDJmMGU5MDYKLSAgIOyCrOyaqeyekDogRU9TIOqzhOygleydhCDsp4HsoJEg65iQ64qUIOqwhOygkeyggeycvOuhnCDshozsnKDtlZjqsbDrgpggRU9TIOqzhOygleyXkCDsl7DqsrDrkJwgRU9TIOq4sOuwmCDsho3shLHsnYQg7Jyg7KeA7ZWY6rGw64KYIOq0gOumrO2VmOuKlCDsgqzrnowsIOyhsOyngSwg65iQ64qUIOyhsOyngeydmCDrqqjrk6Ag7IKs656MLgotICAg7IaM7Jyg6raMOiDtlZjrgpgg7J207IOB7J2YIOycoO2aqO2VnCDsgqzsmqnqtoztlZwg7ZmV7J247J2EIO2Gte2VtCBFT1Mg6rOE7KCV7JeQIOyngeygkSDrmJDripQg6rCE7KCR7KCB7Jy866GcIOygkeq3vO2VqeuLiOuLpC4g7IaM7Jyg6raM7J2AIOuLpOykkSDshJzrqoXqtoztlZzsnYQg7IKs7Jqp7ZWY7JesIOyCrOyaqeyekOqwhOyXkCDrtoDrtoTsoIHsnLzroZwg6rO17JygIOuQoCDsiJgg7J6I7Iq164uI64ukLgotICAg67iU66GdIO2UhOuhnOuTgOyEnDogcmVncHJvZHVjZXLrpbwg7Iuk7ZaJ7ZWY6rOgIGVvc2lvLnZwYXnroZzrtoDthLAg67O07IOB7J2EIOuwm+uKlCDsgqzsmqnsnpAuCi0gICBlb3Npby5wcm9kczogMTUvMjEg67iU66GdIO2UhOuhnOuTgOyEnOuTpOydtCDrj5nsnZgg7ZWgIOuVjCBlb3NpbyDqs4TsoJXsnZgg6raM7ZWc7J2EIOqwgOyniCDsiJgg7J6I64qUIOuPmeyggSDqtoztlZwg6rWs7KGw66W8IOqwgOynhCBFT1Mg6rOE7KCVLgotICAg64Sk7Yq47JuM7YGsIOyekOq4iDog64uk7J2MIOqzhOygleyXkCDtj6ztlagg65CcIO2GoO2BsDogZW9zaW8ubmFtZXMsIGVvc2lvLnJhbWZlZSwgZW9zaW8uc2F2aW5nLgotICAg6rSA66asIOusuOyEnDogcmVncHJvZHVjZXLripQg6rSA66asIOusuOyEnOuhnCDqsITso7zrkKnri4jri6QuCi0gICDsmKjssrTsnbg6IEVPUyDruJTroZ3ssrTsnbggY2hhaW5faWTsl5Ag67mE6rCA7Jet7KCB7J2066mwIOy2lOqwgCDtlaAg7IiYIOyeiOuKlCDruJTroZ0g64K07JeQIOychOy5mO2VnCDrqqjrk6Ag6rGw656YLCDsiqTrp4jtirgg6rOE7JW9IOuYkOuKlCDrpqzsubTrpbTrlJTslYgg6rOE7JW9LgotICAgRU9TIOq4sOuwmCDsho3shLE6IEVPUyDruJTroZ3ssrTsnbjsnYQg7KeB7KCRIOyhsOyekSwg67OA6rK9LCDsoITshqEsIOyYge2WpSDrmJDripQg64us66asIOyggeyaqe2VmOq4sCDsnITtlbQg7Jyg7Zqo7ZWcIOyCrOyaqSDqtoztlZzsnbQg7ZWE7JqU7ZWcIOuqqOuToCDqsoMKLSAgIOy9nDogRU9TIOu4lOuhneyytOyduCBjaGFpbl9pZOyXkCDsnpHsl4XsnYQg7Iug7LKt7ZWY64qUIOqygy4KLSAgIO2XiOqwgCDrsI8g6raM7ZWcOiAn7ZeI6rCAJ+uKlCDtlbTri7kg6raM7ZWc7J2EIOuMgOyLoO2VmOyXrCDsoITshqHrkJjripQg7Yq4656c7J6t7IWY7J2YIOyalOq1rOyCrO2VreydhCDsoJXsnZjtlZjripQg642wIOyCrOyaqeuQqeuLiOuLpC4gJ+q2jO2VnCfsnYAg7Yq57KCVIOqzhOyVvSDsobDsuZjsl5Ag64yA7ZWcIOq2jO2VnOydhCDrtoDsl6ztlanri4jri6QuCi0gICDrpqzsubTrpbTrlJTslYgg6rOE7JW9OiDtlanrspXsoIEg6rOE7JW97J2YIOygleydmCDsmpTshozrpbwg7IaM7ZSE7Yq47Juo7Ja066GcIO2RnO2YhO2VmOqzoCDsi6TtlontlaAg7IiYIOyeiOuKlCDtmJXsi53snLzroZwg67Cw7LmY7ZWY64qUIOqzhOyVvS4KCiMjIOygnCAx7KGw4oCKLS0t4oCK7JyE7ZeY7JeQIOuMgO2VnCDsgqzsmqnsnpDrk6TsnZgg7J247KeACgrsgqzsmqnsnpDqsIAgY2hhaW5faWTsl5DshJwgRU9TIOqzhOygleyXkCDrjIDtlZwg7KCR6re8IOq2jO2VnOydhCDsnoPqs6AsIOuLpOuluCDrsKnrspXsnLzroZwgRU9TIOqzhOygleyXkCDrjIDtlZwg7KCR6re87J2EIOuztO2YuO2VmOq4sCDsnITtlbQg7KCB7KCI7ZWcIOyhsOy5mOulvCDst6jtlZjsp4Ag7JWK64qUIOqyveyasOyXkOuKlCBFT1Mg6rOE7KCV7JeQIOygkeq3vO2VoCDsiJgg7JeG6rKMIOuQnOuLpOuKlCDqsoPsnYQg7J247KCV7ZWY6rOgIOuPmeydmO2VqeuLiOuLpC4g7IKs7Jqp7J6Q64qUIOyVlO2YuO2ZlCDthqDtgbDqs7wg67iU66Gd7LK07J24IOq4sOuwmCDshoztlITtirjsm6jslrTsnZgg7JyE7ZeYLCDsgqzsmqnrspUsIOq3uOumrOqzoCDrs7XsnqHshLHsl5Ag64yA7ZW0IOy2qeu2hO2eiCDsnbTtlbTtlZjqs6Ag7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4g7IKs7Jqp7J6Q64qUIEVPUyDruJTroZ3ssrTsnbjsnZgg7IKs7Jqp7JeQIOuMgO2VnCDsoITsoIHsnbgg7LGF7J6E7J2EIOynhOuLpOuKlCDqsoPsl5Ag7J247KCV7ZWY6rOgIOuPmeydmO2VqeuLiOuLpC4KCiMjIOygnCAy7KGw4oCKLS0t4oCK7Yq567OE7ZWcIOyCrOyaqeyekCDsnKDtmJUKCnJlZ3Byb2R1Y2Vy66W8IOyLpO2Wie2VmOuKlCDsgqzsmqnsnpDripQgcmVncHJvZHVjZXIg66as7Lm066W065SU7JWIIOqzhOyVveyXkCDrj5nsnZjtlZjqs6AsIOydtOyXkCDqtazsho3rkKnri4jri6QuCgojIyDsoJwgM+yhsOKAii0tLeKAikVVQeydmCDrj5nsnZgKCkVPUyDsgqzsmqnsnpAg64+Z7J2Y7ISc64qUIO2YhOyerCDsi5ztlonspJHsnbggRU9TIOuplOyduOuEtyDqsbDrsoTrhIzsiqTsl5Ag64yA7ZWcIOyEpOuqheycvOuhnCDsgqzsmqnrkKnri4jri6QuIOy9lOuTnOyXkCDsnZjtlbQg7Iuc7ZaJ65CY64qUIOydtOufrO2VnCDquLDriqXsnYAgRU9TIOuplOyduOuEtyDsnpDssrTsnZgg7LK06rOE7KCB7J206rOgIOqzoOycoO2VnCDquLDriqXsnbTrr4DroZwg7IKs7Jqp7J6Q7J2YIOuPmeydmOulvCDtlYTsmpTroZwg7ZWY7KeAIOyViuyKteuLiOuLpC4KCiMjIOygnCA07KGw4oCKLS0t4oCK6rSA66asIOusuOyEnAoKRVVB7JmAIOq0gOumrCDrrLjshJzripQgZW9zaW8ucHJvZHPrpbwg7Ya17ZW0IOyImOygleydtCDqsIDriqXtlanri4jri6QuIO2KueyglSDrs4Dqsr3sgqztla3snYQg7IKs7KCE7JeQIOyEpOuqhe2VmOuKlCBlb3Npby5mb3J1bSDtiKztkZwg6rOE7JW97J2EIO2Gte2VtCBlb3Npby5wcm9kc+qwgCDshLHrqoXshJzrpbwg7J6R7ISx7ZWY6rOgIOuwnOq4ie2VoCDqsoPsnYQg6raM6rOg7ZWp64uI64ukLgoKIyMg7KCcIDXsobDigIotLS3igIrqsIDsuZjsnZgg6riw67O4IOuLqOychAoKRU9TIGNoYWluX2lk7J2YIOq4sOuzuCDri6jsnITripQgZW9zaW8udG9rZW4g7Iqk66eI7Yq4IOqzhOyVveyXkCDsnZjtlbQg7KCV7J2Y65CY6rOgIOyekeyEseuQnCBFT1Mg7Yag7YGw7J6F64uI64ukLgoKIyMg7KCcIDbsobDigIotLS3igIpFT1Mg67iU66Gd7LK07J24IOycoOyngAoKZW9zaW8ucHJvZHPripQg66qo65OgIOq4sOuKpSwg7LWc7KCB7ZmULCDqt7jrpqzqs6Ag7JeF6re466CI7J2065Oc7J2YIO2YhOyerOyZgCDrr7jrnpjsnZgg66qo65OgIOyImOygleyCrO2VreydhCDqtaztmITtlZjripQg6rKD7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnOuQmOyngCDslYrripQg7Zmc7ISx7ZmU65CcIOu4lOuhneyytOyduCDsvZTrk5zrsqDsnbTsiqTrpbwg7Jyg7KeA7ZWp64uI64ukCgojIyDsoJwgN+yhsOKAii0tLeKAiuuEpO2KuOybjO2BrCDsnpDquIgKCuuEpO2KuOybjO2BrCDsnpDquIgg6rOE7KCV7JeQIO2PrO2VqOuQnCDthqDtgbDsnZgg7IOB7YOc66W8IOuzgOqyve2VmOqxsOuCmCwg64Sk7Yq47JuM7YGsIOyekOq4iOydmCDrsLDrtoQsIOydtO2WiSwg65iQ64qUIOuwsO2PrOulvCDsp4Ev6rCE7KCR7KCB7Jy866GcIOq0gOumrO2VmOuKlCDquLDsobQg7L2U65Oc66W8IOuzgOqyve2VmOuKlCDqsr3smrDsl5DripQgZW9zaW8ucHJvZHPrpbwgZW9zaW8uZm9ydW0g7LSdIO2IrO2RnCDsi5zsiqTthZwg6rOE7JW97JeQIOy2lOqwgO2VmOyXrCDsgqzsoITsl5Ag7Lap67aE7ZWcIOyEpOuqheydtCDsnbTro6jslrTsoLjslbwg7ZWp64uI64ukLgoKIyMg7KCcIDjsobDigIotLS3igIrqs4TsoJUg7IOd7ISx7J2YIOyekOycoAoK7ZiE7J6sLCDrmJDripQg66+4656Y7J2YIOyCrOyaqeyekOuKlCDri6Trpbgg7IKs7Jqp7J6Q7J2YIO2XiOqwgCDsl4bsnbQgRU9TIOqzhOygleydhCDrp4zrk6Qg7IiYIOyeiOyKteuLiOuLpC4gZW9zaW8ucHJvZHPripQgRU9TIOqzhOygleyXkCDsnZjtlbQg6rO17Jyg65CcIOycoO2aqO2VnCDtl4jqsIAg7JeG7J2064qUIEVPUyDsgqzsmqnsnpAg6rOE7KCV7JeQIOyYge2WpeydhCDspIQg7IiYIOyXhuyKteuLiOuLpC4gZW9zaW8ucHJvZHPripQg6raM7ZWc7J20IOqzteycoOuQmOuKlCBFT1Mg6rOE7KCV6rO8IOq0gOugqO2VmOyXrCDri6Trpbgg7IKs7Jqp7J6Q6rCAIOyalOyyre2VnCDrqqjrk6Ag7J6R7JeF7JeQIOuMgO2VtCDsmpTquIjsnYQg67aA6rO87ZWgIOyImCDsnojsirXri4jri6QuCgojIyDsoJwgOeyhsOKAii0tLeKAiuyLoO2DgSDrtojqsIAKCuyCrOyaqeyekOuKlCBFT1Mg7Yag7YGw7J2YIOqwgOy5mOulvCDrkrfrsJvsuajtlaAg7IiYIOyeiOuKlCDsi6Dtg4Eg66qp7KCB7J2EIOqwgOyguOyEnOuKlCDslYjrkKnri4jri6QuIOyCrOyaqeyekOuKlCBFT1Mg7IKs7Jqp7J6QIOuYkOuKlCBFT1Mg67iU66Gd7LK07J24IGNoYWluX2lk66W8IOuMgO2RnO2VmOyXrCDriITqtazsl5Dqsozrj4Qg7J6Q7IKw7J2EIOuztOycoO2VmOqxsOuCmCwg64yA7Jes7ZWY6rGw64KYLCDsnpDsgrDsl5Ag64yA7ZW0IOyWmOq4sO2VmOqxsOuCmCwg6rOE7JW97J2EIOunuuydhCDqtoztlZzsnYQg67aA7Jes7ZWgIOyImCDsl4bsirXri4jri6QuIEVPUyDruJTroZ3ssrTsnbjsl5DripQg7IaM7Jyg7J6QLCDqtIDrpqzsnpAsIOq3uOumrOqzoCDsiJjtg4HsnpDqsIAg7JeG7Ja07JW8IO2VqeuLiOuLpC4KCiMjIOygnCAxMOyhsOKAii0tLeKAiuyCrOyaqeyekCDrs7TslYgKCuu5hOqzteqwnCDtgqTsnZgg67O06rSA7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnOuQmOyngCDslYrripQg6rCc7J24IOqzhOyijCDrs7TslYjqs7wg6rSA66Co65CcIOuqqOuToCDtla3rqqnrk6Qg65iQ7ZWcIOyghOyggeycvOuhnCDsgqzsmqnsnpDqsIAg7JWI7KCE7ZWY6rKMIOuztOq0gO2VtOyVvCDtlanri4jri6QuCgojIyDsoJwgMTHsobDigIotLS3igIplb3Npby5wcm9kcyDsnKDtlZzssYXsnoQKCuyCrOyaqeyekOuKlCDrspXrpaDsnbQg7ZeI7Jqp7ZWY64qUIO2VnOuPhCDrgrTsl5DshJwgRU9TIO2GoO2BsOydmCDsnITtl5gsIOyCrOyaqSwg65iQ64qUIOyCrOyaqSDrtojqsIDroZwg7J247ZW0IOuwnOyDne2VmOuKlCDrqqjrk6Ag7IaQ7ZW07JeQIOuMgO2VtCDssYXsnoTsnZgg66m07LGFIOyhsO2VreydtCDsoIHsmqnrkJzri6TripQg6rKD7J2EIOyduOygle2VmOqzoCwg64+Z7J2Y7ZWp64uI64ukLiDqs4Tslb0g7JyE67CYLCDrtojrspUg7ZaJ7JyELCDqt7jrpqzqs6Ag7JyE67CYIO2WieychCAo6rSA66asIO2DnOunjCDtj6ztlagp7JmAIGVvc2lvLnByb2RzIOuYkOuKlCDsnbTrpbwg7Jq07JiB7ZWY64qUIOqwnOuzhCDsgqzsmqkg6raM7ZWc7J2EIO2PrO2VqO2VmOuQmCwg7J207JeQIOq1re2VnO2VmOyngCDslYrqs6Ag66qo65OgIOq0gO2VoCDsp4Dsl63sl5DshJzsnZgg66qo65OgIOyiheulmOydmCDsgqzsnKDroZwg7J247ZWcIEVPUyDruJTroZ3ssrTsnbggY2hhaW5faWQg7J207J21LCDsmIHsl4XqtowsIOuYkOuKlCDrjbDsnbTthLDsnZgg7IaQ7Iuk7J2EIO2PrO2VqO2VmOyXrCDqsITsoJHsoIEsIOyasOuwnOyggSwg7Yq57IiY7ZWcLCDrjIDtkZzsoIEsIOq3uOumrOqzoCDtjIzsg53soIHsnbgg7IaQ7ZW07JeQIOuMgO2VnCDssYXsnoTsnYQg7KeA7KeAIOyViuyKteuLiOuLpC4KCiMgRU9T55So5oi35Y2P6K6uCgojIyAqKuWumuS5iSoqCgpFT1PnlKjmiLfljY/orq7kuK3nmoTmiYDmnInlpKflhpnvvIzmlpzkvZPmiJblhoXogZTku6PnoIHmnK/or63lsIblhbfmnInkuI7ku6XkuIvlrprkuYnnm7jlkIznmoTmlYjmnpzlkozlkKvkuYnjgIIKCi0gRU9T55So5oi35Y2P6K6u77ya5Y2z5pys5paH5qGj77yIRVVB77yJCgotIOmTvuS4iklEOiBjaGFpbl9pZCAtIGFjYTM3NmYyMDZiOGZjMjVhNmVkNDRkYmRjNjY1NDdjMzZjNmMzM2UzYTExOWZmYmVhZWY5NDM2NDJmMGU5MDYKCi0g55So5oi377ya5Lu75oSP5ruh6Laz5LiL5YiX6KaB5rGC55qE5Liq5Lq65oiW57uE57uH77ya55u05o6l5oiW6ICF6Ze05o6l5oul5pyJRU9T6LSm5oi35oiW5LiORU9T6LSm5oi35YWz6IGU55qE5Z+65LqORU9T5Y+R6KGM55qE6LSi5Lqn44CCCgotIOaJgOacieadg++8muebtOaOpeaIluiAhemXtOaOpemAmui/h+S4gOS4quaIluWkmuS4quacieaViOeahOadg+mZkOajgOafpeiuv+mXruS4gOS4qkVPU+i0puaIt+OAguaJgOacieadg+WPr+S7pemAmui/h+Wkmuetvuadg+mZkOiuuOWPr+WcqOeUqOaIt+mXtOWFseS6q+OAggoKLSDmiafooYzkuoZyZWdwcm9kdWNl77yM5bm25LiU5LuOZW9zaW8udnBheemihuWPluaUtuWFpeeahOeUqOaIt+OAggoKLSBlb3Npby5wcm9kczrlhbfmnInliqjmgIHmnYPpmZDnu5PmnoTnmoRFT1PluJDmiLfvvIzlvZMxNS8yMSBCbG9jayBQcm9kdWNlcnPlkIzmhI/ml7bvvIzor6XluJDmiLflj6/ku6Xmib/mi4Vlb3Npb+W4kOaIt+eahOadg+mZkOOAggoKLSDnvZHnu5zotYTkuqfvvJrljIXlkKvlnKjku6XkuIvotKbmiLfkuK3nmoTku6PluIHvvJplb3Npby5uYW1lc+OAgWVvc2lvLnJhbWZlZeOAgSAgZW9zaW8uc2F2aW5n44CCCgotIOayu+eQhuaWh+aho++8mnJlZ3Byb2R1Y2Vy5piv5rK755CG5paH5qGj44CCCgotIOS7u+S9leS6pOaYk+OAgeaZuuiDveWQiOe6puaIluiAheadjuWYieWbvuWQiOe6pu+8jOWug+S7rOW3sue7j+S9jeS6juS4gOS4quWMuuWdl+S4re+8jOW5tuS4lOi/meS4quWMuuWdl+aYr+S4jeWPr+mAhui9rOeahOOAgeW3sumZhOWKoOWIsOWQjeS4umNoYWluX2lk55qERU9T5Yy65Z2X6ZO+5Lit44CCCgotIOWfuuS6jkVPU+i1hOS6p++8muS7u+S9lemcgOimgeacieaViOiuuOWPr+adpeaTjeS9nOOAgeaUueWPmOOAgei9rOenu+OAgeW9seWTjeaIluiAhei/m+ihjOWFtuS7luaTjeS9nOeahOS4nOilv+OAggoKLSDmiafooYzvvJrlnKjlkI3kuLpjaGFpbl9pZOeahEVPU+WMuuWdl+mTvuS4reaPkOS6pOS4gOS4quihjOWKqOOAggoKLSDmjojmnYPlkozmnYPpmZDvvJrmnYPpmZDvvIhQZXJtaXNzaW9uc++8ieaYr+eUqOadpeWumuS5ieS7o+ihqOivpeadg+mZkOWPkemAgeeahOS6pOaYk+eahOimgeaxgueahOS7u+aEj+WQjeWtl+OAguWPr+S7pee7meeJueWumueahOWQiOe6puaTjeS9nOeahOaOiOadg++8iEF1dGhvcml6YXRpb25z77yJ5YiG6YWN5p2D6ZmQ77yIUGVybWlzc2lvbnPvvInjgIIKCi0g5p2O5ZiJ5Zu+5ZCI57qm77ya5bCG5rOV5b6L5Y2P6K6u5Lit55qE5a6a5LmJ6KaB57Sg5Lul6IO95Zyo6L2v5Lu25Lit6KGo6L6+5ZKM5omn6KGM55qE5qC85byP6KGo6L6+55qE5ZCI57qm44CCCgojIyAqKuadoeasvuS4gCoqKirnlKgqKioq5oi36aOO6Zmp56Gu6K6kKioKCuWmguaenOeUqOaIt+S4ouWksei0puaIt+iuv+mXruadg+mZkOaIluiAheayoeaciemHh+WPluWQiOmAgueahOaWueW8j+S/neaKpOi0puaIt+iuv+mXruadg+mZkO+8jOeUqOaIt+W6lOefpeaCieW5tuWQjOaEj++8jEVPU+i0puaIt+WwhuaXoOazleiuv+mXruOAgueUqOaIt+W6lOehruiupOeUqOaIt+WvueWKoOWvhuS7o+W4geWSjOWMuuWdl+mTvui9r+S7tueahOmjjumZqeOAgeeUqOazleWSjOWkjeadguaAp+acieWFheWIhuS6huino+OAgueUqOaIt+aJv+iupOW5tuWQjOaEj+eUqOaIt+iHquihjOaJv+aLheS9v+eUqEVPU+WMuuWdl+mTvueahOmjjumZqeOAggoKIyMgKirmnaHmrL7kuowqKioq54m55q6K55SoKioqKuaIt+exu+WeiyoqCgrmiafooYxyZWdwcm9kdWNl77yM5ZCM5oSP5bm25LiU5Y+XcmVncHJvZHVjZXLmnY7lmInlm77lkIjnuqbnuqbmnZ/nmoTnlKjmiLfjgIIKCiMjICoq5p2h5qy+5LiJKioqKuWQjOaEjyoqKipFT1MqKioq55SoKioqKuaIt+WNj+iurioqCgpFT1PnlKjmiLfljY/orq7nmoTlrp7otKjmmK/lr7nlvZPliY1FT1PkuLvnvZHmsrvnkIblip/og73nmoTmj4/ov7DjgILnlLHku6PnoIHlvLrliLbmiafooYznmoTlip/og73kuI3pnIDopoHnlKjmiLfnmoTlkIzmhI/vvIzlm6DkuLrov5nkupvlip/og73mmK9FT1PkuLvnvZHns7vnu5/oh6rluKbnmoTjgIIKCiMjICoq5p2h5qy+5ZubKiogLSAqKuayu+eQhuaWh+ahoyoqCgplb3Npby5wcm9kc+WPr+S7peWvuUVPU+eUqOaIt+WNj+iuruWSjOayu+eQhuaWh+aho+i/m+ihjOS7u+S9leS/ruaUueOAguS4peato+aPkOmGku+8jOaPkOWJjeeUqGVvc2lvLmZvcnVt5YWs5oqV5ZCI57qm77yM6YCa6L+HZW9zaW8ucHJvZHPnvJblhpnjgIHlj5HluIPkuIDkuKrlo7DmmI7mnaXmj4/ov7DpgqPkuKrkv67mlLnjgIIKCiMjICoq5p2h5qy+5LqUKioqKuWOn+eUn+S7tyoqKirlgLzljZXkvY0qKgoKRU9T5YWs6ZO+5LiK55qE5Y6f55Sf5Lu35YC85Y2V5L2N5bqU5Li6ZW9zaW8udG9rZW7mmbrog73lkIjnuqblrprkuYnlkozliJvlu7rnmoRFT1PpgJror4HjgIIKCiMjICoq5p2h5qy+5YWtKioqKue7tOaKpCoqKipFT1MqKioq5Yy6KioqKuWdl+mTvioqCgrml6DorrrnjrDlnKjmiJblsIbmnaXlsIbmnaXvvIxlb3Npby5wcm9kc+Wwhue7tOaKpOa0u+i3g+eahOWMuuWdl+mTvuS7o+eggeW6k++8jOWMheaLrOS9huS4jemZkOS6juaJgOacieWKn+iDveOAgeS8mOWMluOAgeWNh+e6p+eahOaJgOacieS/ruaUueOAgeWunueOsOOAggoKIyMg5p2h5qy+5LiDIC0gKioqKuWumioqKirkuYkqKioqRU9TKioqKue9kee7nOi1hOS6pwoK5pu05pS5572R57uc6LWE5Lqn6LSm5oi35Lit55qE5Lu75L2V5Luj5biB55qE54q25oCB77yM5pu05pS55Lu75L2V546w5a2Y55qE55u05o6l5oiW6Ze05o6l566h55CG5Lu75L2V572R57uc6LWE5Lqn55qE5YiG6YWN44CB5a6e546w5oiW5YiG5Y+R55qE5Luj56CB77yM6ZyA6KaB5LqL5YWI55SoZW9zaW8ucHJvZHPlnKhlb3Npby5mb3J1beWFrOaKleWQiOe6puS4iue8luWGmeWSjOWPkeW4g+aViOaenOaPj+i/sOeahOWjsOaYjuOAggoKIyMgKirmnaHmrL7lhast5Yib5bu66LSm5oi36Ieq55SxKioKCuS7u+S9leeOsOWcqOaIluWwhuadpeeahOeUqOaIt+mDveWPr+S7peWcqOacque7j+S7u+S9leWFtuS7lueUqOaIt+iuuOWPr+eahOaDheWGteS4i+WIm+W7ukVPU+W4kOaIt+OAgiAg5aaC5L2V5rKh5pyJ5pS25YiwRU9T5biQ5oi355qE5pyJ5pWI6K645Y+v77yIcGVybWlzc2lvbu+8ie+8jGVvc2lvLnByb2Rz5rC46L+c5LiN5Lya5b2x5ZONRU9T55So5oi35biQ5oi344CCICDlr7nkuo7lhbHkuqvmnYPpmZDnmoRFT1PluJDmiLfnmoTlhbbku5bnlKjmiLfor7fmsYLnmoTku7vkvZXmk43kvZzvvIxlb3Npby5wcm9kc+WPr+iDveS8muaUtuWPlui0ueeUqOOAggoKIyMgKirmnaHmrL7kuZ3msqHmnInlj5fmiZjkuroqKgoK5rKh5pyJ55So5oi35om/5ouF5L+h5omY6LSj5Lu75p2l57u05oyBRU9T5Luj5biB55qE5Lu35YC844CC5rKh5pyJ55So5oi35Y+v5Lul5Luj6KGoRU9T55So5oi35oiW6ICF5Luj6KGo5ZCN5Li6Y2hhaW5fSUTnmoRFT1PljLrlnZfpk77mjojmnYPku7vkvZXkurrlhbHlkIzmjIHmnInotYTkuqfjgIHlgJ/mrL7jgIHlj5HoqIDmiJblrprlkIjlkIzjgILmraTljLrlnZfpk77kuI3lrZjlnKjmi6XmnInogIXjgIHnrqHnkIbogIXmiJbogIXlj5fmiZjkurrjgIIKCiMjICoq5p2h5qy+5Y2B5Liq5Lq65a6J5YWoKioKCuaJgOacieacieWFs+S4quS6uui0puaIt+WuieWFqOeahOS6i+mhue+8jOWMheaLrOS9huS4jemZkOS6juengemSpeeahOWuieWFqOS/neWtmO+8jOmDveeUseeUqOaIt+iHquW3sei0n+i0o+OAggoKIyMgKirmnaHmrL7ljYHkuIAgZW9zaW8ucHJvZHPnmoTmnInpmZDotKPku7sqKgoK55So5oi35bqU55+l5oKJ5ZKM5ZCM5oSP77yM5Zyo5Lu75L2V6YCC55So5rOV5b6L5YWB6K6455qE5pyA5aSn6IyD5Zu05YaF77yM5pys5YWN6LSj5aOw5piO6YCC55So5LqO5LiORU9T5Luj5biB6aOO6Zmp77yM5L2/55So5oiW5peg5rOV5L2/55SoRU9T5Luj5biB5pyJ5YWz5oiW5a+86Ie055qE5Lu75L2V5oiW5omA5pyJ5o2f5a6z5oiW5Lyk5a6z77yM5Lmf6YCC55So5LqO5Lu75L2V5Y+45rOV566h6L6W5Yy65YaF55qE5Lu75L2V5Lu75L2V6KGM5Li65LiL55qERU9T5Yy65Z2X6ZO+Y2hhaW5faWTvvIzljIXmi6zkvYbkuI3pmZDkuo7ov53lj43mi4Xkv53jgIHov53lj43lkIjlkIzmiJbkvrXmnYPooYzkuLrvvIjljIXmi6znlo/lv73vvInjgIJlb3Npby5wcm9kc+S7peWPiuaTjeS9nOWug+eahOS4quS6uuadg+mZkOWvueS6juS7u+S9lemXtOaOpeeahO+8jOWBtueEtueahO+8jOeJueauiueahO+8jOekuuS+i+aAp+eahOaIluWQjuaenOaAp+eahOaNn+Wus++8jOWMheaLrOWIqea2puaNn+Wkse+8jOWVhuiqieaIluaVsOaNru+8jOS4jeaJv+aLheS7u+S9lei0o+S7u+OAghZCbG9ja1Byb2R1Y2VyQWdyZWVtZW50xmwjIyMgMS4gVGhlIGludGVudCBvZiByZWdwcm9kdWNlcgoKVGhlIGludGVudCBvZiB0aGUgYHJlZ3Byb2R1Y2VyYCBhY3Rpb24gaXMgdG8gcmVnaXN0ZXIgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhY3kuIFRoaXMgY29udHJhY3QgaXMgY29uc2lkZXJlZCBhIGdvdmVybmluZyBkb2N1bWVudCBhcyBkZWZpbmVkIGJ5IHRoZSBFT1MgVXNlciBBZ3JlZW1lbnQgKEVVQSkuCgpyZWdwcm9kdWNlcuydmCDrqqnsoIEKCmByZWdwcm9kdWNlcmAg7J6R7JeF7J2YIOuqqeyggeydgCDruJTroZ3sg53sgrDsnpAg7J6F7ZuE67O0IOuTseuhneydhCDtlZjripQg6rKD7J6F64uI64ukLiDsnbQg6rOE7JW97J2AIEVPUyDsgqzsmqnsnpAg6rOE7JW97IScIChFVUEp7JeQIOygleydmOuQnCDrsJTsmYAg6rCZ7J20IOq0gOumrCDrrLjshJzroZwg6rCE7KO865Cp64uI64ukLgoKcmVncHJvZHVjZXIg55qE55uu55qECgpgcmVncHJvZHVjZXJg5pON5L2c55qE55uu55qE5piv5rOo5YaM5oiQ5Li65Ye65Z2X6IqC54K55YCZ6YCJ6ICF44CC5qC55o2uIEVPUyDnlKjmiLfljY/orq4oRVVBKeeahOWumuS5ie+8jOacrOWQiOe6puWxnuS6juayu+eQhuaWh+acrChnb3Zlcm5pbmcgZG9jdW1lbnQpCgojIyMgMi4gTm9taW5hdGlvbgoKSSwge3sgcHJvZHVjZXIgfX0sIGhlcmVieSBub21pbmF0ZSBteXNlbGYgZm9yIGNvbnNpZGVyYXRpb24gYXMgYSBibG9jayBwcm9kdWNlciBjYW5kaWRhdGUuIFRoaXMgbm9taW5hdGlvbiBpbmNsdWRlcyBhZ3JlZW1lbnQgdG8gdGhlIHRlcm1zIG9mIHRoaXMgY29udHJhY3QgYnkgbXkgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlIGVudGl0eSwgaW5jbHVkaW5nIGFsbCBvZiBpdHMgc2hhcmVob2xkZXJzLCBvd25lcnMsIGVtcGxveWVlcywgc3RhZmYsIG1lbWJlcnMsIGFuZCBhbnkgaW5kaXZpZHVhbCB3b3JraW5nIGluIG9mZmljaWFsLCBkaXJlY3QsIG9yIGFmZmlsaWF0ZWQgY2FwYWNpdHkgZm9yIG15IEJsb2NrIFByb2R1Y2VyIGVudGl0eS4KCuyngOuqhQoK64KYLCB7eyBwcm9kdWNlciB9feuKlCDruJTroZ3tlITroZzrk4DshJwg7ZuE67O066GcIOqzoOugpOuQmOuPhOuhnSDsnpDsi6DsnYQg7KeA66qF7ZWp64uI64ukLiDsnbQg7KeA66qF7JeQ64qUIOu4lOuhne2UhOuhnOuTgOyEnO2ajOyCrOydmCDrqqjrk6Ag7KO87KO8LCDshozsnKDsnpAsIOyngeybkCwg66mk67KELCDtmozsm5Ag67CPIOqzteyLneyduOybkCwg7KeB7KCRIOuYkOuKlCDqs4Tsl7Tsgqzsl5DshJwg7J287ZWY64qUIOuqqOuToCDqsJzsnbjsnYQg7Y+s7ZWo7ZWcIOu4lOuhne2UhOuhnOuTgOyEnCDtmozsgqzqsIAg6rOE7JW9IOyhsOqxtOyXkCDrjIDtlbQg64+Z7J2Y7ZWo7J2EIOyduOygle2VqeuLiOuLpC4KCuaPkOWQjQoK5pys5Lq677yMe3sgcHJvZHVjZXIgfX3vvIznibnmraTmj5DlkI3mnKzkurrkuLrlh7rlnZfoioLngrnlgJnpgInkurrjgILmnKzmj5DlkI3ljIXmi6zkuobmnKzlh7rlnZfoioLngrnlgJnpgInkurrlrp7kvZPlr7nmnKzlkIjnuqbkuK3miYDmnInmnaHmrL7nmoTmmI7noa7lkIzmhI/vvIzljIXlkKvlhbbmiYDmnInogIXjgIHpm4flkZjjgIHlkZjlt6XjgIHmiJDlkZjvvIzku6Xlj4rku7vkvZXku6XmraPlvI/mlrnlvI/jgIHnm7TmjqXmiJbpmYTlsZ7mlrnlvI/kuLrmnKzlh7rlnZfoioLngrnlrp7kvZPlt6XkvZznmoTkuKrkurrjgIIKCiMjIyAzLiBSZXNpZ25hdGlvbiBhbmQgUmVtb3ZhbCBmb3IgSW5hYmlsaXR5IHRvIFBlcmZvcm0gT2JsaWdhdGlvbnMuCgpJZiBJLCB7eyBwcm9kdWNlciB9fSwgYW0gdW5hYmxlIHRvIHBlcmZvcm0gYW55IG9mIHRoZSBvYmxpZ2F0aW9ucyBzdGlwdWxhdGVkIGluIHRoaXMgY29udHJhY3QsIEkgd2lsbCByZXNpZ24gbXkgcG9zaXRpb24gYnkgY2FsbGluZyB0aGUgYHVucmVncHJvZGAgYWN0aW9uLgoKSWYgSSwge3sgcHJvZHVjZXIgfX0sIGZhaWwgdG8gcmVzaWduIHdoZW4gdW5hYmxlIHRvIHBlcmZvcm0gc2FpZCBvYmxpZ2F0aW9ucywgSSB1bmRlcnN0YW5kIHRoYXQgcHJvY2VkdXJlcyBlbnVtZXJhdGVkIGluIHRoaXMgY29udHJhY3Qgc2hhbGwgYmUgZW5hY3RlZC4KCuydmOustOydmCDrtojsnbTtlonsl5Ag64yA7ZWcIOyCrOyehCDrsI8g7LKg7ZqMCgp7eyBwcm9kdWNlciB9feqwgCDrs7gg6rOE7JW97ISc7JeQIOuqheyLnOuQnCDsnZjrrLTrpbwg7IiY7ZaJIO2VoCDsiJgg7JeG64qUIOqyveyasCwg7IOd7IKw7J6QIO2CpOulvCBudWxsIOuhnCDtlajsnLzroZzsjagg67O47J247J2YIOyngOychOulvCDsgqzsnoTtlanri4jri6QuCgrrp4zslb0g64K06rCAIHt7cHJvZHVjZXJ9feydmCDsnZjrrLTrpbwg7J207ZaJIO2VoCDsiJgg7JeG7J2EIOuVjCDsgqzsnoTtlZjsp4Ag7JWK64qU64uk66m0LCDrgpjripQg67O4IOqzhOyVveyXkCDsl7TqsbDrkJwg7KCI7LCo6rCAIOynke2WieuQqOydhCDrj5nsnZjtlanri4jri6QuCgrlm6DkuI3og73lsaXooYzkuYnliqHogIzpgIDlh7rmiJbooqvlj5bmtojlh7rlnZfotYTmoLwKCuWmguaenOaIke+8jHt7IHByb2R1Y2VyIH1977yM5LiN6IO95bGl6KGM5pys5ZCI57qm5Lit5omA6KeE5a6a55qE5omA5pyJ5LmJ5Yqh77yM5oiR5bCG5L2/55SoIGB1bnJlZ3Byb2RgIOaTjeS9nOadpeiHquaIkemAgOWHuu+8iHJlc2lnbu+8ieOAggoK5aaC5p6c5oiRIHt7IHByb2R1Y2VyIH19LCDlnKjml6Dms5XlsaXooYzkuIrov7DkuYnliqHml7bmnKrog73pgIDlh7oocmVzaWduKe+8jOaIkeefpeaZk+acrOWQiOe6puWwhuS8muaMieeFp+aJgOacieWIl+S4vueahOeoi+W6j+WvueaIkeWunuihjOWItuijgeaIluWkhOe9mueoi+W6j+OAggoKIyMjIDQuIEVPUyBBY2NvdW50cwoKQmxvY2sgUHJvZHVjZXJzIG1heSBuZXZlciBhZmZlY3QgYW4gYWNjb3VudCBvbiB0aGUgRU9TIGJsb2NrY2hhaW4sIGV4Y2VwdCBmb3IgdGhlIHJlYXNvbnMgc3BlY2lmaWNhbGx5IGNpdGVkIGluIHRoaXMgY29udHJhY3QgdGhhdCBwZXJ0YWluIHRvIEJsb2NrIFByb2R1Y2VyIGFjY291bnRzLiBVc2VyIGFjY291bnRzIGNhbiBvbmx5IGJlIGFmZmVjdGVkIG9uIHRoZSBiYXNpcyBvZiBBcnRpY2xlIFZJSUkgaW4gdGhlIEVPUyBVc2VyIEFncmVlbWVudC4KCkVPUyDqs4TsoJUKCuu4lOuhne2UhOuhnOuTgOyEnOuKlCDrs7gg6rOE7JW97JeQ7IScIO2VtOuLue2VmOuKlCDruJTroZ3tlITroZzrk4DshJzsnZgg6rOE7KCVIOywqOuLqOyXkCDqtIDroKjtlZjsl6wg7Yq567OE7Z6IIOyWuOq4ie2VnCDsnbTsnKDrpbwg7KCc7Jm47ZWY6rOg64qUIEVPUyDruJTroZ3ssrTsnbjsnZgg6rOE7KCV7JeQIOqysOy9lCDsmIHtlqXsnYQg66+47LmY7KeAIOyViuyKteuLiOuLpC4g7IKs7Jqp7J6QIOqzhOygleydgCBFT1Mg7IKs7Jqp7J6QIOqzhOyVveyEnOydmCA47KGw7JeQIOq3vOqxsO2VoCDrlYzrp4wg7JiB7Zal7J2EIOuwm+ydhCDsiJgg7J6I7Iq164uI64ukLgoKRU9TIOi0puWPtwoK5Ye65Z2X6IqC54K55rC46L+c5LiN5Lya5a+5IEVPUyDljLrlnZfpk77kuIrnmoTluJDmiLfpgKDmiJDlvbHlk43vvIzpmaTpnZ7mmK/mnKzlkIjnuqbkuK3nibnliKvmj5DliLDkuI7lh7rlnZfoioLngrnluJDmiLfmnInlhbPnmoTljp/lm6DjgILlj6rmnInln7rkuo4gRU9T55So5oi35Y2P6K6u5Lit55qE56ys5YWr5p2h55qE5oOF5b2i5LiL77yM55So5oi355qE6LSm5Y+35omN5Lya5Y+X5Yiw5b2x5ZONLgoKIyMjIDUuIFByb2R1Y2VyIEtleQoKSSwge3sgcHJvZHVjZXIgfX0sIHdpbGwgc2lnbiBibG9ja3Mgd2l0aCB7eyBwcm9kdWNlcl9rZXkgfX0KCklmIEksIHt7IHByb2R1Y2VyIH19IHN1c3BlY3QgbXkga2V5IGhhcyBiZWVuIGNvbXByb21pc2VkIEkgd2lsbCBhbGVydCB0aGUgb3RoZXIgQmxvY2sgUHJvZHVjZXJzIGltbWVkaWF0ZWx5LgoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgYW55IGFuZCBhbGwgYWN0aW9ucyBleGVjdXRlZCB3aXRoIG15IHt7IHByb2R1Y2VyX2tleSB9fSBpcyBteSByZXNwb25zaWJpbGl0eSwgcmVnYXJkbGVzcyBvZiB0aGUgYWNjb3VudCBiZWluZyBjb21wcm9taXNlZC4KCu2UhOuhnOuTgOyEnCDtgqQKCuuCmCwge3sgcHJvZHVjZXIgfX3ripQge3sgcHJvZHVjZXIgXyBrZXkgfX0g66GcIOu4lOuhneyXkCDshJzrqoUg7ZWgIOqyg+yeheuLiOuLpC4K66eM7JW9IOuCtCwge3twcm9kdWNlcn19IOqwgCDrs7jsnbjsnZgg7YKk6rCAIOyGkOyDgeuQmOyXiOuLpOqzoCDsnZjsi6zrkJjrqbQg7KaJ7IucIOuLpOuluCDruJTroZ3tlITroZzrk4DshJzsl5Dqsowg7JWM66Ck7KSEIOqyg+yeheuLiOuLpC4K64KYLCB7e3Byb2R1Y2VyfX3ripQgRU9TIOu4lOuhneyytOyduOyXkOyEnCDrs7jsnbjsnZgg67iU66Gd7ZSE66Gc65OA7IScIOqzhOygleydtCDsi6TtlontlZjripQg66qo65OgIOyekeyXheyXkCDrjIDtlbQsIOqzhOyglSDsnbTsg4Eg7Jyg66y07JmAIOq0gOugqCDsl4bsnbQsIOyxheyehOydtCDsnojsnYzsnYQg7J247KCV7ZWp64uI64ukLgoK5Ye65Z2X6IqC54K55YWs6ZKlCgog5oiRLCB7eyBwcm9kdWNlciB9fSwg5bCG5L2/55SoIHt7IHByb2R1Y2VyX2tleSB9fSDlr7nljLrlnZfnrb7lkI3jgIIK5aaC5p6c5oiRLCB7eyBwcm9kdWNlciB9fSwg5oCA55aR5oiR55qE5a+G6ZKl5bey6KKr5rOE6Zyy77yM5oiR5bCG56uL5Y2z6YCa55+l5YW25LuW6IqC54K544CCCuaIke+8jHt7IHByb2R1Y2VyIH1977yM5om/6K6k5oiR55qE5Ye65Z2X6IqC54K55biQ5oi35ZyoRU9T5Yy65Z2X6ZO+5LiK5omA5omn6KGM55qE5Lu75L2V5pON5L2c6YO95piv5oiR55qE6LSj5Lu777yM5peg6K666K+l5biQ5oi35piv5ZCm6KKr55uX44CCCgojIyMgNi4gQVBJIEVuZHBvaW50cwoKSWYgSSwge3sgcHJvZHVjZXIgfX0sIHF1YWxpZnkgZm9yLCBhbmQgY2hvb3NlIHRvIGNsYWltIHJld2FyZHMgZHVlIHRvIHZvdGVzIHJlY2VpdmVkLCBhbmQvb3IgYmxvY2tzIHByb2R1Y2VkLCBJLCB7eyBwcm9kdWNlciB9fSwgd2lsbCBwcm92aWRlIGZ1bmN0aW9uaW5nIGFuZCBxdWVyeWFibGUgcHVibGljIFAyUCBhbmQgQVBJIGVuZHBvaW50cyB0byBtYWludGFpbiBzeW5jaHJvbml6YXRpb24gd2l0aCB0aGUgYmxvY2tjaGFpbiBhbmQgc3VibWl0IHRyYW5zYWN0aW9ucyB0byBiZSBpbmNsdWRlZC4gQVBJIGVuZHBvaW50cyBtdXN0IGJlIHVwZGF0ZWQgdG8gYSByZWNlbnQgZnVuY3Rpb25hbCB2ZXJzaW9uIHRoYXQgZG9lcyBub3QgaGF2ZSBrbm93biBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuCgpJLCB7eyBwcm9kdWNlciB9fSwgaGVyZWJ5IGFja25vd2xlZGdlIHRoYXQgaWYgSSBhbSB1bmFibGUgdG8gZG8gc28gd2l0aGluIDMwIG1pbnV0ZXMgb2YgYmVpbmcgYWxlcnRlZCBieSBhbm90aGVyIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZSwgSSBjYW4gYmUgcmVtb3ZlZCBieSB1c2Ugb2YgdGhlIGBybXZwcm9kdWNlcmAgYWN0aW9uLgoKQVBJIOyXlOuTnO2PrOyduO2KuAoK66eM7JW9IOuCtCwge3sgcHJvZHVjZXIgfX0g6rCAIO2IrO2RnOulvCDrsJvslYQg67iU66GdIOuztOyDgeydhCDssq3qtaztlaAg7IiYIOyeiOuKlCDsnpDqsqnsnYQg7Ja77Jy866m0LCDrgpgge3sgcHJvZHVjZXIgfX3ripQg7J6R64+ZIOuwjyDsv7zrpqwg6rCA64ql7ZWcIOqzteqwnCBQMlAg67CPIEFQSSDsl5Trk5ztj6zsnbjtirjrpbwg67iU66Gd7LK07J246rO87J2YIOuPmeq4sO2ZlCDrsI8g7Yq4656c7J6t7IWY7J2EIOygnOy2nO2VoCDsiJgg7J6I6rKMIOycoOyngOq0gOumrO2VqeuLiOuLpC4gQVBJIOyXlOuTnO2PrOyduO2KuOuKlCDslYzroKTsp4Qg67O07JWIIOy3qOyVveyEseydtCDsl4bripQg7LWc7Iug67KE7KCE7Jy866GcIOyXheuNsOydtO2KuO2VtOyVvCDtlanri4jri6QuCgrrgpgsIHt7IHByb2R1Y2VyIH19IOuKlCDri6TrpbggYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlIOqwgCDqsr3qs6Ag4oCL4oCL7ZWcIO2bhCwgMzDrtoQg7J2064K07JeQIOuwlOuhnOyeoeydhCDsiJgg7JeG64uk66m0IGBybXZwcm9kdWNlcmAg7KGw7LmY66W8IO2Gte2VtCDsnpDqsqnsnbQg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCkFQSSDnq6/ngrkKCuWmguaenOaIke+8jHt7IHByb2R1Y2VyIH19IOeUseS6juW+l+WIsOaKleelqOWSjC/miJblh7rlnZfnmoTljp/lm6DvvIznrKblkIjpooblj5blpZblirHnmoTmnaHku7blubbpgInmi6nmjqXlj5flpZblirHvvIzpgqPkuYjmiJHvvIwge3sgcHJvZHVjZXIgfX3vvIzlsIbmj5Dkvpvlip/og73mraPluLjnmoTlhazlhbEgUDJQIOWSjCBBUEkg56uv54K55p2l57u05oqk5LiO5Yy65Z2X6ZO+55qE5ZCM5q2l77yM5bm25o+Q5Lqk6KaB5omT5YyF5YWl5Z2X55qE5LqL5Yqh44CCQVBJIOerr+eCueW/hemhu+abtOaWsOWIsOacgOaWsOeahOWPr+eUqOeJiOacrO+8jOW5tuS4lOivpeeJiOacrOayoeacieW3suefpeeahOWuieWFqOa8j+a0ngoK5oiR77yMe3twcm9kdWNlcn1977yM5Zyo5q2k56Gu6K6k77yM5aaC5p6c5oiR5Zyo5pS25Yiw5Y+m5LiA5LiqIGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZeeahOitpuWRiuWQjjMw5YiG6ZKf5YaF5LuN5LiN6IO956ym5ZCI5LiK6L+w6KaB5rGC77yM5Y+v5Lul5L2/55SoYHJtdnByb2R1Y2VyYOaTjeS9nOenu+mZpOaIkeeahOi0puaIt+OAggoKIyMjIDcuIEV4ZWN1dGlvbiB0aW1lCgpJLCB7eyBwcm9kdWNlciB9fSwgd2lsbCBkZXBsb3kgYW5kIHJ1biBuZXR3b3JrIGluZnJhc3RydWN0dXJlIGNhcGFibGUgb2YgbWFpbnRhaW5pbmcgMm1zIG9yIGxlc3MgQ1BVIGV4ZWN1dGlvbiB0aW1lcy4KCkksIHt7IHByb2R1Y2VyIH19LCBoZXJlYnkgYWNrbm93bGVkZ2UgdGhhdCBpZiBJIGFtIHVuYWJsZSB0byBkbyBzbyB3aXRoaW4gMzAgbWludXRlcyBvZiBiZWluZyBhbGVydGVkIGJ5IGFub3RoZXIgYmxvY2sgcHJvZHVjZXIgY2FuZGlkYXRlLCBJIGNhbiBiZSByZW1vdmVkIGJ5IHVzZSBvZiB0aGUgYHJtdnByb2R1Y2VyYCBhY3Rpb24uCgrsi6Ttlokg7Iuc6rCECgrrgpgsIHt7IHByb2R1Y2VyIH1964qUIDJtcyDrmJDripQg6re4IOydtO2VmOydmCBDUFUg7Iuk7ZaJIOyLnOqwhOydhCDsnKDsp4DtlaAg7IiYIOyeiOuKlCDrhKTtirjsm4ztgawg7J247ZSE652866W8IOuwsO2PrO2VmOqzoCDsi6Ttlontlanri4jri6QuCgog64KYLCB7eyBwcm9kdWNlciB9fSDripQg64uk66W4IGJsb2NrIHByb2R1Y2VyIGNhbmRpZGF0ZeqwgCDqsr3qs6Ag4oCL4oCL7ZWcIO2bhCwgMzDrtoQg7J2064K07JeQIOuwlOuhnOyeoeydhCDsiJgg7JeG64uk66m0IGBybXZwcm9kdWNlcmAg7KGw7LmY66W8IO2Gte2VtCDsnpDqsqnsnbQg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCuaJp+ihjOaXtumXtAoK5oiR77yMIHt7IHByb2R1Y2VyIH1977yM5bCG6YOo572y5ZKM6L+Q6KGM572R57uc5Z+656GA6K6+5pa977yM6IO95aSf5bCGIENQVSDmiafooYzml7bpl7Tnu7TmjIHlnKggMm1zIOaIluabtOWwkeeahOawtOW5s+OAggoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIzlnKjmraTnoa7orqTvvIzlpoLmnpzmiJHlnKjmlLbliLDlj6bkuIDkuKpibG9jayBwcm9kdWNlciBjYW5kaWRhdGXnmoTorablkYrlkI4zMOWIhumSn+WGheS4jeiDveespuWQiOS4iui/sOadoeS7tu+8jOWPr+S7peS9v+eUqCBgcm12cHJvZHVjZXJgIOaTjeS9nOWwhuaIkeenu+mZpOOAggoKIyMjIDguIE9yZGVyaW5nCgpJIHt7IHByb2R1Y2VyIH19IGFncmVlIHRvIHByb2Nlc3MgdHJhbnNhY3Rpb25zIG9uIGEgZmlyc3QtaW4tZmlyc3Qtb3V0IChGSUZPKSBiYXNpcywgYW5kIG5vdCB0byBtYW5pcHVsYXRlIHRoZSBjb250ZW50cyBvZiBibG9ja3MgaW4gb3JkZXIgdG8gZGVyaXZlIHByb2ZpdCBmcm9tIHRoZSBvcmRlciBpbiB3aGljaCB0cmFuc2FjdGlvbnMgYXJlIGluY2x1ZGVkOiB0aGUgaGFzaCBvZiB0aGUgYmxvY2sgdGhhdCBpcyBwcm9kdWNlZC4KCuyDneyCsArrgpgsIHt7IHByb2R1Y2VyIH1964qUIOyEoOyehSDshKDstpzrspUgKEZJRk8pIOuwqeyLneycvOuhnCDqsbDrnpjrpbwg7LKY66as7ZWY6rOgIOqxsOuemOqwgCDruJTroZ3snZgg7ZW07Iuc7JeQIO2PrO2VqOuQmOuKlCDsiJzshJzsl5DshJwg7J207J217J2EIOyWu+ycvOugpOuKlCDrqqnsoIHsnLzroZwg7IOd7IKw7ZWY64qUIOu4lOuhneydmCDrgrTsmqnsnYQg7KGw7J6R7ZWY7KeAIOyViuq4sOuhnCDrj5nsnZjtlanri4jri6QuCgrpobrluo8KCuaIke+8jCB7eyBwcm9kdWNlciB9fSDvvIzlkIzmhI/moLnmja7lhYjov5vlhYjlh7ooRklGTynnmoTmlrnlvI/lpITnkIbkuovliqHvvIzlubbkuJTnu53kuI3kvJrkuLrkuobniZ/liKnogIzliKnnlKjljLrlnZflhoXlrrnjgIHmk43nurXljLrlnZfkuK3kuqTmmJPlpITnkIbnmoTpobrluo/jgIIKCiMjIyA5LiBSYW5kb20gUm90YXRpb24gb2YgU3RhbmRieXMKCkksIHt7IHByb2R1Y2VyIH19LCBhZ3JlZSB0aGF0IGlmIEkgYW0gaW4gYSBwYWlkIHN0YW5kYnkgcG9zaXRpb24sIEkgY2FuIGJlIHJhbmRvbWx5IGNhbGxlZCBpbnRvIGEgcHJvZHVjaW5nIHBvc2l0aW9uLiBVcG9uIGZhaWx1cmUgdG8gcHJvZHVjZSBibG9ja3MsIGNvZGUgbWF5IHNlbGYtZXhlY3V0ZSBwZW5hbHRpZXMgcmVnYXJkaW5nIGZ1dHVyZSB2cGF5IHJld2FyZHMuCgrsnKDquIkg64yA6riwIOu4lOuhne2UhOuhnOuTgOyEnOydmCDrrLTsnpHsnIQg66Gc7YWM7J207IWYCgrrgpgsIHt7IHByb2R1Y2VyIH1964qUIOuzuOyduOydtCDsnKDquIkg64yA6riw7KeB7JeQIOyeiOydhCDrlYwsIOustOyekeychOuhnCDsg53sgrDsp4HsnLzroZwg67aA66aEIOuwm+ydhCDsiJgg7J6I64uk64qUIOqyg+yXkCDrj5nsnZjtlanri4jri6QuIOydtOuVjCDruJTroZ3snYQg7IOd7ISx7ZWY7KeAIOuqu+2VmOuptCDsvZTrk5zripQg7Zal7ZuEIHZwYXkg67O07IOB7JeQIOuMgO2VnCDsspjrsozsnYQg7KeR7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuCgrlpIfpgInoioLngrnpmo/mnLrova7mjaIKCuaIke+8jHt7IHByb2R1Y2VyIH1977yM5ZCM5oSP6Iul5pys6IqC54K55aSE5LqO5pyJ5YG/5aSH6YCJ54q25oCB77yM5Y+v6KKr6ZqP5py66LCD5YWl5Ye65Z2X54q25oCB44CC5aaC5p6c5oiR5peg5rOV5Ye65Z2X77yM5ZCI57qm5Luj56CB5Y+v6IO95Lya6Ieq5Yqo5omn6KGM5bCx5pyq5p2l55qEIHZwYXkg5oql6YWs6L+b6KGM5aSE572a44CCCgojIyMgMTAuIE1pc3NpbmcgVHdvIG9yIE1vcmUgUm91bmRzIG9mIEJsb2NrcwoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgaWYgYWZ0ZXIgbWlzc2luZyAyIG9yIG1vcmUgcm91bmRzIG9mIGJsb2NrcyBpbiBzdWNjZXNzaW9uIEkgYW0gdW5hYmxlIHRvIGJlIGNvbnRhY3RlZCB3aXRoaW4gMjAgbWludXRlcywgSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgSSBtYXkgYmUgcmVtb3ZlZCBmcm9tIGEgcHJvZHVjaW5nIHBvc2l0aW9uIGJ5IHVzZSBvZiB0aGUgYHJtdnByb2R1Y2VyYCBhY3Rpb24uCgpJLCB7eyBwcm9kdWNlciB9fSwgYWNrbm93bGVkZ2UgdGhhdCBhZnRlciBtaXNzaW5nIHR3byBvciBtb3JlIHJvdW5kcyBvZiBibG9ja3MgaW4gc3VjY2Vzc2lvbiwgc3RhbmRhcmQgcHJhY3RpY2Ugc3RpcHVsYXRlcyByZW1vdmluZyBteSBwcm9kdWNlciBieSB1c2luZyB0aGUgYHVucmVncHJvZGAgYWN0aW9uIHVudGlsIHRoZSBnaXZlbiBpc3N1ZSBpcyByZXNvbHZlZC4KCuuRkCDrnbzsmrTrk5wg7J207IOB7J2YIOu4lOuhnSDriITrnb0KCuuCmCwge3sgcHJvZHVjZXIgfX3ripQg65GQIOudvOyatOuTnCDsnbTsg4Eg7Jew7IaN7ZWY7JesIOu4lOuhneydhCDriITrnb0g7ZWcIO2bhCwgMjDrtoQg7J2064K07JeQIOyXsOudvSDtlaAg7IiYIOyXhuuLpOuptCB7eyBwcm9kdWNlciB9fSDqsIAgYHJtdnByb2R1Y2VyYCDslaHshZjsnZgg7IKs7Jqp65CY7Ja0IOyDneyCsCDsnITsuZjsl5DshJwg7KCc6rGwIOuQoCDsiJgg7J6I7J2M7J2EIOyduOygle2VqeuLiOuLpC4KCnt7IHByb2R1Y2VyIH1964qUIOuRkCDrnbzsmrTrk5wg7J207IOB7Jy866GcIOu4lOuhneydhCDsl7Dsho3soIHsnLzroZwg64iE65297ZWc64uk66m0LCDso7zslrTsp4Qg66y47KCc6rCAIO2VtOqysCDrkKAg65WM6rmM7KeAIGB1bnJlZ3Byb2RgIOyekeyXheydhCDsgqzsmqntlZjsl6wg67O47J247J20IOyDneyCsCDsnITsuZjsl5DshJwg7KCc6rGw65Co7J20IO2RnOykgCDqtIDtlonsnLzroZwg6rec7KCV65CY7Ja0IOyeiOydjOydhCDsnbjsoJXtlanri4jri6QuCgrkuKTova7miJbmm7TlpJrova7kuKLlnZfnmoTmg4XlvaIKCuaIke+8jHt7IHByb2R1Y2VyIH19LCDnoa7orqTlpoLmnpzov57nu63kuKTova7miJbmm7TlpJrova7kuKLlnZfkuJTml6Dms5XlnKgyMOWIhumSn+WGheiBlOezu+WIsOaIke+8jOaIke+8jHt7IHByb2R1Y2VyIH19LCDlkIzmhI/lj6/og73kvJrnlKggYHJtdnByb2R1Y2VyYCDmk43kvZzlsIbmiJHnp7vpmaTjgIIK5oiR77yMe3sgcHJvZHVjZXIgfX0sIOWmguaenOi/nue7reS4pOi9ruaIluabtOWkmui9ruS4ouWdl++8jOagueaNruagh+WHhuWunui3teS8muWPkei1tyBgdW5yZWdwcm9kYCDmk43kvZzlsIbmiJHnp7vpmaTlh7rlnZfotYTmoLzvvIznm7TliLDpl67popjop6PlhrPjgIIKCiMjIyAxMS4gVXJnZW50IFNlY3VyaXR5IFBhdGNoZXMKCkksIHt7IHByb2R1Y2VyIH19LCBhY2tub3dsZWRnZSB0aGF0IGlmIEkgYW0gbm90IGFibGUgdG8gYmUgY29udGFjdGVkIGluIGFueSBmb3JtIGFmdGVyIGFuIHVyZ2VudCBzZWN1cml0eSBwYXRjaCBpcyBhbm5vdW5jZWQsIEkgbWF5IGJlIHJlbW92ZWQgYnkgdXNlIG9mIHRoZSBgcm12cHJvZHVjZXJgIGFjdGlvbi4KCuq4tOq4iSDrs7TslYgg7Yyo7LmYCuq4tOq4iSDrs7TslYgg7Yyo7LmY6rCAIOuwnO2RnCDrkJwg7ZuELCDslrTrlqQg7ZiV7YOc66Gc65OgIOyXsOudvSDtlaAg7IiYIOyXhuuKlCDqsr3smrAgYHJtdnByb2R1Y2VyYCDsnpHsl4XsnYQg7IKs7Jqp7ZWY7JesIOygnOqxsCDrkKAg7IiYIOyeiOydjOydhCDrgpgsIHt7IHByb2R1Y2VyIH1964qUIOyduOygle2VqeuLiOuLpC4KCue0p+aApeWuieWFqOihpeS4gQoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIznoa7orqTlpoLmnpzlnKjntKfmgKXlronlhajooaXkuIHlj5HluIPlkI7nlKjku7vkvZXmlrnlvI/pg73ml6Dms5XogZTns7vliLDmiJHvvIzlj6/og73kvJrnlKggYHJtdnByb2R1Y2VyYCDmjIfku6TlsIbmiJHnp7vpmaTjgIIKCiMjIyAxMi4gRGlzY2xvc3VyZSBvZiBFbnRpdHkgYW5kIFNlcnZlciBJbmZvcm1hdGlvbgoKSSwge3sgcHJvZHVjZXIgfX0sIGF0dGVzdCB0aGF0IEkgaGF2ZSBkaXNjbG9zZWQgdGhlIGFwcHJveGltYXRlIGdlb2xvY2F0aW9uIGZvciBteSBtYWluIHByb2R1Y3Rpb24gbm9kZSBhcyBiZWluZyB7eyBsb2NhdGlvbiB9fS4KCuuyleyduCDrsI8g7ISc67KEIOygleuztOydmCDqs7XqsJwKCuuCmCwge3sgcHJvZHVjZXIgfX0g64qUIOyjvCDsg53sgrAg64W465Oc7JeQIOuMgO2VnCDsnITsuZgg7KCV67O066W8IOqzteqwnO2WiOydjOydhCDspp3rqoXtlanri4jri6QuCgrlrp7kvZPlkozmnI3liqHlmajnmoTkv6Hmga/miqvpnLIKCuaIke+8jHt7IHByb2R1Y2VyIH1977yM56Gu6K6k5oiR5bey57uP5oqr6Zyy5LqG5Li75Ye65Z2X6IqC54K55pyN5Yqh5Zmo5Zyw55CG5L2N572u55qE5YeG56Gu5L+h5oGv44CC5YW25Zyw5Z2A5Li6IHt7IGxvY2F0aW9uIH1944CCCgojIyMgMTMuIEVzdGFibGlzaGVzIHRoZSBwZW5hbHR5IGFuZCBwcm9jZWR1cmUgZm9yIHVud2lsbGluZ25lc3MgdG8gY29tcGx5IHdpdGggcGVuYWx0aWVzIG9yIHByb2NlZHVyZXMKCkksIHt7IHByb2R1Y2VyIH19LCBhY2tub3dsZWRnZSB0aGF0IGZhaWxpbmcgdG8gY29tcGx5IHdpdGggcGVuYWx0aWVzIG9yIHByb2NlZHVyZXMgZW5hY3RlZCBhZ2FpbnN0IG1lIHdpbGwgcmVzdWx0IGluIEJsb2NrIFByb2R1Y2VycyBleGVjdXRpbmcgdGhlIGBybXZwcm9kdWNlcmAgY29udHJhY3QgdG8gcmVtb3ZlIG1lLgoKSSwge3sgcHJvZHVjZXIgfX0sIHdpbGwgbm90IGV4ZWN1dGUgdGhlIGByZWdwcm9kdWNlcmAgY29udHJhY3QgdW50aWwgc2VydmluZyBvciBmdWxmaWxsaW5nIHRoZSByZXF1aXJlbWVudHMgZnJvbSBhIHBlbmFsdHkgb3IgcHJvY2VkdXJlIHRoYXQgcmVzdWx0cyBpbiBoYXZpbmcgdGhlIGBybXZwcm9kdWNlcmAgY29udHJhY3QgZXhlY3V0ZWQgdG8gcmVtb3ZlIG1lLgoKSSwge3sgcHJvZHVjZXIgfX0sIGFja25vd2xlZGdlIHRoYXQgaWYgSSBjb250aW51ZSB0byBjYWxsIHRoZSBgcmVncHJvZHVjZXJgIGFjdGlvbiB3aXRob3V0IHNlcnZpbmcgb3IgZnVsZmlsbGluZyB0aGUgcmVxdWlyZW1lbnRzIGZyb20gYnJlYWNoIG9mIGByZWdwcm9kdWNlcmAsIG15IGFjY291bnQga2V5cyBhc3NvY2lhdGVkIHdpdGggdGhlIHJlZ2lzdGVyZWQgQmxvY2sgUHJvZHVjZXIgaW4gcXVlc3Rpb24gbWF5IGJlIG51bGxlZCBieSBCbG9jayBQcm9kdWNlcnMgYnkgdXNpbmcgYGVvc2lvLndyYXBgLgoK7Y6Y64SQ7Yuw66W8IOykgOyImO2VmOyngCDslYrsnYQg6rK97JqwIOuyjOy5mQoK64KYLCB7eyBwcm9kdWNlciB9fSDripQg64KY7JeQ6rKMIOygnOyerOuQnCDsspjrsozsnYQg7KSA7IiY7ZWY7KeAIOyViuycvOuptCDruJTroZ3tlITroZzrk4DshJzrk6TsnbQgYHJtdnByb2R1Y2VyYCDqs4Tslb3snYQg7KeR7ZaJ7ZWY6rKMIOuQoCDqsoPsnbTrnbzqs6Ag7J247KCV7ZWp64uI64ukLiDrgpgsIHt7IHByb2R1Y2VyIH19IOuKlCBgcm12cHJvZHVjZXJgIOqzhOyVveydtCDsp5HtlonrkJzri6TrqbQg7JqU6rWsIOyCrO2VreydhCDstqnsobHrkKAg65WM6rmM7KeAIGByZWdwcm9kdWNlcmAg6rOE7JW97J2EIOydtO2Wie2VmOyngCDslYrsnYQg6rKD7J6F64uI64ukLgpgcmVncHJvZHVjZXJgIOqzhOyVvSDsnITrsJjsnLzroZwg7J247ZWcIOyalOq1rCDsgqztla3snYQg7Lap7KGx7Iuc7YKk7KeAIOyViuqzoCBgcmVncHJvZHVjZXJgIOqzhOyVveydhCDqs4Tsho0g7Zi47Lac7ZWY66m0IO2VtOuLuSDruJTroZ3tlITroZzrk4DshJzsmYAg6rSA66Co65CcIOqzhOyglSDtgqTqsIAgYGVvc2lvLndyYXBgIOydhCDsgqzsmqntlZjsl6wg67iU66Gd7ZSE66Gc65OA7ISc65Ok7JeQIOydmO2VtCDrrLTtmqjtmZQg65CgIOyImCDsnojsnYzsnYQg7J247KCV7ZWp64uI64ukLgoK5a+55LiN5oS/6YG15a6I5aSE572a55qE6KGM5Li65LqI5Lul5aSE572aCgrmiJHvvIx7eyBwcm9kdWNlciB9fe+8jOaJv+iupOiLpeS4jemBteWuiOWvueacrOS6uuWItuijgeeahOWkhOe9mu+8jEJQIOWPr+S7peWunuaWvSBgcm12cHJvZHVjZXJgIOWQiOe6pu+8jOaIkeaOpeWPl+aKleelqOeahOi1hOagvOWwhuiiq+WPlua2iOOAguiLpeaciemSiOWvueaIkeWunuaWvSBgcm12cHJvZHVjZXJgIOWQiOe6pueahOaDheWGteWPkeeUn++8jOaIkSwge3sgcHJvZHVjZXIgfX0g5Zyo6YG15a6IL+WxpeihjOaJgOaUtuWIsOeahOWkhOe9muS5i+WJje+8jOS4jeS8muWGjeasoeaJp+ihjCBgcmVncHJvZHVjZXJgIOWQiOe6puOAggoK5oiR77yMe3sgcHJvZHVjZXIgfX3vvIzlnKjlsaXooYzmg6nnvZrnqIvluo/nmoTopoHmsYLkuYvliY3vvIzkuI3kvJrmiafooYwgYHJlZ3Byb2R1Y2VyYCDlkIjlkIzjgILmiJHnn6XmmZPlpoLkuI3lsaXooYzmraTnqIvluo/vvIwgYHJtdnByb2R1Y2VyYCDlkIjlkIzlsIbkvJrlho3mrKHlsIbmiJHnp7vpmaTjgIIKCuaIkSx7eyBwcm9kdWNlciB9fSwg5om/6K6k5aaC5p6c5rKh5pyJ6YG15a6I5oiW5bGl6KGM5Zug6L+d5Y+NIGByZWdwcm9kdWNlcmAg6ICM5Y+X5Yiw55qE5oOp572a6KaB5rGC5Y2057un57ut6LCD55SoYHJlZ3Byb2R1Y2VyYOaTjeS9nO+8jEJQIOWPr+S7peiwg+eUqCBgZW9zaW8ud3JhcGAg5ZCI57qm5bCG5oiR55So5p2l5rOo5YaM5Ye65Z2X6IqC54K555qE6LSm5Y+35a+G6ZKl6K6+572u5Li65peg5pWI5YC844CCAAABInZhcmlhbnRfYmxvY2tfc2lnbmluZ19hdXRob3JpdHlfdjABGmJsb2NrX3NpZ25pbmdfYXV0aG9yaXR5X3Yw"),RK=_t.from(LK),yb=class extends Ic{constructor(i){super({client:i.client,abi:RK,account:te.from("eosio")})}action(i,n,s){return super.action(i,n,s)}table(i,n){return super.table(i,n,DK[i])}},un;(function(e){let i=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(vt)],Y.prototype,"hash",void 0),Y=z([F.type("abi_hash")],Y),Y})();e.AbiHash=i;let n=(()=>{let Y=class extends F{};return z([F.field(vt)],Y.prototype,"feature_digest",void 0),Y=z([F.type("activate")],Y),Y})();e.Activate=n;let s=(()=>{let Y=class extends F{};return z([F.field(Gi)],Y.prototype,"key",void 0),z([F.field(si)],Y.prototype,"weight",void 0),Y=z([F.type("key_weight")],Y),Y})();e.KeyWeight=s;let r=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"actor",void 0),z([F.field(te)],Y.prototype,"permission",void 0),Y=z([F.type("permission_level")],Y),Y})();e.PermissionLevel=r;let o=(()=>{let Y=class extends F{};return z([F.field(r)],Y.prototype,"permission",void 0),z([F.field(si)],Y.prototype,"weight",void 0),Y=z([F.type("permission_level_weight")],Y),Y})();e.PermissionLevelWeight=o;let t=(()=>{let Y=class extends F{};return z([F.field(et)],Y.prototype,"wait_sec",void 0),z([F.field(si)],Y.prototype,"weight",void 0),Y=z([F.type("wait_weight")],Y),Y})();e.WaitWeight=t;let a=(()=>{let Y=class extends F{};return z([F.field(et)],Y.prototype,"threshold",void 0),z([F.field(s,{array:!0})],Y.prototype,"keys",void 0),z([F.field(o,{array:!0})],Y.prototype,"accounts",void 0),z([F.field(t,{array:!0})],Y.prototype,"waits",void 0),Y=z([F.type("authority")],Y),Y})();e.Authority=a;let p=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"bidder",void 0),z([F.field(Ge)],Y.prototype,"amount",void 0),Y=z([F.type("bid_refund")],Y),Y})();e.BidRefund=p;let c=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"bidder",void 0),z([F.field(te)],Y.prototype,"newname",void 0),z([F.field(Ge)],Y.prototype,"bid",void 0),Y=z([F.type("bidname")],Y),Y})();e.Bidname=c;let u=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"bidder",void 0),z([F.field(te)],Y.prototype,"newname",void 0),Y=z([F.type("bidrefund")],Y),Y})();e.Bidrefund=u;let h=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"producer_name",void 0),z([F.field(Gi)],Y.prototype,"block_signing_key",void 0),Y=z([F.type("producer_key")],Y),Y})();e.ProducerKey=h;let l=(()=>{let Y=class extends F{};return z([F.field(et)],Y.prototype,"version",void 0),z([F.field(h,{array:!0})],Y.prototype,"producers",void 0),Y=z([F.type("producer_schedule")],Y),Y})();e.ProducerSchedule=l;let d=(()=>{let Y=class extends F{};return z([F.field(et)],Y.prototype,"timestamp",void 0),z([F.field(te)],Y.prototype,"producer",void 0),z([F.field(si)],Y.prototype,"confirmed",void 0),z([F.field(vt)],Y.prototype,"previous",void 0),z([F.field(vt)],Y.prototype,"transaction_mroot",void 0),z([F.field(vt)],Y.prototype,"action_mroot",void 0),z([F.field(et)],Y.prototype,"schedule_version",void 0),z([F.field(l,{optional:!0})],Y.prototype,"new_producers",void 0),Y=z([F.type("block_header")],Y),Y})();e.BlockHeader=d;let v=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(et)],Y.prototype,"block_height",void 0),z([F.field(yr)],Y.prototype,"block_timestamp",void 0),Y=z([F.type("block_info_record")],Y),Y})();e.BlockInfoRecord=v;let f=(()=>{let Y=class extends F{};return z([F.field(et)],Y.prototype,"threshold",void 0),z([F.field(s,{array:!0})],Y.prototype,"keys",void 0),Y=z([F.type("block_signing_authority_v0")],Y),Y})();e.BlockSigningAuthorityV0=f;let g=(()=>{let Y=class extends F{};return z([F.field(At)],Y.prototype,"max_block_net_usage",void 0),z([F.field(et)],Y.prototype,"target_block_net_usage_pct",void 0),z([F.field(et)],Y.prototype,"max_transaction_net_usage",void 0),z([F.field(et)],Y.prototype,"base_per_transaction_net_usage",void 0),z([F.field(et)],Y.prototype,"net_usage_leeway",void 0),z([F.field(et)],Y.prototype,"context_free_discount_net_usage_num",void 0),z([F.field(et)],Y.prototype,"context_free_discount_net_usage_den",void 0),z([F.field(et)],Y.prototype,"max_block_cpu_usage",void 0),z([F.field(et)],Y.prototype,"target_block_cpu_usage_pct",void 0),z([F.field(et)],Y.prototype,"max_transaction_cpu_usage",void 0),z([F.field(et)],Y.prototype,"min_transaction_cpu_usage",void 0),z([F.field(et)],Y.prototype,"max_transaction_lifetime",void 0),z([F.field(et)],Y.prototype,"deferred_trx_expiration_window",void 0),z([F.field(et)],Y.prototype,"max_transaction_delay",void 0),z([F.field(et)],Y.prototype,"max_inline_action_size",void 0),z([F.field(si)],Y.prototype,"max_inline_action_depth",void 0),z([F.field(si)],Y.prototype,"max_authority_depth",void 0),Y=z([F.type("blockchain_parameters")],Y),Y})();e.BlockchainParameters=g;let m=(()=>{let Y=class extends F{};return z([F.field(et,{optional:!0})],Y.prototype,"max_action_return_value_size",void 0),Y=z([F.type("blockchain_parameters_v1")],Y),Y})();e.BlockchainParametersV1=m;let x=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"payer",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(Ge)],Y.prototype,"quant",void 0),Y=z([F.type("buyram")],Y),Y})();e.Buyram=x;let y=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"payer",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(et)],Y.prototype,"bytes",void 0),Y=z([F.type("buyrambytes")],Y),Y})();e.Buyrambytes=y;let b=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(Ge)],Y.prototype,"amount",void 0),Y=z([F.type("buyrex")],Y),Y})();e.Buyrex=b;let M=(()=>{let Y=class extends F{};return z([F.field(r)],Y.prototype,"canceling_auth",void 0),z([F.field(vt)],Y.prototype,"trx_id",void 0),Y=z([F.type("canceldelay")],Y),Y})();e.Canceldelay=M;let C=(()=>{let Y=class extends F{};return z([F.field(qe,{optional:!0})],Y.prototype,"current_weight_ratio",void 0),z([F.field(qe,{optional:!0})],Y.prototype,"target_weight_ratio",void 0),z([F.field(qe,{optional:!0})],Y.prototype,"assumed_stake_weight",void 0),z([F.field(_n,{optional:!0})],Y.prototype,"target_timestamp",void 0),z([F.field(ci,{optional:!0})],Y.prototype,"exponent",void 0),z([F.field(et,{optional:!0})],Y.prototype,"decay_secs",void 0),z([F.field(Ge,{optional:!0})],Y.prototype,"min_price",void 0),z([F.field(Ge,{optional:!0})],Y.prototype,"max_price",void 0),Y=z([F.type("powerup_config_resource")],Y),Y})();e.PowerupConfigResource=C;let w=(()=>{let Y=class extends F{};return z([F.field(C)],Y.prototype,"net",void 0),z([F.field(C)],Y.prototype,"cpu",void 0),z([F.field(et,{optional:!0})],Y.prototype,"powerup_days",void 0),z([F.field(Ge,{optional:!0})],Y.prototype,"min_powerup_fee",void 0),Y=z([F.type("powerup_config")],Y),Y})();e.PowerupConfig=w;let S=(()=>{let Y=class extends F{};return z([F.field(w)],Y.prototype,"args",void 0),Y=z([F.type("cfgpowerup")],Y),Y})();e.Cfgpowerup=S;let I=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),Y=z([F.type("claimrewards")],Y),Y})();e.Claimrewards=I;let T=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),Y=z([F.type("closerex")],Y),Y})();e.Closerex=T;let k=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),Y=z([F.type("cnclrexorder")],Y),Y})();e.Cnclrexorder=k;let E=(()=>{let Y=class extends F{};return z([F.field(Ge)],Y.prototype,"balance",void 0),z([F.field(ci)],Y.prototype,"weight",void 0),Y=z([F.type("connector")],Y),Y})();e.Connector=E;let A=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),Y=z([F.type("consolidate")],Y),Y})();e.Consolidate=A;let L=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(At)],Y.prototype,"loan_num",void 0),z([F.field(Ge)],Y.prototype,"amount",void 0),Y=z([F.type("defcpuloan")],Y),Y})();e.Defcpuloan=L;let D=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(At)],Y.prototype,"loan_num",void 0),z([F.field(Ge)],Y.prototype,"amount",void 0),Y=z([F.type("defnetloan")],Y),Y})();e.Defnetloan=D;let R=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(Ge)],Y.prototype,"stake_net_quantity",void 0),z([F.field(Ge)],Y.prototype,"stake_cpu_quantity",void 0),z([F.field("bool")],Y.prototype,"transfer",void 0),Y=z([F.type("delegatebw")],Y),Y})();e.Delegatebw=R;let N=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(te)],Y.prototype,"to",void 0),z([F.field(Ge)],Y.prototype,"net_weight",void 0),z([F.field(Ge)],Y.prototype,"cpu_weight",void 0),Y=z([F.type("delegated_bandwidth")],Y),Y})();e.DelegatedBandwidth=N;let P=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(te)],Y.prototype,"permission",void 0),z([F.field(te,{optional:!0})],Y.prototype,"authorized_by",void 0),Y=z([F.type("deleteauth")],Y),Y})();e.Deleteauth=P;let O=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(Ge)],Y.prototype,"amount",void 0),Y=z([F.type("deposit")],Y),Y})();e.Deposit=O;let W=(()=>{let Y=class extends F{};return z([F.field(At)],Y.prototype,"max_ram_size",void 0),z([F.field(At)],Y.prototype,"total_ram_bytes_reserved",void 0),z([F.field(qe)],Y.prototype,"total_ram_stake",void 0),z([F.field(tl)],Y.prototype,"last_producer_schedule_update",void 0),z([F.field(yr)],Y.prototype,"last_pervote_bucket_fill",void 0),z([F.field(qe)],Y.prototype,"pervote_bucket",void 0),z([F.field(qe)],Y.prototype,"perblock_bucket",void 0),z([F.field(et)],Y.prototype,"total_unpaid_blocks",void 0),z([F.field(qe)],Y.prototype,"total_activated_stake",void 0),z([F.field(yr)],Y.prototype,"thresh_activated_stake_time",void 0),z([F.field(si)],Y.prototype,"last_producer_schedule_size",void 0),z([F.field(ci)],Y.prototype,"total_producer_vote_weight",void 0),z([F.field(tl)],Y.prototype,"last_name_close",void 0),Y=z([F.type("eosio_global_state")],Y),Y})();e.EosioGlobalState=W;let G=(()=>{let Y=class extends F{};return z([F.field(si)],Y.prototype,"new_ram_per_block",void 0),z([F.field(tl)],Y.prototype,"last_ram_increase",void 0),z([F.field(tl)],Y.prototype,"last_block_num",void 0),z([F.field(ci)],Y.prototype,"total_producer_votepay_share",void 0),z([F.field(Sn)],Y.prototype,"revision",void 0),Y=z([F.type("eosio_global_state2")],Y),Y})();e.EosioGlobalState2=G;let H=(()=>{let Y=class extends F{};return z([F.field(yr)],Y.prototype,"last_vpay_state_update",void 0),z([F.field(ci)],Y.prototype,"total_vpay_share_change_rate",void 0),Y=z([F.type("eosio_global_state3")],Y),Y})();e.EosioGlobalState3=H;let V=(()=>{let Y=class extends F{};return z([F.field(ci)],Y.prototype,"continuous_rate",void 0),z([F.field(qe)],Y.prototype,"inflation_pay_factor",void 0),z([F.field(qe)],Y.prototype,"votepay_factor",void 0),Y=z([F.type("eosio_global_state4")],Y),Y})();e.EosioGlobalState4=V;let B=(()=>{let Y=class extends F{};return z([F.field(Ge)],Y.prototype,"supply",void 0),z([F.field(E)],Y.prototype,"base",void 0),z([F.field(E)],Y.prototype,"quote",void 0),Y=z([F.type("exchange_state")],Y),Y})();e.ExchangeState=B;let j=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(At)],Y.prototype,"loan_num",void 0),z([F.field(Ge)],Y.prototype,"payment",void 0),Y=z([F.type("fundcpuloan")],Y),Y})();e.Fundcpuloan=j;let U=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(At)],Y.prototype,"loan_num",void 0),z([F.field(Ge)],Y.prototype,"payment",void 0),Y=z([F.type("fundnetloan")],Y),Y})();e.Fundnetloan=U;let X=(()=>{let Y=class extends F{};return z([F.field(Zx)],Y.prototype,"version",void 0),z([F.field(Ge.Symbol)],Y.prototype,"core",void 0),Y=z([F.type("init")],Y),Y})();e.Init=X;let Z=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(te,{array:!0})],Y.prototype,"allow_perms",void 0),z([F.field(te,{array:!0})],Y.prototype,"disallow_perms",void 0),Y=z([F.type("limitauthchg")],Y),Y})();e.Limitauthchg=Z;let $=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(te)],Y.prototype,"code",void 0),z([F.field(te)],Y.prototype,"type",void 0),z([F.field(te)],Y.prototype,"requirement",void 0),z([F.field(te,{optional:!0})],Y.prototype,"authorized_by",void 0),Y=z([F.type("linkauth")],Y),Y})();e.Linkauth=$;let J=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(Ge)],Y.prototype,"rex",void 0),Y=z([F.type("mvfrsavings")],Y),Y})();e.Mvfrsavings=J;let Q=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(Ge)],Y.prototype,"rex",void 0),Y=z([F.type("mvtosavings")],Y),Y})();e.Mvtosavings=Q;let _=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"newname",void 0),z([F.field(te)],Y.prototype,"high_bidder",void 0),z([F.field(qe)],Y.prototype,"high_bid",void 0),z([F.field(yr)],Y.prototype,"last_bid_time",void 0),Y=z([F.type("name_bid")],Y),Y})();e.NameBid=_;let ae=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"creator",void 0),z([F.field(te)],Y.prototype,"name",void 0),z([F.field(a)],Y.prototype,"owner",void 0),z([F.field(a)],Y.prototype,"active",void 0),Y=z([F.type("newaccount")],Y),Y})();e.Newaccount=ae;let ce=(()=>{let Y=class extends F{};return z([F.field(d)],Y.prototype,"header",void 0),Y=z([F.type("onblock")],Y),Y})();e.Onblock=ce;let he=(()=>{let Y=class extends F{};return z([F.field(Vi)],Y.prototype,"sender_id",void 0),z([F.field(rt)],Y.prototype,"sent_trx",void 0),Y=z([F.type("onerror")],Y),Y})();e.Onerror=he;let de=(()=>{let Y=class extends F{};return z([F.field(_n)],Y.prototype,"first",void 0),z([F.field(qe)],Y.prototype,"second",void 0),Y=z([F.type("pair_time_point_sec_int64")],Y),Y})();e.PairTimePointSecInt64=de;let Te=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"payer",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(et)],Y.prototype,"days",void 0),z([F.field(qe)],Y.prototype,"net_frac",void 0),z([F.field(qe)],Y.prototype,"cpu_frac",void 0),z([F.field(Ge)],Y.prototype,"max_payment",void 0),Y=z([F.type("powerup")],Y),Y})();e.Powerup=Te;let Fe=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(At)],Y.prototype,"id",void 0),z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(qe)],Y.prototype,"net_weight",void 0),z([F.field(qe)],Y.prototype,"cpu_weight",void 0),z([F.field(_n)],Y.prototype,"expires",void 0),Y=z([F.type("powerup_order")],Y),Y})();e.PowerupOrder=Fe;let He=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(qe)],Y.prototype,"weight",void 0),z([F.field(qe)],Y.prototype,"weight_ratio",void 0),z([F.field(qe)],Y.prototype,"assumed_stake_weight",void 0),z([F.field(qe)],Y.prototype,"initial_weight_ratio",void 0),z([F.field(qe)],Y.prototype,"target_weight_ratio",void 0),z([F.field(_n)],Y.prototype,"initial_timestamp",void 0),z([F.field(_n)],Y.prototype,"target_timestamp",void 0),z([F.field(ci)],Y.prototype,"exponent",void 0),z([F.field(et)],Y.prototype,"decay_secs",void 0),z([F.field(Ge)],Y.prototype,"min_price",void 0),z([F.field(Ge)],Y.prototype,"max_price",void 0),z([F.field(qe)],Y.prototype,"utilization",void 0),z([F.field(qe)],Y.prototype,"adjusted_utilization",void 0),z([F.field(_n)],Y.prototype,"utilization_timestamp",void 0),Y=z([F.type("powerup_state_resource")],Y),Y})();e.PowerupStateResource=He;let ue=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(He)],Y.prototype,"net",void 0),z([F.field(He)],Y.prototype,"cpu",void 0),z([F.field(et)],Y.prototype,"powerup_days",void 0),z([F.field(Ge)],Y.prototype,"min_powerup_fee",void 0),Y=z([F.type("powerup_state")],Y),Y})();e.PowerupState=ue;let Ie=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"user",void 0),z([F.field(si)],Y.prototype,"max",void 0),Y=z([F.type("powerupexec")],Y),Y})();e.Powerupexec=Ie;let Ve=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(ci)],Y.prototype,"total_votes",void 0),z([F.field(Gi)],Y.prototype,"producer_key",void 0),z([F.field("bool")],Y.prototype,"is_active",void 0),z([F.field("string")],Y.prototype,"url",void 0),z([F.field(et)],Y.prototype,"unpaid_blocks",void 0),z([F.field(yr)],Y.prototype,"last_claim_time",void 0),z([F.field(si)],Y.prototype,"location",void 0),z([F.field(f,{optional:!0})],Y.prototype,"producer_authority",void 0),Y=z([F.type("producer_info")],Y),Y})();e.ProducerInfo=Ve;let je=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(ci)],Y.prototype,"votepay_share",void 0),z([F.field(yr)],Y.prototype,"last_votepay_share_update",void 0),Y=z([F.type("producer_info2")],Y),Y})();e.ProducerInfo2=je;let $e=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),Y=z([F.type("refund")],Y),Y})();e.Refund=$e;let Yt=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(_n)],Y.prototype,"request_time",void 0),z([F.field(Ge)],Y.prototype,"net_amount",void 0),z([F.field(Ge)],Y.prototype,"cpu_amount",void 0),Y=z([F.type("refund_request")],Y),Y})();e.RefundRequest=Yt;let oe=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"producer",void 0),z([F.field(Gi)],Y.prototype,"producer_key",void 0),z([F.field("string")],Y.prototype,"url",void 0),z([F.field(si)],Y.prototype,"location",void 0),Y=z([F.type("regproducer")],Y),Y})();e.Regproducer=oe;let ie=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"producer",void 0),z([F.field(f)],Y.prototype,"producer_authority",void 0),z([F.field("string")],Y.prototype,"url",void 0),z([F.field(si)],Y.prototype,"location",void 0),Y=z([F.type("regproducer2")],Y),Y})();e.Regproducer2=ie;let Pe=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"proxy",void 0),z([F.field("bool")],Y.prototype,"isproxy",void 0),Y=z([F.type("regproxy")],Y),Y})();e.Regproxy=Pe;let Ee=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(Ge)],Y.prototype,"loan_payment",void 0),z([F.field(Ge)],Y.prototype,"loan_fund",void 0),Y=z([F.type("rentcpu")],Y),Y})();e.Rentcpu=Ee;let We=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(Ge)],Y.prototype,"loan_payment",void 0),z([F.field(Ge)],Y.prototype,"loan_fund",void 0),Y=z([F.type("rentnet")],Y),Y})();e.Rentnet=We;let ht=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(Ge)],Y.prototype,"vote_stake",void 0),z([F.field(Ge)],Y.prototype,"rex_balance",void 0),z([F.field(qe)],Y.prototype,"matured_rex",void 0),z([F.field(de,{array:!0})],Y.prototype,"rex_maturities",void 0),Y=z([F.type("rex_balance")],Y),Y})();e.RexBalance=ht;let Ze=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(Ge)],Y.prototype,"balance",void 0),Y=z([F.type("rex_fund")],Y),Y})();e.RexFund=Ze;let Je=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(te)],Y.prototype,"from",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(Ge)],Y.prototype,"payment",void 0),z([F.field(Ge)],Y.prototype,"balance",void 0),z([F.field(Ge)],Y.prototype,"total_staked",void 0),z([F.field(At)],Y.prototype,"loan_num",void 0),z([F.field(yr)],Y.prototype,"expiration",void 0),Y=z([F.type("rex_loan")],Y),Y})();e.RexLoan=Je;let On=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(Ge)],Y.prototype,"rex_requested",void 0),z([F.field(Ge)],Y.prototype,"proceeds",void 0),z([F.field(Ge)],Y.prototype,"stake_change",void 0),z([F.field(yr)],Y.prototype,"order_time",void 0),z([F.field("bool")],Y.prototype,"is_open",void 0),Y=z([F.type("rex_order")],Y),Y})();e.RexOrder=On;let St=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(Ge)],Y.prototype,"total_lent",void 0),z([F.field(Ge)],Y.prototype,"total_unlent",void 0),z([F.field(Ge)],Y.prototype,"total_rent",void 0),z([F.field(Ge)],Y.prototype,"total_lendable",void 0),z([F.field(Ge)],Y.prototype,"total_rex",void 0),z([F.field(Ge)],Y.prototype,"namebid_proceeds",void 0),z([F.field(At)],Y.prototype,"loan_num",void 0),Y=z([F.type("rex_pool")],Y),Y})();e.RexPool=St;let It=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(de,{array:!0})],Y.prototype,"return_buckets",void 0),Y=z([F.type("rex_return_buckets")],Y),Y})();e.RexReturnBuckets=It;let oi=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(_n)],Y.prototype,"last_dist_time",void 0),z([F.field(_n)],Y.prototype,"pending_bucket_time",void 0),z([F.field(_n)],Y.prototype,"oldest_bucket_time",void 0),z([F.field(qe)],Y.prototype,"pending_bucket_proceeds",void 0),z([F.field(qe)],Y.prototype,"current_rate_of_increase",void 0),z([F.field(qe)],Y.prototype,"proceeds",void 0),Y=z([F.type("rex_return_pool")],Y),Y})();e.RexReturnPool=oi;let Ft=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"user",void 0),z([F.field(si)],Y.prototype,"max",void 0),Y=z([F.type("rexexec")],Y),Y})();e.Rexexec=Ft;let ln=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"producer",void 0),Y=z([F.type("rmvproducer")],Y),Y})();e.Rmvproducer=ln;let xl=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(qe)],Y.prototype,"bytes",void 0),Y=z([F.type("sellram")],Y),Y})();e.Sellram=xl;let Nt=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(Ge)],Y.prototype,"rex",void 0),Y=z([F.type("sellrex")],Y),Y})();e.Sellrex=Nt;let Fn=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(rt)],Y.prototype,"abi",void 0),z([F.field("string",{optional:!0})],Y.prototype,"memo",void 0),Y=z([F.type("setabi")],Y),Y})();e.Setabi=Fn;let F1=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(qe,{optional:!0})],Y.prototype,"cpu_weight",void 0),Y=z([F.type("setacctcpu")],Y),Y})();e.Setacctcpu=F1;let Pn=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(qe,{optional:!0})],Y.prototype,"net_weight",void 0),Y=z([F.type("setacctnet")],Y),Y})();e.Setacctnet=Pn;let Nn=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(qe,{optional:!0})],Y.prototype,"ram_bytes",void 0),Y=z([F.type("setacctram")],Y),Y})();e.Setacctram=Nn;let P1=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(qe)],Y.prototype,"ram_bytes",void 0),z([F.field(qe)],Y.prototype,"net_weight",void 0),z([F.field(qe)],Y.prototype,"cpu_weight",void 0),Y=z([F.type("setalimits")],Y),Y})();e.Setalimits=P1;let Bn=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(Sn)],Y.prototype,"vmtype",void 0),z([F.field(Sn)],Y.prototype,"vmversion",void 0),z([F.field(rt)],Y.prototype,"code",void 0),z([F.field("string",{optional:!0})],Y.prototype,"memo",void 0),Y=z([F.type("setcode")],Y),Y})();e.Setcode=Bn;let Vn=(()=>{let Y=class extends F{};return z([F.field(qe)],Y.prototype,"annual_rate",void 0),z([F.field(qe)],Y.prototype,"inflation_pay_factor",void 0),z([F.field(qe)],Y.prototype,"votepay_factor",void 0),Y=z([F.type("setinflation")],Y),Y})();e.Setinflation=Vn;let N1=(()=>{let Y=class extends F{};return z([F.field(m)],Y.prototype,"params",void 0),Y=z([F.type("setparams")],Y),Y})();e.Setparams=N1;let Gn=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(Sn)],Y.prototype,"is_priv",void 0),Y=z([F.type("setpriv")],Y),Y})();e.Setpriv=Gn;let zn=(()=>{let Y=class extends F{};return z([F.field(At)],Y.prototype,"max_ram_size",void 0),Y=z([F.type("setram")],Y),Y})();e.Setram=zn;let B1=(()=>{let Y=class extends F{};return z([F.field(si)],Y.prototype,"bytes_per_block",void 0),Y=z([F.type("setramrate")],Y),Y})();e.Setramrate=B1;let Wn=(()=>{let Y=class extends F{};return z([F.field(Ge)],Y.prototype,"balance",void 0),Y=z([F.type("setrex")],Y),Y})();e.Setrex=Wn;let Hn=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"from",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(Ge)],Y.prototype,"unstake_net_quantity",void 0),z([F.field(Ge)],Y.prototype,"unstake_cpu_quantity",void 0),Y=z([F.type("undelegatebw")],Y),Y})();e.Undelegatebw=Hn;let V1=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(te)],Y.prototype,"code",void 0),z([F.field(te)],Y.prototype,"type",void 0),z([F.field(te,{optional:!0})],Y.prototype,"authorized_by",void 0),Y=z([F.type("unlinkauth")],Y),Y})();e.Unlinkauth=V1;let jn=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"producer",void 0),Y=z([F.type("unregprod")],Y),Y})();e.Unregprod=jn;let Yn=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(te)],Y.prototype,"receiver",void 0),z([F.field(Ge)],Y.prototype,"from_net",void 0),z([F.field(Ge)],Y.prototype,"from_cpu",void 0),Y=z([F.type("unstaketorex")],Y),Y})();e.Unstaketorex=Yn;let G1=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"account",void 0),z([F.field(te)],Y.prototype,"permission",void 0),z([F.field(te)],Y.prototype,"parent",void 0),z([F.field(a)],Y.prototype,"auth",void 0),z([F.field(te,{optional:!0})],Y.prototype,"authorized_by",void 0),Y=z([F.type("updateauth")],Y),Y})();e.Updateauth=G1;let Un=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),Y=z([F.type("updaterex")],Y),Y})();e.Updaterex=Un;let Zn=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"revision",void 0),Y=z([F.type("updtrevision")],Y),Y})();e.Updtrevision=Zn;let jh=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(Ge)],Y.prototype,"net_weight",void 0),z([F.field(Ge)],Y.prototype,"cpu_weight",void 0),z([F.field(qe)],Y.prototype,"ram_bytes",void 0),Y=z([F.type("user_resources")],Y),Y})();e.UserResources=jh;let Yh=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"voter",void 0),z([F.field(te)],Y.prototype,"proxy",void 0),z([F.field(te,{array:!0})],Y.prototype,"producers",void 0),Y=z([F.type("voteproducer")],Y),Y})();e.Voteproducer=Yh;let Uh=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(te)],Y.prototype,"proxy",void 0),z([F.field(te,{array:!0})],Y.prototype,"producers",void 0),z([F.field(qe)],Y.prototype,"staked",void 0),z([F.field(ci)],Y.prototype,"last_vote_weight",void 0),z([F.field(ci)],Y.prototype,"proxied_vote_weight",void 0),z([F.field("bool")],Y.prototype,"is_proxy",void 0),z([F.field(et)],Y.prototype,"flags1",void 0),z([F.field(et)],Y.prototype,"reserved2",void 0),z([F.field(Ge)],Y.prototype,"reserved3",void 0),Y=z([F.type("voter_info")],Y),Y})();e.VoterInfo=Uh;let Zh=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"voter_name",void 0),Y=z([F.type("voteupdate")],Y),Y})();e.Voteupdate=Zh;let Xh=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"settings",void 0),Y=z([F.type("wasmcfg")],Y),Y})();e.Wasmcfg=Xh;let $h=(()=>{let Y=class extends F{};return z([F.field(te)],Y.prototype,"owner",void 0),z([F.field(Ge)],Y.prototype,"amount",void 0),Y=z([F.type("withdraw")],Y),Y})();e.Withdraw=$h;let Jh=(()=>{let Y=class extends F{};return z([F.field(Sn)],Y.prototype,"version",void 0),z([F.field(te)],Y.prototype,"account",void 0),z([F.field(te,{array:!0})],Y.prototype,"allow_perms",void 0),z([F.field(te,{array:!0})],Y.prototype,"disallow_perms",void 0),Y=z([F.type("limit_auth_change")],Y),Y})();e.LimitAuthChange=Jh})(un||(un={}));var DK={abihash:un.AbiHash,bidrefunds:un.BidRefund,blockinfo:un.BlockInfoRecord,cpuloan:un.RexLoan,delband:un.DelegatedBandwidth,global:un.EosioGlobalState,global2:un.EosioGlobalState2,global3:un.EosioGlobalState3,global4:un.EosioGlobalState4,namebids:un.NameBid,netloan:un.RexLoan,"powup.order":un.PowerupOrder,"powup.state":un.PowerupState,producers:un.ProducerInfo,producers2:un.ProducerInfo2,rammarket:un.ExchangeState,refunds:un.RefundRequest,retbuckets:un.RexReturnBuckets,rexbal:un.RexBalance,rexfund:un.RexFund,rexpool:un.RexPool,rexqueue:un.RexOrder,rexretpool:un.RexReturnPool,userres:un.UserResources,voters:un.VoterInfo,limitauthchg:un.LimitAuthChange};var xb=class{constructor(i,n){switch(this.resource=i,this.data=n,i){case"cpu":{this.available=this.data.cpu_limit.available,this.current_used=this.data.cpu_limit.current_used,this.used=this.data.cpu_limit.used,this.max=this.data.cpu_limit.max,this.weight=this.data.cpu_weight;break}case"net":{this.available=this.data.net_limit.available,this.current_used=this.data.net_limit.current_used,this.used=this.data.net_limit.used,this.max=this.data.net_limit.max,this.weight=this.data.net_weight;break}case"ram":{this.available=this.data.ram_quota.subtracting(this.data.ram_usage),this.used=qe.from(this.data.ram_usage),this.max=this.data.ram_quota;break}default:throw new Error(`Unknown resource type (${i}).`)}}toJSON(){return{resource:this.resource,available:this.available,current_used:this.current_used?this.current_used:this.current_used,used:this.used,max:this.max,weight:this.weight?this.weight:void 0}}},bb=class{constructor(i){this.data=i.data,i.contract?this.systemContract=i.contract:this.systemContract=new yb({client:i.client}),this.client=i.client,this.token=new Gv({client:i.client})}get accountName(){return te.from(this.data.account_name)}get systemToken(){return Ge.Symbol.from(this.data.total_resources.cpu_weight.symbol)}balance(i,n){return this.token.balance(this.accountName,i,n)}permission(i){let n=this.data.permissions.find(s=>s.perm_name.equals(i));if(!n)throw new Error(`Permission ${i} does not exist on account ${this.accountName}.`);return LA.from(n)}get permissions(){return this.data.permissions.map(i=>LA.from(i))}resource(i){return new xb(i,this.data)}resources(i){return new CA({api:this.client,sampleAccount:i?String(i):void 0,symbol:this.data.core_liquid_balance?String(this.data.core_liquid_balance.symbol):void 0})}setPermission(i){return this.systemContract.action("updateauth",{account:this.accountName,auth:i.required_auth,authorized_by:"",parent:i.parent,permission:i.perm_name})}removePermission(i){return this.systemContract.action("deleteauth",{account:this.accountName,authorized_by:"",permission:i})}linkauth(i,n,s){return this.systemContract.action("linkauth",{account:this.accountName,code:i,type:n,requirement:s,authorized_by:""})}unlinkauth(i,n){return this.systemContract.action("unlinkauth",{account:this.accountName,code:i,type:n,authorized_by:""})}buyRam(i,n){let s=this.accountName;return n&&n.receiver&&(s=te.from(n.receiver)),this.systemContract.action("buyram",{payer:this.accountName,quant:i,receiver:s})}buyRamBytes(i,n){let s=this.accountName;return n&&n.receiver&&(s=te.from(n.receiver)),this.systemContract.action("buyrambytes",{bytes:i,payer:this.accountName,receiver:s})}sellRam(i){return this.systemContract.action("sellram",{account:this.accountName,bytes:i})}delegate(i){return this.systemContract.action("delegatebw",{from:i.from||this.accountName,receiver:i.receiver||this.accountName,stake_cpu_quantity:i.cpu||Ge.fromUnits(0,this.systemToken),stake_net_quantity:i.net||Ge.fromUnits(0,this.systemToken),transfer:i.transfer!==void 0?i.transfer:!1})}undelegate(i){return this.systemContract.action("undelegatebw",{from:i.from||this.accountName,receiver:i.receiver||this.accountName,unstake_cpu_quantity:i.cpu||Ge.fromUnits(0,this.systemToken),unstake_net_quantity:i.net||Ge.fromUnits(0,this.systemToken)})}},bh=class{constructor(i,n){this.chain=i,this.contract=n?.contract,this.client=n?.client||new pa({url:this.chain.url})}load(i){return fe(this,null,function*(){let n=yield this.client.v1.chain.get_account(i,this.chain.accountDataType);return new bb({client:this.client,contract:this.contract,data:n})})}};var Mb=class{constructor(i){this.arbitrary={},this.chains=[],this.hooks={afterLogin:[],beforeLogin:[]},this.uiRequirements={requiresChainSelect:!0,requiresPermissionSelect:!0,requiresPermissionEntry:!1,requiresWalletSelect:!0},this.walletPlugins=[],this.appName=String(i.appName),i.arbitrary&&(this.arbitrary=i.arbitrary),i.chains&&(this.chains=i.chains),i.chain&&(this.chain=i.chain),this.fetch=i.fetch,this.permissionLevel=i.permissionLevel,this.walletPlugins=i.walletPlugins||[],this.ui=i.ui,i.loginPlugins?.forEach(n=>{n.register(this)})}addHook(i,n){this.hooks[i].push(n)}getClient(i){return new pa({provider:new io(i.url,{fetch:this.fetch})})}get esrOptions(){return{zlib:da}}},Cb=class{},wb=class extends Cb{register(){}},Mh=function(e){return e.beforeSign="beforeSign",e.afterSign="afterSign",e.afterBroadcast="afterBroadcast",e}(Mh||{}),zv=class{constructor(i){this.hooks={afterBroadcast:[],afterSign:[],beforeSign:[]},this.abiCache=i.abiCache,this.appName=String(i.appName),this.chain=i.chain,this.client=i.client,this.createRequest=i.createRequest,this.fetch=i.fetch,this.permissionLevel=i.permissionLevel,i.storage&&(this.storage=i.storage),this.transactPluginsOptions=i.transactPluginsOptions||{},this.ui=i.ui,i.transactPlugins?.forEach(n=>{n.register(this)})}get accountName(){return this.permissionLevel.actor}get permissionName(){return this.permissionLevel.permission}get esrOptions(){return{abiProvider:this.abiCache,zlib:da}}addHook(i,n){switch(i){case Mh.beforeSign:{this.hooks[i].push(n);break}case Mh.afterSign:case Mh.afterBroadcast:{this.hooks[i].push(n);break}}}getInfo(){return fe(this,null,function*(){let i=this.info;return this.info?i=this.info:this.info=i=yield this.client.v1.chain.get_info(),i})}resolve(i,n=120){return fe(this,null,function*(){let s={chainId:this.chain.id};if(i.requiresTapos()){let t=(yield this.getInfo()).getTransactionHeader(n);s=q(q({},s),t)}let r=yield i.fetchAbis(this.abiCache);return i.resolve(r,this.permissionLevel,s)})}},Sb=class{constructor(i){this.revisions=[],this.addRevision({request:i,signatures:[]},"original",!0)}addRevision(i,n,s){let r=!1,o=this.revisions[this.revisions.length-1];o&&(r=o.response.request!==String(i.request)),this.revisions.push({allowModify:s,code:String(n),modified:r,response:{request:String(i.request),signatures:i.signatures?yt.objectify(i.signatures):[]}})}},Ib=class{},Wv=class extends Ib{get id(){return"base-transact-plugin"}register(){}};function RA(e){if(e&&e.fetch)return e.fetch;if(typeof window<"u"&&window.fetch)return window.fetch.bind(window);if(typeof global<"u"&&global.fetch)return global.fetch.bind(global);throw new Error("Missing fetch")}var kc=class{constructor(i,n={}){if(this.abis=[],this.allowModify=!0,this.broadcast=!0,this.expireSeconds=120,this.transactPluginsOptions={},this.serialize=()=>yt.objectify({chain:this.chain.id,actor:this.permissionLevel.actor,permission:this.permissionLevel.permission,walletPlugin:this.walletPlugin.serialize()}),this.chain=Ln.from(i.chain),i.permissionLevel)this.permissionLevel=jt.from(i.permissionLevel);else if(i.actor&&i.permission)this.permissionLevel=jt.from(`${i.actor}@${i.permission}`);else throw new Error("Either a permissionLevel or actor/permission must be provided when creating a new Session.");this.walletPlugin=i.walletPlugin,n.appName&&(this.appName=String(n.appName)),n.abis&&(this.abis=[...n.abis]),n.contracts&&this.abis.push(...n.contracts.map(s=>({account:s.account,abi:s.abi}))),n.allowModify!==void 0&&(this.allowModify=n.allowModify),n.broadcast!==void 0&&(this.broadcast=n.broadcast),n.expireSeconds&&(this.expireSeconds=n.expireSeconds),n.fetch?this.fetch=n.fetch:this.fetch=RA(n),n.storage&&(this.storage=n.storage),n.transactPlugins?this.transactPlugins=n.transactPlugins:this.transactPlugins=[new Wv],n.transactPluginsOptions&&(this.transactPluginsOptions=n.transactPluginsOptions),n.abiCache?this.abiCache=n.abiCache:this.abiCache=new xh(this.client),n.ui&&(this.ui=n.ui)}get actor(){return this.permissionLevel.actor}get permission(){return this.permissionLevel.permission}get client(){return new pa({provider:new io(this.chain.url,{fetch:this.fetch})})}setEndpoint(i){this.chain.url=i}upgradeTransaction(i){let n=i;if(i.actions&&(n.expiration||n.ref_block_num||n.ref_block_prefix||n.max_net_usage_words||n.max_cpu_usage_ms||n.delay_sec))return i={transaction:q({expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0},n)};if(i.context_free_actions||i.context_free_data){let s=i.actions||[i.action];return delete i.action,{transaction:q({expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],context_free_data:[],actions:s},n)}}return i}storageType(i){return i===2?db:fb}cloneRequest(i,n){let s;i.signature&&(s=yh.from(JSON.parse(JSON.stringify(i.signature))));let o=this.storageType(i.version).from(JSON.parse(JSON.stringify(i.data)));return new rs(i.version,o,da,n,s)}createRequest(i,n){return fe(this,null,function*(){let s,r={abiProvider:n,zlib:da};return i.request&&i.request instanceof rs?s=this.cloneRequest(i.request,n):i.request?s=rs.from(i.request,r):(i=this.upgradeTransaction(i),s=yield rs.create(Se(q({},i),{chainId:this.chain.id}),r)),s.setBroadcast(!1),s})}updateRequest(i,n,s){return fe(this,null,function*(){let r=this.cloneRequest(n,s),o=r.getRawInfo();return i.data.info.forEach(t=>{o[t.key]&&console.warn(`During an updateRequest call, the previous request had already set the metadata key of "${t.key}" which will not be overwritten.`),r.setRawInfoKey(t.key,t.value)}),r})}transact(i,n){return fe(this,null,function*(){try{let s=n&&n.expireSeconds?n.expireSeconds:this.expireSeconds,r=n&&typeof n.broadcast<"u"?n.broadcast:this.broadcast,o=this.getMergedAbiCache(i,n),t=n?.transactPlugins||this.transactPlugins,a=n?.transactPluginsOptions||this.transactPluginsOptions,p=n&&typeof n.allowModify<"u"?n.allowModify:this.allowModify,c=new zv({abiCache:o,appName:this.appName,chain:this.chain,client:this.client,createRequest:d=>this.createRequest(d,o),fetch:this.fetch,permissionLevel:this.permissionLevel,storage:this.storage,transactPlugins:t,transactPluginsOptions:a,ui:this.ui});if(c.ui){yield c.ui.onTransact();for(let d of t.map(v=>this.getPluginTranslations(v)))c.ui.addTranslations(d)}let u=yield this.createRequest(i,o),h={chain:this.chain,request:u,resolved:void 0,returns:[],revisions:new Sb(u),signatures:[],signer:this.permissionLevel,transaction:void 0};for(let d of c.hooks.beforeSign){let v=yield d(u.clone(),c);v&&(h.revisions.addRevision(v,String(d),p),p&&(u=yield this.updateRequest(u,v.request,o)),v.signatures&&(h.signatures=[...h.signatures,...v.signatures],p=!1))}h.request=u,h.resolved=yield c.resolve(u,s),h.transaction=h.resolved.resolvedTransaction,c.ui&&(yield c.ui.onSign(),c.ui.addTranslations(this.getPluginTranslations(this.walletPlugin)));let l=yield this.walletPlugin.sign(h.resolved,c);if(h.signatures.push(...l.signatures),l.resolved){let{resolved:d}=l;if(!h.resolved.transaction.equals(d.transaction))if(p)h.request=d.request,h.resolved=d,h.transaction=d.resolvedTransaction;else throw new Error(`The ${this.walletPlugin.metadata.name} plugin modified the transaction when it was not allowed to.`)}for(let d of c.hooks.afterSign)yield d(h,c);if(c.ui&&(yield c.ui.onSignComplete()),r){c.ui&&(yield c.ui.onBroadcast());let d=qo.from(Se(q({},h.resolved.transaction),{signatures:h.signatures}));h.response=yield c.client.v1.chain.send_transaction(d),h.response.processed&&h.response.processed.action_traces&&(h.returns=yield OK(h.response,o));for(let v of c.hooks.afterBroadcast)yield v(h,c);c.ui&&(yield c.ui.onBroadcastComplete())}return c.ui&&(yield c.ui.onTransactComplete()),h}catch(s){if(s.response&&s.response.json){let{json:r}=s.response;if(r.error&&r.error.details){let o=new Error(r.error.details[0].message);throw this.ui&&(yield this.ui.onError(o)),o}}else this.ui&&(yield this.ui.onError(s));throw new Error(s)}})}signTransaction(i){return fe(this,null,function*(){let n=new zv({abiCache:this.abiCache,chain:this.chain,client:this.client,createRequest:t=>this.createRequest(t,this.abiCache),fetch:this.fetch,permissionLevel:this.permissionLevel}),s=yield rs.create({transaction:i,chainId:this.chain.id},n.esrOptions);s.setBroadcast(!1);let r=new ol(s,this.permissionLevel,Cn.from(i),yt.objectify(Cn.from(i)),Mr.from(this.chain.id));return(yield this.walletPlugin.sign(r,n)).signatures})}getPluginTranslations(i){if(!i.translations)return{};let n={};return Object.keys(i.translations).forEach(r=>{i.translations&&(n[r]={[i.id]:i.translations[r]})}),n}getMergedAbiCache(i,n){let s=n?.abiCache||this.abiCache;if(!s.setAbi)throw new Error("Custom `abiCache` does not support `setAbi` method.");return this.abis.forEach(r=>s.setAbi(r.account,r.abi)),n?.abis&&n.abis.forEach(r=>s.setAbi(r.account,r.abi)),n?.contracts&&n.contracts.forEach(r=>s.setAbi(r.account,r.abi)),i.action&&i.action.abi&&s.setAbi(i.action.account,i.action.abi,!0),i.actions&&i.actions.forEach(r=>{r.abi&&s.setAbi(r.account,r.abi,!0)}),i.transaction&&i.transaction.actions&&i.transaction.actions.forEach(r=>{r.abi&&s.setAbi(r.account,r.abi,!0)}),s}account(){return fe(this,null,function*(){return new bh(this.chain,{client:this.client}).load(this.permissionLevel.actor)})}};function OK(e,i){return fe(this,null,function*(){let n=[];for(let s of e.processed.action_traces)if(s.return_value_hex_data){let r=te.from(s.act.account),o=te.from(s.act.name),t=yield i.getAbi(r),a=t.action_results.find(p=>te.from(p.name).equals(o));if(a)try{let p=yt.decode({data:s.return_value_hex_data,type:a.result_type,abi:t});n.push({contract:r,action:o,hex:s.return_value_hex_data,data:p,returnType:a})}catch(p){console.warn(`Error decoding return value for ${r}::${o}:`,p),n.push({contract:r,action:o,hex:s.return_value_hex_data,data:"",returnType:a})}else console.warn(`No return type found for ${r}::${o}`),n.push({contract:r,action:o,hex:s.return_value_hex_data,data:"",returnType:{name:o,result_type:""}})}return n})}var s1=class{constructor(i=""){this.keyPrefix=i}write(i,n){return fe(this,null,function*(){localStorage.setItem(this.storageKey(i),n)})}read(i){return fe(this,null,function*(){return localStorage.getItem(this.storageKey(i))})}remove(i){return fe(this,null,function*(){localStorage.removeItem(this.storageKey(i))})}storageKey(i){return`wharf-${this.keyPrefix}-${i}`}},kb,Cr=kb=class extends F{static from(i){return new kb(Se(q({},i),{logo:i.logo?xr.from(i.logo):void 0}))}};z([F.field("string",{optional:!0})],Cr.prototype,"name",void 0);z([F.field("string",{optional:!0})],Cr.prototype,"description",void 0);z([F.field(xr,{optional:!0})],Cr.prototype,"logo",void 0);z([F.field("string",{optional:!0})],Cr.prototype,"homepage",void 0);z([F.field("string",{optional:!0})],Cr.prototype,"download",void 0);z([F.field("string",{optional:!0})],Cr.prototype,"publicKey",void 0);Cr=kb=z([F.type("wallet_plugin_metadata")],Cr);var Ch=class{constructor(){this._data={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1,requiresPermissionEntry:!1},this.metadata=new Cr({})}get data(){return this._data}set data(i){this._data=i}serialize(){return{id:this.id,data:this.data}}},Tb,wh=Tb=class extends F{static from(i){return new Tb(Se(q({},i),{logo:i.logo?xr.from(i.logo):void 0}))}};z([F.field("string")],wh.prototype,"name",void 0);z([F.field("string",{optional:!0})],wh.prototype,"description",void 0);z([F.field(xr,{optional:!0})],wh.prototype,"logo",void 0);z([F.field("string",{optional:!0})],wh.prototype,"homepage",void 0);wh=Tb=z([F.type("account_creation_plugin_metadata")],wh);var Eb=class{constructor(i){this.accountCreationPlugins=[],this.uiRequirements={requiresChainSelect:!0,requiresPluginSelect:!0},this.appName=String(i.appName),i.chains&&(this.chains=i.chains),i.chain&&(this.chain=i.chain),this.fetch=i.fetch,this.ui=i.ui,i.accountCreationPlugins&&(this.accountCreationPlugins=i.accountCreationPlugins),i.uiRequirements&&(this.uiRequirements=i.uiRequirements)}getClient(i){return new pa({provider:new io(i.url,{fetch:this.fetch})})}};var Hv=class{constructor(i,n={}){this.abis=[],this.allowModify=!0,this.expireSeconds=120,this.transactPluginsOptions={},this.accountCreationPlugins=[],this.appName=String(i.appName),this.chains=i.chains.map(s=>Ln.from(s)),this.ui=i.ui,this.walletPlugins=i.walletPlugins,n.fetch?this.fetch=n.fetch:this.fetch=RA(n),n.abis&&(this.abis=[...n.abis]),n.contracts&&this.abis.push(...n.contracts.map(s=>({account:s.account,abi:s.abi}))),n.loginPlugins?this.loginPlugins=n.loginPlugins:this.loginPlugins=[new wb],n.storage?this.storage=n.storage:this.storage=new s1,n.transactPlugins?this.transactPlugins=n.transactPlugins:this.transactPlugins=[new Wv],typeof n.allowModify<"u"&&(this.allowModify=n.allowModify),n.expireSeconds&&(this.expireSeconds=n.expireSeconds),n.transactPluginsOptions&&(this.transactPluginsOptions=n.transactPluginsOptions),n.accountCreationPlugins&&(this.accountCreationPlugins=n.accountCreationPlugins)}setEndpoint(i,n){let s=[...this.chains],r=vt.from(i),o=this.chains.findIndex(t=>t.id.equals(r));if(o<0)throw new Error("Chain with specified ID not found.");s[o].url=n,this.chains=s}getChainDefinition(i,n){let s=n||this.chains,r=vt.from(i),o=s.find(t=>t.id.equals(r));if(!o)throw new Error(`No chain defined with an ID of: ${r}`);return o}createAccount(i){return fe(this,null,function*(){try{if(this.accountCreationPlugins.length===0)throw new Error("No account creation plugins available.");let n=i?.chain,s=!n,r=!i?.pluginId,o;if(i?.pluginId){if(r=!1,o=this.accountCreationPlugins.find(c=>c.id===i.pluginId),!o)throw new Error("Invalid account creation plugin selected.");o?.config.requiresChainSelect!==void 0&&(s=o?.config.requiresChainSelect),!o.config.requiresChainSelect&&o.config.supportedChains&&o.config.supportedChains.length===1&&(n=o.config.supportedChains[0])}let t=this.chains;o&&o?.config.supportedChains?.length&&(t=t.filter(c=>o?.config.supportedChains?.find(u=>u.id.equals(c.id))));let a=new Eb({accountCreationPlugins:this.accountCreationPlugins,appName:this.appName,chain:n,chains:t,fetch:this.fetch,ui:this.ui,uiRequirements:{requiresChainSelect:s,requiresPluginSelect:r}});if(r||s){let c=yield a.ui.onAccountCreate(a),u=i?.pluginId||c.pluginId;if(!u)throw new Error("No account creation plugin selected.");if(o=a.accountCreationPlugins.find(h=>h.id===u),!o)throw new Error("No account creation plugin selected.");if(!o.config.requiresChainSelect&&o.config.supportedChains&&o.config.supportedChains.length===1&&(a.chain=o.config.supportedChains[0]),c.chain&&(a.chain=this.getChainDefinition(c.chain,a.chains)),o.config.requiresChainSelect&&!a.chain)throw new Error(`Account creation plugin (${u}) requires chain selection, and no chain was selected.`)}if(!o)throw new Error("No account creation plugin selected");let p=yield o.create(a);return yield a.ui.onAccountCreateComplete(),p}catch(n){throw yield this.ui.onError(n),new Error(n)}})}login(i){return fe(this,null,function*(){try{let n=new Mb({appName:this.appName,arbitrary:i?.arbitrary||{},chain:void 0,chains:i&&i?.chains?i.chains.map(a=>this.getChainDefinition(a)):this.chains,fetch:this.fetch,loginPlugins:this.loginPlugins,ui:this.ui,walletPlugins:this.walletPlugins.map(a=>({config:a.config,metadata:Cr.from(a.metadata),retrievePublicKey:a.retrievePublicKey?.bind(a)}))});yield n.ui.onLogin(),i&&i.chain?(i.chain instanceof Ln?n.chain=i.chain:n.chain=this.getChainDefinition(i.chain,n.chains),n.uiRequirements.requiresChainSelect=!1):n.chains.length===1&&(n.chain=n.chains[0],n.uiRequirements.requiresChainSelect=!1);let s;if(this.walletPlugins.length===1)s=this.walletPlugins[0],n.uiRequirements.requiresWalletSelect=!1;else if(i?.walletPlugin){let a=this.walletPlugins.findIndex(p=>p.id===i.walletPlugin);a>=0&&(s=this.walletPlugins[a],n.walletPluginIndex=a,n.uiRequirements.requiresWalletSelect=!1)}if(s&&s.config.requiresPermissionSelect===!1&&(n.uiRequirements.requiresPermissionSelect=!1),i?.permissionLevel&&(n.permissionLevel=jt.from(i.permissionLevel),n.uiRequirements.requiresPermissionSelect=!1),n.uiRequirements.requiresChainSelect||n.uiRequirements.requiresPermissionSelect||n.uiRequirements.requiresPermissionEntry||n.uiRequirements.requiresWalletSelect){let a=yield n.ui.login(n);if(a.walletPluginIndex!==void 0&&(s=this.walletPlugins[a.walletPluginIndex]),!s)throw new Error("UserInterface did not return a valid WalletPlugin index.");if(a.chainId){if(!n.chains.some(p=>p.id.equals(a.chainId)))throw new Error("UserInterface did not return a chain ID matching the subset of chains.");n.chain=this.getChainDefinition(a.chainId,n.chains)}a.permissionLevel&&(n.permissionLevel=jt.from(a.permissionLevel))}if(!s)throw new Error("No WalletPlugin available to perform the login.");let{supportedChains:r}=s.config;if(n.chain&&r&&r.length&&!r.includes(String(n.chain.id)))throw new Error(`The wallet plugin '${s.metadata.name}' does not support the chain '${n.chain.id}'`);for(let a of n.hooks.beforeLogin)yield a(n);let o=yield s.login(n),t=new kc({chain:this.getChainDefinition(o.chain),permissionLevel:o.permissionLevel,walletPlugin:s},this.getSessionOptions(i));for(let a of n.hooks.afterLogin)yield a(n);return this.persistSession(t,i?.setAsDefault),yield n.ui.onLoginComplete(),{context:n,response:o,session:t}}catch(n){throw yield this.ui.onError(n),new Error(n)}})}logoutParams(i,n){return i instanceof kc?{session:i,appName:this.appName}:{session:new kc({chain:this.getChainDefinition(i.chain),permissionLevel:jt.from({actor:i.actor,permission:i.permission}),walletPlugin:n}),appName:this.appName}}logout(i){return fe(this,null,function*(){if(!this.storage)throw new Error("An instance of Storage must be provided to utilize the logout method.");if(yield this.storage.remove("session"),i){let n=this.walletPlugins.find(r=>i?.walletPlugin.id===r.id);n?.logout&&(yield n.logout(this.logoutParams(i,n)));let s=yield this.getSessions();if(s){let r=i;i instanceof kc&&(r=i.serialize());let o=s.filter(t=>!vt.from(t.chain).equals(vt.from(String(r.chain)))||!te.from(t.actor).equals(te.from(r.actor))||!te.from(t.permission).equals(te.from(r.permission)));yield this.storage.write("sessions",JSON.stringify(o))}}else{let n=yield this.getSessions();yield this.storage.remove("sessions"),n&&Promise.all(n.map(s=>{let r=this.walletPlugins.find(o=>s.walletPlugin.id===o.id);return r?.logout?r.logout(this.logoutParams(s,r)):Promise.resolve()}))}})}restore(i,n){return fe(this,null,function*(){if(!i){let p=yield this.storage.read("session");if(p)i=JSON.parse(p);else return}if(!i)throw new Error("Either a RestoreArgs object or a Storage instance must be provided.");let s=vt.from(i.chain instanceof Ln?i.chain.id:i.chain),r,o=yield this.storage.read("sessions");if(o){let p=JSON.parse(o);i.actor&&i.permission?r=p.find(c=>i&&s.equals(c.chain)&&c.actor===i.actor&&c.permission===i.permission):r=p.find(c=>i&&s.equals(c.chain)&&c.default)}else if(i.actor&&i.permission&&i.walletPlugin)r={chain:String(s),actor:i.actor,permission:i.permission,walletPlugin:{id:i.walletPlugin.id,data:i.walletPlugin.data}};else throw new Error("No sessions found in storage. A wallet plugin must be provided.");if(!r)return;let t=this.walletPlugins.find(p=>i?p.id===r.walletPlugin.id:!1);if(!t)throw new Error(`No WalletPlugin found with the ID of: '${r.walletPlugin.id}'`);r.walletPlugin.data&&(t.data=r.walletPlugin.data),i.walletPlugin&&i.walletPlugin.data&&(t.data=i.walletPlugin.data);let a=new kc({chain:this.getChainDefinition(r.chain),permissionLevel:jt.from({actor:r.actor,permission:r.permission}),walletPlugin:t},this.getSessionOptions(n));return this.persistSession(a,n?.setAsDefault),a})}restoreAll(){return fe(this,null,function*(){let i=[],n=yield this.getSessions();if(n)for(let s of n){let r=yield this.restore(s);r&&i.push(r)}return i})}persistSession(i,n=!0){return fe(this,null,function*(){if(!this.storage)return;let s=i.serialize();s.default=n,n&&this.storage.write("session",JSON.stringify(s));let r=yield this.storage.read("sessions");if(r){let a=[...JSON.parse(r).filter(p=>!vt.from(p.chain).equals(vt.from(s.chain))||!te.from(p.actor).equals(te.from(s.actor))||!te.from(p.permission).equals(te.from(s.permission))).map(p=>(i.chain.id.equals(p.chain)&&(p.default=!1),p)),s];a.sort((p,c)=>{let u=String(p.chain).localeCompare(String(c.chain)),h=String(p.actor).localeCompare(String(c.actor)),l=String(p.permission).localeCompare(String(c.permission));return u||h||l}),this.storage.write("sessions",JSON.stringify(a))}else this.storage.write("sessions",JSON.stringify([s]))})}getSessions(){return fe(this,null,function*(){if(!this.storage)throw new Error("No storage instance is available to retrieve sessions from.");let i=yield this.storage.read("sessions");if(!i)return[];try{return JSON.parse(i).filter(r=>this.walletPlugins.some(o=>o.id===r.walletPlugin.id))}catch(n){throw new Error(`Failed to parse sessions from storage (${n})`)}})}getSessionOptions(i){return{abis:this.abis,allowModify:this.allowModify,appName:this.appName,expireSeconds:this.expireSeconds,fetch:this.fetch,storage:this.storage,transactPlugins:i?.transactPlugins||this.transactPlugins,transactPluginsOptions:i?.transactPluginsOptions||this.transactPluginsOptions,ui:this.ui}}},jv=class{translate(i,n,s){throw new Error("The `translate` method must be implemented in this UserInterface. Called with: "+JSON.stringify({key:i,options:n,namespace:s}))}getTranslate(i){return(n,s)=>this.translate(n,s,i)}addTranslations(i){throw new Error("The `addTranslations` method must be implemented in this UserInterface. Called with: "+JSON.stringify(i))}};function nt(){}var sg=e=>e;function Xv(e,i){for(let n in i)e[n]=i[n];return e}function BL(e){return e()}function DA(){return Object.create(null)}function ao(e){e.forEach(BL)}function oo(e){return typeof e=="function"}function Dt(e,i){return e!=e?i==i:e!==i||e&&typeof e=="object"||typeof e=="function"}var Yv;function u1(e,i){return e===i?!0:(Yv||(Yv=document.createElement("a")),Yv.href=i,e===Yv.href)}function FK(e){return Object.keys(e).length===0}function f6(e,...i){if(e==null){for(let s of i)s(void 0);return nt}let n=e.subscribe(...i);return n.unsubscribe?()=>n.unsubscribe():n}function xn(e){let i;return f6(e,n=>i=n)(),i}function ut(e,i,n){e.$$.on_destroy.push(f6(i,n))}function as(e,i,n,s){if(e){let r=VL(e,i,n,s);return e[0](r)}}function VL(e,i,n,s){return e[1]&&s?Xv(n.ctx.slice(),e[1](s(i))):n.ctx}function os(e,i,n,s){if(e[2]&&s){let r=e[2](s(n));if(i.dirty===void 0)return r;if(typeof r=="object"){let o=[],t=Math.max(i.dirty.length,r.length);for(let a=0;a<t;a+=1)o[a]=i.dirty[a]|r[a];return o}return i.dirty|r}return i.dirty}function ls(e,i,n,s,r,o){if(r){let t=VL(i,n,s,o);e.p(t,r)}}function cs(e){if(e.ctx.length>32){let i=[],n=e.ctx.length/32;for(let s=0;s<n;s++)i[s]=-1;return i}return-1}function PK(e){return e??""}function st(e,i,n){return e.set(n),i}function OA(e){let i=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return i?[parseFloat(i[1]),i[2]||"px"]:[e,"px"]}var GL=typeof window<"u",p6=GL?()=>window.performance.now():()=>Date.now(),v6=GL?e=>requestAnimationFrame(e):nt,Eh=new Set;function zL(e){Eh.forEach(i=>{i.c(e)||(Eh.delete(i),i.f())}),Eh.size!==0&&v6(zL)}function g6(e){let i;return Eh.size===0&&v6(zL),{promise:new Promise(n=>{Eh.add(i={c:e,f:n})}),abort(){Eh.delete(i)}}}function me(e,i){e.appendChild(i)}function mn(e,i,n){let s=m6(e);if(!s.getElementById(i)){let r=Be("style");r.id=i,r.textContent=n,WL(s,r)}}function m6(e){if(!e)return document;let i=e.getRootNode?e.getRootNode():e.ownerDocument;return i&&i.host?i:e.ownerDocument}function NK(e){let i=Be("style");return i.textContent="/* empty */",WL(m6(e),i),i.sheet}function WL(e,i){return me(e.head||e,i),i.sheet}function we(e,i,n){e.insertBefore(i,n||null)}function Me(e){e.parentNode&&e.parentNode.removeChild(e)}function Dh(e,i){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(i)}function Be(e){return document.createElement(e)}function Lt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function qt(e){return document.createTextNode(e)}function at(){return qt(" ")}function Dn(){return qt("")}function Sr(e,i,n,s){return e.addEventListener(i,n,s),()=>e.removeEventListener(i,n,s)}function y6(e){return function(i){return i.preventDefault(),e.call(this,i)}}function BK(e){return function(i){return i.stopPropagation(),e.call(this,i)}}function HL(e){return function(i){i.target===this&&e.call(this,i)}}function K(e,i,n){n==null?e.removeAttribute(i):e.getAttribute(i)!==n&&e.setAttribute(i,n)}function VK(e){return Array.from(e.childNodes)}function on(e,i){i=""+i,e.data!==i&&(e.data=i)}function FA(e,i){e.value=i??""}function kn(e,i,n,s){n==null?e.style.removeProperty(i):e.style.setProperty(i,n,s?"important":"")}function hl(e,i,n){e.classList.toggle(i,!!n)}function jL(e,i,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:i,bubbles:n,cancelable:s})}function PA(e,i){return new e(i)}var $v=new Map,Jv=0;function GK(e){let i=5381,n=e.length;for(;n--;)i=(i<<5)-i^e.charCodeAt(n);return i>>>0}function zK(e,i){let n={stylesheet:NK(i),rules:{}};return $v.set(e,n),n}function Db(e,i,n,s,r,o,t,a=0){let p=16.666/s,c=`{
`;for(let g=0;g<=1;g+=p){let m=i+(n-i)*o(g);c+=g*100+`%{${t(m,1-m)}}
`}let u=c+`100% {${t(n,1-n)}}
}`,h=`__svelte_${GK(u)}_${a}`,l=m6(e),{stylesheet:d,rules:v}=$v.get(l)||zK(l,e);v[h]||(v[h]=!0,d.insertRule(`@keyframes ${h} ${u}`,d.cssRules.length));let f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${h} ${s}ms linear ${r}ms 1 both`,Jv+=1,h}function Ob(e,i){let n=(e.style.animation||"").split(", "),s=n.filter(i?o=>o.indexOf(i)<0:o=>o.indexOf("__svelte")===-1),r=n.length-s.length;r&&(e.style.animation=s.join(", "),Jv-=r,Jv||WK())}function WK(){v6(()=>{Jv||($v.forEach(e=>{let{ownerNode:i}=e.stylesheet;i&&Me(i)}),$v.clear())})}var h1;function l1(e){h1=e}function g1(){if(!h1)throw new Error("Function called outside component initialization");return h1}function Oh(e){g1().$$.on_mount.push(e)}function m1(e){g1().$$.on_destroy.push(e)}function Vs(){let e=g1();return(i,n,{cancelable:s=!1}={})=>{let r=e.$$.callbacks[i];if(r){let o=jL(i,n,{cancelable:s});return r.slice().forEach(t=>{t.call(e,o)}),!o.defaultPrevented}return!0}}function HK(e,i){return g1().$$.context.set(e,i),i}function lo(e){return g1().$$.context.get(e)}var kh=[],fl=[],Ah=[],Fb=[],jK=Promise.resolve(),Pb=!1;function YK(){Pb||(Pb=!0,jK.then(UL))}function Ec(e){Ah.push(e)}function YL(e){Fb.push(e)}var Ab=new Set,Sh=0;function UL(){if(Sh!==0)return;let e=h1;do{try{for(;Sh<kh.length;){let i=kh[Sh];Sh++,l1(i),UK(i.$$)}}catch(i){throw kh.length=0,Sh=0,i}for(l1(null),kh.length=0,Sh=0;fl.length;)fl.pop()();for(let i=0;i<Ah.length;i+=1){let n=Ah[i];Ab.has(n)||(Ab.add(n),n())}Ah.length=0}while(kh.length);for(;Fb.length;)Fb.pop()();Pb=!1,Ab.clear(),l1(e)}function UK(e){if(e.fragment!==null){e.update(),ao(e.before_update);let i=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,i),e.after_update.forEach(Ec)}}function ZK(e){let i=[],n=[];Ah.forEach(s=>e.indexOf(s)===-1?i.push(s):n.push(s)),n.forEach(s=>s()),Ah=i}var a1;function ZL(){return a1||(a1=Promise.resolve(),a1.then(()=>{a1=null})),a1}function c1(e,i,n){e.dispatchEvent(jL(`${i?"intro":"outro"}${n}`))}var Uv=new Set,so;function Xt(){so={r:0,c:[],p:so}}function $t(){so.r||ao(so.c),so=so.p}function ee(e,i){e&&e.i&&(Uv.delete(e),e.i(i))}function se(e,i,n,s){if(e&&e.o){if(Uv.has(e))return;Uv.add(e),so.c.push(()=>{Uv.delete(e),s&&(n&&e.d(1),s())}),e.o(i)}else s&&s()}var XL={duration:0};function XK(e,i,n){let s={direction:"in"},r=i(e,n,s),o=!1,t,a,p=0;function c(){t&&Ob(e,t)}function u(){let{delay:l=0,duration:d=300,easing:v=sg,tick:f=nt,css:g}=r||XL;g&&(t=Db(e,0,1,d,l,v,g,p++)),f(0,1);let m=p6()+l,x=m+d;a&&a.abort(),o=!0,Ec(()=>c1(e,!0,"start")),a=g6(y=>{if(o){if(y>=x)return f(1,0),c1(e,!0,"end"),c(),o=!1;if(y>=m){let b=v((y-m)/d);f(b,1-b)}}return o})}let h=!1;return{start(){h||(h=!0,Ob(e),oo(r)?(r=r(s),ZL().then(u)):u())},invalidate(){h=!1},end(){o&&(c(),o=!1)}}}function NA(e,i,n,s){let o=i(e,n,{direction:"both"}),t=s?0:1,a=null,p=null,c=null,u;function h(){c&&Ob(e,c)}function l(v,f){let g=v.b-t;return f*=Math.abs(g),{a:t,b:v.b,d:g,duration:f,start:v.start,end:v.start+f,group:v.group}}function d(v){let{delay:f=0,duration:g=300,easing:m=sg,tick:x=nt,css:y}=o||XL,b={start:p6()+f,b:v};v||(b.group=so,so.r+=1),"inert"in e&&(v?u!==void 0&&(e.inert=u):(u=e.inert,e.inert=!0)),a||p?p=b:(y&&(h(),c=Db(e,t,v,g,f,m,y)),v&&x(0,1),a=l(b,g),Ec(()=>c1(e,v,"start")),g6(M=>{if(p&&M>p.start&&(a=l(p,g),p=null,c1(e,a.b,"start"),y&&(h(),c=Db(e,t,a.b,a.duration,0,m,o.css))),a){if(M>=a.end)x(t=a.b,1-t),c1(e,a.b,"end"),p||(a.b?h():--a.group.r||ao(a.group.c)),a=null;else if(M>=a.start){let C=M-a.start;t=a.a+a.d*m(C/a.duration),x(t,1-t)}}return!!(a||p)}))}return{run(v){oo(o)?ZL().then(()=>{o=o({direction:v?"in":"out"}),d(v)}):d(v)},end(){h(),a=p=null}}}function hs(e){return e?.length!==void 0?e:Array.from(e)}function BA(e,i){let n={},s={},r={$$scope:1},o=e.length;for(;o--;){let t=e[o],a=i[o];if(a){for(let p in t)p in a||(s[p]=1);for(let p in a)r[p]||(n[p]=a[p],r[p]=1);e[o]=a}else for(let p in t)r[p]=1}for(let t in s)t in n||(n[t]=void 0);return n}function VA(e){return typeof e=="object"&&e!==null?e:{}}function $L(e,i,n){let s=e.$$.props[i];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function De(e){e&&e.c()}function Le(e,i,n){let{fragment:s,after_update:r}=e.$$;s&&s.m(i,n),Ec(()=>{let o=e.$$.on_mount.map(BL).filter(oo);e.$$.on_destroy?e.$$.on_destroy.push(...o):ao(o),e.$$.on_mount=[]}),r.forEach(Ec)}function Re(e,i){let n=e.$$;n.fragment!==null&&(ZK(n.after_update),ao(n.on_destroy),n.fragment&&n.fragment.d(i),n.on_destroy=n.fragment=null,n.ctx=[])}function $K(e,i){e.$$.dirty[0]===-1&&(kh.push(e),YK(),e.$$.dirty.fill(0)),e.$$.dirty[i/31|0]|=1<<i%31}function Pt(e,i,n,s,r,o,t,a=[-1]){let p=h1;l1(e);let c=e.$$={fragment:null,ctx:[],props:o,update:nt,not_equal:r,bound:DA(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(p?p.$$.context:[])),callbacks:DA(),dirty:a,skip_bound:!1,root:i.target||p.$$.root};t&&t(c.root);let u=!1;if(c.ctx=n?n(e,i.props||{},(h,l,...d)=>{let v=d.length?d[0]:l;return c.ctx&&r(c.ctx[h],c.ctx[h]=v)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](v),u&&$K(e,h)),l}):[],c.update(),u=!0,ao(c.before_update),c.fragment=s?s(c.ctx):!1,i.target){if(i.hydrate){let h=VK(i.target);c.fragment&&c.fragment.l(h),h.forEach(Me)}else c.fragment&&c.fragment.c();i.intro&&ee(e.$$.fragment),Le(e,i.target,i.anchor),UL()}l1(p)}var Rt=class{$$=void 0;$$set=void 0;$destroy(){Re(this,1),this.$destroy=nt}$on(i,n){if(!oo(n))return nt;let s=this.$$.callbacks[i]||(this.$$.callbacks[i]=[]);return s.push(n),()=>{let r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(i){this.$$set&&!FK(i)&&(this.$$.skip_bound=!0,this.$$set(i),this.$$.skip_bound=!1)}},JK="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(JK);function KK(e){mn(e,"svelte-efme7g","h2.svelte-efme7g{color:var(--body-text-color);font-size:var(--fs-2);font-weight:600;text-align:center;margin:0;margin-block-start:var(--space-xs)}")}function QK(e){let i,n,s=e[1].default,r=as(s,e,e[0],null);return{c(){i=Be("h2"),r&&r.c(),K(i,"class","svelte-efme7g")},m(o,t){we(o,i,t),r&&r.m(i,null),n=!0},p(o,[t]){r&&r.p&&(!n||t&1)&&ls(r,s,o,o[0],n?os(s,o[0],t,null):cs(o[0]),null)},i(o){n||(ee(r,o),n=!0)},o(o){se(r,o),n=!1},d(o){o&&Me(i),r&&r.d(o)}}}function _K(e,i,n){let{$$slots:s={},$$scope:r}=i;return e.$$set=o=>{"$$scope"in o&&n(0,r=o.$$scope)},[r,s]}var Bs=class extends Rt{constructor(i){super(),Pt(this,i,_K,QK,Dt,{},KK)}};function qK(e){mn(e,"svelte-fszb3i","p.svelte-fszb3i{color:var(--body-text-color-variant);font-size:var(--fs-1);font-weight:400;text-align:center;margin:0;overflow-wrap:anywhere}")}function eQ(e){let i,n,s=e[1].default,r=as(s,e,e[0],null);return{c(){i=Be("p"),r&&r.c(),K(i,"class","svelte-fszb3i")},m(o,t){we(o,i,t),r&&r.m(i,null),n=!0},p(o,[t]){r&&r.p&&(!n||t&1)&&ls(r,s,o,o[0],n?os(s,o[0],t,null):cs(o[0]),null)},i(o){n||(ee(r,o),n=!0)},o(o){se(r,o),n=!1},d(o){o&&Me(i),r&&r.d(o)}}}function tQ(e,i,n){let{$$slots:s={},$$scope:r}=i;return e.$$set=o=>{"$$scope"in o&&n(0,r=o.$$scope)},[r,s]}var d1=class extends Rt{constructor(i){super(),Pt(this,i,tQ,eQ,Dt,{},qK)}},nQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-alert-circle"
><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="8" y2="12" /><line
    x1="12"
    x2="12.01"
    y1="16"
    y2="16"
/></svg
>
`,iQ=`<svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"><polyline points="20 6 9 17 4 12" /></svg
>
`,rQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"><polyline points="15 18 9 12 15 6" /></svg
>
`,sQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"><polyline points="9 18 15 12 9 6" /></svg
>
`,aQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></svg
>
`,oQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><rect x="9" y="9" width="13" height="13" rx="2" ry="2" /><path
    d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
/></svg
>
`,lQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-x-octagon"
><polygon
    points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"
/><line x1="15" x2="9" y1="9" y2="15" /><line x1="9" x2="15" y1="9" y2="15" /></svg
>
`,cQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-external-link"
><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline
    points="15 3 21 3 21 9"
/><line x1="10" x2="21" y1="14" y2="3" /></svg
>
`,uQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><polyline points="15 3 21 3 21 9" /><polyline points="9 21 3 21 3 15" /><line
    x1="21"
    y1="3"
    x2="14"
    y2="10"
/><line x1="3" y1="21" x2="10" y2="14" /></svg
>
`,hQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4" /><polyline
    points="14 2 14 8 20 8"
/><path d="m9 18 3-3-3-3" /><path d="m5 12-3 3 3 3" /></svg
>
`,dQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-github"
><path
    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
/><path d="M9 18c-4.51 2-5-2-7-2" /></svg
>
`,fQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-globe"
><circle cx="12" cy="12" r="10" /><line x1="2" x2="22" y1="12" y2="12" /><path
    d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
/></svg
>
`,pQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-info"
><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="16" y2="12" /><line
    x1="12"
    x2="12.01"
    y1="8"
    y2="8"
/></svg
>
`,vQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" /><polyline
    points="10 17 15 12 10 7"
/><line x1="15" y1="12" x2="3" y2="12" /></svg
>
`,gQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-settings-2"
><path d="M20 7h-9" /><path d="M14 17H5" /><circle cx="17" cy="17" r="3" /><circle
    cx="7"
    cy="7"
    r="3"
/></svg
>
`,mQ=`<svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="lucide lucide-radio"
    ><path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9" /><path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5" /><circle
        cx="12"
        cy="12"
        r="2"
    /><path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5" /><path d="M19.1 4.9C23 8.8 23 15.1 19.1 19" /></svg
>
`,yQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-sun-moon"
><path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" /><path d="M12 8a2.828 2.828 0 1 0 4 4" /><path
    d="M12 2v2"
/><path d="M12 20v2" /><path d="m4.93 4.93 1.41 1.41" /><path d="m17.66 17.66 1.41 1.41" /><path
    d="M2 12h2"
/><path d="M20 12h2" /><path d="m6.34 17.66-1.41 1.41" /><path d="m19.07 4.93-1.41 1.41" /></svg
>
`,xQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4" /><path
    d="M4 6v12c0 1.1.9 2 2 2h14v-4"
/><path d="M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z" /></svg
>
`,bQ=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-waves"
><path
    d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/><path
    d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/><path
    d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/></svg
>
`,MQ=`<svg width="36" height="31" fill="none" xmlns="http://www.w3.org/2000/svg"
><path
    d="M35.54 18.77c-.019.989-.673 1.676-1.319 2.048l-1.388.802c-.663.383-1.438.531-2.132.531-.695 0-1.47-.148-2.132-.531l-1.362-.802v2.722c0 1.008-.664 1.711-1.318 2.089l-1.389.801c-.663.383-1.437.531-2.132.531-.694 0-1.469-.148-2.131-.53l-2.035-1.175-2.034 1.174c-.663.383-1.438.531-2.132.531-.694 0-1.469-.148-2.131-.53l-9.722-5.613c-.645-.372-1.3-1.06-1.317-2.049v-.061 3.626c.018.989.672 1.676 1.317 2.049l9.722 5.612c.662.382 1.437.53 2.131.53.694 0 1.47-.148 2.132-.53l2.034-1.175 2.035 1.175c.662.382 1.437.53 2.131.53.695 0 1.47-.148 2.132-.53l1.389-.802c.654-.378 1.318-1.08 1.318-2.088v-2.722l1.362.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05V18.77Z"
    fill="#7BE7CE"
/><path
    d="M.874 15.362a1.5 1.5 0 0 0-.009.161v3.246c.019.99.673 1.677 1.318 2.05l9.722 5.612c.662.382 1.437.53 2.131.53.694 0 1.47-.148 2.132-.53l2.034-1.175 2.035 1.175c.662.382 1.437.53 2.131.53.695 0 1.47-.148 2.132-.53l1.389-.802c.654-.378 1.318-1.08 1.318-2.089V20.82l1.362.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05v-3.564c-.018.99-.672 1.677-1.318 2.049l-1.388.802c-.663.382-1.438.53-2.132.53-.695 0-1.47-.148-2.132-.53l-1.388-.802a2.943 2.943 0 0 1-.067-.04 2.168 2.168 0 0 1 .085.834c.005.05.008.101.008.152v1.776c0 1.008-.664 1.71-1.318 2.088l-1.389.802c-.663.383-1.437.531-2.132.531-.694 0-1.469-.148-2.131-.53l-2.035-1.175-2.034 1.174c-.663.383-1.438.531-2.132.531-.694 0-1.469-.148-2.131-.53l-9.722-5.613c-.61-.352-1.229-.987-1.31-1.892ZM17.54 5.749l.004.043c.07.6.368 1.074.74 1.424a4.94 4.94 0 0 0-.75.045V5.875c0-.043.002-.085.006-.126Z"
    fill="#B2F2E1"
/><path
    d="m3.573 10.152-1.389.801c-.618.358-1.246 1.006-1.312 1.928a1.364 1.364 0 0 0-.007.136V15.204c.019.99.673 1.677 1.318 2.05l9.722 5.611c.662.383 1.437.532 2.131.532.694 0 1.47-.149 2.132-.532l2.034-1.174 2.035 1.174c.662.383 1.437.532 2.131.532.695 0 1.47-.149 2.132-.532l1.389-.801c.654-.378 1.318-1.08 1.318-2.089v-1.775c0-.052-.003-.102-.008-.153a2.25 2.25 0 0 0-.085-.833l.067.04 1.388.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05v-2.092a2.359 2.359 0 0 0 0-.142V8.29l.001-.058c0-1.009-.664-1.711-1.318-2.089L24.501.531C23.838.15 23.064 0 22.369 0c-.694 0-1.469.149-2.131.531l-1.389.802c-.654.377-1.318 1.08-1.318 2.088 0 .048.001.095.004.14v1.847a2.069 2.069 0 0 0 .01.385c.069.6.367 1.073.739 1.423h-.08c-.695 0-1.47.148-2.133.53l-1.388.802c-.654.378-1.318 1.08-1.318 2.089 0 .065.002.13.008.193a1.485 1.485 0 0 0-.002.073v1.682l-.003.041-.002.045a2.298 2.298 0 0 0 .021.405c.017.112.041.22.072.322l-5.623-3.246C7.174 9.769 6.4 9.62 5.705 9.62c-.695 0-1.47.148-2.132.53Z"
    fill="#F4FAF4"
/><path
    d="M23.758 1.818c-.767-.442-2.01-.442-2.778 0l-1.389.802c-.766.443-.766 1.16 0 1.604l9.553 5.514c.369.213.575.501.575.802v.195c0 .3-.207.589-.575.801l-1.22.705c-.767.443-.767 1.16 0 1.603l1.389.802c.767.443 2.01.443 2.777 0l1.389-.802c.767-.443.767-1.16 0-1.603l-1.22-.705c-.369-.212-.576-.5-.576-.801v-.195c0-.3.207-.59.576-.802l1.22-.704c.767-.443.767-1.16 0-1.604l-9.721-5.612ZM7.093 11.439c-.767-.443-2.01-.443-2.777 0l-1.39.802c-.766.443-.766 1.16 0 1.603l9.722 5.612c.767.443 2.01.443 2.777 0l2.778-1.603-11.11-6.414Z"
    fill="#494E62"
/><path
    d="M23.351 15.545c0 .3.207.589.575.801l1.22.705c.767.443.767 1.16 0 1.603l-1.388.802c-.767.443-2.01.443-2.778 0l-2.777-1.603 2.609-1.507c.368-.212.575-.5.575-.801v-.195c0-.3-.207-.589-.575-.801l-5.387-3.11c-.767-.443-.767-1.16 0-1.603l1.39-.802c.766-.443 2.01-.443 2.776 0l5.555 3.207c.767.443.767 1.16 0 1.603l-1.22.705c-.368.212-.575.5-.575.801v.195Z"
    fill="#494E62"
/></svg
>
`,Nb={copy:oQ,check:iQ,close:aQ,"file-code":hQ,wharf:MQ,login:vQ,"chevron-right":sQ,"chevron-left":rQ,wallet:xQ,expand:uQ,signal:mQ,settings:gQ,globe:fQ,github:dQ,info:pQ,theme:yQ,waves:bQ,"external-link":cQ,error:lQ,alert:nQ};function CQ(e){mn(e,"svelte-19w48ux","div.svelte-19w48ux svg{width:100%;height:100%}")}function wQ(e){let i,n=Nb[e[0]]+"";return{c(){i=Be("div"),kn(i,"width",e[1]),kn(i,"display","grid"),kn(i,"place-content","center"),kn(i,"color",e[2]),K(i,"class","svelte-19w48ux")},m(s,r){we(s,i,r),i.innerHTML=n},p(s,[r]){r&1&&n!==(n=Nb[s[0]]+"")&&(i.innerHTML=n),r&2&&kn(i,"width",s[1]),r&4&&kn(i,"color",s[2])},i:nt,o:nt,d(s){s&&Me(i)}}}function SQ(e,i,n){let{name:s}=i,{size:r="var(--space-l)"}=i,{color:o="currentColor"}=i;return e.$$set=t=>{"name"in t&&n(0,s=t.name),"size"in t&&n(1,r=t.size),"color"in t&&n(2,o=t.color)},[s,r,o]}var _i=class extends Rt{constructor(i){super(),Pt(this,i,SQ,wQ,Dt,{name:0,size:1,color:2},CQ)}};function IQ(e){mn(e,"svelte-1u0n4gl","div.svelte-1u0n4gl{display:grid;justify-items:center;gap:var(--space-s);text-align:center;color:var(--body-text-color);margin-block:var(--space-s)}")}function GA(e){let i,n;return i=new _i({props:{name:e[2],size:"var(--space-3xl)",color:e[3]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&4&&(o.name=s[2]),r&8&&(o.color=s[3]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function zA(e){let i,n;return i=new Bs({props:{$$slots:{default:[kQ]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&17&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function kQ(e){let i;return{c(){i=qt(e[0])},m(n,s){we(n,i,s)},p(n,s){s&1&&on(i,n[0])},d(n){n&&Me(i)}}}function WA(e){let i,n;return i=new d1({props:{$$slots:{default:[TQ]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&18&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function TQ(e){let i;return{c(){i=qt(e[1])},m(n,s){we(n,i,s)},p(n,s){s&2&&on(i,n[1])},d(n){n&&Me(i)}}}function EQ(e){let i,n,s,r,o=e[2]&&GA(e),t=e[0]&&zA(e),a=e[1]&&WA(e);return{c(){i=Be("div"),o&&o.c(),n=at(),t&&t.c(),s=at(),a&&a.c(),K(i,"class","svelte-1u0n4gl")},m(p,c){we(p,i,c),o&&o.m(i,null),me(i,n),t&&t.m(i,null),me(i,s),a&&a.m(i,null),r=!0},p(p,[c]){p[2]?o?(o.p(p,c),c&4&&ee(o,1)):(o=GA(p),o.c(),ee(o,1),o.m(i,n)):o&&(Xt(),se(o,1,1,()=>{o=null}),$t()),p[0]?t?(t.p(p,c),c&1&&ee(t,1)):(t=zA(p),t.c(),ee(t,1),t.m(i,s)):t&&(Xt(),se(t,1,1,()=>{t=null}),$t()),p[1]?a?(a.p(p,c),c&2&&ee(a,1)):(a=WA(p),a.c(),ee(a,1),a.m(i,null)):a&&(Xt(),se(a,1,1,()=>{a=null}),$t())},i(p){r||(ee(o),ee(t),ee(a),r=!0)},o(p){se(o),se(t),se(a),r=!1},d(p){p&&Me(i),o&&o.d(),t&&t.d(),a&&a.d()}}}function AQ(e,i,n){let{title:s=void 0}=i,{details:r=void 0}=i,{icon:o=void 0}=i,{iconColor:t="currentColor"}=i;return e.$$set=a=>{"title"in a&&n(0,s=a.title),"details"in a&&n(1,r=a.details),"icon"in a&&n(2,o=a.icon),"iconColor"in a&&n(3,t=a.iconColor)},[s,r,o,t]}var Kv=class extends Rt{constructor(i){super(),Pt(this,i,AQ,EQ,Dt,{title:0,details:1,icon:2,iconColor:3},IQ)}};function LQ(e){let i,n;return i=new Kv({props:{title:e[0],details:e[1],icon:"error",iconColor:"var(--color-error-2)"}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,[r]){let o={};r&1&&(o.title=s[0]),r&2&&(o.details=s[1]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function RQ(e,i,n){let{title:s}=i,{details:r}=i;return e.$$set=o=>{"title"in o&&n(0,s=o.title),"details"in o&&n(1,r=o.details)},[s,r]}var Bb=class extends Rt{constructor(i){super(),Pt(this,i,RQ,LQ,Dt,{title:0,details:1})}},Ih=[];function DQ(e,i){return{subscribe:hn(e,i).subscribe}}function hn(e,i=nt){let n,s=new Set;function r(a){if(Dt(e,a)&&(e=a,n)){let p=!Ih.length;for(let c of s)c[1](),Ih.push(c,e);if(p){for(let c=0;c<Ih.length;c+=2)Ih[c][0](Ih[c+1]);Ih.length=0}}}function o(a){r(a(e))}function t(a,p=nt){let c=[a,p];return s.add(c),s.size===1&&(n=i(r,o)||nt),a(e),()=>{s.delete(c),s.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:t}}function Qi(e,i,n){let s=!Array.isArray(e),r=s?[e]:e;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");let o=i.length<2;return DQ(n,(t,a)=>{let p=!1,c=[],u=0,h=nt,l=()=>{if(u)return;h();let v=i(s?c[0]:c,t,a);o?t(v):h=oo(v)?v:nt},d=r.map((v,f)=>f6(v,g=>{c[f]=g,u&=~(1<<f),p&&l()},()=>{u|=1<<f}));return p=!0,l(),function(){ao(d),h(),p=!1}})}function Zv(){Ki.set(!1),Pr.set(q({},KL)),Ci.set(q({},JL)),dl.reset(),x6.set([]),PQ.set(void 0),ul.set(void 0),b6.set(void 0),Ai.set(q({},_L)),Tc.set(void 0),M6.set(void 0),Ps.set(q({},qL)),y1.set(void 0),hi.set(void 0),di.set(void 0)}var Ki=hn(!1),Qv=hn(!1),OQ={language:"",theme:void 0,animations:!0};function FQ(e=OQ){let i=hn(e),{subscribe:n,set:s}=i,r;return typeof localStorage<"u"&&(r=new s1("web.renderer"),r.read("settings").then(o=>{o&&s(JSON.parse(o))})),{subscribe:n,set:o=>{r&&r.write("settings",JSON.stringify(o)),s(o)},update:o=>{let t=o(xn(i));r&&r.write("settings",JSON.stringify(t)),s(t)}}}var us=FQ(),JL={title:"Wharf",subtitle:"Status Message"},Ci=hn(JL),KL={path:"",history:[]},QL=()=>{let{set:e,subscribe:i,update:n}=hn(KL);return{back:()=>n(s=>Se(q({},s),{path:s.history[s.history.length-1],history:s.history.slice(0,-1)})),push:s=>n(r=>Se(q({},r),{path:s,history:[...r.history,r.path]})),set:e,subscribe:i,update:n}},Pr=QL(),x6=hn([]),PQ=hn(void 0),NQ=()=>{let{set:e,subscribe:i,update:n}=hn(void 0);return{reset:()=>e(void 0),set:e,subscribe:i,update:n}},dl=NQ(),_L={chainId:void 0,permissionLevel:void 0,walletPluginIndex:void 0},ul=hn(void 0),b6=hn(void 0),Ai=hn(q({},_L)),qL={chain:void 0,pluginId:void 0},Tc=hn(void 0),Ps=hn(q({},qL)),M6=hn(void 0),y1=hn(void 0),hi=hn(void 0),di=hn(void 0);function HA(e){let i,n;return i=new Bb({props:{title:e[1]("error.title",{default:"Error"}),details:e[0]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&2&&(o.title=s[1]("error.title",{default:"Error"})),r&1&&(o.details=s[0]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function BQ(e){let i,n,s=e[0]&&HA(e);return{c(){i=Be("div"),s&&s.c(),K(i,"class","error")},m(r,o){we(r,i,o),s&&s.m(i,null),n=!0},p(r,[o]){r[0]?s?(s.p(r,o),o&1&&ee(s,1)):(s=HA(r),s.c(),ee(s,1),s.m(i,null)):s&&(Xt(),se(s,1,1,()=>{s=null}),$t())},i(r){n||(ee(s),n=!0)},o(r){se(s),n=!1},d(r){r&&Me(i),s&&s.d()}}}function VQ(e,i,n){let s,r;ut(e,y1,t=>n(0,s=t));let{t:o}=lo("i18n");return ut(e,o,t=>n(1,r=t)),[s,r,o]}var Vb=class extends Rt{constructor(i){super(),Pt(this,i,VQ,BQ,Dt,{})}};function GQ(e){mn(e,"svelte-1q25md2","ul.svelte-1q25md2{list-style:none;padding:0;margin:0}")}function zQ(e){let i,n,s=e[1].default,r=as(s,e,e[0],null);return{c(){i=Be("ul"),r&&r.c(),K(i,"class","svelte-1q25md2")},m(o,t){we(o,i,t),r&&r.m(i,null),n=!0},p(o,[t]){r&&r.p&&(!n||t&1)&&ls(r,s,o,o[0],n?os(s,o[0],t,null):cs(o[0]),null)},i(o){n||(ee(r,o),n=!0)},o(o){se(r,o),n=!1},d(o){o&&Me(i),r&&r.d(o)}}}function WQ(e,i,n){let{$$slots:s={},$$scope:r}=i;return e.$$set=o=>{"$$scope"in o&&n(0,r=o.$$scope)},[r,s]}var pl=class extends Rt{constructor(i){super(),Pt(this,i,WQ,zQ,Dt,{},GQ)}};function HQ(e){mn(e,"svelte-1w5zc52","li.svelte-1w5zc52.svelte-1w5zc52{display:flex;height:calc(var(--space-l) * 2);align-items:center;color:var(--body-text-color);font-size:var(--fs-1);font-weight:500}li.svelte-1w5zc52.svelte-1w5zc52:not(:last-child){border-bottom:1px solid var(--list-divider-color)}button.svelte-1w5zc52.svelte-1w5zc52,a.svelte-1w5zc52.svelte-1w5zc52{flex:1;height:100%;display:flex;align-items:center;cursor:pointer;border:none;background:none;color:inherit;font-size:inherit;font-family:inherit;font-weight:inherit;margin:0;padding:0;padding-inline-start:var(--space-3xs);text-decoration:none}.leading.svelte-1w5zc52.svelte-1w5zc52{inline-size:var(--space-xl);block-size:var(--space-xl);display:grid;place-content:center}.leading.svelte-1w5zc52>.svelte-1w5zc52{max-inline-size:30px;max-block-size:30px}.leading.svelte-1w5zc52 img.svelte-1w5zc52{width:100%;height:100%;object-fit:contain}.trailing.svelte-1w5zc52.svelte-1w5zc52{opacity:0.2;padding-inline-end:var(--space-s)}li.svelte-1w5zc52.svelte-1w5zc52:hover{background:var(--list-item-background-color-hover)}li.svelte-1w5zc52:hover .trailing.svelte-1w5zc52{opacity:1}.label.svelte-1w5zc52.svelte-1w5zc52{flex:1;text-align:start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-inline-start:var(--space-xs)}.value.svelte-1w5zc52.svelte-1w5zc52{font-weight:400;padding-inline-end:var(--space-xs)}")}function jQ(e){let i,n,s,r,o,t,a,p,c,u,h=[ZQ,UQ],l=[];function d(g,m){return g[4]?0:g[2]?1:-1}~(s=d(e))&&(r=l[s]=h[s](e));let v=e[5]&&jA(e),f=e[3]&&YA(e);return{c(){i=Be("a"),n=Be("div"),r&&r.c(),o=at(),t=Be("span"),a=qt(e[0]),p=at(),v&&v.c(),c=at(),f&&f.c(),K(n,"class","leading svelte-1w5zc52"),K(t,"class","label svelte-1w5zc52"),K(i,"href",e[6]),K(i,"target","_blank"),K(i,"rel","noreferrer"),K(i,"class","svelte-1w5zc52")},m(g,m){we(g,i,m),me(i,n),~s&&l[s].m(n,null),me(i,o),me(i,t),me(t,a),me(i,p),v&&v.m(i,null),me(i,c),f&&f.m(i,null),u=!0},p(g,m){let x=s;s=d(g),s===x?~s&&l[s].p(g,m):(r&&(Xt(),se(l[x],1,1,()=>{l[x]=null}),$t()),~s?(r=l[s],r?r.p(g,m):(r=l[s]=h[s](g),r.c()),ee(r,1),r.m(n,null)):r=null),(!u||m&1)&&on(a,g[0]),g[5]?v?v.p(g,m):(v=jA(g),v.c(),v.m(i,c)):v&&(v.d(1),v=null),g[3]?f?(f.p(g,m),m&8&&ee(f,1)):(f=YA(g),f.c(),ee(f,1),f.m(i,null)):f&&(Xt(),se(f,1,1,()=>{f=null}),$t()),(!u||m&64)&&K(i,"href",g[6])},i(g){u||(ee(r),ee(f),u=!0)},o(g){se(r),se(f),u=!1},d(g){g&&Me(i),~s&&l[s].d(),v&&v.d(),f&&f.d()}}}function YQ(e){let i,n,s,r,o,t,a,p,c,u,h,l,d=[$Q,XQ],v=[];function f(x,y){return x[4]?0:x[2]?1:-1}~(s=f(e))&&(r=v[s]=d[s](e));let g=e[5]&&UA(e),m=e[3]&&ZA(e);return{c(){i=Be("button"),n=Be("div"),r&&r.c(),o=at(),t=Be("span"),a=qt(e[0]),p=at(),g&&g.c(),c=at(),m&&m.c(),K(n,"class","leading svelte-1w5zc52"),K(t,"class","label svelte-1w5zc52"),K(i,"class","svelte-1w5zc52")},m(x,y){we(x,i,y),me(i,n),~s&&v[s].m(n,null),me(i,o),me(i,t),me(t,a),me(i,p),g&&g.m(i,null),me(i,c),m&&m.m(i,null),u=!0,h||(l=Sr(i,"click",function(){oo(e[1])&&e[1].apply(this,arguments)}),h=!0)},p(x,y){e=x;let b=s;s=f(e),s===b?~s&&v[s].p(e,y):(r&&(Xt(),se(v[b],1,1,()=>{v[b]=null}),$t()),~s?(r=v[s],r?r.p(e,y):(r=v[s]=d[s](e),r.c()),ee(r,1),r.m(n,null)):r=null),(!u||y&1)&&on(a,e[0]),e[5]?g?g.p(e,y):(g=UA(e),g.c(),g.m(i,c)):g&&(g.d(1),g=null),e[3]?m?(m.p(e,y),y&8&&ee(m,1)):(m=ZA(e),m.c(),ee(m,1),m.m(i,null)):m&&(Xt(),se(m,1,1,()=>{m=null}),$t())},i(x){u||(ee(r),ee(m),u=!0)},o(x){se(r),se(m),u=!1},d(x){x&&Me(i),~s&&v[s].d(),g&&g.d(),m&&m.d(),h=!1,l()}}}function UQ(e){let i,n,s;return n=new _i({props:{name:e[2]}}),{c(){i=Be("div"),De(n.$$.fragment),K(i,"class","icon svelte-1w5zc52")},m(r,o){we(r,i,o),Le(n,i,null),s=!0},p(r,o){let t={};o&4&&(t.name=r[2]),n.$set(t)},i(r){s||(ee(n.$$.fragment,r),s=!0)},o(r){se(n.$$.fragment,r),s=!1},d(r){r&&Me(i),Re(n)}}}function ZQ(e){let i,n,s,r;return{c(){i=Be("div"),n=Be("img"),u1(n.src,s=e[4])||K(n,"src",s),K(n,"alt",r=`${e[0]} logo`),K(n,"class","svelte-1w5zc52"),K(i,"class","logo svelte-1w5zc52")},m(o,t){we(o,i,t),me(i,n)},p(o,t){t&16&&!u1(n.src,s=o[4])&&K(n,"src",s),t&1&&r!==(r=`${o[0]} logo`)&&K(n,"alt",r)},i:nt,o:nt,d(o){o&&Me(i)}}}function jA(e){let i,n;return{c(){i=Be("span"),n=qt(e[5]),K(i,"class","value svelte-1w5zc52")},m(s,r){we(s,i,r),me(i,n)},p(s,r){r&32&&on(n,s[5])},d(s){s&&Me(i)}}}function YA(e){let i,n,s;return n=new _i({props:{name:e[3]}}),{c(){i=Be("div"),De(n.$$.fragment),K(i,"class","trailing svelte-1w5zc52")},m(r,o){we(r,i,o),Le(n,i,null),s=!0},p(r,o){let t={};o&8&&(t.name=r[3]),n.$set(t)},i(r){s||(ee(n.$$.fragment,r),s=!0)},o(r){se(n.$$.fragment,r),s=!1},d(r){r&&Me(i),Re(n)}}}function XQ(e){let i,n,s;return n=new _i({props:{name:e[2]}}),{c(){i=Be("div"),De(n.$$.fragment),K(i,"class","icon svelte-1w5zc52")},m(r,o){we(r,i,o),Le(n,i,null),s=!0},p(r,o){let t={};o&4&&(t.name=r[2]),n.$set(t)},i(r){s||(ee(n.$$.fragment,r),s=!0)},o(r){se(n.$$.fragment,r),s=!1},d(r){r&&Me(i),Re(n)}}}function $Q(e){let i,n,s,r;return{c(){i=Be("div"),n=Be("img"),u1(n.src,s=e[4])||K(n,"src",s),K(n,"alt",r=`${e[0]} logo`),K(n,"class","svelte-1w5zc52"),K(i,"class","logo svelte-1w5zc52")},m(o,t){we(o,i,t),me(i,n)},p(o,t){t&16&&!u1(n.src,s=o[4])&&K(n,"src",s),t&1&&r!==(r=`${o[0]} logo`)&&K(n,"alt",r)},i:nt,o:nt,d(o){o&&Me(i)}}}function UA(e){let i,n;return{c(){i=Be("span"),n=qt(e[5]),K(i,"class","value svelte-1w5zc52")},m(s,r){we(s,i,r),me(i,n)},p(s,r){r&32&&on(n,s[5])},d(s){s&&Me(i)}}}function ZA(e){let i,n,s;return n=new _i({props:{name:e[3]}}),{c(){i=Be("div"),De(n.$$.fragment),K(i,"class","trailing svelte-1w5zc52")},m(r,o){we(r,i,o),Le(n,i,null),s=!0},p(r,o){let t={};o&8&&(t.name=r[3]),n.$set(t)},i(r){s||(ee(n.$$.fragment,r),s=!0)},o(r){se(n.$$.fragment,r),s=!1},d(r){r&&Me(i),Re(n)}}}function JQ(e){let i,n,s,r,o=[YQ,jQ],t=[];function a(p,c){return p[6]?1:0}return i=a(e),n=t[i]=o[i](e),{c(){n.c(),s=Dn()},m(p,c){t[i].m(p,c),we(p,s,c),r=!0},p(p,c){let u=i;i=a(p),i===u?t[i].p(p,c):(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t(),n=t[i],n?n.p(p,c):(n=t[i]=o[i](p),n.c()),ee(n,1),n.m(s.parentNode,s))},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),t[i].d(p)}}}function KQ(e){let i,n,s=e[8].default,r=as(s,e,e[7],null),o=r||JQ(e);return{c(){i=Be("li"),o&&o.c(),K(i,"class","svelte-1w5zc52")},m(t,a){we(t,i,a),o&&o.m(i,null),n=!0},p(t,[a]){r?r.p&&(!n||a&128)&&ls(r,s,t,t[7],n?os(s,t[7],a,null):cs(t[7]),null):o&&o.p&&(!n||a&127)&&o.p(t,n?a:-1)},i(t){n||(ee(o,t),n=!0)},o(t){se(o,t),n=!1},d(t){t&&Me(i),o&&o.d(t)}}}function QQ(e,i,n){let{$$slots:s={},$$scope:r}=i,{label:o=void 0}=i,{onClick:t=()=>{}}=i,{leadingIcon:a=void 0}=i,{trailingIcon:p="chevron-right"}=i,{logo:c=void 0}=i,{value:u=void 0}=i,{link:h=void 0}=i;return e.$$set=l=>{"label"in l&&n(0,o=l.label),"onClick"in l&&n(1,t=l.onClick),"leadingIcon"in l&&n(2,a=l.leadingIcon),"trailingIcon"in l&&n(3,p=l.trailingIcon),"logo"in l&&n(4,c=l.logo),"value"in l&&n(5,u=l.value),"link"in l&&n(6,h=l.link),"$$scope"in l&&n(7,r=l.$$scope)},[o,t,a,p,c,u,h,r,s]}var ss=class extends Rt{constructor(i){super(),Pt(this,i,QQ,KQ,Dt,{label:0,onClick:1,leadingIcon:2,trailingIcon:3,logo:4,value:5,link:6},HQ)}};function eR(e){return e.startsWith("http://")||e.startsWith("https://")}function tR(e){return e.startsWith("data:image/")}function _Q(e){return e in Nb}function Lh(e){let{name:i,logo:n}=e,{theme:s}=xn(us),r=s==="light"?"dark":"light";if(s||(window.matchMedia("(prefers-color-scheme: dark)").matches?s="dark":s="light"),!n){if("getLogo"in e)return e.getLogo()?.[s]??e.getLogo()?.[r];console.warn(`${i} does not have a logo.`);return}let o=n[s]??n[r];if(!eR(o.toString())&&!tR(o.toString())){console.warn(`${i} ${s} logo is not a supported image format.`);return}return o}function qQ(e){mn(e,"svelte-1d8fcdl","section.svelte-1d8fcdl{display:flex;flex-direction:column;gap:var(--space-s)}")}function XA(e,i,n){let s=e.slice();return s[4]=i[n],s}function $A(e){let i,n,s,r,o;return n=new Bs({props:{$$slots:{default:[e_]},$$scope:{ctx:e}}}),r=new pl({props:{$$slots:{default:[t_]},$$scope:{ctx:e}}}),{c(){i=Be("section"),De(n.$$.fragment),s=at(),De(r.$$.fragment),K(i,"class","svelte-1d8fcdl")},m(t,a){we(t,i,a),Le(n,i,null),me(i,s),Le(r,i,null),o=!0},p(t,a){let p={};a&130&&(p.$$scope={dirty:a,ctx:t}),n.$set(p);let c={};a&129&&(c.$$scope={dirty:a,ctx:t}),r.$set(c)},i(t){o||(ee(n.$$.fragment,t),ee(r.$$.fragment,t),o=!0)},o(t){se(n.$$.fragment,t),se(r.$$.fragment,t),o=!1},d(t){t&&Me(i),Re(n),Re(r)}}}function e_(e){let i;return{c(){i=qt(e[1])},m(n,s){we(n,i,s)},p(n,s){s&2&&on(i,n[1])},d(n){n&&Me(i)}}}function JA(e){let i,n;function s(){return e[3](e[4])}return i=new ss({props:{label:e[4].name,onClick:s,leadingIcon:"wharf",logo:Lh(e[4])}}),{c(){De(i.$$.fragment)},m(r,o){Le(i,r,o),n=!0},p(r,o){e=r;let t={};o&1&&(t.label=e[4].name),o&1&&(t.onClick=s),o&1&&(t.logo=Lh(e[4])),i.$set(t)},i(r){n||(ee(i.$$.fragment,r),n=!0)},o(r){se(i.$$.fragment,r),n=!1},d(r){Re(i,r)}}}function t_(e){let i,n,s=hs(e[0]),r=[];for(let t=0;t<s.length;t+=1)r[t]=JA(XA(e,s,t));let o=t=>se(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();i=Dn()},m(t,a){for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(t,a);we(t,i,a),n=!0},p(t,a){if(a&5){s=hs(t[0]);let p;for(p=0;p<s.length;p+=1){let c=XA(t,s,p);r[p]?(r[p].p(c,a),ee(r[p],1)):(r[p]=JA(c),r[p].c(),ee(r[p],1),r[p].m(i.parentNode,i))}for(Xt(),p=s.length;p<r.length;p+=1)o(p);$t()}},i(t){if(!n){for(let a=0;a<s.length;a+=1)ee(r[a]);n=!0}},o(t){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)se(r[a]);n=!1},d(t){t&&Me(i),Dh(r,t)}}}function n_(e){let i,n,s=e[0]&&$A(e);return{c(){s&&s.c(),i=Dn()},m(r,o){s&&s.m(r,o),we(r,i,o),n=!0},p(r,[o]){r[0]?s?(s.p(r,o),o&1&&ee(s,1)):(s=$A(r),s.c(),ee(s,1),s.m(i.parentNode,i)):s&&(Xt(),se(s,1,1,()=>{s=null}),$t())},i(r){n||(ee(s),n=!0)},o(r){se(s),n=!1},d(r){r&&Me(i),s&&s.d(r)}}}function i_(e,i,n){let{chains:s}=i,{title:r}=i,o=Vs(),t=a=>o("select",a.id);return e.$$set=a=>{"chains"in a&&n(0,s=a.chains),"title"in a&&n(1,r=a.title)},[s,r,o,t]}var _v=class extends Rt{constructor(i){super(),Pt(this,i,i_,n_,Dt,{chains:0,title:1},qQ)}};function r_(e){mn(e,"svelte-hwtk1p",".button.svelte-hwtk1p{--button-height:var(--space-2xl);cursor:pointer;display:flex;justify-content:center;align-items:center;gap:var(--space-2xs);height:var(--button-height);line-height:var(--button-height);text-decoration:none;text-align:center;border-radius:var(--border-radius-inner);font-size:var(--fs-1);font-weight:600;color:var(--button-color, var(--button-text-color));background:var(--button-background, var(--button-primary-background));border:none;box-shadow:var(--button-outline);flex:1}.button.svelte-hwtk1p:hover{background:var(--button-background-hover, var(--button-primary-background-hover));box-shadow:var(--button-outline-hover, var(--button-primary-outline-hover))}.button.svelte-hwtk1p:active{background:var(--button-background-active, var(--button-primary-background-active));box-shadow:var(--button-outline-active);color:var(--button-text-color-active)}.secondary.svelte-hwtk1p{--button-background:var(--button-secondary-background);--button-background-hover:var(--button-secondary-background-hover);--button-background-active:var(--button-secondary-background-active);--button-outline-hover:var(--button-secondary-outline-hover)}.outlined.svelte-hwtk1p{--button-background:transparent;--button-background-hover:transparent;--button-background-active:var(--button-outlined-background-active);--button-outline:var(--button-outlined-outline);--button-outline-hover:var(--button-outlined-outline-hover)}")}function s_(e){let i,n;return i=new _i({props:{name:e[1]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function a_(e){let i,n,s,r,o,t,a=e[1]&&s_(e);return{c(){i=Be("button"),a&&a.c(),n=at(),s=Be("span"),s.textContent=`${e[0]}`,K(i,"class","button "+e[3]+" svelte-hwtk1p"),i.autofocus=e[4]},m(p,c){we(p,i,c),a&&a.m(i,null),me(i,n),me(i,s),r=!0,e[4]&&i.focus(),o||(t=Sr(i,"click",e[2]),o=!0)},p(p,[c]){p[1]&&a.p(p,c)},i(p){r||(ee(a),r=!0)},o(p){se(a),r=!1},d(p){p&&Me(i),a&&a.d(),o=!1,t()}}}function o_(e,i,n){let{data:s}=i,{label:r,icon:o,onClick:t,variant:a="primary",autofocus:p}=s;return e.$$set=c=>{"data"in c&&n(5,s=c.data)},[r,o,t,a,p,s]}var Rh=class extends Rt{constructor(i){super(),Pt(this,i,o_,a_,Dt,{data:5},r_)}};function l_(e){mn(e,"svelte-3b7p6","input.svelte-3b7p6{box-sizing:border-box;height:var(--space-2xl);border-radius:var(--border-radius-inner);border:1px solid var(--input-border-color);padding-inline:var(--space-m);color:var(--body-text-color);background-color:var(--body-background-color);font-size:var(--fs-1)}input.svelte-3b7p6::placeholder{font-size:var(--fs-1);color:var(--input-placeholder-color);font-style:italic}input.svelte-3b7p6:hover{border:1px solid transparent;outline:2px solid var(--input-border-color-hover);background-color:var(--input-background-focus)}input.svelte-3b7p6:focus-within{border:1px solid transparent;outline:2px solid var(--input-border-color-focus);background-color:var(--input-background-focus)}input.error.svelte-3b7p6{border:1px solid var(--error-color);color:var(--error-color)}input.error.svelte-3b7p6:focus-within{border:1px solid transparent;color:var(--body-text-color)}")}function c_(e){let i,n,s;return{c(){i=Be("input"),i.autofocus=e[3],K(i,"type","text"),K(i,"placeholder",e[1]),K(i,"class","svelte-3b7p6"),hl(i,"error",e[4])},m(r,o){we(r,i,o),FA(i,e[0]),e[3]&&i.focus(),n||(s=[Sr(i,"keyup",y6(function(){oo(e[2])&&e[2].apply(this,arguments)})),Sr(i,"input",e[5])],n=!0)},p(r,[o]){e=r,o&8&&(i.autofocus=e[3]),o&2&&K(i,"placeholder",e[1]),o&1&&i.value!==e[0]&&FA(i,e[0]),o&16&&hl(i,"error",e[4])},i:nt,o:nt,d(r){r&&Me(i),n=!1,ao(s)}}}function u_(e,i,n){let{value:s}=i,{placeholder:r}=i,{onKeyup:o}=i,{autofocus:t=!1}=i,{error:a=!1}=i;function p(){s=this.value,n(0,s)}return e.$$set=c=>{"value"in c&&n(0,s=c.value),"placeholder"in c&&n(1,r=c.placeholder),"onKeyup"in c&&n(2,o=c.onKeyup),"autofocus"in c&&n(3,t=c.autofocus),"error"in c&&n(4,a=c.error)},[s,r,o,t,a,p]}var Gb=class extends Rt{constructor(i){super(),Pt(this,i,u_,c_,Dt,{value:0,placeholder:1,onKeyup:2,autofocus:3,error:4},l_)}};function h_(e){let i,n;return i=new Kv({props:{title:e[0],details:e[1],icon:"alert"}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,[r]){let o={};r&1&&(o.title=s[0]),r&2&&(o.details=s[1]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function d_(e,i,n){let{title:s}=i,{details:r}=i;return e.$$set=o=>{"title"in o&&n(0,s=o.title),"details"in o&&n(1,r=o.details)},[s,r]}var zb=class extends Rt{constructor(i){super(),Pt(this,i,d_,h_,Dt,{title:0,details:1})}};function f_(e){mn(e,"svelte-13p224c","section.svelte-13p224c{display:flex;flex-direction:column;gap:var(--space-s)}p.loading.svelte-13p224c{margin:0;text-align:center;height:var(--space-4xl)}p.error.svelte-13p224c{margin:0;text-align:center;color:var(--error-color)}.input-group.svelte-13p224c{display:flex;flex-direction:column;gap:var(--space-m);margin-top:var(--space-s)}")}function KA(e,i,n){let s=e.slice();return s[19]=i[n],s}function p_(e){let i,n,s,r,o,t,a,p,c;i=new Bs({props:{$$slots:{default:[y_]},$$scope:{ctx:e}}});function u(d){e[18](d)}let h={onKeyup:e[13],placeholder:"Account name",autofocus:!e[1],error:e[4]&&e[1]===e[2]};e[1]!==void 0&&(h.value=e[1]),r=new Gb({props:h}),fl.push(()=>$L(r,"value",u));let l=e[4]&&QA(e);return p=new Rh({props:{data:{variant:"primary",onClick:e[12],label:e[8]("login.enter.lookup",{default:"Lookup Account"})}}}),{c(){De(i.$$.fragment),n=at(),s=Be("div"),De(r.$$.fragment),t=at(),l&&l.c(),a=at(),De(p.$$.fragment),K(s,"class","input-group svelte-13p224c")},m(d,v){Le(i,d,v),we(d,n,v),we(d,s,v),Le(r,s,null),me(s,t),l&&l.m(s,null),me(s,a),Le(p,s,null),c=!0},p(d,v){let f={};v&4194305&&(f.$$scope={dirty:v,ctx:d}),i.$set(f);let g={};v&2&&(g.autofocus=!d[1]),v&22&&(g.error=d[4]&&d[1]===d[2]),!o&&v&2&&(o=!0,g.value=d[1],YL(()=>o=!1)),r.$set(g),d[4]?l?l.p(d,v):(l=QA(d),l.c(),l.m(s,a)):l&&(l.d(1),l=null);let m={};v&256&&(m.data={variant:"primary",onClick:d[12],label:d[8]("login.enter.lookup",{default:"Lookup Account"})}),p.$set(m)},i(d){c||(ee(i.$$.fragment,d),ee(r.$$.fragment,d),ee(p.$$.fragment,d),c=!0)},o(d){se(i.$$.fragment,d),se(r.$$.fragment,d),se(p.$$.fragment,d),c=!1},d(d){d&&(Me(n),Me(s)),Re(i,d),Re(r),l&&l.d(),Re(p)}}}function v_(e){let i,n,s,r;return i=new Bs({props:{$$slots:{default:[x_]},$$scope:{ctx:e}}}),s=new zb({props:{title:"",details:e[8]("login.select.no_match",{default:"No accounts found matching {{publicKey}}",publicKey:e[6]})}}),{c(){De(i.$$.fragment),n=at(),De(s.$$.fragment)},m(o,t){Le(i,o,t),we(o,n,t),Le(s,o,t),r=!0},p(o,t){let a={};t&4194560&&(a.$$scope={dirty:t,ctx:o}),i.$set(a);let p={};t&320&&(p.details=o[8]("login.select.no_match",{default:"No accounts found matching {{publicKey}}",publicKey:o[6]})),s.$set(p)},i(o){r||(ee(i.$$.fragment,o),ee(s.$$.fragment,o),r=!0)},o(o){se(i.$$.fragment,o),se(s.$$.fragment,o),r=!1},d(o){o&&Me(n),Re(i,o),Re(s,o)}}}function g_(e){let i,n,s,r;return i=new Bs({props:{$$slots:{default:[b_]},$$scope:{ctx:e}}}),s=new pl({props:{$$slots:{default:[M_]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment),n=at(),De(s.$$.fragment)},m(o,t){Le(i,o,t),we(o,n,t),Le(s,o,t),r=!0},p(o,t){let a={};t&4194560&&(a.$$scope={dirty:t,ctx:o}),i.$set(a);let p={};t&4194336&&(p.$$scope={dirty:t,ctx:o}),s.$set(p)},i(o){r||(ee(i.$$.fragment,o),ee(s.$$.fragment,o),r=!0)},o(o){se(i.$$.fragment,o),se(s.$$.fragment,o),r=!1},d(o){o&&Me(n),Re(i,o),Re(s,o)}}}function m_(e){let i,n=e[8]("loading",{default:"Loading..."})+"",s;return{c(){i=Be("p"),s=qt(n),K(i,"class","loading svelte-13p224c")},m(r,o){we(r,i,o),me(i,s)},p(r,o){o&256&&n!==(n=r[8]("loading",{default:"Loading..."})+"")&&on(s,n)},i:nt,o:nt,d(r){r&&Me(i)}}}function y_(e){let i;return{c(){i=qt(e[0])},m(n,s){we(n,i,s)},p(n,s){s&1&&on(i,n[0])},d(n){n&&Me(i)}}}function QA(e){let i,n=e[8]("login.enter.not_found",{default:"Unable to find account"})+"",s,r,o;return{c(){i=Be("p"),s=qt(n),r=at(),o=qt(e[2]),K(i,"class","error svelte-13p224c")},m(t,a){we(t,i,a),me(i,s),me(i,r),me(i,o)},p(t,a){a&256&&n!==(n=t[8]("login.enter.not_found",{default:"Unable to find account"})+"")&&on(s,n),a&4&&on(o,t[2])},d(t){t&&Me(i)}}}function x_(e){let i=e[8]("login.select.no_accounts")+"",n;return{c(){n=qt(i)},m(s,r){we(s,n,r)},p(s,r){r&256&&i!==(i=s[8]("login.select.no_accounts")+"")&&on(n,i)},d(s){s&&Me(n)}}}function b_(e){let i=e[8]("login.select.account")+"",n;return{c(){n=qt(i)},m(s,r){we(s,n,r)},p(s,r){r&256&&i!==(i=s[8]("login.select.account")+"")&&on(n,i)},d(s){s&&Me(n)}}}function _A(e){let i,n;function s(){return e[17](e[19])}return i=new ss({props:{label:String(e[19]),onClick:s}}),{c(){De(i.$$.fragment)},m(r,o){Le(i,r,o),n=!0},p(r,o){e=r;let t={};o&32&&(t.label=String(e[19])),o&32&&(t.onClick=s),i.$set(t)},i(r){n||(ee(i.$$.fragment,r),n=!0)},o(r){se(i.$$.fragment,r),n=!1},d(r){Re(i,r)}}}function M_(e){let i,n,s=hs(e[5]),r=[];for(let t=0;t<s.length;t+=1)r[t]=_A(KA(e,s,t));let o=t=>se(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();i=Dn()},m(t,a){for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(t,a);we(t,i,a),n=!0},p(t,a){if(a&1056){s=hs(t[5]);let p;for(p=0;p<s.length;p+=1){let c=KA(t,s,p);r[p]?(r[p].p(c,a),ee(r[p],1)):(r[p]=_A(c),r[p].c(),ee(r[p],1),r[p].m(i.parentNode,i))}for(Xt(),p=s.length;p<r.length;p+=1)o(p);$t()}},i(t){if(!n){for(let a=0;a<s.length;a+=1)ee(r[a]);n=!0}},o(t){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)se(r[a]);n=!1},d(t){t&&Me(i),Dh(r,t)}}}function C_(e){let i,n,s,r,o=[m_,g_,v_,p_],t=[];function a(p,c){return p[7]?0:p[5]&&p[5].length>0?1:p[6]?2:p[3]?-1:3}return~(n=a(e))&&(s=t[n]=o[n](e)),{c(){i=Be("section"),s&&s.c(),K(i,"class","svelte-13p224c")},m(p,c){we(p,i,c),~n&&t[n].m(i,null),r=!0},p(p,[c]){let u=n;n=a(p),n===u?~n&&t[n].p(p,c):(s&&(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t()),~n?(s=t[n],s?s.p(p,c):(s=t[n]=o[n](p),s.c()),ee(s,1),s.m(i,null)):s=null)},i(p){r||(ee(s),r=!0)},o(p){se(s),r=!1},d(p){p&&Me(i),~n&&t[n].d()}}}function w_(e,i,n){let s,r,{t:o}=lo("i18n");ut(e,o,C=>n(8,r=C));let{chainId:t}=i,{client:a}=i,{walletPlugin:p}=i,{title:c}=i,u=Vs(),h=hn(!0);ut(e,h,C=>n(7,s=C));let l="",d="",v,f=!1,g,m=p.metadata.publicKey;Oh(()=>fe(this,null,function*(){if(p.config.requiresPermissionSelect){if(t&&p.retrievePublicKey)try{n(6,m=String(yield p.retrievePublicKey(t)))}catch(w){throw y1.set(String(w)),w}let C=yield a.call({path:"/v1/chain/get_accounts_by_authorizers",params:{keys:[m]}});h.set(!1),n(5,g=C.accounts.map(w=>jt.from(`${w.account_name}@${w.permission_name}`)))}else p.config.requiresPermissionEntry&&(h.set(!1),n(5,g=[]))}));function x(){return fe(this,null,function*(){h.set(!0);try{let C=yield a.v1.chain.get_account(l);C.account_name.equals(l)&&(n(3,v=C.account_name),n(5,g=C.permissions.map(w=>jt.from(`${C.account_name}@${w.perm_name}`)))),n(4,f=!1)}catch{n(4,f=!0)}finally{n(2,d=l),h.set(!1)}})}function y(C){if(C.code=="Enter")return C.preventDefault(),x(),!1}let b=C=>u("select",C);function M(C){l=C,n(1,l)}return e.$$set=C=>{"chainId"in C&&n(14,t=C.chainId),"client"in C&&n(15,a=C.client),"walletPlugin"in C&&n(16,p=C.walletPlugin),"title"in C&&n(0,c=C.title)},[c,l,d,v,f,g,m,s,r,o,u,h,x,y,t,a,p,b,M]}var qv=class extends Rt{constructor(i){super(),Pt(this,i,w_,C_,Dt,{chainId:14,client:15,walletPlugin:16,title:0},f_)}};function S_(e){mn(e,"svelte-lwrp5l","section.svelte-lwrp5l{display:flex;flex-direction:column;gap:var(--space-s)}")}function qA(e,i,n){let s=e.slice();return s[4]=i[n],s[6]=n,s}function eL(e){let i,n,s,r,o;return n=new Bs({props:{$$slots:{default:[I_]},$$scope:{ctx:e}}}),r=new pl({props:{$$slots:{default:[k_]},$$scope:{ctx:e}}}),{c(){i=Be("section"),De(n.$$.fragment),s=at(),De(r.$$.fragment),K(i,"class","svelte-lwrp5l")},m(t,a){we(t,i,a),Le(n,i,null),me(i,s),Le(r,i,null),o=!0},p(t,a){let p={};a&130&&(p.$$scope={dirty:a,ctx:t}),n.$set(p);let c={};a&129&&(c.$$scope={dirty:a,ctx:t}),r.$set(c)},i(t){o||(ee(n.$$.fragment,t),ee(r.$$.fragment,t),o=!0)},o(t){se(n.$$.fragment,t),se(r.$$.fragment,t),o=!1},d(t){t&&Me(i),Re(n),Re(r)}}}function I_(e){let i;return{c(){i=qt(e[1])},m(n,s){we(n,i,s)},p(n,s){s&2&&on(i,n[1])},d(n){n&&Me(i)}}}function tL(e){let i,n;function s(){return e[3](e[6])}return i=new ss({props:{label:e[4].metadata.name,onClick:s,leadingIcon:"wallet",logo:Lh(e[4].metadata)}}),{c(){De(i.$$.fragment)},m(r,o){Le(i,r,o),n=!0},p(r,o){e=r;let t={};o&1&&(t.label=e[4].metadata.name),o&1&&(t.logo=Lh(e[4].metadata)),i.$set(t)},i(r){n||(ee(i.$$.fragment,r),n=!0)},o(r){se(i.$$.fragment,r),n=!1},d(r){Re(i,r)}}}function k_(e){let i,n,s=hs(e[0]),r=[];for(let t=0;t<s.length;t+=1)r[t]=tL(qA(e,s,t));let o=t=>se(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();i=Dn()},m(t,a){for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(t,a);we(t,i,a),n=!0},p(t,a){if(a&5){s=hs(t[0]);let p;for(p=0;p<s.length;p+=1){let c=qA(t,s,p);r[p]?(r[p].p(c,a),ee(r[p],1)):(r[p]=tL(c),r[p].c(),ee(r[p],1),r[p].m(i.parentNode,i))}for(Xt(),p=s.length;p<r.length;p+=1)o(p);$t()}},i(t){if(!n){for(let a=0;a<s.length;a+=1)ee(r[a]);n=!0}},o(t){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)se(r[a]);n=!1},d(t){t&&Me(i),Dh(r,t)}}}function T_(e){let i,n,s=e[0]&&eL(e);return{c(){s&&s.c(),i=Dn()},m(r,o){s&&s.m(r,o),we(r,i,o),n=!0},p(r,[o]){r[0]?s?(s.p(r,o),o&1&&ee(s,1)):(s=eL(r),s.c(),ee(s,1),s.m(i.parentNode,i)):s&&(Xt(),se(s,1,1,()=>{s=null}),$t())},i(r){n||(ee(s),n=!0)},o(r){se(s),n=!1},d(r){r&&Me(i),s&&s.d(r)}}}function E_(e,i,n){let{wallets:s}=i,{title:r}=i,o=Vs(),t=a=>o("select",a);return e.$$set=a=>{"wallets"in a&&n(0,s=a.wallets),"title"in a&&n(1,r=a.title)},[s,r,o,t]}var Wb=class extends Rt{constructor(i){super(),Pt(this,i,E_,T_,Dt,{wallets:0,title:1},S_)}};function nL(e){return Object.prototype.toString.call(e)==="[object Date]"}function iL(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function nR(e){let i=e-1;return i*i*i+1}function Hb(e,i){if(e===i||e!==e)return()=>e;let n=typeof e;if(n!==typeof i||Array.isArray(e)!==Array.isArray(i))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){let s=i.map((r,o)=>Hb(e[o],r));return r=>s.map(o=>o(r))}if(n==="object"){if(!e||!i)throw new Error("Object cannot be null");if(nL(e)&&nL(i)){e=e.getTime(),i=i.getTime();let o=i-e;return t=>new Date(e+t*o)}let s=Object.keys(i),r={};return s.forEach(o=>{r[o]=Hb(e[o],i[o])}),o=>{let t={};return s.forEach(a=>{t[a]=r[a](o)}),t}}if(n==="number"){let s=i-e;return r=>e+r*s}throw new Error(`Cannot interpolate ${n} values`)}function A_(e,i={}){let n=hn(e),s,r=e;function o(t,a){if(e==null)return n.set(e=t),Promise.resolve();r=t;let p=s,c=!1,{delay:u=0,duration:h=400,easing:l=sg,interpolate:d=Hb}=Xv(Xv({},i),a);if(h===0)return p&&(p.abort(),p=null),n.set(e=r),Promise.resolve();let v=p6()+u,f;return s=g6(g=>{if(g<v)return!0;c||(f=d(e,t),typeof h=="function"&&(h=h(e,t)),c=!0),p&&(p.abort(),p=null);let m=g-v;return m>h?(n.set(e=t),!1):(n.set(e=f(l(m/h))),!0)}),s.promise}return{set:o,update:(t,a)=>o(t(r,e),a),subscribe:n.subscribe}}function L_(e){mn(e,"svelte-1cxfvrd",'.loader.svelte-1cxfvrd.svelte-1cxfvrd{position:relative;display:grid;place-items:center;grid-template-areas:"stack" "text";gap:var(--space-m)}.logo.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:stack;place-self:center;color:var(--body-text-color);width:var(--space-2xl);display:flex;align-items:center;justify-content:center}.logo.svelte-1cxfvrd img.svelte-1cxfvrd{width:100%;height:100%;object-fit:contain}.logo.svelte-1cxfvrd>svg{width:35%;height:35%}.text.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:text;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:var(--space-4xs)}.text.svelte-1cxfvrd .label.svelte-1cxfvrd{font-size:var(--fs-2);font-weight:500;color:var(--body-text-color);margin:0}.text.svelte-1cxfvrd span.svelte-1cxfvrd{font-size:var(--fs-1);font-variant-numeric:tabular-nums;color:var(--body-text-color-variant)}svg.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:stack;animation:2.5s linear infinite svelte-1cxfvrd-svg-animation}@keyframes svelte-1cxfvrd-svg-animation{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}circle.svelte-1cxfvrd.svelte-1cxfvrd{transform-origin:center}circle.spinner.svelte-1cxfvrd.svelte-1cxfvrd{stroke:var(--loading-circle-color)}circle.track.svelte-1cxfvrd.svelte-1cxfvrd{stroke:var(--loading-circle-track-color)}circle.animated.svelte-1cxfvrd.svelte-1cxfvrd{animation:svelte-1cxfvrd-dash 2.1s ease-in-out both infinite}@keyframes svelte-1cxfvrd-dash{0%{stroke-dashoffset:var(--circumference);transform:rotate(0)}50%,65%{stroke-dashoffset:70;transform:rotate(90deg)}100%{stroke-dashoffset:var(--circumference);transform:rotate(360deg)}}')}function R_(e){let i,n,s,r,o=[O_,D_],t=[];function a(p,c){return eR(p[5])||tR(p[5])?0:_Q(p[5])?1:-1}return~(n=a(e))&&(s=t[n]=o[n](e)),{c(){i=Be("div"),s&&s.c(),K(i,"class","logo svelte-1cxfvrd")},m(p,c){we(p,i,c),~n&&t[n].m(i,null),r=!0},p(p,c){s&&s.p(p,c)},i(p){r||(ee(s),r=!0)},o(p){se(s),r=!1},d(p){p&&Me(i),~n&&t[n].d()}}}function D_(e){let i,n;return i=new _i({props:{name:e[5],size:"75%"}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function O_(e){let i,n;return{c(){i=Be("img"),u1(i.src,n=e[5])||K(i,"src",n),K(i,"alt","loading logo"),K(i,"class","svelte-1cxfvrd")},m(s,r){we(s,i,r)},p:nt,i:nt,o:nt,d(s){s&&Me(i)}}}function F_(e){let i;return{c(){i=Be("p"),i.textContent=`${e[4]}`,K(i,"class","label svelte-1cxfvrd")},m(n,s){we(n,i,s)},p:nt,d(n){n&&Me(i)}}}function rL(e){let i=e[1],n,s=sL(e);return{c(){s.c(),n=Dn()},m(r,o){s.m(r,o),we(r,n,o)},p(r,o){o&2&&Dt(i,i=r[1])?(s.d(1),s=sL(r),s.c(),s.m(n.parentNode,n)):s.p(r,o)},d(r){r&&Me(n),s.d(r)}}}function sL(e){let i,n=aL(e[0])+"",s;return{c(){i=Be("span"),s=qt(n),K(i,"class","svelte-1cxfvrd"),hl(i,"label",!e[4])},m(r,o){we(r,i,o),me(i,s)},p(r,o){o&1&&n!==(n=aL(r[0])+"")&&on(s,n)},d(r){r&&Me(i)}}}function P_(e){let i,n,s,r,o,t,a,p,c,u=e[5]&&R_(e),h=e[4]&&F_(e),l=e[0]&&rL(e);return{c(){i=Be("div"),n=Lt("svg"),s=Lt("circle"),r=Lt("circle"),o=at(),u&&u.c(),t=at(),a=Be("div"),h&&h.c(),p=at(),l&&l.c(),K(s,"class","track svelte-1cxfvrd"),K(s,"cx",e[6]),K(s,"cy",e[6]),K(s,"r",e[7]),K(s,"stroke-width",Yb-1),K(s,"stroke-linecap","round"),K(s,"stroke-dasharray",e[3]),K(s,"stroke-dashoffset",0),K(s,"fill","none"),K(r,"class","spinner svelte-1cxfvrd"),K(r,"cx",e[6]),K(r,"cy",e[6]),K(r,"r",e[7]),K(r,"stroke-width",Yb),K(r,"stroke-linecap","round"),K(r,"stroke-dasharray",e[3]),K(r,"fill","none"),kn(r,"--radius",e[7]),kn(r,"--circumference",e[3]),hl(r,"animated",e[2]),K(n,"width",jb),K(n,"height",jb),K(n,"class","svelte-1cxfvrd"),hl(n,"animated",e[2]),K(a,"class","text svelte-1cxfvrd"),K(i,"class","loader svelte-1cxfvrd")},m(d,v){we(d,i,v),me(i,n),me(n,s),me(n,r),me(i,o),u&&u.m(i,null),me(i,t),me(i,a),h&&h.m(a,null),me(a,p),l&&l.m(a,null),c=!0},p(d,[v]){(!c||v&8)&&K(s,"stroke-dasharray",d[3]),(!c||v&8)&&K(r,"stroke-dasharray",d[3]),(!c||v&8)&&kn(r,"--circumference",d[3]),(!c||v&4)&&hl(r,"animated",d[2]),(!c||v&4)&&hl(n,"animated",d[2]),d[5]&&u.p(d,v),d[4]&&h.p(d,v),d[0]?l?l.p(d,v):(l=rL(d),l.c(),l.m(a,null)):l&&(l.d(1),l=null)},i(d){c||(ee(u),c=!0)},o(d){se(u),c=!1},d(d){d&&Me(i),u&&u.d(),h&&h.d(),l&&l.d()}}}var jb=100,Yb=8;function aL(e){let i=e.getTime()-Date.now();return i>0?new Date(i).toISOString().slice(14,19):"00:00"}function N_(e,i,n){let s,r,{data:o={}}=i,{label:t,end:a,logo:p,loading:c=!0}=o,u,h,l,d=jb/2,v=d-Yb,f=A_(2*Math.PI*v,{duration:500,easing:nR});return ut(e,f,g=>n(3,r=g)),m1(()=>{l&&clearInterval(l)}),e.$$set=g=>{"data"in g&&n(9,o=g.data)},e.$$.update=()=>{e.$$.dirty&2051&&(l&&clearInterval(l),a&&(n(0,u=new Date(a)),n(11,l=setInterval(()=>{n(1,h=new Date(u).getTime()-Date.now()),h<=0&&(clearInterval(l),f.set(1e3),n(10,c=!1))},200)))),e.$$.dirty&1024&&n(2,s=c)},[u,h,s,r,t,p,d,v,f,o,c,l]}var Ac=class extends Rt{constructor(i){super(),Pt(this,i,N_,P_,Dt,{data:9},L_)}};function oL(e,{delay:i=0,duration:n=400,easing:s=sg}={}){let r=+getComputedStyle(e).opacity;return{delay:i,duration:n,easing:s,css:o=>`opacity: ${o*r}`}}function B_(e,{delay:i=0,duration:n=400,easing:s=nR,x:r=0,y:o=0,opacity:t=0}={}){let a=getComputedStyle(e),p=+a.opacity,c=a.transform==="none"?"":a.transform,u=p*(1-t),[h,l]=OA(r),[d,v]=OA(o);return{delay:i,duration:n,easing:s,css:(f,g)=>`
			transform: ${c} translate(${(1-f)*h}${l}, ${(1-f)*d}${v});
			opacity: ${p-u*g}`}}function V_(e){let i,n=e[5].default,s=as(n,e,e[4],null);return{c(){s&&s.c()},m(r,o){s&&s.m(r,o),i=!0},p(r,o){s&&s.p&&(!i||o&16)&&ls(s,n,r,r[4],i?os(n,r[4],o,null):cs(r[4]),null)},i(r){i||(ee(s,r),i=!0)},o(r){se(s,r),i=!1},d(r){s&&s.d(r)}}}function G_(e){let i,n,s,r=e[5].default,o=as(r,e,e[4],null);return{c(){i=Be("div"),o&&o.c(),K(i,"class","transition")},m(t,a){we(t,i,a),o&&o.m(i,null),s=!0},p(t,a){e=t,o&&o.p&&(!s||a&16)&&ls(o,r,e,e[4],s?os(r,e[4],a,null):cs(e[4]),null)},i(t){s||(ee(o,t),n||Ec(()=>{n=XK(i,B_,{duration:200,x:e[1],y:e[0]}),n.start()}),s=!0)},o(t){se(o,t),s=!1},d(t){t&&Me(i),o&&o.d(t)}}}function z_(e){let i,n,s,r,o=[G_,V_],t=[];function a(p,c){return p[2]?0:1}return i=a(e),n=t[i]=o[i](e),{c(){n.c(),s=Dn()},m(p,c){t[i].m(p,c),we(p,s,c),r=!0},p(p,[c]){n.p(p,c)},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),t[i].d(p)}}}function W_(e,i,n){let s,r,o;ut(e,us,l=>n(6,o=l));let{$$slots:t={},$$scope:a}=i,{direction:p=void 0}=i,{animations:c}=o,u=["ltr","rtl"],h=l=>l==="rtl"||l==="btt"?100:-100;return e.$$set=l=>{"direction"in l&&n(3,p=l.direction),"$$scope"in l&&n(4,a=l.$$scope)},e.$$.update=()=>{e.$$.dirty&8&&n(1,[s,r]=p?u.includes(p)?[h(p),0]:[0,h(p)]:[0,0],s,(n(0,r),n(3,p)))},[r,s,c,p,a,t]}var Nr=class extends Rt{constructor(i){super(),Pt(this,i,W_,z_,Dt,{direction:3})}};function H_(e){let i,n=e[4]("loading",{default:"Loading..."})+"",s;return{c(){i=Be("p"),s=qt(n)},m(r,o){we(r,i,o),me(i,s)},p(r,o){o&16&&n!==(n=r[4]("loading",{default:"Loading..."})+"")&&on(s,n)},i:nt,o:nt,d(r){r&&Me(i)}}}function j_(e){let i,n,s,r,o=[$_,X_,Z_,U_,Y_],t=[];function a(p,c){return p[6]===p[0].selectWallet?0:p[6]===p[0].selectChain&&p[7]?1:p[6]===p[0].enterPermission&&p[8]&&p[9]?2:p[6]===p[0].selectPermission&&p[8]&&p[9]?3:4}return i=a(e),n=t[i]=o[i](e),{c(){n.c(),s=Dn()},m(p,c){t[i].m(p,c),we(p,s,c),r=!0},p(p,c){let u=i;i=a(p),i===u?t[i].p(p,c):(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t(),n=t[i],n?n.p(p,c):(n=t[i]=o[i](p),n.c()),ee(n,1),n.m(s.parentNode,s))},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),t[i].d(p)}}}function Y_(e){let i,n;return i=new Ac({props:{data:{label:e[4]("login.complete",{default:"Complete the login using your selected wallet."})}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&16&&(o.data={label:s[4]("login.complete",{default:"Complete the login using your selected wallet."})}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function U_(e){let i,n;return i=new Nr({props:{direction:e[2],$$slots:{default:[J_]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&4&&(o.direction=s[2]),r&268436242&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function Z_(e){let i,n;return i=new Nr({props:{direction:e[2],$$slots:{default:[K_]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&4&&(o.direction=s[2]),r&268436242&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function X_(e){let i,n;return i=new Nr({props:{direction:e[2],$$slots:{default:[Q_]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&4&&(o.direction=s[2]),r&268435600&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function $_(e){let i,n;return i=new Nr({props:{direction:e[2],$$slots:{default:[__]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&4&&(o.direction=s[2]),r&268435480&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function J_(e){let i,n;return i=new qv({props:{chainId:e[1].chainId,client:e[8],walletPlugin:e[9],title:e[4]("login.select.account",{default:"Select an Account"})}}),i.$on("select",e[17]),i.$on("cancel",e[16]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&2&&(o.chainId=s[1].chainId),r&256&&(o.client=s[8]),r&512&&(o.walletPlugin=s[9]),r&16&&(o.title=s[4]("login.select.account",{default:"Select an Account"})),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function K_(e){let i,n;return i=new qv({props:{chainId:e[1].chainId,client:e[8],walletPlugin:e[9],title:e[4]("login.enter.account",{default:"Enter account name"})}}),i.$on("select",e[17]),i.$on("cancel",e[16]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&2&&(o.chainId=s[1].chainId),r&256&&(o.client=s[8]),r&512&&(o.walletPlugin=s[9]),r&16&&(o.title=s[4]("login.enter.account",{default:"Enter account name"})),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function Q_(e){let i,n;return i=new _v({props:{chains:e[7],title:e[4]("login.select.blockchain",{default:"Select a Blockchain"})}}),i.$on("select",e[15]),i.$on("cancel",e[19]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&128&&(o.chains=s[7]),r&16&&(o.title=s[4]("login.select.blockchain",{default:"Select a Blockchain"})),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function __(e){let i,n;return i=new Wb({props:{wallets:e[3].walletPlugins,title:e[4]("login.select.wallet",{default:"Select a Wallet"})}}),i.$on("select",e[18]),i.$on("cancel",e[20]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&8&&(o.wallets=s[3].walletPlugins),r&16&&(o.title=s[4]("login.select.wallet",{default:"Select a Wallet"})),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function q_(e){let i,n,s,r,o=[j_,H_],t=[];function a(p,c){return p[5]&&p[3]?0:1}return i=a(e),n=t[i]=o[i](e),{c(){n.c(),s=Dn()},m(p,c){t[i].m(p,c),we(p,s,c),r=!0},p(p,[c]){let u=i;i=a(p),i===u?t[i].p(p,c):(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t(),n=t[i],n?n.p(p,c):(n=t[i]=o[i](p),n.c()),ee(n,1),n.m(s.parentNode,s))},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),t[i].d(p)}}}function eq(e,i,n){let s,r,o,t,a,p,c,u,h,l;ut(e,Ai,L=>n(1,s=L)),ut(e,di,L=>n(2,r=L)),ut(e,hi,L=>n(22,o=L)),ut(e,ul,L=>n(3,t=L)),ut(e,Ci,L=>n(5,p=L));let{t:d}=lo("i18n");ut(e,d,L=>n(4,a=L));let v=!1,f=Vs();var g=function(L){return L.done="done",L.enterPermission="enterPermission",L.selectChain="selectChain",L.selectPermission="selectPermission",L.selectWallet="selectWallet",L}(g||{});let m=Qi([ul,Ai],([L,D])=>{if(!(!L||D.chainId===void 0))return L.chain?L.chain:L.chains.find(R=>R.id===D.chainId)}),x=Qi([m,ul],([L,D])=>{if(!(!D||L===void 0))return D.getClient(L)});ut(e,x,L=>n(8,h=L));let y=Qi([ul,Ai],([L,D])=>{if(!(!L||D.walletPluginIndex===void 0))return L.walletPlugins[D.walletPluginIndex]});ut(e,y,L=>n(9,l=L));let b=Qi([ul,y],([L,D])=>!L||!D?[]:D.config.supportedChains?L.chains.filter(R=>!D.config.supportedChains||D.config.supportedChains.includes(String(R.id))):L.chains);ut(e,b,L=>n(7,u=L));let M=ul.subscribe(L=>{L&&(st(Ci,p.subtitle=a("login.title-app",{appName:L.appName,default:"Login to {{appName}}"}),p),L.chain&&st(Ai,s.chainId=L.chain.id,s),L.chains.length===1&&st(Ai,s.chainId=L.chains[0].id,s),L.permissionLevel&&st(Ai,s.permissionLevel=L.permissionLevel,s),L.walletPlugins.length===1&&st(Ai,s.walletPluginIndex=0,s),L.walletPluginIndex!==void 0&&st(Ai,s.walletPluginIndex=L.walletPluginIndex,s))});Oh(()=>{st(Ci,p.title=a("login.title",{default:"Login"}),p)}),m1(M);let C=Qi([Ai,y],([L,D])=>{if(!D)return g.selectWallet;let{requiresChainSelect:R,requiresPermissionEntry:N,requiresPermissionSelect:P,supportedChains:O}=D.config;if(!L.chainId&&O&&O.length===1)return st(Ai,s.chainId=O[0],s),g.selectPermission;if(!L.chainId&&t&&t.chain)return st(Ai,s.chainId=t?.chain.id,s),g.selectPermission;if(!L.chainId&&R)return g.selectChain;if(!L.permissionLevel&&P)return g.selectPermission;if(!L.permissionLevel&&N)return g.enterPermission;E()});ut(e,C,L=>n(6,c=L));let w=L=>{st(Ai,s.chainId=L.detail,s),st(hi,o=S,o),st(di,r="rtl",r)},S=()=>{st(Ai,s.chainId=void 0,s),st(hi,o=k,o),st(di,r="ltr",r)},I=L=>{st(Ai,s.permissionLevel=L.detail,s),st(hi,o=void 0,o),st(di,r="rtl",r)},T=L=>{st(hi,o=k,o),st(Ai,s.walletPluginIndex=L.detail,s),st(di,r="rtl",r)},k=()=>{st(Ai,s.walletPluginIndex=void 0,s),st(hi,o=void 0,o),st(di,r="ltr",r)},E=()=>{v||(v=!0,f("complete",s),hi.set(void 0),Qv.set(!1))};return[g,s,r,t,a,p,c,u,h,l,d,x,y,b,C,w,S,I,T,k,()=>{f("cancel")}]}var Ub=class extends Rt{constructor(i){super(),Pt(this,i,eq,q_,Dt,{})}};function tq(e){mn(e,"svelte-1m2zvm","div.svelte-1m2zvm{flex:1;display:flex;justify-content:space-between;gap:var(--space-xs)}")}function nq(e){let i,n,s=e[1].default,r=as(s,e,e[0],null);return{c(){i=Be("div"),r&&r.c(),K(i,"class","svelte-1m2zvm")},m(o,t){we(o,i,t),r&&r.m(i,null),n=!0},p(o,[t]){r&&r.p&&(!n||t&1)&&ls(r,s,o,o[0],n?os(s,o[0],t,null):cs(o[0]),null)},i(o){n||(ee(r,o),n=!0)},o(o){se(r,o),n=!1},d(o){o&&Me(i),r&&r.d(o)}}}function iq(e,i,n){let{$$slots:s={},$$scope:r}=i;return e.$$set=o=>{"$$scope"in o&&n(0,r=o.$$scope)},[r,s]}var Zb=class extends Rt{constructor(i){super(),Pt(this,i,iq,nq,Dt,{},tq)}};function rq(e){let i,n,s,r;return i=new Rh({props:{data:{variant:"outlined",label:e[0]("decline",{default:"Decline"}),onClick:e[3],icon:"close"}}}),s=new Rh({props:{data:{variant:"primary",label:e[0]("accept",{default:"Accept"}),onClick:e[4],icon:"check",autofocus:!0}}}),{c(){De(i.$$.fragment),n=at(),De(s.$$.fragment)},m(o,t){Le(i,o,t),we(o,n,t),Le(s,o,t),r=!0},p(o,t){let a={};t&1&&(a.data={variant:"outlined",label:o[0]("decline",{default:"Decline"}),onClick:o[3],icon:"close"}),i.$set(a);let p={};t&1&&(p.data={variant:"primary",label:o[0]("accept",{default:"Accept"}),onClick:o[4],icon:"check",autofocus:!0}),s.$set(p)},i(o){r||(ee(i.$$.fragment,o),ee(s.$$.fragment,o),r=!0)},o(o){se(i.$$.fragment,o),se(s.$$.fragment,o),r=!1},d(o){o&&Me(n),Re(i,o),Re(s,o)}}}function sq(e){let i,n;return i=new Zb({props:{$$slots:{default:[rq]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,[r]){let o={};r&33&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function aq(e,i,n){let s,{t:r}=lo("i18n");ut(e,r,p=>n(0,s=p));let o=Vs();return[s,r,o,()=>o("cancel"),()=>o("complete")]}var Xb=class extends Rt{constructor(i){super(),Pt(this,i,aq,sq,Dt,{})}};function oq(e){mn(e,"svelte-1lmgxnd",".asset.svelte-1lmgxnd.svelte-1lmgxnd{text-align:center}.asset.svelte-1lmgxnd>.svelte-1lmgxnd{margin:0;line-height:1.5}.value.svelte-1lmgxnd.svelte-1lmgxnd{font-size:var(--fs-2);font-weight:600;color:var(--body-text-color)}.label.svelte-1lmgxnd.svelte-1lmgxnd{font-size:var(--fs-0);font-weight:400;color:var(--body-text-color-variant)}")}function lL(e){let i,n,s=e[0].value+"",r,o,t,a=e[0].label+"",p;return{c(){i=Be("div"),n=Be("p"),r=qt(s),o=at(),t=Be("p"),p=qt(a),K(n,"class","value svelte-1lmgxnd"),K(t,"class","label svelte-1lmgxnd"),K(i,"class","asset svelte-1lmgxnd")},m(c,u){we(c,i,u),me(i,n),me(n,r),me(i,o),me(i,t),me(t,p)},p(c,u){u&1&&s!==(s=c[0].value+"")&&on(r,s),u&1&&a!==(a=c[0].label+"")&&on(p,a)},d(c){c&&Me(i)}}}function lq(e){let i,n=e[0]&&lL(e);return{c(){n&&n.c(),i=Dn()},m(s,r){n&&n.m(s,r),we(s,i,r)},p(s,[r]){s[0]?n?n.p(s,r):(n=lL(s),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},i:nt,o:nt,d(s){s&&Me(i),n&&n.d(s)}}}function cq(e,i,n){let{data:s={label:"[[Unknown Label]]",value:"[[Unknown Value]]"}}=i;return e.$$set=r=>{"data"in r&&n(0,s=r.data)},[s]}var $b=class extends Rt{constructor(i){super(),Pt(this,i,cq,lq,Dt,{data:0},oq)}};function uq(e){mn(e,"svelte-1bils14","button.svelte-1bils14{cursor:pointer;display:block;width:300px;height:65px;border-radius:12px;font-size:16px;font-weight:600;color:var(--button-text-color);background-color:var(--button-tertiary-color);border:none;box-shadow:none;margin:27px auto 0}")}function hq(e){let i,n=e[0]("close",{default:"Close"})+"",s,r,o;return{c(){i=Be("button"),s=qt(n),K(i,"class","svelte-1bils14")},m(t,a){we(t,i,a),me(i,s),r||(o=Sr(i,"click",e[3]),r=!0)},p(t,[a]){a&1&&n!==(n=t[0]("close",{default:"Close"})+"")&&on(s,n)},i:nt,o:nt,d(t){t&&Me(i),r=!1,o()}}}function dq(e,i,n){let s,{t:r}=lo("i18n");ut(e,r,a=>n(0,s=a));let o=Vs();return[s,r,o,()=>o("complete")]}var Jb=class extends Rt{constructor(i){super(),Pt(this,i,dq,hq,Dt,{},uq)}};function fq(e){mn(e,"svelte-785ja0",".button.svelte-785ja0{--button-height:var(--space-2xl);cursor:pointer;display:flex;justify-content:center;align-items:center;gap:var(--space-2xs);height:var(--button-height);line-height:var(--button-height);text-decoration:none;text-align:center;border-radius:var(--border-radius-inner);font-size:var(--fs-1);font-weight:600;color:var(--button-color, var(--button-text-color));background:var(--button-background, var(--button-primary-background));border:none;box-shadow:var(--button-outline);flex:1}.button.svelte-785ja0:hover{background:var(--button-background-hover, var(--button-primary-background-hover));box-shadow:var(--button-outline-hover, var(--button-primary-outline-hover))}.button.svelte-785ja0:active{background:var(--button-background-active, var(--button-primary-background-active));box-shadow:var(--button-outline-active);color:var(--button-text-color-active)}.secondary.svelte-785ja0{--button-background:var(--button-secondary-background);--button-background-hover:var(--button-secondary-background-hover);--button-background-active:var(--button-secondary-background-active);--button-outline-hover:var(--button-secondary-outline-hover)}.outlined.svelte-785ja0{--button-background:transparent;--button-background-hover:transparent;--button-background-active:var(--button-outlined-background-active);--button-outline:var(--button-outlined-outline);--button-outline-hover:var(--button-outlined-outline-hover)}a.svelte-785ja0{align-self:stretch}")}function pq(e){let i,n;return i=new _i({props:{name:e[3]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function vq(e){let i,n,s,r,o=e[3]&&pq(e);return{c(){i=Be("a"),o&&o.c(),n=at(),s=Be("span"),s.textContent=`${e[2]}`,K(i,"class",PK(e[5])+" svelte-785ja0"),K(i,"href",e[1]),K(i,"target",e[4]),K(i,"rel","noreferrer"),hl(i,"button",e[0])},m(t,a){we(t,i,a),o&&o.m(i,null),me(i,n),me(i,s),r=!0},p(t,[a]){t[3]&&o.p(t,a)},i(t){r||(ee(o),r=!0)},o(t){se(o),r=!1},d(t){t&&Me(i),o&&o.d()}}}function gq(e,i,n){let{data:s}=i,{button:r=!0,href:o,label:t,icon:a,target:p,variant:c="outlined"}=s;return e.$$set=u=>{"data"in u&&n(6,s=u.data)},[r,o,t,a,p,c,s]}var eg=class extends Rt{constructor(i){super(),Pt(this,i,gq,vq,Dt,{data:6},fq)}},o1={L:1,M:0,Q:3,H:2},Fr={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Kb=class{constructor(i){this.mode=Fr.MODE_8BIT_BYTE,this.data=i}getLength(){return this.data.length}write(i){for(let n=0;n<this.data.length;n++)i.put(this.data.charCodeAt(n),8)}},tg=class{constructor(){this.buffer=[],this.length=0}get(i){let n=Math.floor(i/8);return(this.buffer[n]>>>7-i%8&1)==1}put(i,n){for(let s=0;s<n;s++)this.putBit((i>>>n-s-1&1)==1)}getLengthInBits(){return this.length}putBit(i){let n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),i&&(this.buffer[n]|=128>>>this.length%8),this.length++}},wi={glog:function(e){if(e<1)throw new Error("glog("+e+")");return wi.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return wi.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let e=0;e<8;e++)wi.EXP_TABLE[e]=1<<e;for(let e=8;e<256;e++)wi.EXP_TABLE[e]=wi.EXP_TABLE[e-4]^wi.EXP_TABLE[e-5]^wi.EXP_TABLE[e-6]^wi.EXP_TABLE[e-8];for(let e=0;e<255;e++)wi.LOG_TABLE[wi.EXP_TABLE[e]]=e;var f1=class e{constructor(i,n){if(i.length==null)throw new Error(i.length+"/"+n);let s=0;for(;s<i.length&&i[s]==0;)s++;this.num=new Array(i.length-s+n);for(let r=0;r<i.length-s;r++)this.num[r]=i[r+s]}get(i){return this.num[i]}getLength(){return this.num.length}multiply(i){let n=new Array(this.getLength()+i.getLength()-1);for(let s=0;s<this.getLength();s++)for(let r=0;r<i.getLength();r++)n[s+r]^=wi.gexp(wi.glog(this.get(s))+wi.glog(i.get(r)));return new e(n,0)}mod(i){if(this.getLength()-i.getLength()<0)return this;let n=wi.glog(this.get(0))-wi.glog(i.get(0)),s=new Array(this.getLength());for(let r=0;r<this.getLength();r++)s[r]=this.get(r);for(let r=0;r<i.getLength();r++)s[r]^=wi.gexp(wi.glog(i.get(r))+n);return new e(s,0).mod(i)}},cL=(()=>{class e{constructor(n,s){this.totalCount=n,this.dataCount=s}static getRSBlocks(n,s){let r=e.getRsBlockTable(n,s);if(r==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+s);let o=r.length/3,t=[];for(let a=0;a<o;a++){let p=r[a*3+0],c=r[a*3+1],u=r[a*3+2];for(let h=0;h<p;h++)t.push(new e(c,u))}return t}static getRsBlockTable(n,s){switch(s){case o1.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case o1.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case o1.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case o1.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}}}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e})(),cl={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},In={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){let i=e<<10;for(;In.getBCHDigit(i)-In.getBCHDigit(In.G15)>=0;)i^=In.G15<<In.getBCHDigit(i)-In.getBCHDigit(In.G15);return(e<<10|i)^In.G15_MASK},getBCHTypeNumber:function(e){let i=e<<12;for(;In.getBCHDigit(i)-In.getBCHDigit(In.G18)>=0;)i^=In.G18<<In.getBCHDigit(i)-In.getBCHDigit(In.G18);return e<<12|i},getBCHDigit:function(e){let i=0;for(;e!=0;)i++,e>>>=1;return i},getPatternPosition:function(e){return In.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,i,n){switch(e){case cl.PATTERN000:return(i+n)%2==0;case cl.PATTERN001:return i%2==0;case cl.PATTERN010:return n%3==0;case cl.PATTERN011:return(i+n)%3==0;case cl.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case cl.PATTERN101:return i*n%2+i*n%3==0;case cl.PATTERN110:return(i*n%2+i*n%3)%2==0;case cl.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){let i=new f1([1],0);for(let n=0;n<e;n++)i=i.multiply(new f1([1,wi.gexp(n)],0));return i},getLengthInBits:function(e,i){if(1<=i&&i<10)switch(e){case Fr.MODE_NUMBER:return 10;case Fr.MODE_ALPHA_NUM:return 9;case Fr.MODE_8BIT_BYTE:return 8;case Fr.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(i<27)switch(e){case Fr.MODE_NUMBER:return 12;case Fr.MODE_ALPHA_NUM:return 11;case Fr.MODE_8BIT_BYTE:return 16;case Fr.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(i<41)switch(e){case Fr.MODE_NUMBER:return 14;case Fr.MODE_ALPHA_NUM:return 13;case Fr.MODE_8BIT_BYTE:return 16;case Fr.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+i)},getLostPoint:function(e){let i=e.getModuleCount(),n=0;for(let o=0;o<i;o++)for(let t=0;t<i;t++){let a=0,p=e.isDark(o,t);for(let c=-1;c<=1;c++)if(!(o+c<0||i<=o+c))for(let u=-1;u<=1;u++)t+u<0||i<=t+u||c==0&&u==0||p==e.isDark(o+c,t+u)&&a++;a>5&&(n+=3+a-5)}for(let o=0;o<i-1;o++)for(let t=0;t<i-1;t++){let a=0;e.isDark(o,t)&&a++,e.isDark(o+1,t)&&a++,e.isDark(o,t+1)&&a++,e.isDark(o+1,t+1)&&a++,(a==0||a==4)&&(n+=3)}for(let o=0;o<i;o++)for(let t=0;t<i-6;t++)e.isDark(o,t)&&!e.isDark(o,t+1)&&e.isDark(o,t+2)&&e.isDark(o,t+3)&&e.isDark(o,t+4)&&!e.isDark(o,t+5)&&e.isDark(o,t+6)&&(n+=40);for(let o=0;o<i;o++)for(let t=0;t<i-6;t++)e.isDark(t,o)&&!e.isDark(t+1,o)&&e.isDark(t+2,o)&&e.isDark(t+3,o)&&e.isDark(t+4,o)&&!e.isDark(t+5,o)&&e.isDark(t+6,o)&&(n+=40);let s=0;for(let o=0;o<i;o++)for(let t=0;t<i;t++)e.isDark(t,o)&&s++;let r=Math.abs(100*s/i/i-50)/5;return n+=r*10,n}},mq=(()=>{class e{constructor(n,s){this.typeNumber=n,this.errorCorrectLevel=s,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(n){let s=new Kb(n);this.dataList.push(s),this.dataCache=null}isDark(n,s){if(n<0||this.moduleCount<=n||s<0||this.moduleCount<=s)throw new Error(n+","+s);return this.modules[n][s]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let n=1;for(n=1;n<40;n++){let s=cL.getRSBlocks(n,this.errorCorrectLevel),r=new tg,o=0;for(let t=0;t<s.length;t++)o+=s[t].dataCount;for(let t=0;t<this.dataList.length;t++){let a=this.dataList[t];r.put(a.mode,4),r.put(a.getLength(),In.getLengthInBits(a.mode,n)),a.write(r)}if(r.getLengthInBits()<=o*8)break}this.typeNumber=n}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(n,s){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(let o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(n,s),this.typeNumber>=7&&this.setupTypeNumber(n),this.dataCache==null&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,s)}setupPositionProbePattern(n,s){for(let r=-1;r<=7;r++)if(!(n+r<=-1||this.moduleCount<=n+r))for(let o=-1;o<=7;o++)s+o<=-1||this.moduleCount<=s+o||(0<=r&&r<=6&&(o==0||o==6)||0<=o&&o<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=o&&o<=4?this.modules[n+r][s+o]=!0:this.modules[n+r][s+o]=!1)}getBestMaskPattern(){let n=0,s=0;for(let r=0;r<8;r++){this.makeImpl(!0,r);let o=In.getLostPoint(this);(r==0||n>o)&&(n=o,s=r)}return s}setupTimingPattern(){for(let n=8;n<this.moduleCount-8;n++)this.modules[n][6]==null&&(this.modules[n][6]=n%2==0);for(let n=8;n<this.moduleCount-8;n++)this.modules[6][n]==null&&(this.modules[6][n]=n%2==0)}setupPositionAdjustPattern(){let n=In.getPatternPosition(this.typeNumber);for(let s=0;s<n.length;s++)for(let r=0;r<n.length;r++){let o=n[s],t=n[r];if(this.modules[o][t]==null)for(let a=-2;a<=2;a++)for(let p=-2;p<=2;p++)a==-2||a==2||p==-2||p==2||a==0&&p==0?this.modules[o+a][t+p]=!0:this.modules[o+a][t+p]=!1}}setupTypeNumber(n){let s=In.getBCHTypeNumber(this.typeNumber);for(let r=0;r<18;r++){let o=!n&&(s>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(let r=0;r<18;r++){let o=!n&&(s>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}}setupTypeInfo(n,s){let r=this.errorCorrectLevel<<3|s,o=In.getBCHTypeInfo(r);for(let t=0;t<15;t++){let a=!n&&(o>>t&1)==1;t<6?this.modules[t][8]=a:t<8?this.modules[t+1][8]=a:this.modules[this.moduleCount-15+t][8]=a}for(let t=0;t<15;t++){let a=!n&&(o>>t&1)==1;t<8?this.modules[8][this.moduleCount-t-1]=a:t<9?this.modules[8][15-t-1+1]=a:this.modules[8][15-t-1]=a}this.modules[this.moduleCount-8][8]=!n}mapData(n,s){let r=-1,o=this.moduleCount-1,t=7,a=0;for(let p=this.moduleCount-1;p>0;p-=2)for(p==6&&p--;;){for(let c=0;c<2;c++)if(this.modules[o][p-c]==null){let u=!1;a<n.length&&(u=(n[a]>>>t&1)==1),In.getMask(s,o,p-c)&&(u=!u),this.modules[o][p-c]=u,t--,t==-1&&(a++,t=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}}static createData(n,s,r){let o=cL.getRSBlocks(n,s),t=new tg;for(let p=0;p<r.length;p++){let c=r[p];t.put(c.mode,4),t.put(c.getLength(),In.getLengthInBits(c.mode,n)),c.write(t)}let a=0;for(let p=0;p<o.length;p++)a+=o[p].dataCount;if(t.getLengthInBits()>a*8)throw new Error("code length overflow. ("+t.getLengthInBits()+">"+a*8+")");for(t.getLengthInBits()+4<=a*8&&t.put(0,4);t.getLengthInBits()%8!=0;)t.putBit(!1);for(;!(t.getLengthInBits()>=a*8||(t.put(e.PAD0,8),t.getLengthInBits()>=a*8));)t.put(e.PAD1,8);return e.createBytes(t,o)}static createBytes(n,s){let r=0,o=0,t=0,a=new Array(s.length),p=new Array(s.length);for(let l=0;l<s.length;l++){let d=s[l].dataCount,v=s[l].totalCount-d;o=Math.max(o,d),t=Math.max(t,v),a[l]=new Array(d);for(let x=0;x<a[l].length;x++)a[l][x]=255&n.buffer[x+r];r+=d;let f=In.getErrorCorrectPolynomial(v),m=new f1(a[l],f.getLength()-1).mod(f);p[l]=new Array(f.getLength()-1);for(let x=0;x<p[l].length;x++){let y=x+m.getLength()-p[l].length;p[l][x]=y>=0?m.get(y):0}}let c=0;for(let l=0;l<s.length;l++)c+=s[l].totalCount;let u=new Array(c),h=0;for(let l=0;l<o;l++)for(let d=0;d<s.length;d++)l<a[d].length&&(u[h++]=a[d][l]);for(let l=0;l<t;l++)for(let d=0;d<s.length;d++)l<p[d].length&&(u[h++]=p[d][l]);return u}}return e.PAD0=236,e.PAD1=17,e})();function yq(e,i="L",n=-1){try{let s=new mq(n,o1[i]),r=[];s.addData(e),s.make();let o=s.modules,t=o.length;for(let[p,c]of o.entries()){let u;for(let[h,l]of c.entries())l?(u||(u={x:h,y:p,width:0,height:1}),u.width++):(u&&u.width>0&&r.push(u),u=void 0);u&&u.width>0&&r.push(u)}let a=[`<svg xmlns="http://www.w3.org/2000/svg" width="300" viewBox="0 0 ${t} ${t}">`];for(let{x:p,y:c,width:u,height:h}of r)a.push(`<rect x="${p}" y="${c}" width="${u}" height="${h}" />`);return a.push("</svg>"),a.join("")}catch(s){console.log("Could not render QR code: ",s)}}function xq(e){mn(e,"svelte-vj0cjm",".wrapper.svelte-vj0cjm.svelte-vj0cjm{position:relative;display:grid;background:var(--body-background-color);border-radius:var(--space-s);padding:var(--space-m);box-shadow:var(--qr-border-color);margin-bottom:var(--space-xs)}.qr.svelte-vj0cjm.svelte-vj0cjm{display:flex}.qr.svelte-vj0cjm svg{border-radius:var(--space-2xs);padding:var(--space-xs);background:white;flex:1;width:100%}dialog.svelte-vj0cjm.svelte-vj0cjm{padding:0;border-radius:var(--space-2xs);border:none}dialog.svelte-vj0cjm .qr.svelte-vj0cjm{background-color:white;width:min(800px, 80vmin);border:none}.button-group.svelte-vj0cjm.svelte-vj0cjm{display:grid;grid-template-columns:1fr 1fr;justify-items:center;gap:var(--space-s);position:absolute;top:100%;width:100%;transform:translateY(-50%)}.button-group.svelte-vj0cjm button.svelte-vj0cjm{display:flex;align-items:center;gap:var(--space-xs);border:none;cursor:pointer;background:var(--body-background-color);color:var(--body-text-color);font-size:var(--fs-0)}@media(max-width: 340px){.button-group.svelte-vj0cjm button span.svelte-vj0cjm:last-of-type{display:none}}.icon.svelte-vj0cjm.svelte-vj0cjm{display:grid;place-content:center;grid-template-areas:'stack'}.icon.svelte-vj0cjm>.svelte-vj0cjm{grid-area:stack}.check.svelte-vj0cjm.svelte-vj0cjm{background:var(--body-background-color)}")}function uL(e){let i,n,s,r,o,t,a,p,c,u,h,l,d,v,f=e[3]&&hL(e),g=e[3]&&dL(e);p=new _i({props:{name:"copy",size:"var(--space-m)"}});let m=e[2]&&fL();return{c(){i=Be("div"),f&&f.c(),n=at(),s=Be("div"),g&&g.c(),r=at(),o=Be("button"),t=Be("div"),a=Be("div"),De(p.$$.fragment),c=at(),m&&m.c(),u=at(),h=Be("div"),h.innerHTML='<span class="svelte-vj0cjm">Copy</span> <span class="svelte-vj0cjm">to clipboard</span>',K(a,"class","svelte-vj0cjm"),K(t,"class","icon svelte-vj0cjm"),K(o,"class","copy svelte-vj0cjm"),K(s,"class","button-group svelte-vj0cjm"),K(i,"class","wrapper svelte-vj0cjm")},m(x,y){we(x,i,y),f&&f.m(i,null),me(i,n),me(i,s),g&&g.m(s,null),me(s,r),me(s,o),me(o,t),me(t,a),Le(p,a,null),me(t,c),m&&m.m(t,null),me(o,u),me(o,h),l=!0,d||(v=Sr(o,"click",e[11]),d=!0)},p(x,y){x[3]?f?f.p(x,y):(f=hL(x),f.c(),f.m(i,n)):f&&(f.d(1),f=null),x[3]?g?(g.p(x,y),y&8&&ee(g,1)):(g=dL(x),g.c(),ee(g,1),g.m(s,r)):g&&(Xt(),se(g,1,1,()=>{g=null}),$t()),x[2]?m?y&4&&ee(m,1):(m=fL(),m.c(),ee(m,1),m.m(t,null)):m&&(Xt(),se(m,1,1,()=>{m=null}),$t())},i(x){l||(ee(g),ee(p.$$.fragment,x),ee(m),l=!0)},o(x){se(g),se(p.$$.fragment,x),se(m),l=!1},d(x){x&&Me(i),f&&f.d(),g&&g.d(),Re(p),m&&m.d(),d=!1,v()}}}function hL(e){let i,n,s,r,o,t;return{c(){i=Be("div"),n=at(),s=Be("dialog"),r=Be("button"),K(i,"class","main qr svelte-vj0cjm"),K(r,"class","qr svelte-vj0cjm"),K(s,"class","svelte-vj0cjm")},m(a,p){we(a,i,p),i.innerHTML=e[3],we(a,n,p),we(a,s,p),me(s,r),r.innerHTML=e[3],e[10](s),o||(t=[Sr(r,"click",e[6]),Sr(s,"click",HL(e[7])),Sr(s,"keydown",BK(y6(e[8])),!0)],o=!0)},p(a,p){p&8&&(i.innerHTML=a[3]),p&8&&(r.innerHTML=a[3])},d(a){a&&(Me(i),Me(n),Me(s)),e[10](null),o=!1,ao(t)}}}function dL(e){let i,n,s,r,o,t,a;return n=new _i({props:{name:"expand",size:"var(--space-m)"}}),{c(){i=Be("button"),De(n.$$.fragment),s=at(),r=Be("div"),r.innerHTML='<span class="svelte-vj0cjm">Expand</span> <span class="svelte-vj0cjm">QR code</span>',K(i,"class","expand svelte-vj0cjm")},m(p,c){we(p,i,c),Le(n,i,null),me(i,s),me(i,r),o=!0,t||(a=Sr(i,"click",e[5]),t=!0)},p:nt,i(p){o||(ee(n.$$.fragment,p),o=!0)},o(p){se(n.$$.fragment,p),o=!1},d(p){p&&Me(i),Re(n),t=!1,a()}}}function fL(e){let i,n,s,r;return n=new _i({props:{name:"check",size:"var(--space-m)"}}),{c(){i=Be("div"),De(n.$$.fragment),K(i,"class","check svelte-vj0cjm")},m(o,t){we(o,i,t),Le(n,i,null),r=!0},i(o){r||(ee(n.$$.fragment,o),o&&Ec(()=>{r&&(s||(s=NA(i,oL,{duration:180,easing:iL},!0)),s.run(1))}),r=!0)},o(o){se(n.$$.fragment,o),o&&(s||(s=NA(i,oL,{duration:180,easing:iL},!1)),s.run(0)),r=!1},d(o){o&&Me(i),Re(n),o&&s&&s.end()}}}function bq(e){let i,n,s=e[0]&&uL(e);return{c(){s&&s.c(),i=Dn()},m(r,o){s&&s.m(r,o),we(r,i,o),n=!0},p(r,[o]){r[0]?s?(s.p(r,o),o&1&&ee(s,1)):(s=uL(r),s.c(),ee(s,1),s.m(i.parentNode,i)):s&&(Xt(),se(s,1,1,()=>{s=null}),$t())},i(r){n||(ee(s),n=!0)},o(r){se(s),n=!1},d(r){r&&Me(i),s&&s.d(r)}}}function Mq(e,i,n){let s,{data:r=""}=i,o,t=!1,a=!1,p=hn();ut(e,p,g=>n(3,s=g)),Oh(()=>{try{p.set(yq(r))}catch(g){console.error("Error rendering QR code",g)}});let c=()=>{t?u():(t=!0,o.showModal())},u=()=>{o.close(),t=!1};function h(g){var m=o.getBoundingClientRect(),x=m.top<=g.clientY&&g.clientY<=m.top+m.height&&m.left<=g.clientX&&g.clientX<=m.left+m.width;x||u()}function l(g){g.key==="Escape"&&u()}function d(g){navigator.clipboard&&(navigator.clipboard.writeText(g),n(2,a=!0),setTimeout(()=>n(2,a=!1),1200))}function v(g){fl[g?"unshift":"push"](()=>{o=g,n(1,o)})}let f=()=>d(r);return e.$$set=g=>{"data"in g&&n(0,r=g.data)},[r,o,a,s,p,c,u,h,l,d,v,f]}var Qb=class extends Rt{constructor(i){super(),Pt(this,i,Mq,bq,Dt,{data:0},xq)}};function Cq(e){mn(e,"svelte-1gpx2bs",'.wrapper.svelte-1gpx2bs{position:relative;display:flex;display:grid;background-color:var(--text-area-background);border-radius:var(--border-radius-inner);overflow:hidden}textarea.svelte-1gpx2bs{--rows:9;flex:1;color:var(--text-area-text-color);background-color:var(--text-area-background);border:none;font-size:var(--fs-0);font-weight:400;line-height:1.5;resize:none;opacity:0.75;height:calc(var(--fs-0) * 1.5 * var(--rows) - var(--fs-0) * 1.5 * 0.5);border-radius:inherit;padding-inline-start:var(--space-m);padding-block-start:var(--space-m)}.wrapper.svelte-1gpx2bs::before,.wrapper.svelte-1gpx2bs::after{content:"";display:block;position:absolute;z-index:2;width:100%;height:var(--space-l);background:linear-gradient(var(--deg), transparent, black 100%)}.wrapper.svelte-1gpx2bs::before{--deg:0;top:0;opacity:var(--top-shadow-opacity, 0)}.wrapper.svelte-1gpx2bs::after{--deg:180deg;bottom:0;opacity:var(--bottom-shadow-opacity, 0)}')}function wq(e){let i,n,s,r,o;return{c(){i=Be("div"),n=Be("textarea"),n.readOnly=!0,n.value=s=e[0].content,K(n,"class","svelte-1gpx2bs"),K(i,"class","wrapper svelte-1gpx2bs")},m(t,a){we(t,i,a),me(i,n),e[4](n),e[5](i),r||(o=Sr(n,"scroll",e[3]),r=!0)},p(t,[a]){a&1&&s!==(s=t[0].content)&&(n.value=s)},i:nt,o:nt,d(t){t&&Me(i),e[4](null),e[5](null),r=!1,o()}}}var Lb=.2;function Sq(e,i,n){let{data:s={}}=i,r,o;function t(c){let u=c.target.scrollHeight-c.target.clientHeight,h=c.target.scrollTop/u,l=h*Lb,d=(1-h)*Lb;r.style.setProperty("--top-shadow-opacity",l),r.style.setProperty("--bottom-shadow-opacity",d)}Oh(()=>{let c=(1-o.scrollTop/(o.scrollHeight-o.clientHeight))*Lb;r.style.setProperty("--bottom-shadow-opacity",c)});function a(c){fl[c?"unshift":"push"](()=>{o=c,n(2,o)})}function p(c){fl[c?"unshift":"push"](()=>{r=c,n(1,r)})}return e.$$set=c=>{"data"in c&&n(0,s=c.data)},[s,r,o,t,a,p]}var _b=class extends Rt{constructor(i){super(),Pt(this,i,Sq,wq,Dt,{data:0},Cq)}};function Iq(e){mn(e,"svelte-1kd5uy1",".prompt.svelte-1kd5uy1{display:flex;flex-direction:column;gap:var(--space-m);gap:var(--space-l)}.text.svelte-1kd5uy1{display:flex;flex-direction:column;gap:var(--space-s);text-align:center}")}function pL(e,i,n){let s=e.slice();return s[6]=i[n],s}function kq(e){let i=e[0]?.args.title+"",n;return{c(){n=qt(i)},m(s,r){we(s,n,r)},p(s,r){r&1&&i!==(i=s[0]?.args.title+"")&&on(n,i)},d(s){s&&Me(n)}}}function Tq(e){let i=e[0]?.args.body+"",n;return{c(){n=qt(i)},m(s,r){we(s,n,r)},p(s,r){r&1&&i!==(i=s[0]?.args.body+"")&&on(n,i)},d(s){s&&Me(n)}}}function vL(e){let i,n,s,r=[e[6].props];var o=e[6].component;function t(a,p){let c={};if(p!==void 0&&p&2)c=BA(r,[VA(a[6].props)]);else for(let u=0;u<r.length;u+=1)c=Xv(c,r[u]);return{props:c}}return o&&(i=PA(o,t(e)),i.$on("complete",e[4]),i.$on("cancel",e[5])),{c(){i&&De(i.$$.fragment),n=Dn()},m(a,p){i&&Le(i,a,p),we(a,n,p),s=!0},p(a,p){if(p&2&&o!==(o=a[6].component)){if(i){Xt();let c=i;se(c.$$.fragment,1,0,()=>{Re(c,1)}),$t()}o?(i=PA(o,t(a,p)),i.$on("complete",a[4]),i.$on("cancel",a[5]),De(i.$$.fragment),ee(i.$$.fragment,1),Le(i,n.parentNode,n)):i=null}else if(o){let c=p&2?BA(r,[VA(a[6].props)]):{};i.$set(c)}},i(a){s||(i&&ee(i.$$.fragment,a),s=!0)},o(a){i&&se(i.$$.fragment,a),s=!1},d(a){a&&Me(n),i&&Re(i,a)}}}function Eq(e){let i,n,s,r,o,t,a;s=new Bs({props:{$$slots:{default:[kq]},$$scope:{ctx:e}}}),o=new d1({props:{$$slots:{default:[Tq]},$$scope:{ctx:e}}});let p=hs(e[1]),c=[];for(let h=0;h<p.length;h+=1)c[h]=vL(pL(e,p,h));let u=h=>se(c[h],1,1,()=>{c[h]=null});return{c(){i=Be("div"),n=Be("div"),De(s.$$.fragment),r=at(),De(o.$$.fragment),t=at();for(let h=0;h<c.length;h+=1)c[h].c();K(n,"class","text svelte-1kd5uy1"),K(i,"class","prompt svelte-1kd5uy1")},m(h,l){we(h,i,l),me(i,n),Le(s,n,null),me(n,r),Le(o,n,null),me(i,t);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(i,null);a=!0},p(h,[l]){let d={};l&513&&(d.$$scope={dirty:l,ctx:h}),s.$set(d);let v={};if(l&513&&(v.$$scope={dirty:l,ctx:h}),o.$set(v),l&10){p=hs(h[1]);let f;for(f=0;f<p.length;f+=1){let g=pL(h,p,f);c[f]?(c[f].p(g,l),ee(c[f],1)):(c[f]=vL(g),c[f].c(),ee(c[f],1),c[f].m(i,null))}for(Xt(),f=p.length;f<c.length;f+=1)u(f);$t()}},i(h){if(!a){ee(s.$$.fragment,h),ee(o.$$.fragment,h);for(let l=0;l<p.length;l+=1)ee(c[l]);a=!0}},o(h){se(s.$$.fragment,h),se(o.$$.fragment,h),c=c.filter(Boolean);for(let l=0;l<c.length;l+=1)se(c[l]);a=!1},d(h){h&&Me(i),Re(s),Re(o),Dh(c,h)}}}function Aq(e,i,n){let s,r;ut(e,dl,c=>n(0,s=c));let o=Qi(dl,c=>{let u=[];return c&&c.args.elements.forEach(h=>{switch(h.type){case"accept":{u.push({component:Xb,props:{data:h.data}});break}case"asset":{u.push({component:$b,props:{data:h.data}});break}case"close":{u.push({component:Jb,props:{label:h.label}});break}case"link":{u.push({component:eg,props:{data:h.data}});break}case"qr":{u.push({component:Qb,props:{data:h.data}});break}case"countdown":{u.push({component:Ac,props:{data:h.data}});break}case"textarea":{u.push({component:_b,props:{data:h.data}});break}case"button":{u.push({component:Rh,props:{data:h.data}});break}default:throw new Error(`Unknown element type: ${h.type}`)}}),u});ut(e,o,c=>n(1,r=c));let t=Vs();return[s,r,o,t,()=>t("complete"),()=>t("cancel")]}var qb=class extends Rt{constructor(i){super(),Pt(this,i,Aq,Eq,Dt,{},Iq)}},gL="1.4.0-rc6";function Lq(e){mn(e,"svelte-tj2pg7","div.svelte-tj2pg7{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-m)}svg.svelte-tj2pg7{height:auto;width:100%;max-width:200px}")}function Rq(e){let i,n,s,r,o,t,a,p,c,u,h,l,d;return{c(){i=Lt("svg"),n=Lt("path"),s=Lt("path"),r=Lt("path"),o=Lt("path"),t=Lt("path"),a=Lt("path"),p=Lt("path"),c=Lt("path"),u=Lt("path"),h=Lt("path"),l=Lt("path"),d=Lt("path"),K(n,"d","M273.403 84.085C273.403 83.4185 272.851 82.8783 272.171 82.8783H265.007C264.327 82.8783 263.775 83.4185 263.775 84.085V106.927C263.775 110.163 263.082 112.365 261.908 113.745C260.77 115.083 259.014 115.841 256.4 115.841C253.723 115.841 251.923 115.078 250.76 113.737C249.564 112.357 248.859 110.158 248.859 106.927V96.1519C248.859 95.4854 248.307 94.9452 247.627 94.9452H240.408C239.727 94.9452 239.175 95.4854 239.175 96.1519V106.927C239.175 110.16 238.474 112.36 237.286 113.74C236.131 115.08 234.345 115.841 231.689 115.841C229.131 115.841 227.36 115.114 226.172 113.816C225.018 112.514 224.315 110.304 224.315 106.927V84.085C224.315 83.4185 223.763 82.8783 223.082 82.8783H215.863C215.183 82.8783 214.631 83.4185 214.631 84.085V107.148C214.631 112.616 216.054 116.982 219.088 120.045C222.122 123.107 226.385 124.559 231.689 124.559C234.557 124.559 237.131 124.116 239.384 123.194L239.394 123.19C241.185 122.439 242.729 121.465 244.007 120.261C245.263 121.467 246.796 122.44 248.585 123.19L248.609 123.2C250.927 124.115 253.531 124.559 256.4 124.559C261.699 124.559 265.947 123.129 268.946 120.1C271.982 117.036 273.403 112.65 273.403 107.148V84.085Z"),K(n,"fill","#494E62"),K(s,"d","M326.457 84.085C326.457 83.4185 325.905 82.8783 325.224 82.8783H318.005C317.325 82.8783 316.773 83.4185 316.773 84.085V98.8619H299.136V84.085C299.136 83.4185 298.584 82.8783 297.904 82.8783H290.685C290.004 82.8783 289.452 83.4185 289.452 84.085V122.8C289.452 123.466 290.004 124.006 290.685 124.006H297.904C298.584 124.006 299.136 123.466 299.136 122.8V107.414H316.773V122.8C316.773 123.466 317.325 124.006 318.005 124.006H325.224C325.905 124.006 326.457 123.466 326.457 122.8V84.085Z"),K(s,"fill","#494E62"),K(r,"fill-rule","evenodd"),K(r,"clip-rule","evenodd"),K(r,"d","M378.176 124.006C378.857 124.006 379.408 123.466 379.408 122.8V101.341C379.408 97.4001 378.66 93.9713 377.103 91.1039C375.588 88.2098 373.417 86.0002 370.597 84.5155C367.796 83.0409 364.552 82.3252 360.906 82.3252C357.26 82.3252 354.016 83.0409 351.215 84.5155C348.395 86.0002 346.206 88.2088 344.655 91.1009L344.652 91.1063C343.133 93.9728 342.404 97.4004 342.404 101.341V122.8C342.404 123.466 342.955 124.006 343.636 124.006H350.744C351.425 124.006 351.977 123.466 351.977 122.8V114.051H369.724V122.8C369.724 123.466 370.276 124.006 370.957 124.006H378.176ZM367.395 93.4304L367.404 93.4391C368.88 94.9405 369.724 97.2793 369.724 100.677V105.609H351.977V100.677C351.977 97.2793 352.821 94.9405 354.297 93.4392L354.306 93.4303C355.798 91.882 357.923 91.0435 360.85 91.0435C363.778 91.0435 365.903 91.882 367.395 93.4304Z"),K(r,"fill","#494E62"),K(o,"fill-rule","evenodd"),K(o,"clip-rule","evenodd"),K(o,"d","M421.019 123.482C421.249 123.81 421.63 124.006 422.036 124.006H429.81C430.268 124.006 430.688 123.758 430.901 123.361C431.114 122.964 431.085 122.485 430.826 122.116L422.723 110.587C424.933 109.494 426.707 107.983 428.005 106.045C429.603 103.717 430.376 100.969 430.376 97.8563C430.376 94.8268 429.663 92.1432 428.187 89.8559C426.712 87.5705 424.59 85.837 421.877 84.6445C419.204 83.4531 416.099 82.8783 412.596 82.8783H396.603C395.923 82.8783 395.371 83.4185 395.371 84.085V122.8C395.371 123.466 395.923 124.006 396.603 124.006H403.822C404.503 124.006 405.055 123.466 405.055 122.8V112.724H412.596C412.917 112.724 413.212 112.72 413.475 112.711L421.019 123.482ZM418.638 93.0871C419.931 94.1409 420.637 95.6687 420.637 97.8563C420.637 100.039 419.933 101.592 418.631 102.686C417.309 103.76 415.252 104.393 412.263 104.393H405.055V91.3754H412.263C415.256 91.3754 417.315 92.0098 418.638 93.0871Z"),K(o,"fill","#494E62"),K(t,"d","M453.668 122.8V109.184H469.372C470.053 109.184 470.605 108.644 470.605 107.977V101.894C470.605 101.227 470.053 100.687 469.372 100.687H453.668V98.5753C453.668 95.9375 454.441 94.1359 455.807 92.9529C457.199 91.7469 459.374 91.0435 462.542 91.0435C465.829 91.0435 468.452 91.7903 470.494 93.201C470.805 93.416 471.2 93.478 471.565 93.3691C471.929 93.2601 472.221 92.9924 472.357 92.6438L474.634 86.7813C474.839 86.251 474.64 85.6517 474.155 85.3418C472.582 84.3375 470.769 83.5885 468.732 83.0814C466.697 82.5746 464.521 82.3252 462.209 82.3252C456.701 82.3252 452.209 83.729 448.887 86.6749C445.583 89.6004 443.984 93.6202 443.984 98.5753V122.8C443.984 123.466 444.536 124.006 445.217 124.006H452.436C453.116 124.006 453.668 123.466 453.668 122.8Z"),K(t,"fill","#494E62"),K(a,"d","M177.58 117.515C177.507 121.507 174.869 124.279 172.268 125.782L166.67 129.016C163.999 130.559 160.875 131.159 158.077 131.159C155.278 131.159 152.155 130.559 149.485 129.016L143.994 125.782V136.762C143.994 140.829 141.316 143.664 138.68 145.188L133.083 148.422C130.411 149.965 127.288 150.565 124.489 150.565C121.69 150.565 118.567 149.965 115.897 148.422L107.695 143.683L99.495 148.422C96.8235 149.965 93.7002 150.565 90.9014 150.565C88.1027 150.565 84.9808 149.965 82.3093 148.422L43.1243 125.782C40.523 124.279 37.8851 121.507 37.812 117.515L37.8105 117.269V131.648L37.812 131.895C37.8851 135.886 40.523 138.659 43.1243 140.161L82.3093 162.801C84.9808 164.344 88.1027 164.944 90.9014 164.944C93.7002 164.944 96.8235 164.344 99.495 162.801L107.695 158.063L115.897 162.801C118.567 164.344 121.69 164.944 124.489 164.944C127.288 164.944 130.411 164.344 133.083 162.801L138.68 159.567C141.316 158.044 143.994 155.209 143.994 151.142V140.161L149.485 143.396C152.155 144.939 155.278 145.538 158.077 145.538C160.875 145.538 163.999 144.939 166.67 143.396L172.268 140.161C174.869 138.659 177.507 135.886 177.58 131.895L177.58 117.515Z"),K(a,"fill","#F4FAF4"),K(p,"d","M37.8456 103.768C37.8224 103.982 37.8105 104.199 37.8105 104.419V117.268L37.812 117.515C37.8851 121.507 40.523 124.279 43.1243 125.782L82.3093 148.422C84.9808 149.964 88.1027 150.564 90.9014 150.564C93.7002 150.564 96.8235 149.964 99.495 148.422L107.695 143.683L115.897 148.422C118.567 149.964 121.69 150.564 124.489 150.564C127.288 150.564 130.411 149.964 133.083 148.422L138.68 145.187C141.316 143.664 143.994 140.829 143.994 136.762V125.782L149.484 129.016C152.155 130.559 155.278 131.159 158.077 131.159C160.875 131.159 163.999 130.559 166.67 129.016L172.268 125.782C174.869 124.279 177.507 121.507 177.58 117.515V103.136C177.506 107.127 174.869 109.899 172.268 111.402L166.67 114.636C163.999 116.179 160.875 116.779 158.077 116.779C155.278 116.779 152.155 116.179 149.484 114.636L143.887 111.402C143.797 111.35 143.707 111.296 143.617 111.241C143.86 112.035 143.997 112.892 143.997 113.813C143.997 114.082 143.985 114.346 143.962 114.604C143.983 114.807 143.994 115.012 143.994 115.219V122.382C143.994 126.449 141.316 129.284 138.68 130.808L133.083 134.042C130.411 135.585 127.288 136.184 124.489 136.184C121.69 136.184 118.567 135.585 115.897 134.042L107.695 129.303L99.495 134.042C96.8235 135.585 93.7002 136.184 90.9014 136.184C88.1027 136.184 84.9808 135.585 82.3093 134.042L43.1243 111.402C40.6627 109.98 38.1684 107.421 37.8456 103.768Z"),K(p,"fill","#B2F2E1"),K(c,"d","M105.024 64.9883C105.03 65.0464 105.036 65.1046 105.043 65.1627C105.324 67.5849 106.527 69.4925 108.024 70.9048C107.915 70.903 107.807 70.9021 107.699 70.9021C106.824 70.9021 105.918 70.9607 105.003 71.0884V65.4957C105.003 65.3248 105.01 65.1556 105.024 64.9883Z"),K(c,"fill","#B2F2E1"),K(u,"d","M48.7253 82.7478L43.1274 85.9821C40.6334 87.423 38.1038 90.037 37.837 93.7573C37.8195 93.932 37.8105 94.1145 37.8105 94.3053V102.889L37.812 103.135C37.8851 107.127 40.523 109.899 43.1243 111.402L82.3093 134.042C84.9808 135.585 88.1027 136.185 90.9014 136.185C93.7001 136.185 96.8235 135.585 99.495 134.042L107.695 129.304L115.897 134.042C118.567 135.585 121.69 136.185 124.489 136.185C127.288 136.185 130.411 135.585 133.083 134.042L138.68 130.808C141.316 129.284 143.994 126.45 143.994 122.382V115.219C143.994 115.012 143.983 114.807 143.962 114.605C143.985 114.346 143.997 114.082 143.997 113.813C143.997 112.892 143.86 112.035 143.617 111.241C143.707 111.296 143.797 111.35 143.887 111.402L149.484 114.636C152.155 116.179 155.278 116.779 158.077 116.779C160.875 116.779 163.999 116.179 166.67 114.636L172.268 111.402C174.869 109.899 177.507 107.127 177.58 103.135V94.6923C177.583 94.5981 177.584 94.5031 177.584 94.4075C177.584 94.3119 177.583 94.217 177.58 94.1228L177.581 75.2371C177.583 75.1592 177.584 75.0808 177.584 75.0019C177.584 70.9348 174.908 68.0999 172.271 66.5765L133.085 43.9366C130.415 42.3936 127.292 41.7939 124.493 41.7939C121.694 41.7939 118.571 42.3936 115.9 43.9366L110.303 47.1708C107.666 48.6943 104.989 51.5291 104.989 55.5963C104.989 55.788 104.995 55.9769 105.006 56.1631C105.004 56.2285 105.003 56.2944 105.003 56.3609V63.611C104.984 63.8988 104.981 64.1871 104.992 64.4752C104.999 64.7047 105.016 64.9341 105.043 65.163C105.324 67.5851 106.527 69.4928 108.024 70.9051C107.915 70.9033 107.807 70.9024 107.699 70.9024C104.9 70.9024 101.777 71.5021 99.1067 73.045L93.5087 76.2793C90.8719 77.8027 88.1951 80.6376 88.1951 84.7047C88.1951 84.9692 88.2065 85.2285 88.2284 85.4826C88.2236 85.5807 88.2212 85.6793 88.2212 85.7785V92.5656L88.2109 92.7314L88.2007 92.9128C88.1934 93.0894 88.1919 93.2661 88.1948 93.4428C88.2007 93.8112 88.2314 94.1794 88.2855 94.5454C88.3525 94.997 88.4513 95.4299 88.5777 95.8443L65.9101 82.7478C63.2396 81.2049 60.1164 80.6052 57.3177 80.6052C54.519 80.6052 51.3958 81.2049 48.7253 82.7478Z"),K(u,"fill","#7BE7CE"),K(h,"d","M130.088 49.1268C126.997 47.3406 121.984 47.3405 118.893 49.1268L113.295 52.3611C110.203 54.1473 110.203 57.0434 113.295 58.8296L151.801 81.0771C153.286 81.9349 154.12 83.0983 154.12 84.3114V85.0962C154.12 86.3092 153.286 87.4726 151.801 88.3304L146.882 91.1723C143.791 92.9586 143.791 95.8546 146.882 97.6409L152.48 100.875C155.572 102.661 160.584 102.661 163.676 100.875L169.274 97.6409C172.366 95.8546 172.366 92.9586 169.274 91.1723L164.355 88.3304C162.87 87.4726 162.036 86.3092 162.036 85.0962V84.3114C162.036 83.0983 162.87 81.9349 164.355 81.0771L169.274 78.2352C172.366 76.449 172.366 73.5529 169.274 71.7667L130.088 49.1268Z"),K(h,"fill","#494E62"),K(l,"d","M62.9133 87.938C59.8216 86.1518 54.8091 86.1518 51.7174 87.938L46.1195 91.1723C43.0279 92.9585 43.0279 95.8546 46.1195 97.6408L85.305 120.281C88.3967 122.067 93.4092 122.067 96.5009 120.281L107.697 113.812L62.9133 87.938Z"),K(l,"fill","#494E62"),K(d,"d","M128.449 104.502C128.449 105.715 129.283 106.878 130.768 107.736L135.686 110.578C138.778 112.364 138.778 115.26 135.686 117.046L130.088 120.281C126.997 122.067 121.984 122.067 118.893 120.281L107.697 113.812L118.213 107.736C119.698 106.878 120.532 105.715 120.532 104.502L120.532 103.717C120.532 102.504 119.698 101.341 118.213 100.483L96.5009 87.938C93.4092 86.1518 93.4092 83.2557 96.5009 81.4695L102.099 78.2352C105.19 76.449 110.203 76.449 113.295 78.2352L135.686 91.1723C138.778 92.9585 138.778 95.8546 135.686 97.6409L130.768 100.483C129.283 101.341 128.449 102.504 128.449 103.717L128.449 104.502Z"),K(d,"fill","#494E62"),K(i,"width","512"),K(i,"height","206"),K(i,"viewBox","0 0 512 206"),K(i,"fill","none"),K(i,"xmlns","http://www.w3.org/2000/svg"),K(i,"class","svelte-tj2pg7")},m(v,f){we(v,i,f),me(i,n),me(i,s),me(i,r),me(i,o),me(i,t),me(i,a),me(i,p),me(i,c),me(i,u),me(i,h),me(i,l),me(i,d)},d(v){v&&Me(i)}}}function Dq(e){let i,n,s,r,o,t,a,p,c,u,h,l,d;return{c(){i=Lt("svg"),n=Lt("path"),s=Lt("path"),r=Lt("path"),o=Lt("path"),t=Lt("path"),a=Lt("path"),p=Lt("path"),c=Lt("path"),u=Lt("path"),h=Lt("path"),l=Lt("path"),d=Lt("path"),K(n,"d","M273.61 84.1001C273.61 83.4342 273.058 82.8944 272.378 82.8944H265.214C264.534 82.8944 263.982 83.4342 263.982 84.1001V106.924C263.982 110.157 263.289 112.358 262.115 113.737C260.978 115.074 259.221 115.831 256.607 115.831C253.93 115.831 252.13 115.069 250.967 113.728C249.771 112.35 249.066 110.153 249.066 106.924V96.1574C249.066 95.4915 248.514 94.9517 247.834 94.9517H240.615C239.934 94.9517 239.382 95.4915 239.382 96.1574V106.924C239.382 110.154 238.681 112.352 237.493 113.731C236.338 115.07 234.552 115.831 231.897 115.831C229.338 115.831 227.567 115.104 226.379 113.807C225.225 112.507 224.522 110.299 224.522 106.924V84.1001C224.522 83.4342 223.97 82.8944 223.289 82.8944H216.071C215.39 82.8944 214.838 83.4342 214.838 84.1001V107.145C214.838 112.609 216.261 116.971 219.295 120.031C222.329 123.091 226.593 124.542 231.897 124.542C234.764 124.542 237.338 124.099 239.591 123.178L239.601 123.174C241.392 122.423 242.936 121.451 244.214 120.248C245.47 121.452 247.003 122.424 248.792 123.174L248.816 123.184C251.134 124.098 253.738 124.542 256.607 124.542C261.906 124.542 266.154 123.113 269.153 120.086C272.189 117.025 273.61 112.643 273.61 107.145V84.1001Z"),K(n,"fill","white"),K(s,"d","M326.664 84.1001C326.664 83.4342 326.112 82.8944 325.431 82.8944H318.212C317.532 82.8944 316.98 83.4342 316.98 84.1001V98.8652H299.343V84.1001C299.343 83.4342 298.791 82.8944 298.111 82.8944H290.892C290.211 82.8944 289.659 83.4342 289.659 84.1001V122.784C289.659 123.45 290.211 123.99 290.892 123.99H298.111C298.791 123.99 299.343 123.45 299.343 122.784V107.411H316.98V122.784C316.98 123.45 317.532 123.99 318.212 123.99H325.431C326.112 123.99 326.664 123.45 326.664 122.784V84.1001Z"),K(s,"fill","white"),K(r,"fill-rule","evenodd"),K(r,"clip-rule","evenodd"),K(r,"d","M378.383 123.99C379.064 123.99 379.615 123.45 379.615 122.784V101.342C379.615 97.4046 378.867 93.9786 377.31 91.1134C375.795 88.2217 373.624 86.0139 370.804 84.5303C368.003 83.0569 364.759 82.3418 361.113 82.3418C357.467 82.3418 354.223 83.0569 351.422 84.5303C348.602 86.0138 346.413 88.2207 344.862 91.1105L344.859 91.1159C343.34 93.9801 342.611 97.4049 342.611 101.342V122.784C342.611 123.45 343.162 123.99 343.843 123.99H350.951C351.632 123.99 352.184 123.45 352.184 122.784V114.042H369.931V122.784C369.931 123.45 370.483 123.99 371.164 123.99H378.383ZM367.602 93.4381L367.611 93.4468C369.087 94.947 369.931 97.284 369.931 100.679V105.607H352.184V100.679C352.184 97.284 353.028 94.947 354.504 93.4469L354.513 93.438C356.005 91.891 358.13 91.0532 361.057 91.0532C363.985 91.0532 366.11 91.891 367.602 93.4381Z"),K(r,"fill","white"),K(o,"fill-rule","evenodd"),K(o,"clip-rule","evenodd"),K(o,"d","M421.226 123.466C421.456 123.794 421.837 123.99 422.243 123.99H430.017C430.475 123.99 430.895 123.741 431.108 123.345C431.321 122.949 431.292 122.469 431.033 122.1L422.93 110.581C425.14 109.488 426.914 107.979 428.212 106.043C429.81 103.717 430.583 100.971 430.583 97.8605C430.583 94.8334 429.87 92.152 428.394 89.8665C426.919 87.5829 424.797 85.8508 422.084 84.6593C419.411 83.4688 416.306 82.8944 412.803 82.8944H396.81C396.13 82.8944 395.578 83.4342 395.578 84.1001V122.784C395.578 123.45 396.13 123.99 396.81 123.99H404.029C404.71 123.99 405.262 123.45 405.262 122.784V112.716H412.803C413.124 112.716 413.419 112.712 413.682 112.703L421.226 123.466ZM418.845 93.0951C420.138 94.1481 420.844 95.6746 420.844 97.8605C420.844 100.042 420.14 101.594 418.838 102.686C417.516 103.76 415.459 104.391 412.47 104.391H405.262V91.3847H412.47C415.463 91.3847 417.522 92.0186 418.845 93.0951Z"),K(o,"fill","white"),K(t,"d","M453.875 122.784V109.179H469.579C470.26 109.179 470.812 108.639 470.812 107.973V101.895C470.812 101.229 470.26 100.689 469.579 100.689H453.875V98.5789C453.875 95.9432 454.648 94.1431 456.014 92.961C457.406 91.7559 459.581 91.0532 462.749 91.0532C466.036 91.0532 468.659 91.7993 470.701 93.2089C471.012 93.4237 471.408 93.4857 471.772 93.3768C472.136 93.268 472.428 93.0005 472.564 92.6522L474.841 86.7944C475.046 86.2644 474.847 85.6657 474.362 85.356C472.789 84.3525 470.976 83.6041 468.939 83.0974C466.904 82.5911 464.728 82.3418 462.416 82.3418C456.908 82.3418 452.417 83.7445 449.094 86.688C445.79 89.6112 444.191 93.6277 444.191 98.5789V122.784C444.191 123.45 444.743 123.99 445.424 123.99H452.643C453.323 123.99 453.875 123.45 453.875 122.784Z"),K(t,"fill","white"),K(a,"d","M177.787 117.503C177.714 121.492 175.076 124.262 172.475 125.763L166.877 128.995C164.206 130.537 161.082 131.136 158.284 131.136C155.485 131.136 152.362 130.537 149.692 128.995L144.201 125.763V136.735C144.201 140.799 141.523 143.631 138.887 145.154L133.29 148.385C130.618 149.927 127.495 150.526 124.696 150.526C121.897 150.526 118.774 149.927 116.104 148.385L107.902 143.651L99.702 148.385C97.0305 149.927 93.9072 150.526 91.1085 150.526C88.3098 150.526 85.1879 149.927 82.5164 148.385L43.3313 125.763C40.73 124.262 38.0922 121.492 38.019 117.503L38.0176 117.257V131.625L38.019 131.871C38.0922 135.86 40.73 138.63 43.3313 140.131L82.5164 162.753C85.1879 164.295 88.3098 164.894 91.1085 164.894C93.9072 164.894 97.0305 164.295 99.702 162.753L107.902 158.018L116.104 162.753C118.774 164.295 121.897 164.894 124.696 164.894C127.495 164.894 130.618 164.295 133.29 162.753L138.887 159.521C141.523 157.999 144.201 155.167 144.201 151.103V140.131L149.692 143.363C152.362 144.905 155.485 145.504 158.284 145.504C161.082 145.504 164.206 144.905 166.877 143.363L172.475 140.131C175.076 138.63 177.714 135.86 177.787 131.871L177.787 117.503Z"),K(a,"fill","#7BE7CE"),K(p,"d","M38.0526 103.767C38.0295 103.981 38.0176 104.198 38.0176 104.418V117.257L38.019 117.503C38.0922 121.492 40.73 124.262 43.3313 125.763L82.5164 148.385C85.1879 149.927 88.3097 150.526 91.1085 150.526C93.9072 150.526 97.0305 149.927 99.702 148.385L107.902 143.65L116.104 148.385C118.774 149.927 121.897 150.526 124.696 150.526C127.495 150.526 130.618 149.927 133.29 148.385L138.887 145.153C141.523 143.631 144.201 140.799 144.201 136.735V125.763L149.692 128.995C152.362 130.537 155.485 131.136 158.284 131.136C161.082 131.136 164.206 130.537 166.877 128.995L172.475 125.763C175.076 124.262 177.714 121.492 177.787 117.503V103.136C177.714 107.124 175.076 109.893 172.475 111.395L166.877 114.627C164.206 116.168 161.082 116.768 158.284 116.768C155.485 116.768 152.362 116.168 149.692 114.627L144.094 111.395C144.004 111.343 143.914 111.289 143.824 111.234C144.067 112.027 144.204 112.884 144.204 113.804C144.204 114.073 144.192 114.337 144.169 114.595C144.19 114.797 144.201 115.002 144.201 115.209V122.366C144.201 126.43 141.523 129.263 138.887 130.785L133.29 134.017C130.618 135.558 127.495 136.158 124.696 136.158C121.897 136.158 118.774 135.558 116.104 134.017L107.902 129.282L99.702 134.017C97.0305 135.558 93.9072 136.158 91.1085 136.158C88.3097 136.158 85.1879 135.558 82.5164 134.017L43.3313 111.395C40.8698 109.974 38.3755 107.417 38.0526 103.767Z"),K(p,"fill","#B2F2E1"),K(c,"d","M105.231 65.0186C105.237 65.0767 105.243 65.1348 105.25 65.1928C105.531 67.6131 106.734 69.5192 108.231 70.9303C108.122 70.9285 108.014 70.9276 107.906 70.9276C107.031 70.9276 106.125 70.9862 105.21 71.1138V65.5255C105.21 65.3548 105.217 65.1857 105.231 65.0186Z"),K(c,"fill","#B2F2E1"),K(u,"d","M48.9324 82.7639L43.3344 85.9955C40.8405 87.4353 38.3108 90.0472 38.044 93.7645C38.0265 93.939 38.0176 94.1214 38.0176 94.312V102.889L38.019 103.135C38.0922 107.124 40.73 109.894 43.3313 111.395L82.5164 134.017C85.1879 135.559 88.3097 136.158 91.1085 136.158C93.9072 136.158 97.0305 135.559 99.702 134.017L107.902 129.282L116.104 134.017C118.774 135.559 121.897 136.158 124.696 136.158C127.495 136.158 130.618 135.559 133.29 134.017L138.887 130.785C141.523 129.263 144.201 126.431 144.201 122.367V115.209C144.201 115.003 144.19 114.798 144.169 114.595C144.192 114.337 144.204 114.073 144.204 113.804C144.204 112.884 144.067 112.027 143.824 111.235C143.914 111.29 144.004 111.343 144.094 111.395L149.692 114.627C152.362 116.169 155.485 116.768 158.284 116.768C161.082 116.768 164.206 116.169 166.877 114.627L172.475 111.395C175.076 109.894 177.714 107.124 177.787 103.135V94.6988C177.79 94.6046 177.791 94.5098 177.791 94.4142C177.791 94.3187 177.79 94.2239 177.787 94.1297L177.788 75.2591C177.79 75.1813 177.791 75.103 177.791 75.0242C177.791 70.9603 175.115 68.1277 172.478 66.6055L133.292 43.9837C130.622 42.442 127.499 41.8428 124.7 41.8428C121.901 41.8428 118.778 42.442 116.107 43.9837L110.51 47.2154C107.873 48.7376 105.196 51.5702 105.196 55.6341C105.196 55.8256 105.202 56.0144 105.214 56.2005C105.211 56.2658 105.21 56.3317 105.21 56.3981V63.6424C105.191 63.9299 105.188 64.218 105.199 64.5058C105.206 64.7352 105.223 64.9644 105.25 65.1931C105.531 67.6133 106.734 69.5194 108.231 70.9306C108.122 70.9288 108.014 70.9279 107.906 70.9279C105.107 70.9279 101.984 71.5271 99.3137 73.0688L93.7158 76.3005C91.0789 77.8227 88.4022 80.6553 88.4022 84.7192C88.4022 84.9835 88.4135 85.2426 88.4354 85.4964C88.4306 85.5945 88.4282 85.693 88.4282 85.7922V92.5738L88.4179 92.7394L88.4077 92.9207C88.4004 93.0971 88.3989 93.2737 88.4019 93.4503C88.4077 93.8184 88.4384 94.1863 88.4925 94.552C88.5595 95.0033 88.6583 95.4358 88.7848 95.8499L66.1171 82.7639C63.4466 81.2222 60.3234 80.623 57.5247 80.623C54.726 80.623 51.6029 81.2222 48.9324 82.7639Z"),K(u,"fill","#F4FAF4"),K(h,"d","M130.295 49.1697C127.204 47.3849 122.191 47.3849 119.1 49.1697L113.502 52.4013C110.41 54.1862 110.41 57.0799 113.502 58.8647L152.008 81.0944C153.493 81.9515 154.327 83.114 154.327 84.3261V85.1102C154.327 86.3223 153.493 87.4848 152.008 88.3419L147.089 91.1815C143.998 92.9663 143.998 95.8601 147.089 97.6449L152.687 100.877C155.779 102.661 160.791 102.661 163.883 100.877L169.481 97.6449C172.573 95.8601 172.573 92.9663 169.481 91.1815L164.562 88.3419C163.077 87.4848 162.243 86.3224 162.243 85.1102V84.3261C162.243 83.114 163.077 81.9515 164.562 81.0944L169.481 78.2548C172.573 76.47 172.573 73.5762 169.481 71.7914L130.295 49.1697Z"),K(h,"fill","#494E62"),K(l,"d","M63.1203 87.9498C60.0287 86.165 55.0161 86.165 51.9245 87.9498L46.3265 91.1815C43.2349 92.9663 43.2349 95.8601 46.3265 97.6449L85.512 120.267C88.6037 122.051 93.6162 122.051 96.7079 120.267L107.904 113.803L63.1203 87.9498Z"),K(l,"fill","#494E62"),K(d,"d","M128.656 104.5C128.656 105.712 129.49 106.875 130.975 107.732L135.893 110.572C138.985 112.356 138.985 115.25 135.893 117.035L130.295 120.267C127.204 122.051 122.191 122.051 119.1 120.267L107.904 113.803L118.42 107.732C119.905 106.875 120.739 105.712 120.739 104.5L120.739 103.716C120.739 102.504 119.905 101.342 118.42 100.485L96.7079 87.9498C93.6162 86.165 93.6162 83.2713 96.7079 81.4865L102.306 78.2548C105.397 76.47 110.41 76.47 113.502 78.2548L135.893 91.1815C138.985 92.9663 138.985 95.8601 135.893 97.6449L130.975 100.485C129.49 101.342 128.656 102.504 128.656 103.716L128.656 104.5Z"),K(d,"fill","#494E62"),K(i,"width","513"),K(i,"height","206"),K(i,"viewBox","0 0 513 206"),K(i,"fill","none"),K(i,"xmlns","http://www.w3.org/2000/svg"),K(i,"class","svelte-tj2pg7")},m(v,f){we(v,i,f),me(i,n),me(i,s),me(i,r),me(i,o),me(i,t),me(i,a),me(i,p),me(i,c),me(i,u),me(i,h),me(i,l),me(i,d)},d(v){v&&Me(i)}}}function Oq(e){let i=e[1]("settings.about.version",{version:gL})+"",n;return{c(){n=qt(i)},m(s,r){we(s,n,r)},p(s,r){r&2&&i!==(i=s[1]("settings.about.version",{version:gL})+"")&&on(n,i)},d(s){s&&Me(n)}}}function Fq(e){let i=e[1]("settings.about.author")+"",n;return{c(){n=qt(i)},m(s,r){we(s,n,r)},p(s,r){r&2&&i!==(i=s[1]("settings.about.author")+"")&&on(n,i)},d(s){s&&Me(n)}}}function Pq(e){let i,n,s,r,o,t,a,p;function c(l,d){return l[0]==="dark"?Dq:Rq}let u=c(e),h=u(e);return s=new Bs({props:{$$slots:{default:[Oq]},$$scope:{ctx:e}}}),o=new d1({props:{$$slots:{default:[Fq]},$$scope:{ctx:e}}}),a=new eg({props:{data:{button:!0,variant:"primary",label:e[1]("settings.about.link"),href:"https://wharfkit.com",target:"_blank"}}}),{c(){i=Be("div"),h.c(),n=at(),De(s.$$.fragment),r=at(),De(o.$$.fragment),t=at(),De(a.$$.fragment),K(i,"class","svelte-tj2pg7")},m(l,d){we(l,i,d),h.m(i,null),me(i,n),Le(s,i,null),me(i,r),Le(o,i,null),me(i,t),Le(a,i,null),p=!0},p(l,[d]){u!==(u=c(l))&&(h.d(1),h=u(l),h&&(h.c(),h.m(i,n)));let v={};d&10&&(v.$$scope={dirty:d,ctx:l}),s.$set(v);let f={};d&10&&(f.$$scope={dirty:d,ctx:l}),o.$set(f);let g={};d&2&&(g.data={button:!0,variant:"primary",label:l[1]("settings.about.link"),href:"https://wharfkit.com",target:"_blank"}),a.$set(g)},i(l){p||(ee(s.$$.fragment,l),ee(o.$$.fragment,l),ee(a.$$.fragment,l),p=!0)},o(l){se(s.$$.fragment,l),se(o.$$.fragment,l),se(a.$$.fragment,l),p=!1},d(l){l&&Me(i),h.d(),Re(s),Re(o),Re(a)}}}function Nq(e,i,n){let s,r,{t:o}=lo("i18n");return ut(e,o,t=>n(1,r=t)),n(0,{theme:s}=xn(us),s),[s,r,o]}var e6=class extends Rt{constructor(i){super(),Pt(this,i,Nq,Pq,Dt,{},Lq)}},Bq="English",Vq="\uD55C\uAD6D\uC5B4",Gq="\u4E2D\u6587",zq="T\xFCrk\xE7e",va={en:Bq,ko:Vq,zh:Gq,"zh-Hans":"\u4E2D\u6587\u7B80\u4F53","zh-Hant":"\u4E2D\u6587\u7E41\u4F53",tr:zq};function Wq(e){mn(e,"svelte-yv3ifw","label.svelte-yv3ifw{flex:1;height:100%;display:flex;align-items:center;justify-content:space-between;cursor:pointer;padding-inline:var(--space-s)}")}function mL(e){let i,n,s;return n=new _i({props:{name:"check"}}),{c(){i=Be("div"),De(n.$$.fragment),K(i,"class","trailing")},m(r,o){we(r,i,o),Le(n,i,null),s=!0},i(r){s||(ee(n.$$.fragment,r),s=!0)},o(r){se(n.$$.fragment,r),s=!1},d(r){r&&Me(i),Re(n)}}}function Hq(e){let i,n,s,r,o,t,a,p,c=e[2]&&mL();return{c(){i=Be("input"),n=at(),s=qt(e[6]),r=at(),c&&c.c(),o=Dn(),K(i,"type","radio"),K(i,"name",e[0]),i.value=e[1],i.checked=e[2],i.hidden=e[5],K(i,"group",e[3])},m(u,h){we(u,i,h),we(u,n,h),we(u,s,h),we(u,r,h),c&&c.m(u,h),we(u,o,h),t=!0,a||(p=Sr(i,"change",function(){oo(e[4])&&e[4].apply(this,arguments)}),a=!0)},p(u,h){e=u,(!t||h&1)&&K(i,"name",e[0]),(!t||h&2)&&(i.value=e[1]),(!t||h&4)&&(i.checked=e[2]),(!t||h&32)&&(i.hidden=e[5]),(!t||h&8)&&K(i,"group",e[3]),(!t||h&64)&&on(s,e[6]),e[2]?c?h&4&&ee(c,1):(c=mL(),c.c(),ee(c,1),c.m(o.parentNode,o)):c&&(Xt(),se(c,1,1,()=>{c=null}),$t())},i(u){t||(ee(c),t=!0)},o(u){se(c),t=!1},d(u){u&&(Me(i),Me(n),Me(s),Me(r),Me(o)),c&&c.d(u),a=!1,p()}}}function jq(e){let i,n,s=e[8].default,r=as(s,e,e[7],null),o=r||Hq(e);return{c(){i=Be("label"),o&&o.c(),K(i,"class","svelte-yv3ifw")},m(t,a){we(t,i,a),o&&o.m(i,null),n=!0},p(t,[a]){r?r.p&&(!n||a&128)&&ls(r,s,t,t[7],n?os(s,t[7],a,null):cs(t[7]),null):o&&o.p&&(!n||a&127)&&o.p(t,n?a:-1)},i(t){n||(ee(o,t),n=!0)},o(t){se(o,t),n=!1},d(t){t&&Me(i),o&&o.d(t)}}}function Yq(e,i,n){let{$$slots:s={},$$scope:r}=i,{name:o}=i,{value:t}=i,{checked:a}=i,{group:p}=i,{onChange:c}=i,{hidden:u}=i,{label:h}=i;return e.$$set=l=>{"name"in l&&n(0,o=l.name),"value"in l&&n(1,t=l.value),"checked"in l&&n(2,a=l.checked),"group"in l&&n(3,p=l.group),"onChange"in l&&n(4,c=l.onChange),"hidden"in l&&n(5,u=l.hidden),"label"in l&&n(6,h=l.label),"$$scope"in l&&n(7,r=l.$$scope)},[o,t,a,p,c,u,h,r,s]}var t6=class extends Rt{constructor(i){super(),Pt(this,i,Yq,jq,Dt,{name:0,value:1,checked:2,group:3,onChange:4,hidden:5,label:6},Wq)}};function yL(e,i,n){let s=e.slice();return s[6]=i[n],s}function Uq(e){let i,n,s,r;function o(){return e[4](e[6])}function t(p){e[5](p)}let a={label:e[6].label,name:e[0],value:e[6].value,checked:e[3][e[0]]===e[6].value,onChange:o,hidden:!0};return e[3][e[0]]!==void 0&&(a.group=e[3][e[0]]),i=new t6({props:a}),fl.push(()=>$L(i,"group",t)),{c(){De(i.$$.fragment),s=at()},m(p,c){Le(i,p,c),we(p,s,c),r=!0},p(p,c){e=p;let u={};c&2&&(u.label=e[6].label),c&1&&(u.name=e[0]),c&2&&(u.value=e[6].value),c&11&&(u.checked=e[3][e[0]]===e[6].value),c&6&&(u.onChange=o),!n&&c&9&&(n=!0,u.group=e[3][e[0]],YL(()=>n=!1)),i.$set(u)},i(p){r||(ee(i.$$.fragment,p),r=!0)},o(p){se(i.$$.fragment,p),r=!1},d(p){p&&Me(s),Re(i,p)}}}function xL(e){let i,n;return i=new ss({props:{$$slots:{default:[Uq]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&527&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function Zq(e){let i,n,s=hs(e[1]),r=[];for(let t=0;t<s.length;t+=1)r[t]=xL(yL(e,s,t));let o=t=>se(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();i=Dn()},m(t,a){for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(t,a);we(t,i,a),n=!0},p(t,a){if(a&15){s=hs(t[1]);let p;for(p=0;p<s.length;p+=1){let c=yL(t,s,p);r[p]?(r[p].p(c,a),ee(r[p],1)):(r[p]=xL(c),r[p].c(),ee(r[p],1),r[p].m(i.parentNode,i))}for(Xt(),p=s.length;p<r.length;p+=1)o(p);$t()}},i(t){if(!n){for(let a=0;a<s.length;a+=1)ee(r[a]);n=!0}},o(t){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)se(r[a]);n=!1},d(t){t&&Me(i),Dh(r,t)}}}function Xq(e){let i,n;return i=new pl({props:{$$slots:{default:[Zq]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,[r]){let o={};r&527&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function $q(e,i,n){let s;ut(e,us,c=>n(3,s=c));let{setting:r}=i,{options:o}=i,{onChange:t=c=>{st(us,s[r]=c,s)}}=i,a=c=>t(c.value);function p(c){e.$$.not_equal(s[r],c)&&(s[r]=c,us.set(s))}return e.$$set=c=>{"setting"in c&&n(0,r=c.setting),"options"in c&&n(1,o=c.options),"onChange"in c&&n(2,t=c.onChange)},[r,o,t,s,a,p]}var p1=class extends Rt{constructor(i){super(),Pt(this,i,$q,Xq,Dt,{setting:0,options:1,onChange:2})}};function bL(e){let i,n;return i=new Nr({props:{direction:e[4],$$slots:{default:[Kq]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&16&&(o.direction=s[4]),r&524353&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function Jq(e){let i,n,s,r,o,t,a,p,c,u;return i=new ss({props:{label:e[0]("settings.theme.title"),onClick:e[11],leadingIcon:"theme",value:e[6].theme?e[0](`settings.theme.${e[6].theme}`):e[0]("settings.theme.automatic")}}),s=new ss({props:{label:e[0]("settings.language.title"),onClick:e[12],leadingIcon:"globe",value:va[e[6].language]}}),o=new ss({props:{label:e[0]("settings.animations.title"),onClick:e[13],leadingIcon:"waves",value:e[6].animations?e[0]("settings.animations.enabled"):e[0]("settings.animations.disabled")}}),a=new ss({props:{label:e[0]("settings.about.title"),onClick:e[14],leadingIcon:"info"}}),c=new ss({props:{label:e[0]("settings.github"),link:"https://www.github.com/wharfkit",leadingIcon:"github",trailingIcon:"external-link"}}),{c(){De(i.$$.fragment),n=at(),De(s.$$.fragment),r=at(),De(o.$$.fragment),t=at(),De(a.$$.fragment),p=at(),De(c.$$.fragment)},m(h,l){Le(i,h,l),we(h,n,l),Le(s,h,l),we(h,r,l),Le(o,h,l),we(h,t,l),Le(a,h,l),we(h,p,l),Le(c,h,l),u=!0},p(h,l){let d={};l&1&&(d.label=h[0]("settings.theme.title")),l&65&&(d.value=h[6].theme?h[0](`settings.theme.${h[6].theme}`):h[0]("settings.theme.automatic")),i.$set(d);let v={};l&1&&(v.label=h[0]("settings.language.title")),l&64&&(v.value=va[h[6].language]),s.$set(v);let f={};l&1&&(f.label=h[0]("settings.animations.title")),l&65&&(f.value=h[6].animations?h[0]("settings.animations.enabled"):h[0]("settings.animations.disabled")),o.$set(f);let g={};l&1&&(g.label=h[0]("settings.about.title")),a.$set(g);let m={};l&1&&(m.label=h[0]("settings.github")),c.$set(m)},i(h){u||(ee(i.$$.fragment,h),ee(s.$$.fragment,h),ee(o.$$.fragment,h),ee(a.$$.fragment,h),ee(c.$$.fragment,h),u=!0)},o(h){se(i.$$.fragment,h),se(s.$$.fragment,h),se(o.$$.fragment,h),se(a.$$.fragment,h),se(c.$$.fragment,h),u=!1},d(h){h&&(Me(n),Me(r),Me(t),Me(p)),Re(i,h),Re(s,h),Re(o,h),Re(a,h),Re(c,h)}}}function Kq(e){let i,n;return i=new pl({props:{$$slots:{default:[Jq]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&524353&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function Qq(e){let i,n;return i=new Nr({props:{direction:e[4],$$slots:{default:[tee]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&16&&(o.direction=s[4]),r&524296&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function _q(e){let i,n;return i=new Nr({props:{direction:e[4],$$slots:{default:[nee]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&16&&(o.direction=s[4]),r&524292&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function qq(e){let i,n;return i=new Nr({props:{direction:e[4],$$slots:{default:[iee]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&16&&(o.direction=s[4]),r&524290&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function eee(e){let i,n;return i=new Nr({props:{direction:e[4],$$slots:{default:[ree]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&16&&(o.direction=s[4]),r&524288&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function tee(e){let i,n;return i=new p1({props:{setting:"animations",options:e[3]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&8&&(o.options=s[3]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function nee(e){let i,n;return i=new p1({props:{setting:"language",options:e[2],onChange:e[15]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&4&&(o.options=s[2]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function iee(e){let i,n;return i=new p1({props:{setting:"theme",options:e[1]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&2&&(o.options=s[1]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function ree(e){let i,n;return i=new e6({}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function see(e){let i,n,s,r,o,t=!e[5].path&&bL(e),a=[eee,qq,_q,Qq],p=[];function c(u,h){return u[5].path==="about"?0:u[5].path==="theme"?1:u[5].path==="language"?2:u[5].path==="animations"?3:-1}return~(s=c(e))&&(r=p[s]=a[s](e)),{c(){i=Be("div"),t&&t.c(),n=at(),r&&r.c(),K(i,"class","settings-menu")},m(u,h){we(u,i,h),t&&t.m(i,null),me(i,n),~s&&p[s].m(i,null),o=!0},p(u,[h]){u[5].path?t&&(Xt(),se(t,1,1,()=>{t=null}),$t()):t?(t.p(u,h),h&32&&ee(t,1)):(t=bL(u),t.c(),ee(t,1),t.m(i,n));let l=s;s=c(u),s===l?~s&&p[s].p(u,h):(r&&(Xt(),se(p[l],1,1,()=>{p[l]=null}),$t()),~s?(r=p[s],r?r.p(u,h):(r=p[s]=a[s](u),r.c()),ee(r,1),r.m(i,null)):r=null)},i(u){o||(ee(t),ee(r),o=!0)},o(u){se(t),se(r),o=!1},d(u){u&&Me(i),t&&t.d(),~s&&p[s].d()}}}function aee(e,i,n){let s,r,o,t,a,p,c,u;ut(e,Ci,C=>n(16,a=C)),ut(e,di,C=>n(4,p=C)),ut(e,us,C=>n(6,u=C));let h=QL();ut(e,h,C=>n(5,c=C));let{t:l,setLocale:d}=lo("i18n");ut(e,l,C=>n(0,t=C));function v(){st(di,p="ltr",p),Pr.back(),hi.set(void 0)}function f(C){st(di,p="rtl",p),h.push(C),st(Ci,a.subtitle=t(`settings.${C}.title`),a),hi.set(()=>{st(di,p="ltr",p),h.back(),hi.set(v),st(Ci,a.subtitle=void 0,a)})}Oh(()=>{hi.set(v),st(Ci,a.title=t("settings.title"),a),st(Ci,a.subtitle=void 0,a),st(di,p="rtl",p)});function g(C){return fe(this,null,function*(){(yield d(C))&&(us.set(Se(q({},xn(us)),{language:C})),st(Ci,a.title=t("settings.title"),a),st(Ci,a.subtitle=t("settings.language.title"),a))})}let m=()=>f("theme"),x=()=>f("language"),y=()=>f("animations"),b=()=>f("about"),M=C=>g(C);return e.$$.update=()=>{e.$$.dirty&1&&n(3,s=[{label:t("settings.animations.enabled"),value:!0},{label:t("settings.animations.disabled"),value:!1}]),e.$$.dirty&1&&n(1,o=[{label:t("settings.theme.automatic"),value:void 0},{label:t("settings.theme.light"),value:"light"},{label:t("settings.theme.dark"),value:"dark"}])},n(2,r=Object.keys(va).map(C=>({label:va[C],value:C}))),[t,o,r,s,p,c,u,h,l,f,g,m,x,y,b,M]}var n6=class extends Rt{constructor(i){super(),Pt(this,i,aee,see,Dt,{})}};function oee(e){let i,n;return i=new Ac({props:{data:{label:e[0]("transact.processing",{default:"Performing transaction..."})}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,[r]){let o={};r&1&&(o.data={label:s[0]("transact.processing",{default:"Performing transaction..."})}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function lee(e,i,n){let s,{t:r}=lo("i18n");return ut(e,r,o=>n(0,s=o)),Vs(),[s,r]}var i6=class extends Rt{constructor(i){super(),Pt(this,i,lee,oee,Dt,{})}};function cee(e){mn(e,"svelte-1d8fcdl","section.svelte-1d8fcdl{display:flex;flex-direction:column;gap:var(--space-s)}")}function ML(e,i,n){let s=e.slice();return s[4]=i[n],s}function CL(e){let i,n,s,r,o;return n=new Bs({props:{$$slots:{default:[uee]},$$scope:{ctx:e}}}),r=new pl({props:{$$slots:{default:[hee]},$$scope:{ctx:e}}}),{c(){i=Be("section"),De(n.$$.fragment),s=at(),De(r.$$.fragment),K(i,"class","svelte-1d8fcdl")},m(t,a){we(t,i,a),Le(n,i,null),me(i,s),Le(r,i,null),o=!0},p(t,a){let p={};a&130&&(p.$$scope={dirty:a,ctx:t}),n.$set(p);let c={};a&129&&(c.$$scope={dirty:a,ctx:t}),r.$set(c)},i(t){o||(ee(n.$$.fragment,t),ee(r.$$.fragment,t),o=!0)},o(t){se(n.$$.fragment,t),se(r.$$.fragment,t),o=!1},d(t){t&&Me(i),Re(n),Re(r)}}}function uee(e){let i;return{c(){i=qt(e[1])},m(n,s){we(n,i,s)},p(n,s){s&2&&on(i,n[1])},d(n){n&&Me(i)}}}function wL(e){let i,n;function s(){return e[3](e[4])}return i=new ss({props:{label:e[4].name,onClick:s,leadingIcon:"wharf",logo:Lh(e[4].metadata)}}),{c(){De(i.$$.fragment)},m(r,o){Le(i,r,o),n=!0},p(r,o){e=r;let t={};o&1&&(t.label=e[4].name),o&1&&(t.onClick=s),o&1&&(t.logo=Lh(e[4].metadata)),i.$set(t)},i(r){n||(ee(i.$$.fragment,r),n=!0)},o(r){se(i.$$.fragment,r),n=!1},d(r){Re(i,r)}}}function hee(e){let i,n,s=hs(e[0]),r=[];for(let t=0;t<s.length;t+=1)r[t]=wL(ML(e,s,t));let o=t=>se(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();i=Dn()},m(t,a){for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(t,a);we(t,i,a),n=!0},p(t,a){if(a&5){s=hs(t[0]);let p;for(p=0;p<s.length;p+=1){let c=ML(t,s,p);r[p]?(r[p].p(c,a),ee(r[p],1)):(r[p]=wL(c),r[p].c(),ee(r[p],1),r[p].m(i.parentNode,i))}for(Xt(),p=s.length;p<r.length;p+=1)o(p);$t()}},i(t){if(!n){for(let a=0;a<s.length;a+=1)ee(r[a]);n=!0}},o(t){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)se(r[a]);n=!1},d(t){t&&Me(i),Dh(r,t)}}}function dee(e){let i,n,s=e[0]&&CL(e);return{c(){s&&s.c(),i=Dn()},m(r,o){s&&s.m(r,o),we(r,i,o),n=!0},p(r,[o]){r[0]?s?(s.p(r,o),o&1&&ee(s,1)):(s=CL(r),s.c(),ee(s,1),s.m(i.parentNode,i)):s&&(Xt(),se(s,1,1,()=>{s=null}),$t())},i(r){n||(ee(s),n=!0)},o(r){se(s),n=!1},d(r){r&&Me(i),s&&s.d(r)}}}function fee(e,i,n){let{plugins:s}=i,{title:r}=i,o=Vs(),t=a=>o("select",a.id);return e.$$set=a=>{"plugins"in a&&n(0,s=a.plugins),"title"in a&&n(1,r=a.title)},[s,r,o,t]}var r6=class extends Rt{constructor(i){super(),Pt(this,i,fee,dee,Dt,{plugins:0,title:1},cee)}};function pee(e){let i,n=e[2]("loading",{default:"Loading..."})+"",s;return{c(){i=Be("p"),s=qt(n)},m(r,o){we(r,i,o),me(i,s)},p(r,o){o&4&&n!==(n=r[2]("loading",{default:"Loading..."})+"")&&on(s,n)},i:nt,o:nt,d(r){r&&Me(i)}}}function vee(e){let i,n,s,r,o=[yee,mee,gee],t=[];function a(p,c){return p[5]===p[0].selectPlugin?0:p[5]===p[0].selectChain&&p[6]?1:2}return i=a(e),n=t[i]=o[i](e),{c(){n.c(),s=Dn()},m(p,c){t[i].m(p,c),we(p,s,c),r=!0},p(p,c){let u=i;i=a(p),i===u?t[i].p(p,c):(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t(),n=t[i],n?n.p(p,c):(n=t[i]=o[i](p),n.c()),ee(n,1),n.m(s.parentNode,s))},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),t[i].d(p)}}}function gee(e){let i,n;return i=new Ac({props:{data:{label:e[2]("accountCreation.countdown",{default:"Creating Account"})}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&4&&(o.data={label:s[2]("accountCreation.countdown",{default:"Creating Account"})}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function mee(e){let i,n;return i=new Nr({props:{direction:e[1],$$slots:{default:[xee]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&2&&(o.direction=s[1]),r&4194372&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function yee(e){let i,n;return i=new Nr({props:{direction:e[1],$$slots:{default:[bee]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&2&&(o.direction=s[1]),r&4194324&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function xee(e){let i,n;return i=new _v({props:{chains:e[6],title:e[2]("accountCreation.select.chain",{default:"Select a Blockchain"})}}),i.$on("select",e[11]),i.$on("cancel",e[12]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&64&&(o.chains=s[6]),r&4&&(o.title=s[2]("accountCreation.select.chain",{default:"Select a Blockchain"})),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function bee(e){let i,n;return i=new r6({props:{plugins:e[4].accountCreationPlugins,title:e[2]("accountCreation.select.plugin",{default:"Select a Service Provider"})}}),i.$on("select",e[10]),i.$on("cancel",e[13]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&16&&(o.plugins=s[4].accountCreationPlugins),r&4&&(o.title=s[2]("accountCreation.select.plugin",{default:"Select a Service Provider"})),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function Mee(e){let i,n,s,r,o=[vee,pee],t=[];function a(p,c){return p[3]&&p[4]?0:1}return i=a(e),n=t[i]=o[i](e),{c(){n.c(),s=Dn()},m(p,c){t[i].m(p,c),we(p,s,c),r=!0},p(p,[c]){let u=i;i=a(p),i===u?t[i].p(p,c):(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t(),n=t[i],n?n.p(p,c):(n=t[i]=o[i](p),n.c()),ee(n,1),n.m(s.parentNode,s))},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),t[i].d(p)}}}function Cee(e,i,n){let s,r,o,t,a,p,c,u;ut(e,di,I=>n(1,s=I)),ut(e,hi,I=>n(15,r=I)),ut(e,Ps,I=>n(16,o=I)),ut(e,Ci,I=>n(3,a=I)),ut(e,Tc,I=>n(4,p=I));let{t:h}=lo("i18n");ut(e,h,I=>n(2,t=I));let l=!1,d=Vs();var v=function(I){return I.done="done",I.selectPlugin="selectPlugin",I.selectChain="selectChain",I}(v||{});let f=Qi([Tc,Ps],([I,T])=>{if(!I||!T)return;let k=I.accountCreationPlugins.find(E=>E.id===T.pluginId);return!T.chain&&k?.config.supportedChains?.length===1&&(T.chain=k.config.supportedChains[0].id),k}),g=Qi([Tc,f],([I,T])=>{if(I&&T){if(T.config.supportedChains&&I.chains)return I.chains.filter(k=>T.config.supportedChains?.find(E=>E.id.equals(k.id)))}else if(I)return I.chains;return[]});ut(e,g,I=>n(6,u=I));let m=Tc.subscribe(I=>{I&&(st(Ci,a.subtitle=t("login.title-app",{appName:I.appName,default:"Login to {{appName}}"}),a),I.accountCreationPlugins.length===1&&st(Ps,o.pluginId=I.accountCreationPlugins[0].id,o),I.chain?st(Ps,o.chain=I.chain.id,o):I.chains&&I.chains.length===1&&st(Ps,o.chain=I.chains[0].id,o))});Oh(()=>{st(Ci,a.title=t("accountCreation.title",{default:"Create Account"}),a)}),m1(m);let x=()=>{l||(l=!0,setTimeout(()=>{d("complete",o),hi.set(void 0)},100))},y=Qi([Tc,Ps,f,g],([I,T,k,E])=>{if(!k&&I?.uiRequirements.requiresPluginSelect)return v.selectPlugin;let A=k?.config.requiresChainSelect;if(A!==!1&&(A=I?.uiRequirements.requiresChainSelect),!T.chain&&A)return v.selectChain;x()});ut(e,y,I=>n(5,c=I));let b=I=>{st(Ps,o.pluginId=I.detail,o),st(hi,r=M,r),st(di,s="rtl",s)},M=I=>{st(Ps,o.pluginId=void 0,o),st(hi,r=void 0,r),st(di,s="ltr",s)},C=I=>{st(Ps,o.chain=I.detail,o),st(hi,r=w,r),st(di,s="rtl",s)},w=I=>{st(Ps,o.chain=void 0,o),st(hi,r=M,r),st(di,s="ltr",s)};return[v,s,t,a,p,c,u,h,g,y,b,C,w,()=>{d("cancel")}]}var s6=class extends Rt{constructor(i){super(),Pt(this,i,Cee,Mee,Dt,{})}};function wee(e){mn(e,"svelte-mttle8","button.svelte-mttle8.svelte-mttle8{--button-size:46px;--button-size:var(--space-2xl);position:relative;isolation:isolate;background:var(--header-button-background);border:1px solid var(--header-button-outline);border:none;box-shadow:inset 0 0 0 1px var(--header-button-outline);border-radius:var(--border-radius-inner);cursor:pointer;width:var(--button-size);height:var(--button-size);display:grid;place-content:center;color:var(--header-text-color);transition:transform 80ms ease}button.svelte-mttle8.svelte-mttle8:active{transform:scale(95%);transform-origin:center}@media(hover: hover){button.svelte-mttle8:hover .background.svelte-mttle8{opacity:1}}.background.svelte-mttle8.svelte-mttle8{position:absolute;border-radius:var(--border-radius-inner);inset:0;opacity:0;z-index:-1;transition:opacity 80ms ease;background:var(--header-button-outline)}.visually-hidden.svelte-mttle8.svelte-mttle8{border:0;clip:rect(0 0 0 0);height:auto;margin:0;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap}")}function See(e){let i,n,s,r,o,t,a,p,c,u;return r=new _i({props:{name:e[1]}}),{c(){i=Be("button"),n=Be("span"),s=at(),De(r.$$.fragment),o=at(),t=Be("span"),a=qt(e[1]),K(n,"class","background svelte-mttle8"),K(t,"class","label visually-hidden svelte-mttle8"),K(i,"class","svelte-mttle8")},m(h,l){we(h,i,l),me(i,n),me(i,s),Le(r,i,null),me(i,o),me(i,t),me(t,a),p=!0,c||(u=Sr(i,"click",function(){oo(e[0])&&e[0].apply(this,arguments)}),c=!0)},p(h,[l]){e=h;let d={};l&2&&(d.name=e[1]),r.$set(d),(!p||l&2)&&on(a,e[1])},i(h){p||(ee(r.$$.fragment,h),p=!0)},o(h){se(r.$$.fragment,h),p=!1},d(h){h&&Me(i),Re(r),c=!1,u()}}}function Iee(e,i,n){let{onClick:s}=i,{icon:r}=i;return e.$$set=o=>{"onClick"in o&&n(0,s=o.onClick),"icon"in o&&n(1,r=o.icon)},[s,r]}var v1=class extends Rt{constructor(i){super(),Pt(this,i,Iee,See,Dt,{onClick:0,icon:1},wee)}};function kee(e){mn(e,"svelte-ajt3u",".wrapper.svelte-ajt3u{transform-origin:top;overflow:hidden;position:relative;height:var(--container-height);background-color:var(--header-background-color)}.clipped.svelte-ajt3u{clip-path:url(#wave-clip)}.container.svelte-ajt3u{position:absolute;left:0;bottom:0;width:200%;height:100%;transform-origin:bottom}@keyframes svelte-ajt3u-wave-slide{from{transform:translate(0)}to{transform:translate(-50%)}}.wave.svelte-ajt3u{position:absolute;bottom:-2px;opacity:0.9999;transform-origin:bottom}.wave.foreground.svelte-ajt3u{--swell:var(--foreground-swell);--swell-speed:var(--foreground-swell-speed);--swell-delay:var(--foreground-delay)}.wave.midground.svelte-ajt3u{--swell:var(--midground-swell);--swell-speed:var(--midground-swell-speed);--swell-delay:var(--midground-delay)}.wave.background.svelte-ajt3u{--swell:var(--background-swell);--swell-speed:var(--background-swell-speed);--swell-delay:var(--background-delay)}@keyframes svelte-ajt3u-wave-swell{from{transform:scaleY(1)}to{transform:scaleY(var(--swell))}}")}function Tee(e){let i,n,s,r,o,t,a,p,c,u,h,l,d,v,f,g,m;return{c(){i=Be("div"),n=Lt("svg"),s=Lt("defs"),r=Lt("clipPath"),o=Lt("path"),t=at(),a=Be("div"),p=Lt("svg"),c=Lt("rect"),u=at(),h=Be("div"),l=Lt("svg"),d=Lt("rect"),v=at(),f=Be("div"),g=Lt("svg"),m=Lt("rect"),K(o,"d","M 0 300 V 100 Q 100 0 200 100 Q 300 200 400 100 Q 500 0 600 100 Q 700 200 800 100 V 300"),K(r,"id","wave-clip"),K(n,"height","0"),K(n,"width","0"),K(c,"class","clipped svelte-ajt3u"),K(c,"height","100%"),K(c,"width","100%"),K(c,"fill",$ee),K(p,"class","wave background svelte-ajt3u"),K(p,"width","100%"),K(p,"height",Nee+"%"),K(p,"viewBox","0 0 800 300"),K(p,"preserveAspectRatio","none"),K(a,"class","container background svelte-ajt3u"),K(d,"class","clipped svelte-ajt3u"),K(d,"width","100%"),K(d,"height","100%"),K(d,"fill",Xee),K(l,"class","wave midground svelte-ajt3u"),K(l,"width","100%"),K(l,"height",Pee+"%"),K(l,"viewBox","0 0 800 300"),K(l,"preserveAspectRatio","none"),K(h,"class","container midground svelte-ajt3u"),K(m,"class","clipped svelte-ajt3u"),K(m,"width","100%"),K(m,"height","100%"),K(m,"fill",Zee),K(g,"class","wave foreground svelte-ajt3u"),K(g,"width","100%"),K(g,"height",Fee+"%"),K(g,"viewBox","0 0 800 300"),K(g,"preserveAspectRatio","none"),K(f,"class","container foreground svelte-ajt3u"),K(i,"class","wrapper svelte-ajt3u"),kn(i,"--frequency",Aee+"ms"),kn(i,"--foreground-speed",Lee+"ms"),kn(i,"--midground-speed",Ree+"ms"),kn(i,"--background-speed",Dee+"ms"),kn(i,"--container-height",Oee+"px"),kn(i,"--motion",Eee),kn(i,"--foreground-swell",Bee),kn(i,"--midground-swell",Vee),kn(i,"--background-swell",Gee),kn(i,"--foreground-swell-speed",zee+"ms"),kn(i,"--midground-swell-speed",Wee+"ms"),kn(i,"--background-swell-speed",Hee+"ms"),kn(i,"--foreground-delay",jee+"ms"),kn(i,"--midground-delay",Yee+"ms"),kn(i,"--background-delay",Uee+"ms")},m(x,y){we(x,i,y),me(i,n),me(n,s),me(s,r),me(r,o),me(i,t),me(i,a),me(a,p),me(p,c),me(i,u),me(i,h),me(h,l),me(l,d),me(i,v),me(i,f),me(f,g),me(g,m)},p:nt,i:nt,o:nt,d(x){x&&Me(i)}}}var Eee="linear",Aee=7e3,Lee=1e4,Ree=9500,Dee=8600,Oee=25,Fee=50,Pee=75,Nee=100,Bee=1.2,Vee=1.4,Gee=1.3,zee=3100,Wee=2300,Hee=1e3,jee=9e3,Yee=7900,Uee=9100,Zee="var(--wave-foreground-color)",Xee="var(--wave-midground-color)",$ee="var(--wave-background-color)";function Jee(e){return[]}var a6=class extends Rt{constructor(i){super(),Pt(this,i,Jee,Tee,Dt,{},kee)}};function Kee(e){mn(e,"svelte-j6z3r6",".modal-header.svelte-j6z3r6.svelte-j6z3r6{box-sizing:border-box;min-height:var(--header-height);color:var(--header-text-color);background:var(--header-background-color);display:grid;grid-template-columns:1fr auto 1fr;gap:var(--space-s);padding:var(--space-m)}.modal-header.svelte-j6z3r6 .slot.svelte-j6z3r6{display:flex;align-items:center}.modal-header.svelte-j6z3r6 .center.svelte-j6z3r6{flex-direction:column;justify-content:space-around;text-align:center}.modal-header.svelte-j6z3r6 .right.svelte-j6z3r6{justify-content:flex-end}.modal-header.svelte-j6z3r6 .svelte-j6z3r6:is(h2, p){color:var(--header-text-color);margin:0;line-height:1.1em}.modal-header.svelte-j6z3r6 h2.svelte-j6z3r6{font-size:var(--fs-3);font-weight:700}.modal-header.svelte-j6z3r6 p.svelte-j6z3r6{font-size:var(--fs-0)}")}var Qee=e=>({}),SL=e=>({}),_ee=e=>({}),IL=e=>({}),qee=e=>({}),kL=e=>({});function ete(e){let i,n;return i=new v1({props:{icon:"settings",onClick:e[8]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&16&&(o.onClick=s[8]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function tte(e){let i,n;return i=new v1({props:{icon:"chevron-left",onClick:e[2]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,r){let o={};r&4&&(o.onClick=s[2]),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function nte(e){let i,n,s,r,o=[tte,ete],t=[];function a(p,c){return p[2]?0:p[3]?1:-1}return~(i=a(e))&&(n=t[i]=o[i](e)),{c(){n&&n.c(),s=Dn()},m(p,c){~i&&t[i].m(p,c),we(p,s,c),r=!0},p(p,c){let u=i;i=a(p),i===u?~i&&t[i].p(p,c):(n&&(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t()),~i?(n=t[i],n?n.p(p,c):(n=t[i]=o[i](p),n.c()),ee(n,1),n.m(s.parentNode,s)):n=null)},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),~i&&t[i].d(p)}}}function TL(e){let i,n;return{c(){i=Be("p"),n=qt(e[1]),K(i,"class","svelte-j6z3r6")},m(s,r){we(s,i,r),me(i,n)},p(s,r){r&2&&on(n,s[1])},d(s){s&&Me(i)}}}function ite(e){let i,n,s,r,o=e[1]&&TL(e);return{c(){i=Be("h2"),n=qt(e[0]),s=at(),o&&o.c(),r=Dn(),K(i,"class","svelte-j6z3r6")},m(t,a){we(t,i,a),me(i,n),we(t,s,a),o&&o.m(t,a),we(t,r,a)},p(t,a){a&1&&on(n,t[0]),t[1]?o?o.p(t,a):(o=TL(t),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(t){t&&(Me(i),Me(s),Me(r)),o&&o.d(t)}}}function rte(e){let i,n;return i=new v1({props:{icon:"close",onClick:e[9]}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function ste(e){let i,n,s,r,o,t,a,p,c,u=e[7].left,h=as(u,e,e[6],kL),l=h||nte(e),d=e[7].center,v=as(d,e,e[6],IL),f=v||ite(e),g=e[7].right,m=as(g,e,e[6],SL),x=m||rte(e);return p=new a6({}),{c(){i=Be("div"),n=Be("div"),l&&l.c(),s=at(),r=Be("div"),f&&f.c(),o=at(),t=Be("div"),x&&x.c(),a=at(),De(p.$$.fragment),K(n,"class","slot left svelte-j6z3r6"),K(r,"class","slot center svelte-j6z3r6"),K(t,"class","slot right svelte-j6z3r6"),K(i,"class","modal-header svelte-j6z3r6")},m(y,b){we(y,i,b),me(i,n),l&&l.m(n,null),me(i,s),me(i,r),f&&f.m(r,null),me(i,o),me(i,t),x&&x.m(t,null),we(y,a,b),Le(p,y,b),c=!0},p(y,[b]){h?h.p&&(!c||b&64)&&ls(h,u,y,y[6],c?os(u,y[6],b,qee):cs(y[6]),kL):l&&l.p&&(!c||b&28)&&l.p(y,c?b:-1),v?v.p&&(!c||b&64)&&ls(v,d,y,y[6],c?os(d,y[6],b,_ee):cs(y[6]),IL):f&&f.p&&(!c||b&3)&&f.p(y,c?b:-1),m&&m.p&&(!c||b&64)&&ls(m,g,y,y[6],c?os(g,y[6],b,Qee):cs(y[6]),SL)},i(y){c||(ee(l,y),ee(f,y),ee(x,y),ee(p.$$.fragment,y),c=!0)},o(y){se(l,y),se(f,y),se(x,y),se(p.$$.fragment,y),c=!1},d(y){y&&(Me(i),Me(a)),l&&l.d(y),f&&f.d(y),x&&x.d(y),Re(p,y)}}}function ate(e,i,n){let s,r,o;ut(e,hi,d=>n(2,s=d)),ut(e,Qv,d=>n(3,r=d)),ut(e,di,d=>n(4,o=d));let{$$slots:t={},$$scope:a}=i,{title:p}=i,{subtitle:c}=i,u=Vs(),h=()=>{Pr.push("settings"),st(di,o="rtl",o)},l=()=>u("cancel");return e.$$set=d=>{"title"in d&&n(0,p=d.title),"subtitle"in d&&n(1,c=d.subtitle),"$$scope"in d&&n(6,a=d.$$scope)},[p,c,s,r,o,u,a,t,h,l]}var o6=class extends Rt{constructor(i){super(),Pt(this,i,ate,ste,Dt,{title:0,subtitle:1},Kee)}};function ote(e){mn(e,"svelte-1ime0ob",`:host dialog.svelte-1ime0ob{color-scheme:light;--body-background-color:white;--body-text-color:var(--color-primary-700);--body-text-color-variant:var(--color-neutral-700);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--wharf-blue);--button-text-color-active:var(--wharf-blue);--button-outline-active:inset 0 0 0 2px var(--button-text-color);--button-primary-background:var(--color-secondary-200);--button-primary-background-hover:var(--color-secondary-200);--button-primary-background-active:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),
      var(--color-secondary-200);--button-primary-outline-hover:inset 0 0 0 1px #00000030,
      inset 0 0 0 1px var(--color-secondary-200);--button-secondary-background:var(--color-custom-1);--button-secondary-background-hover:var(--color-custom-1);--button-secondary-background-active:var(--color-secondary-200);--button-secondary-outline-hover:inset 0 0 0 1px #00000020,
      inset 0 0 0 1px var(--color-secondary-200);--button-outlined-background-active:var(--color-secondary-200);--button-outlined-outline:inset 0 0 0 1px var(--color-secondary-200);--button-outlined-outline-hover:inset 0 0 0 1px #00000020,
      inset 0 0 0 1px var(--color-secondary-200);--input-placeholder-color:var(--color-neutral-500);--input-background-focus:var(--color-neutral-100);--input-border-color:#00000030;--input-border-color-hover:var(--color-custom-5);--input-border-color-focus:var(--wharf-blue);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3), inset 0 0 0 1px var(--seafoam-mint);--checkbox-stroke:var(--wharf-blue);--checkbox-fill:var(--reef-turquoise);--error-color:var(--color-error-1);--list-item-background-color-hover:var(--color-custom-9);--list-item-text-color-hover:var(--color-secondary-500);--list-divider-color:#00000010;--text-area-background:var(--swell-mist);--text-area-text-color:#242424;--loading-circle-color:var(--reef-turquoise);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:var(--seafoam-mint);--wave-background-color:var(--reef-turquoise)}:host dialog[data-theme=dark].svelte-1ime0ob{color-scheme:dark;--body-background-color:var(--color-primary-990);--body-text-color:white;--body-text-color-variant:var(--color-neutral-300);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--body-text-color);--button-text-color-active:var(--reef-turquoise);--button-outline-active:inset 0 0 0 2px var(--reef-turquoise);--button-primary-background:var(--color-secondary-500);--button-primary-background-hover:var(--color-secondary-500);--button-primary-background-active:var(--color-custom-2);--button-primary-outline-hover:inset 0 0 0 1px white;--button-secondary-background:var(--color-primary-800);--button-secondary-background-hover:var(--color-primary-800);--button-secondary-background-active:var(--color-primary-900);--button-secondary-outline-hover:inset 0 0 0 1px #ffffff30;--button-outlined-background-active:var(--color-primary-900);--button-outlined-outline:inset 0 0 0 1px #00000030;--button-outlined-outline-hover:inset 0 0 0 1px #ffffff30;--input-placeholder-color:#ffffff75;--input-background-focus:var(--color-custom-4);--input-border-color:#ffffff30;--input-border-color-hover:var(--color-custom-6);--input-border-color-focus:var(--reef-turquoise);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3);--checkbox-stroke:var(--reef-turquoise);--checkbox-fill:var(--color-custom-3);--error-color:var(--color-error-3);--list-item-background-color-hover:var(--color-custom-8);--list-item-text-color-hover:var(--color-secondary-400);--list-divider-color:#ffffff10;--text-area-background:var(--color-primary-900);--text-area-text-color:#ffffff;--loading-circle-color:var(--seafoam-mint);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:#2f3445;--wave-background-color:#3e4356}@media(prefers-color-scheme: dark){:host dialog.svelte-1ime0ob{color-scheme:dark;--body-background-color:var(--color-primary-990);--body-text-color:white;--body-text-color-variant:var(--color-neutral-300);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--body-text-color);--button-text-color-active:var(--reef-turquoise);--button-outline-active:inset 0 0 0 2px var(--reef-turquoise);--button-primary-background:var(--color-secondary-500);--button-primary-background-hover:var(--color-secondary-500);--button-primary-background-active:var(--color-custom-2);--button-primary-outline-hover:inset 0 0 0 1px white;--button-secondary-background:var(--color-primary-800);--button-secondary-background-hover:var(--color-primary-800);--button-secondary-background-active:var(--color-primary-900);--button-secondary-outline-hover:inset 0 0 0 1px #ffffff30;--button-outlined-background-active:var(--color-primary-900);--button-outlined-outline:inset 0 0 0 1px #00000030;--button-outlined-outline-hover:inset 0 0 0 1px #ffffff30;--input-placeholder-color:#ffffff75;--input-background-focus:var(--color-custom-4);--input-border-color:#ffffff30;--input-border-color-hover:var(--color-custom-6);--input-border-color-focus:var(--reef-turquoise);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3);--checkbox-stroke:var(--reef-turquoise);--checkbox-fill:var(--color-custom-3);--error-color:var(--color-error-3);--list-item-background-color-hover:var(--color-custom-8);--list-item-text-color-hover:var(--color-secondary-400);--list-divider-color:#ffffff10;--text-area-background:var(--color-primary-900);--text-area-text-color:#ffffff;--loading-circle-color:var(--seafoam-mint);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:#2f3445;--wave-background-color:#3e4356}:host dialog[data-theme=light].svelte-1ime0ob{color-scheme:light;--body-background-color:white;--body-text-color:var(--color-primary-700);--body-text-color-variant:var(--color-neutral-700);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--wharf-blue);--button-text-color-active:var(--wharf-blue);--button-outline-active:inset 0 0 0 2px var(--button-text-color);--button-primary-background:var(--color-secondary-200);--button-primary-background-hover:var(--color-secondary-200);--button-primary-background-active:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),
        var(--color-secondary-200);--button-primary-outline-hover:inset 0 0 0 1px #00000030,
        inset 0 0 0 1px var(--color-secondary-200);--button-secondary-background:var(--color-custom-1);--button-secondary-background-hover:var(--color-custom-1);--button-secondary-background-active:var(--color-secondary-200);--button-secondary-outline-hover:inset 0 0 0 1px #00000020,
        inset 0 0 0 1px var(--color-secondary-200);--button-outlined-background-active:var(--color-secondary-200);--button-outlined-outline:inset 0 0 0 1px var(--color-secondary-200);--button-outlined-outline-hover:inset 0 0 0 1px #00000020,
        inset 0 0 0 1px var(--color-secondary-200);--input-placeholder-color:var(--color-neutral-500);--input-background-focus:var(--color-neutral-100);--input-border-color:#00000030;--input-border-color-hover:var(--color-custom-5);--input-border-color-focus:var(--wharf-blue);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3), inset 0 0 0 1px var(--seafoam-mint);--checkbox-stroke:var(--wharf-blue);--checkbox-fill:var(--reef-turquoise);--error-color:var(--color-error-1);--list-item-background-color-hover:var(--color-custom-9);--list-item-text-color-hover:var(--color-secondary-500);--list-divider-color:#00000010;--text-area-background:var(--swell-mist);--text-area-text-color:#242424;--loading-circle-color:var(--reef-turquoise);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:var(--seafoam-mint);--wave-background-color:var(--reef-turquoise)}}:host dialog.svelte-1ime0ob{--wharf-blue:var(--color-primary-700);--reef-turquoise:var(--color-secondary-300);--seafoam-mint:var(--color-secondary-200);--swell-mist:var(--color-accent-50);--color-primary-50:#f6f7f9;--color-primary-100:#ededf1;--color-primary-200:#d6d8e1;--color-primary-300:#b3b8c6;--color-primary-400:#8991a7;--color-primary-500:#6b738c;--color-primary-600:#565c73;--color-primary-700:#494e62;--color-primary-800:#3c4050;--color-primary-900:#363944;--color-primary-990:#252835;--color-secondary-50:#f1fcf9;--color-secondary-100:#cef9ed;--color-secondary-200:#b2f2e1;--color-secondary-300:#7be7ce;--color-secondary-400:#35ccae;--color-secondary-500:#1cb095;--color-secondary-600:#148d79;--color-secondary-700:#147163;--color-secondary-800:#155a51;--color-secondary-900:#164b43;--color-accent-50:#f4faf4;--color-accent-100:#e4f4e5;--color-accent-200:#cae8cc;--color-accent-300:#a1d4a3;--color-accent-400:#70b874;--color-accent-500:#4c9b51;--color-accent-600:#3a7f3e;--color-accent-700:#306534;--color-accent-800:#2a512d;--color-accent-900:#244326;--color-neutral-100:#f7f7f7;--color-neutral-200:#e3e3e3;--color-neutral-300:#c8c8c8;--color-neutral-400:#a4a4a4;--color-neutral-500:#818181;--color-neutral-600:#666666;--color-neutral-700:#515151;--color-neutral-800:#434343;--color-neutral-900:#383838;--color-custom-1:#f3f8f3;--color-custom-2:#415e60;--color-custom-3:#344b4d;--color-custom-4:#3d435a;--color-custom-5:#8ec2b4;--color-custom-6:#777b8b;--color-custom-7:#35ccae10;--color-custom-8:#575c6e;--color-custom-9:#f4f5f7;--color-error-1:#cd3939;--color-error-2:#ff5454;--color-error-3:#ffacac;font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;--measure:35ch;--fs-0:calc(var(--fs-2) * 0.75);--fs-1:calc(var(--fs-2) * 0.875);--fs-2:var(--wharfkit-font-base, 1rem);--fs-3:calc(var(--fs-2) * 1.25);--ratio:1.5;--space-4xs:calc(var(--space-3xs) / var(--ratio));--space-3xs:calc(var(--space-2xs) / var(--ratio));--space-2xs:calc(var(--space-xs) / var(--ratio));--space-xs:calc(var(--space-s) / var(--ratio));--space-s:calc(var(--space-m) / var(--ratio));--space-m:var(--wharfkit-space-base, 1rem);--space-l:calc(var(--space-m) * var(--ratio));--space-xl:calc(var(--space-l) * var(--ratio));--space-2xl:calc(var(--space-xl) * var(--ratio));--space-3xl:calc(var(--space-2xl) * var(--ratio));--space-4xl:calc(var(--space-3xl) * var(--ratio));--space-5xl:calc(var(--space-4xl) * var(--ratio));--space-6xl:calc(var(--space-5xl) * var(--ratio));--space-7xl:calc(var(--space-6xl) * var(--ratio));--space-8xl:calc(var(--space-7xl) * var(--ratio));--space-9xl:calc(var(--space-8xl) * var(--ratio));--border-radius-outer:1.5rem;--border-radius-inner:0.75rem;--header-height:var(--space-3xl)}.svelte-1ime0ob{box-sizing:border-box}.svelte-1ime0ob::selection{color:var(--wharf-blue);background-color:var(--seafoam-mint)}dialog.svelte-1ime0ob{--margin-top:var(--space-xl);font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;margin-bottom:0;margin-top:var(--margin-top);margin-inline:auto;border:none !important;border-radius:var(--border-radius-outer);padding:0;width:min(var(--space-7xl), 100vw - var(--space-m));box-shadow:0px 4px 154px rgba(0, 0, 0, 0.35);background:none}dialog.svelte-1ime0ob::backdrop{background:rgba(0, 0, 0, 0.75)}.modal-content.svelte-1ime0ob{--max-modal-content-height:calc(
      100svh - var(--header-height) - var(--margin-top) - var(--margin-top)
  );padding:var(--space-m);padding-bottom:var(--space-l);background-color:var(--body-background-color);overflow:hidden;overflow-y:scroll;max-height:var(--max-modal-content-height);scrollbar-gutter:stable both-edges;scrollbar-color:var(--header-background-color)}.modal-content.svelte-1ime0ob::-webkit-scrollbar{width:2px;background-color:var(--body-background-color)}.modal-content.svelte-1ime0ob::-webkit-scrollbar-thumb{background:var(--header-background-color)}`)}function lte(e){let i,n,s,r,o,t,a,p;n=new o6({props:{title:e[2].title,subtitle:e[2].subtitle}}),n.$on("cancel",e[3]);let c=e[6].default,u=as(c,e,e[5],null);return{c(){i=Be("dialog"),De(n.$$.fragment),s=at(),r=Be("div"),u&&u.c(),K(r,"class","modal-content svelte-1ime0ob"),K(i,"data-theme",o=e[1].theme),K(i,"class","svelte-1ime0ob")},m(h,l){we(h,i,l),Le(n,i,null),me(i,s),me(i,r),u&&u.m(r,null),e[7](i),t=!0,a||(p=Sr(i,"mousedown",HL(y6(e[4])),{passive:!1,capture:!0}),a=!0)},p(h,[l]){let d={};l&4&&(d.title=h[2].title),l&4&&(d.subtitle=h[2].subtitle),n.$set(d),u&&u.p&&(!t||l&32)&&ls(u,c,h,h[5],t?os(c,h[5],l,null):cs(h[5]),null),(!t||l&2&&o!==(o=h[1].theme))&&K(i,"data-theme",o)},i(h){t||(ee(n.$$.fragment,h),ee(u,h),t=!0)},o(h){se(n.$$.fragment,h),se(u,h),t=!1},d(h){h&&Me(i),Re(n),u&&u.d(h),e[7](null),a=!1,p()}}}function cte(e,i,n){let s,r,o;ut(e,x6,d=>n(8,s=d)),ut(e,us,d=>n(1,r=d)),ut(e,Ci,d=>n(2,o=d));let{$$slots:t={},$$scope:a}=i,p,c=Ki.subscribe(d=>{p&&(d&&!p.open?p.showModal():!d&&p.open&&(p.close(),Zv()))});m1(c);function u(){s.map(d=>d("Modal closed",!0)),Ki.set(!1)}function h(d){var v=p.getBoundingClientRect(),f=v.top<=d.clientY&&d.clientY<=v.top+v.height&&v.left<=d.clientX&&d.clientX<=v.left+v.width;f||u()}document.addEventListener("keydown",d=>{d.key==="Escape"&&p.open&&u()});function l(d){fl[d?"unshift":"push"](()=>{p=d,n(0,p)})}return e.$$set=d=>{"$$scope"in d&&n(5,a=d.$$scope)},[p,r,o,u,h,a,t,l]}var l6=class extends Rt{constructor(i){super(),Pt(this,i,cte,lte,Dt,{},ote)}};function ute(e){let i;return{c(){i=Be("p"),i.textContent="Modal inactive"},m(n,s){we(n,i,s)},p:nt,i:nt,o:nt,d(n){n&&Me(i)}}}function hte(e){let i,n,s,r,o=[yte,mte,gte,vte,pte,fte,dte],t=[];function a(p,c){return p[2]?0:p[0]?1:p[3].path==="login"?2:p[3].path==="transact"?3:p[3].path==="settings"?4:p[3].path==="create-account"?5:6}return i=a(e),n=t[i]=o[i](e),{c(){n.c(),s=Dn()},m(p,c){t[i].m(p,c),we(p,s,c),r=!0},p(p,c){let u=i;i=a(p),i===u?t[i].p(p,c):(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t(),n=t[i],n?n.p(p,c):(n=t[i]=o[i](p),n.c()),ee(n,1),n.m(s.parentNode,s))},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),t[i].d(p)}}}function dte(e){let i,n;return i=new Ac({}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function fte(e){let i,n;return i=new s6({}),i.$on("cancel",e[4]),i.$on("complete",e[5]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function pte(e){let i,n;return i=new n6({}),i.$on("cancel",e[4]),i.$on("complete",e[5]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function vte(e){let i,n;return i=new i6({}),i.$on("cancel",e[4]),i.$on("complete",e[5]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function gte(e){let i,n;return i=new Ub({}),i.$on("cancel",e[4]),i.$on("complete",e[5]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function mte(e){let i,n;return i=new qb({}),i.$on("cancel",e[4]),i.$on("complete",e[5]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function yte(e){let i,n;return i=new Vb({}),i.$on("cancel",e[4]),i.$on("complete",e[5]),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p:nt,i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function xte(e){let i,n,s,r,o=[hte,ute],t=[];function a(p,c){return p[1]?0:1}return i=a(e),n=t[i]=o[i](e),{c(){n.c(),s=Dn()},m(p,c){t[i].m(p,c),we(p,s,c),r=!0},p(p,c){let u=i;i=a(p),i===u?t[i].p(p,c):(Xt(),se(t[u],1,1,()=>{t[u]=null}),$t(),n=t[i],n?n.p(p,c):(n=t[i]=o[i](p),n.c()),ee(n,1),n.m(s.parentNode,s))},i(p){r||(ee(n),r=!0)},o(p){se(n),r=!1},d(p){p&&Me(s),t[i].d(p)}}}function bte(e){let i,n;return i=new l6({props:{$$slots:{default:[xte]},$$scope:{ctx:e}}}),{c(){De(i.$$.fragment)},m(s,r){Le(i,s,r),n=!0},p(s,[r]){let o={};r&1039&&(o.$$scope={dirty:r,ctx:s}),i.$set(o)},i(s){n||(ee(i.$$.fragment,s),n=!0)},o(s){se(i.$$.fragment,s),n=!1},d(s){Re(i,s)}}}function Mte(e,i,n){let s,r,o,t,a,p;ut(e,dl,d=>n(0,s=d)),ut(e,M6,d=>n(7,r=d)),ut(e,b6,d=>n(8,o=d)),ut(e,Ki,d=>n(1,t=d)),ut(e,y1,d=>n(2,a=d)),ut(e,Pr,d=>n(3,p=d));let{i18n:c}=i;HK("i18n",c);function u({detail:d}){o&&o.reject(d),s&&(s.reject(d),dl.reset()),Pr.back()}function h({detail:d}){o&&o.resolve(d),r&&r.resolve(d),s&&(s.resolve(d),dl.reset(),Pr.back())}let l=Pr.subscribe(d=>{d&&d.path==="login"?Qv.set(!0):Qv.set(!1)});return m1(l),e.$$set=d=>{"i18n"in d&&n(6,c=d.i18n)},[s,t,a,p,u,h,c]}var c6=class extends Rt{constructor(i){super(),Pt(this,i,Mte,bte,Dt,{i18n:6})}},Cte=Object.defineProperty,wte=Object.defineProperties,Ste=Object.getOwnPropertyDescriptors,ng=Object.getOwnPropertySymbols,iR=Object.prototype.hasOwnProperty,rR=Object.prototype.propertyIsEnumerable,EL=(e,i,n)=>i in e?Cte(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n,Rn=(e,i)=>{for(var n in i||(i={}))iR.call(i,n)&&EL(e,n,i[n]);if(ng)for(var n of ng(i))rR.call(i,n)&&EL(e,n,i[n]);return e},wr=(e,i)=>wte(e,Ste(i)),Th=(e,i)=>{var n={};for(var s in e)iR.call(e,s)&&i.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ng)for(var s of ng(e))i.indexOf(s)<0&&rR.call(e,s)&&(n[s]=e[s]);return n},Rb=["error","warn","debug"],sR=({logger:e=console,level:i=Rb[1],prefix:n="[i18n]: "})=>Rb.reduce((s,r,o)=>wr(Rn({},s),{[r]:t=>Rb.indexOf(i)>=o&&e[r](`${n}${t}`)}),{}),ui=sR({}),Ite=e=>{ui=e},AL=e=>{var i=e,{parser:n,key:s,params:r,translations:o,locale:t,fallbackLocale:a}=i,p=Th(i,["parser","key","params","translations","locale","fallbackLocale"]);if(!s)return ui.warn(`No translation key provided ('${t}' locale). Skipping translation...`),"";if(!t)return ui.warn(`No locale provided for '${s}' key. Skipping translation...`),"";let c=(o[t]||{})[s];return a&&c===void 0&&(c=(o[a]||{})[s]),p.hasOwnProperty("fallbackValue")&&c===void 0?p.fallbackValue:n.parse(c,r,t,s)},Ns=(...e)=>e.length?e.filter(i=>!!i).map(i=>{let n=`${i}`.toLowerCase();try{let[s]=Intl.Collator.supportedLocalesOf(i);if(!s)throw new Error;n=s}catch{ui.warn(`'${i}' locale is non-standard.`)}return n}):[],u6=(e,i,n)=>Object.keys(e||{}).reduce((s,r)=>{let o=e[r],t=n?`${n}.${r}`:`${r}`;return i&&Array.isArray(o)?wr(Rn({},s),{[t]:o.map(a=>u6(a,i))}):o&&typeof o=="object"?Rn(Rn({},s),u6(o,i,t)):wr(Rn({},s),{[t]:o})},{}),kte=e=>e.reduce((i,{key:n,data:s,locale:r})=>{if(!s)return i;let[o]=Ns(r),t=wr(Rn({},i[o]||{}),{[n]:s});return wr(Rn({},i),{[o]:t})},{}),Tte=e=>fe(void 0,null,function*(){try{let i=yield Promise.all(e.map(n=>{var s=n,{loader:r}=s,o=Th(s,["loader"]);return new Promise(t=>fe(void 0,null,function*(){let a;try{a=yield r()}catch(p){ui.error(`Failed to load translation. Verify your '${o.locale}' > '${o.key}' Loader.`),ui.error(p)}t(wr(Rn({loader:r},o),{data:a}))}))}));return kte(i)}catch(i){ui.error(i)}return{}}),Ete=e=>i=>{try{if(typeof i=="string")return i===e;if(typeof i=="object")return i.test(e)}catch{ui.error("Invalid route config!")}return!1},LL=(e,i)=>{let n=!0;try{n=Object.keys(e).filter(s=>e[s]!==void 0).every(s=>e[s]===i[s])}catch{}return n},RL=1e3*60*60*24,Ate=class{constructor(e){this.cachedAt=0,this.loadedKeys={},this.currentRoute=hn(),this.config=hn(),this.isLoading=hn(!1),this.promises=new Set,this.loading={subscribe:this.isLoading.subscribe,toPromise:(i,n)=>{let{fallbackLocale:s}=xn(this.config),r=Array.from(this.promises).filter(o=>{let t=LL({locale:Ns(i)[0],route:n},o);return s&&(t=t||LL({locale:Ns(s)[0],route:n},o)),t}).map(({promise:o})=>o);return Promise.all(r)},get:()=>xn(this.isLoading)},this.privateRawTranslations=hn({}),this.rawTranslations={subscribe:this.privateRawTranslations.subscribe,get:()=>xn(this.rawTranslations)},this.privateTranslations=hn({}),this.translations={subscribe:this.privateTranslations.subscribe,get:()=>xn(this.translations)},this.locales=wr(Rn({},Qi([this.config,this.privateTranslations],([i,n])=>{if(!i)return[];let{loaders:s=[]}=i,r=s.map(({locale:t})=>t),o=Object.keys(n).map(t=>t);return Array.from(new Set([...Ns(...r),...Ns(...o)]))},[])),{get:()=>xn(this.locales)}),this.internalLocale=hn(),this.loaderTrigger=Qi([this.internalLocale,this.currentRoute],([i,n],s)=>{var r,o;i!==void 0&&n!==void 0&&!(i===((r=xn(this.loaderTrigger))==null?void 0:r[0])&&n===((o=xn(this.loaderTrigger))==null?void 0:o[1]))&&(ui.debug("Triggering translation load..."),s([i,n]))},[]),this.localeHelper=hn(),this.locale={subscribe:this.localeHelper.subscribe,forceSet:this.localeHelper.set,set:this.internalLocale.set,update:this.internalLocale.update,get:()=>xn(this.locale)},this.initialized=Qi([this.locale,this.currentRoute,this.privateTranslations],([i,n,s],r)=>{xn(this.initialized)||r(i!==void 0&&n!==void 0&&!!Object.keys(s).length)}),this.translation=Qi([this.privateTranslations,this.locale,this.isLoading],([i,n,s],r)=>{let o=i[n];o&&Object.keys(o).length&&!s&&r(o)},{}),this.t=wr(Rn({},Qi([this.config,this.translation],i=>{var[n]=i,s=n,{parser:r,fallbackLocale:o}=s,t=Th(s,["parser","fallbackLocale"]);return(a,...p)=>AL(Rn({parser:r,key:a,params:p,translations:this.translations.get(),locale:this.locale.get(),fallbackLocale:o},t.hasOwnProperty("fallbackValue")?{fallbackValue:t.fallbackValue}:{}))})),{get:(i,...n)=>xn(this.t)(i,...n)}),this.l=wr(Rn({},Qi([this.config,this.translations],i=>{var[n,...s]=i,r=n,{parser:o,fallbackLocale:t}=r,a=Th(r,["parser","fallbackLocale"]),[p]=s;return(c,u,...h)=>AL(Rn({parser:o,key:u,params:h,translations:p,locale:c,fallbackLocale:t},a.hasOwnProperty("fallbackValue")?{fallbackValue:a.fallbackValue}:{}))})),{get:(i,n,...s)=>xn(this.l)(i,n,...s)}),this.getLocale=i=>{let{fallbackLocale:n}=xn(this.config)||{},s=i||n;if(!s)return;let r=this.locales.get();return r.find(o=>Ns(s).includes(o))||r.find(o=>Ns(n).includes(o))},this.setLocale=i=>{if(i&&i!==xn(this.internalLocale))return ui.debug(`Setting '${i}' locale.`),this.internalLocale.set(i),this.loading.toPromise(i,xn(this.currentRoute))},this.setRoute=i=>{if(i!==xn(this.currentRoute)){ui.debug(`Setting '${i}' route.`),this.currentRoute.set(i);let n=xn(this.internalLocale);return this.loading.toPromise(n,i)}},this.loadConfig=i=>fe(this,null,function*(){yield this.configLoader(i)}),this.getTranslationProps=(...s)=>fe(this,[...s],function*(i=this.locale.get(),n=xn(this.currentRoute)){let r=xn(this.config);if(!r||!i)return[];let o=this.translations.get(),{loaders:t,fallbackLocale:a="",cache:p=RL}=r||{},c=Number.isNaN(+p)?RL:+p;this.cachedAt?Date.now()>c+this.cachedAt&&(ui.debug("Refreshing cache."),this.loadedKeys={},this.cachedAt=0):(ui.debug("Setting cache timestamp."),this.cachedAt=Date.now());let[u,h]=Ns(i,a),l=o[u],d=o[h],v=(t||[]).map(f=>{var g=f,{locale:m}=g,x=Th(g,["locale"]);return wr(Rn({},x),{locale:Ns(m)[0]})}).filter(({routes:f})=>!f||(f||[]).some(Ete(n))).filter(({key:f,locale:g})=>g===u&&(!l||!(this.loadedKeys[u]||[]).includes(f))||a&&g===h&&(!d||!(this.loadedKeys[h]||[]).includes(f)));if(v.length){this.isLoading.set(!0),ui.debug("Fetching translations...");let f=yield Tte(v);this.isLoading.set(!1);let g=Object.keys(f).reduce((x,y)=>wr(Rn({},x),{[y]:Object.keys(f[y])}),{}),m=v.filter(({key:x,locale:y})=>(g[y]||[]).some(b=>`${b}`.startsWith(x))).reduce((x,{key:y,locale:b})=>wr(Rn({},x),{[b]:[...x[b]||[],y]}),{});return[f,m]}return[]}),this.addTranslations=(i,n)=>{if(!i)return;let s=xn(this.config),{preprocess:r}=s||{};ui.debug("Adding translations...");let o=Object.keys(i||{});this.privateRawTranslations.update(t=>o.reduce((a,p)=>wr(Rn({},a),{[p]:Rn(Rn({},a[p]||{}),i[p])}),t)),this.privateTranslations.update(t=>o.reduce((a,p)=>{let c=!0,u=i[p];return typeof r=="function"&&(u=r(u)),(typeof r=="function"||r==="none")&&(c=!1),wr(Rn({},a),{[p]:Rn(Rn({},a[p]||{}),c?u6(u,r==="preserveArrays"):u)})},t)),o.forEach(t=>{let a=Object.keys(i[t]).map(p=>`${p}`.split(".")[0]);n&&(a=n[t]),this.loadedKeys[t]=Array.from(new Set([...this.loadedKeys[t]||[],...a||[]]))})},this.loader=s=>fe(this,[s],function*([i,n]){let r=this.getLocale(i)||void 0;ui.debug(`Adding loader promise for '${r}' locale and '${n}' route.`);let o=fe(this,null,function*(){let t=yield this.getTranslationProps(r,n);t.length&&this.addTranslations(...t)});this.promises.add({locale:r,route:n,promise:o}),o.then(()=>{r&&this.locale.get()!==r&&this.locale.forceSet(r)})}),this.loadTranslations=(i,n=xn(this.currentRoute)||"")=>{let s=this.getLocale(i);if(s)return this.setRoute(n),this.setLocale(s),this.loading.toPromise(s,n)},this.loaderTrigger.subscribe(this.loader),this.isLoading.subscribe(i=>fe(this,null,function*(){i&&this.promises.size&&(yield this.loading.toPromise(),this.promises.clear(),ui.debug("Loader promises have been purged."))})),e&&this.loadConfig(e)}configLoader(e){return fe(this,null,function*(){if(!e)return ui.error("No config provided!");let i=e,{initLocale:n,fallbackLocale:s,translations:r,log:o}=i,t=Th(i,["initLocale","fallbackLocale","translations","log"]);o&&Ite(sR(o)),[n]=Ns(n),[s]=Ns(s),ui.debug("Setting config."),this.config.set(Rn({initLocale:n,fallbackLocale:s,translations:r},t)),r&&this.addTranslations(r),n&&(yield this.loadTranslations(n))})}},aR=Object.defineProperty,Lte=Object.defineProperties,Rte=Object.getOwnPropertyDescriptors,ig=Object.getOwnPropertySymbols,oR=Object.prototype.hasOwnProperty,lR=Object.prototype.propertyIsEnumerable,DL=(e,i,n)=>i in e?aR(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n,ga=(e,i)=>{for(var n in i||(i={}))oR.call(i,n)&&DL(e,n,i[n]);if(ig)for(var n of ig(i))lR.call(i,n)&&DL(e,n,i[n]);return e},C6=(e,i)=>Lte(e,Rte(i)),vl=(e,i)=>{var n={};for(var s in e)oR.call(e,s)&&i.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ig)for(var s of ig(e))i.indexOf(s)<0&&lR.call(e,s)&&(n[s]=e[s]);return n},Dte=(e,i)=>{for(var n in i)aR(e,n,{get:i[n],enumerable:!0})},cR={};Dte(cR,{ago:()=>zte,currency:()=>Wte,date:()=>Bte,eq:()=>w6,gt:()=>hR,gte:()=>Pte,lt:()=>uR,lte:()=>Fte,ne:()=>Ote,number:()=>Nte});var ag=(e,i)=>{let{modifierDefaults:n}=i||{},{[e]:s}=n||{};return s||{}},w6=({value:e,options:i=[],defaultValue:n=""})=>(i.find(({key:s})=>`${s}`.toLowerCase()===`${e}`.toLowerCase())||{}).value||n,Ote=({value:e,options:i=[],defaultValue:n=""})=>(i.find(({key:s})=>`${s}`.toLowerCase()!==`${e}`.toLowerCase())||{}).value||n,uR=({value:e,options:i=[],defaultValue:n=""})=>(i.sort((s,r)=>+s.key-+r.key).find(({key:s})=>+e<+s)||{}).value||n,hR=({value:e,options:i=[],defaultValue:n=""})=>(i.sort((s,r)=>+r.key-+s.key).find(({key:s})=>+e>+s)||{}).value||n,Fte=({value:e,options:i=[],defaultValue:n=""})=>w6({value:e,options:i,defaultValue:uR({value:e,options:i,defaultValue:n})}),Pte=({value:e,options:i=[],defaultValue:n=""})=>w6({value:e,options:i,defaultValue:hR({value:e,options:i,defaultValue:n})}),Nte=({value:e,props:i,defaultValue:n="",locale:s="",parserOptions:r})=>{if(!s)return"";let o=ag("number",r),{maximumFractionDigits:t}=o,a=vl(o,["maximumFractionDigits"]),p=i?.number||{},{maximumFractionDigits:c=t||2}=p,u=vl(p,["maximumFractionDigits"]);return new Intl.NumberFormat(s,ga(C6(ga({},a),{maximumFractionDigits:c}),u)).format(+e||+n)},Bte=({value:e,props:i,defaultValue:n="",locale:s="",parserOptions:r})=>{if(!s)return"";let o=vl(ag("date",r),[]),t=vl(i?.date||{},[]);return new Intl.DateTimeFormat(s,ga(ga({},o),t)).format(+e||+n)},h6=[{key:"second",multiplier:1e3},{key:"minute",multiplier:60},{key:"hour",multiplier:60},{key:"day",multiplier:24},{key:"week",multiplier:7},{key:"month",multiplier:13/3},{key:"year",multiplier:12}],dR=(e="",i="")=>new RegExp(`^${e}s?$`).test(i),Vte=e=>h6.indexOf(h6.find(({key:i})=>dR(i,e))),Gte=(e,i)=>h6.reduce(([n,s],{key:r,multiplier:o},t)=>{if(dR(s,i))return[n,s];if(!s||t===Vte(s)+1){let a=Math.round(n/o);if(!s||Math.abs(a)>=1||i!=="auto")return[a,r]}return[n,s]},[e,""]),zte=({value:e,defaultValue:i="",locale:n="",props:s,parserOptions:r})=>{if(!n)return"";let o=ag("ago",r),{format:t,numeric:a}=o,p=vl(o,["format","numeric"]),c=s?.ago||{},{format:u=t||"auto",numeric:h=a||"auto"}=c,l=vl(c,["format","numeric"]),d=+e||+i,v=Gte(d,u);return new Intl.RelativeTimeFormat(n,ga(C6(ga({},p),{numeric:h}),l)).format(...v)},Wte=({value:e,defaultValue:i="",locale:n="",props:s,parserOptions:r})=>{if(!n)return"";let o=ag("currency",r),{ratio:t,currency:a}=o,p=vl(o,["ratio","currency"]),c=s?.currency||{},{ratio:u=t||1,currency:h=a}=c,l=vl(c,["ratio","currency"]);return new Intl.NumberFormat(n,ga(C6(ga({},p),{style:"currency",currency:h}),l)).format(u*(e||i))},Hte=e=>typeof e=="string"&&/{{(?:(?!{{|}}).)+}}/.test(e),d6=e=>typeof e=="string"?e.replace(/\\(?=:|;|{|})/g,""):e,jte=({value:e,props:i,payload:n,parserOptions:s,locale:r})=>`${e}`.replace(/{{\s*(?:(?!{{|}}).)+\s*}}/g,o=>{let t=d6(`${o.match(/(?!{|\s).+?(?!\\[:;]).(?=\s*(?:[:;]|}}$))/)}`),a=n?.[t],[,p=""]=o.match(/.+?(?!\\;).;\s*default\s*:\s*([^\s:;].+?(?:\\[:;]|[^;}])*)(?=\s*(?:;|}}$))/i)||[];p=p||n?.default||"";let[,c=""]=o.match(/{{\s*(?:[^;]|(?:\\;))+\s*(?:(?!\\:).[:])\s*(?!\s)((?:\\;|[^;])+?)(?=\s*(?:[;]|}}$))/i)||[];if(a===void 0&&c!=="ne")return p;let u=!!c,{customModifiers:h}=s||{},l=ga(ga({},cR),h||{});c=Object.keys(l).includes(c)?c:"eq";let d=l[c],v=(o.match(/[^\s:;{](?:[^;]|\\[;])+[^:;}]/gi)||[]).reduce((f,g,m)=>{if(m>0){let x=d6(`${g.match(/(?:(?:\\:)|[^:])+/)}`.trim()),y=`${g.match(/(?:(?:\\:)|[^:])+$/)}`.trimStart();if(x&&x!=="default"&&y)return[...f,{key:x,value:y}]}return f},[]);return!u&&!v.length?a:d({value:a,options:v,props:i,defaultValue:p,locale:r,parserOptions:s})}),fR=({value:e,props:i,payload:n,parserOptions:s,locale:r})=>{if(Hte(e)){let o=jte({value:e,payload:n,props:i,parserOptions:s,locale:r});return fR({value:o,payload:n,props:i,parserOptions:s,locale:r})}else return d6(e)},Yte=e=>({parse:(i,[n,s],r,o)=>(n!=null&&n.default&&i===void 0&&(i=n.default),i===void 0&&(i=o),fR({value:i,payload:n,props:s,parserOptions:e,locale:r}))}),Ute=Yte,Zte=Object.defineProperty,Xte=Object.defineProperties,$te=Object.getOwnPropertyDescriptors,rg=Object.getOwnPropertySymbols,pR=Object.prototype.hasOwnProperty,vR=Object.prototype.propertyIsEnumerable,OL=(e,i,n)=>i in e?Zte(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n,Jte=(e,i)=>{for(var n in i||(i={}))pR.call(i,n)&&OL(e,n,i[n]);if(rg)for(var n of rg(i))vR.call(i,n)&&OL(e,n,i[n]);return e},Kte=(e,i)=>Xte(e,$te(i)),Qte=(e,i)=>{var n={};for(var s in e)pR.call(e,s)&&i.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&rg)for(var s of rg(e))i.indexOf(s)<0&&vR.call(e,s)&&(n[s]=e[s]);return n},FL=e=>{var i=e,{parserOptions:n={}}=i,s=Qte(i,["parserOptions"]);return Kte(Jte({},s),{parser:Ute(n)})},_te=class extends Ate{constructor(e){super(e&&FL(e)),this.loadConfig=i=>super.configLoader(FL(i))}},gR=_te,qte="Accept",ene="Cancel",tne="Close",nne="Decline",ine={title:"Error",subtitle:"An Error happened."},rne="Loading\u2026",sne={complete:"Awaiting response from your wallet.",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"Select an available account",blockchain:"Select which blockchain to login with",wallet:"Connect your wallet to login",no_accounts:"No accounts found",no_match:"No accounts found matching {{publicKey}}"},title:"Login","title-app":"{{appName}}"},ane={title:"Transact",subtitle:" ",processing:"Processing transaction\u2026",signing:"Signing transaction",signed:"Transaction signed",broadcasting:"Broadcasting transaction",broadcasted:"Transaction sent"},one={title:"Settings",language:{title:"Language"},theme:{title:"Theme",automatic:"Automatic",light:"Light",dark:"Dark"},animations:{title:"Animations",enabled:"Enabled",disabled:"Disabled"},github:"Report an issue on Github",about:{title:"About",version:"Version {{version}}",author:"An open source SDK for Antelope-based blockchains created by Greymass and made possible through funding by the Antelope Coalition (EOS, Telos, UX, and WAX).",link:"Read more about Wharf"}},lne={accept:qte,cancel:ene,close:tne,decline:nne,error:ine,loading:rne,login:sne,transact:ane,settings:one},cne="\uBC1B\uC544\uB4E4\uC774\uB2E4",une="\uCDE8\uC18C",hne="\uB2EB\uB2E4",dne="\uAC70\uC808\uD558\uB2E4",fne={title:"\uC624\uB958",subtitle:"\uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."},pne="\uB85C\uB4DC...",vne={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"\uACC4\uC815 \uC120\uD0DD",blockchain:"\uBE14\uB85D\uCCB4\uC778 \uC120\uD0DD",wallet:"\uC9C0\uAC11 \uC120\uD0DD",no_match:"{{publicKey}}\uC640 \uC77C\uCE58\uD558\uB294 \uACC4\uC815\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."},title:"\uB85C\uADF8\uC778","title-app":"{{appName}}\uC5D0 \uB85C\uADF8\uC778"},gne={title:"\uAC70\uB798\uD558\uB2E4",subtitle:" ",processing:"Performing transaction...",signing:"\uC11C\uBA85 \uD2B8\uB79C\uC7AD\uC158",signed:"\uD2B8\uB79C\uC7AD\uC158 \uC11C\uBA85",broadcasting:"\uBC29\uC1A1 \uAC70\uB798",broadcasted:"\uAC70\uB798 \uBC29\uC1A1"},mne={title:"\uC124\uC815",language:{title:"\uC5B8\uC5B4"},theme:{title:"\uD14C\uB9C8",automatic:"\uC790\uB3D9",light:"\uBC1D\uC740 \uD14C\uB9C8",dark:"\uC5B4\uB450\uC6B4 \uD14C\uB9C8"},animations:{title:"\uC560\uB2C8\uBA54\uC774\uC158",enabled:"\uD65C\uC131\uD654",disabled:"\uBE44\uD65C\uC131\uD654"},github:"Github\uC5D0\uC11C \uBB38\uC81C \uBCF4\uACE0",about:{title:"\uC815\uBCF4",version:"{{version}} \uBC84\uC804",author:"",link:"\uBD80\uB450\uC5D0 \uB300\uD574 \uC790\uC138\uD788 \uC54C\uC544\uBCF4\uAE30"}},yne={accept:cne,cancel:une,close:hne,decline:dne,error:fne,loading:pne,login:vne,transact:gne,settings:mne},xne="\u63A5\u53D7",bne="\u53D6\u6D88",Mne="\u5173\u95ED",Cne="\u4E0B\u964D",wne={title:"\u9519\u8BEF",subtitle:"\u53D1\u751F\u9519\u8BEF\u3002"},Sne="\u52A0\u8F7D\u4E2D\u3002\u3002\u3002",Ine={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"\u9009\u62E9\u4E00\u4E2A\u5E10\u6237",blockchain:"\u9009\u62E9\u4E00\u4E2A\u533A\u5757\u94FE",wallet:"\u9009\u62E9\u4E00\u4E2A\u94B1\u5305",no_match:"\u672A\u627E\u5230\u4E0E {{publicKey}} \u5339\u914D\u7684\u5E10\u6237\u3002"},title:"\u767B\u9646","title-app":"\u767B\u9646\u5230 {{appName}}"},kne={title:"\u529E\u7406",subtitle:" ",processing:"Performing transaction...",signing:"\u7B7E\u7F72\u4EA4\u6613",signed:"\u4EA4\u6613\u5DF2\u7B7E\u7F72",broadcasting:"\u5E7F\u64AD\u4EA4\u6613",broadcasted:"\u4EA4\u6613\u5E7F\u64AD"},Tne={title:"\u8BBE\u7F6E",language:{title:"\u8BED\u8A00"},theme:{title:"\u4E3B\u9898",automatic:"\u81EA\u52A8",light:"\u6D45\u8272",dark:"\u6DF1\u8272"},animations:{title:"\u52A8\u753B",enabled:"\u542F\u7528",disabled:"\u7981\u7528"},github:"\u5728 Github \u4E0A\u62A5\u544A\u95EE\u9898",about:{title:"\u5173\u4E8E",version:"\u7248\u672C {{version}}",author:"",link:"\u9605\u8BFB\u66F4\u591A\u5173\u4E8E\u7801\u5934\u7684\u4FE1\u606F"}},PL={accept:xne,cancel:bne,close:Mne,decline:Cne,error:wne,loading:Sne,login:Ine,transact:kne,settings:Tne},Ene="\u63A5\u53D7",Ane="\u53D6\u6D88",Lne="\u95DC\u9589",Rne="\u4E0B\u964D",Dne={title:"\u932F\u8AA4",subtitle:"\u767C\u751F\u932F\u8AA4\u3002"},One="\u88DD\u8F09\u3002\u3002\u3002",Fne={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"\u9078\u64C7\u4E00\u500B\u5E33\u6236",blockchain:"\u9078\u64C7\u4E00\u500B\u5340\u584A\u93C8",wallet:"\u9078\u64C7\u4E00\u500B\u9322\u5305",no_match:"\u672A\u627E\u5230\u8207 {{publicKey}} \u5339\u914D\u7684\u5E33\u6236\u3002"},title:"\u767B\u9304","title-app":"\u767B\u9304\u5230 {{appName}}"},Pne={title:"\u8FA6\u7406",subtitle:"",processing:"Performing transaction...",signing:"\u7C3D\u7F72\u4EA4\u6613",signed:"\u4EA4\u6613\u5DF2\u7C3D\u7F72",broadcasting:"\u5EE3\u64AD\u4EA4\u6613",broadcasted:"\u4EA4\u6613\u5EE3\u64AD"},Nne={title:"\u8A2D\u7F6E",language:{title:"\u8A9E\u8A00"},theme:{title:"\u4E3B\u984C",automatic:"\u81EA\u52D5",light:"\u5149",dark:"\u6697"},animations:{title:"\u52D5\u756B",enabled:"\u555F\u7528",disabled:"\u6B98"},github:"\u5728 Github \u4E0A\u5831\u544A\u554F\u984C",about:{title:"\u95DC\u65BC",version:"\u7248\u672C {{version}}",author:"",link:"\u95B1\u8B80\u66F4\u591A\u95DC\u65BC\u78BC\u982D\u7684\u8CC7\u8A0A"}},Bne={accept:Ene,cancel:Ane,close:Lne,decline:Rne,error:Dne,loading:One,login:Fne,transact:Pne,settings:Nne},Vne="Kabul Et",Gne="\u0130ptal",zne="Kapat",Wne="Reddet",Hne={title:"Hata",subtitle:"Bir Hata meydana geldi."},jne="Y\xFCkleniyor...",Yne={complete:"C\xFCzdan\u0131n\u0131zdan yan\u0131t bekleniyor.",enter:{account:"Hesap ad\u0131n\u0131 girin",lookup:"Hesap Ara",not_found:"Hesap bulunamad\u0131"},select:{account:"Mevcut bir hesap se\xE7in",blockchain:"Hangi blockchain ile giri\u015F yap\u0131laca\u011F\u0131n\u0131 se\xE7in",wallet:"C\xFCzdan\u0131n\u0131z\u0131 ba\u011Flayarak giri\u015F yap\u0131n",no_match:"{{publicKey}} ile e\u015Fle\u015Fen hesap bulunamad\u0131"},title:"Giri\u015F","title-app":"{{appName}}"},Une={title:"\u0130\u015Flem",subtitle:" ",processing:"\u0130\u015Flem yap\u0131l\u0131yor...",signing:"\u0130\u015Flem imzalan\u0131yor",signed:"\u0130\u015Flem imzaland\u0131",broadcasting:"\u0130\u015Flem yay\u0131nlan\u0131yor",broadcasted:"\u0130\u015Flem g\xF6nderildi"},Zne={title:"Ayarlar",language:{title:"Dil"},theme:{title:"Tema",automatic:"Otomatik",light:"A\xE7\u0131k",dark:"Koyu"},animations:{title:"Animasyonlar",enabled:"Etkin",disabled:"Devre D\u0131\u015F\u0131"},github:"Github \xFCzerinde bir sorun bildir",about:{title:"Hakk\u0131nda",version:"S\xFCr\xFCm {{version}}",author:"Greymass taraf\u0131ndan olu\u015Fturulan ve Antelope tabanl\u0131 blockchain'ler i\xE7in bir a\xE7\u0131k kaynak SDK olan Wharf'\u0131, Antelope Koalisyonu (EOS, Telos, UX ve WAX) taraf\u0131ndan finanse edilerek m\xFCmk\xFCn k\u0131l\u0131nm\u0131\u015Ft\u0131r.",link:"Wharf hakk\u0131nda daha fazla bilgi edinin"}},Xne={accept:Vne,cancel:Gne,close:zne,decline:Wne,error:Hne,loading:jne,login:Yne,transact:Une,settings:Zne},$ne={en:q(q({},va),lne),ko:q(q({},va),yne),zh:q(q({},va),PL),"zh-Hans":q(q({},va),PL),"zh-Hant":q(q({},va),Bne),tr:q(q({},va),Xne)},mR={initLocale:"en",translations:$ne},Jne=(e={})=>{let i=q(q({},mR),e);return new gR(i)};new gR(mR);var NL={id:"wharfkit-web-ui",minimal:!1},Kne=()=>(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||"en").split("-")[0],yR=(()=>{class e extends jv{constructor(n=NL){super(),this.elementId="wharfkit-web-ui",this.initialized=!1,this.logging=!1,this.minimal=!1,this.addCancelablePromise=s=>x6.update(r=>[...r,s]),this.options=n,typeof document<"u"&&this.initialize()}initialize(){if(this.initialized)return;let{options:n}=this;this.element=document.createElement("div"),this.elementId=n.id||NL.id,this.element.id=this.elementId,this.shadow=this.element.attachShadow({mode:"closed"}),this.i18n=Jne();let s=Kne();this.minimal=n.minimal||!1;let r=xn(us).language;r&&(s=r),n.logging!==void 0&&(this.logging=n.logging),this.log(`Setting language to ${s}`),us.update(o=>Se(q({},o),{language:s})),this.i18n.loadTranslations(s),document.readyState==="complete"||document.readyState==="interactive"?this.appendDialogElement():document.addEventListener("DOMContentLoaded",()=>this.appendDialogElement()),this.initialized=!0}appendDialogElement(){let n=document.getElementById(this.elementId);if(!this.element||!this.shadow)throw new Error("The WebRenderer is not initialized. Call the initialize method first.");n||(document.body.append(this.element),document.removeEventListener("DOMContentLoaded",()=>this.appendDialogElement()),new c6({target:this.shadow,props:{i18n:this.i18n}}))}log(...n){this.logging&&console.log("WebRenderer, LOG:",...n)}login(n){return fe(this,null,function*(){this.log("login",n),dl.set(void 0),Pr.push("login");let s=Dv(new Promise((r,o)=>b6.set({reject:o,resolve:r})));return this.addCancelablePromise(s.cancel),ul.set(n),yield s,this.minimal&&Ki.set(!1),s})}onError(n){return fe(this,null,function*(){let s=n instanceof n1,r=s&&n.silent===!0;this.log("onError",{isCancelable:s,isSilent:r,error:n}),!r&&(this.minimal?Ki.set(!1):(Ki.set(!0),y1.set(String(n)),Pr.push("error")))})}onAccountCreate(n){return fe(this,null,function*(){this.log("onAccountCreate",n),Ki.set(!0),Pr.push("create-account");let s=Dv(new Promise((r,o)=>M6.set({reject:o,resolve:r})));return this.addCancelablePromise(s.cancel),Tc.set(n),s})}onAccountCreateComplete(){return fe(this,null,function*(){this.log("onAccountCreateComplete"),Ki.set(!1),Zv()})}onLogin(){return fe(this,null,function*(){this.log("onLogin"),Ki.set(!0),Ci.update(n=>Se(q({},n),{title:this.i18n.t.get("login.title",{default:"Login"}),subtitle:""})),Pr.push("login")})}onLoginComplete(){return fe(this,null,function*(){this.log("onLoginResult"),Ki.set(!1),Zv()})}onTransact(){return fe(this,null,function*(){this.log("onTransact"),this.minimal||Ki.set(!0),Ci.update(n=>Se(q({},n),{title:this.i18n.t.get("transact.title",{default:"Transact"}),subtitle:""})),Pr.push("transact")})}onTransactComplete(){return fe(this,null,function*(){this.log("onTransactResult"),Zv(),Ki.set(!1)})}onSign(){return fe(this,null,function*(){this.log("onSign")})}onSignComplete(){return fe(this,null,function*(){this.log("onSignComplete")})}onBroadcast(){return fe(this,null,function*(){this.log("onBroadcast")})}onBroadcastComplete(){return fe(this,null,function*(){this.log("onBroadcastComplete")})}prompt(n){this.log("prompt",n),(!this.minimal||this.minimal&&!n.optional)&&(Ki.set(!0),Pr.push("prompt"));let s=Dv(new Promise((r,o)=>{dl.set({args:n,resolve:r,reject:o})}),r=>{throw r});return this.addCancelablePromise(s.cancel),s}status(n){this.minimal||Ki.set(!0),Ci.update(s=>Se(q({},s),{subtitle:n}))}translate(n,s,r){return r?this.i18n.t.get(`${r}.${n}`,s):this.i18n.t.get(n,s)}addTranslations(n){this.i18n.addTranslations(n)}}return e.version="1.4.0-rc6",e})();var MR=tr(bR());var lg=class extends Error{event;code="E_NETWORK";constructor(i){super("Socket error"),this.event=i}},Lc=class extends Error{reason;underlyingError;code="E_MESSAGE";constructor(i,n){super(i),this.reason=i,this.underlyingError=n}},b1=globalThis||window,M1=function(e){return e.binary="binary",e.text="text",e.json="json",e}(M1||{}),I6=class extends MR.default{url;active=!1;socket;timer;reconnectTimer;encoding;WebSocket;constructor(i){if(super(),!i.service)throw new Error("Options must include a service url");if(!i.channel)throw new Error("Options must include a channel name");let n=i.service.replace(/^http/,"ws").replace(/\/$/,"");this.url=`${n}/${i.channel}?v=2`,this.encoding=i.encoding||M1.text,this.WebSocket=i.WebSocket||b1.WebSocket,i.autoConnect!==!1&&this.connect()}connect(){if(this.active)return;this.active=!0;let i=0,n,s=()=>{let r=new this.WebSocket(this.url);r.onmessage=t=>{if(typeof Blob<"u"&&t.data instanceof Blob){let a=new FileReader;a.onload=()=>{this.handleMessage(new Uint8Array(a.result))},a.onerror=()=>{this.emit("error",new Lc("Could not read message"))},a.readAsArrayBuffer(t.data)}else if(typeof t.data=="string")this.handleMessage(new TextEncoder().encode(t.data));else if(typeof b1.Buffer<"u"&&(t.data instanceof b1.Buffer||Array.isArray(t.data))){let a=t.data;b1.Buffer.isBuffer(a)||(a=b1.Buffer.concat(a)),this.handleMessage(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))}else t.data instanceof Uint8Array?this.handleMessage(t.data):t.data instanceof ArrayBuffer?this.handleMessage(new Uint8Array(t.data)):this.emit("error",new Lc("Unhandled event data type"))},r.onerror=t=>{this.socket===r&&this.active&&this.emit("error",new lg(t))},r.onopen=()=>{i=0,this.emit("connect")},r.onclose=()=>{this.active&&(clearTimeout(this.timer),this.timer=setTimeout(s,qne(i++))),this.socket=void 0,clearTimeout(n),this.reconnectTimer&&clearInterval(this.reconnectTimer),this.emit("disconnect")},this.setupReconnectionTimer();let o=r;typeof o.on=="function"&&typeof o.terminate=="function"&&o.on("ping",()=>{clearTimeout(n),n=setTimeout(()=>{o.terminate()},15*1e3)}),this.socket=r};s()}disconnect(){this.active=!1,this.socket&&(this.socket.readyState===this.WebSocket.OPEN||this.socket.readyState===this.WebSocket.CONNECTING)&&this.socket.close(1e3)}get isConnected(){return this.active&&this.socket?.readyState==this.WebSocket.OPEN}handleMessage(i){i[0]===66&&i[1]===66&&i[2]===1&&(this.socket?.send(new Uint8Array([66,66,2,i[3]])),i=i.subarray(4));let n;switch(this.encoding){case M1.binary:n=i;break;case M1.text:n=new TextDecoder().decode(i);break;case M1.json:try{n=JSON.parse(new TextDecoder().decode(i))}catch(s){this.emit("error",new Lc("Unable to decode JSON",s));return}}this.emit("message",n)}setupReconnectionTimer(){this.reconnectTimer=setInterval(()=>{this.socket?.close(1e3)},10*60*1e3)}};function qne(e){return Math.min(Math.pow(e*7,2),5*1e3)}function CR(e,i){return new Promise((n,s)=>{let r=new I6(Se(q({},e),{autoConnect:!0})),o,t,a=(p,c)=>{clearTimeout(o),p?s(p):n(c),r.disconnect()};i&&(i.cancel=()=>{a(new Lc("Cancelled",t))}),e.timeout&&(o=setTimeout(()=>{a(new Lc("Timed out",t))},e.timeout)),r.on("error",p=>{p instanceof lg?t=p:a(p)}),r.once("message",p=>{a(void 0,p)})})}var eie=globalThis||window,wR=function(e){return e.buffered="buffered",e.delivered="delivered",e}(wR||{});function SR(e,i){return fe(this,null,function*(){let n=i.fetch||eie.fetch,r=`${i.service.replace(/^ws/,"http").replace(/\/$/,"")}/${i.channel}`,o={};if(i.requireDelivery){if(!i.timeout)throw new Error("requireDelivery can only be used with timeout");o["X-Buoy-Wait"]=`${Math.ceil(i.timeout/1e3)}`}else i.timeout&&(o["X-Buoy-Soft-Wait"]=`${Math.ceil(i.timeout/1e3)}`);let t;typeof e=="string"||e instanceof Uint8Array?t=e:t=JSON.stringify(e);let a=yield n(r,{method:"POST",body:t,headers:o});if(Math.floor(a.status/100)!==2)throw a.status===408?new Error("Unable to deliver message"):a.status===410?new Error("Request cancelled"):new Error(`Unexpected status code ${a.status}`);return a.headers.get("X-Buoy-Delivery")||wR.buffered})}var ma=function(){var e=!1,i,n;function s(){i=[],n=[];var d=1,v,f;for(v=0;v<255;v++)i[v]=d,f=d&128,d<<=1,d&=255,f===128&&(d^=27),d^=i[v],n[i[v]]=v;i[255]=i[0],n[0]=0,e=!0}function r(d,v){var f=i[(n[d]+n[v])%255];return(d===0||v===0)&&(f=0),f}function o(d){var v=i[255-n[d]];return d===0&&(v=0),v}var t=!1,a,p,c,u;function h(){e||s();function d(m){var x,y,b;for(y=b=o(m),x=0;x<4;x++)y=(y<<1|y>>>7)&255,b^=y;return b^=99,b}a=[],p=[],c=[[],[],[],[]],u=[[],[],[],[]];for(var v=0;v<256;v++){var f=d(v);a[v]=f,p[f]=v,c[0][v]=r(2,f)<<24|f<<16|f<<8|r(3,f),u[0][f]=r(14,v)<<24|r(9,v)<<16|r(13,v)<<8|r(11,v);for(var g=1;g<4;g++)c[g][v]=c[g-1][v]>>>8|c[g-1][v]<<24,u[g][f]=u[g-1][f]>>>8|u[g-1][f]<<24}t=!0}var l=function(d,v){t||h();var f=new Uint32Array(v);f.set(a,512),f.set(p,768);for(var g=0;g<4;g++)f.set(c[g],4096+1024*g>>2),f.set(u[g],8192+1024*g>>2);function m(b,M,C,w,S,I,T,k,E){var A=f.subarray(0,60),L=f.subarray(256,316);A.set([M,C,w,S,I,T,k,E]);for(var D=b,R=1;D<4*b+28;D++){var N=A[D-1];(D%b===0||b===8&&D%b===4)&&(N=a[N>>>24]<<24^a[N>>>16&255]<<16^a[N>>>8&255]<<8^a[N&255]),D%b===0&&(N=N<<8^N>>>24^R<<24,R=R<<1^(R&128?27:0)),A[D]=A[D-b]^N}for(var P=0;P<D;P+=4)for(var O=0;O<4;O++){var N=A[D-(4+P)+(4-O)%4];P<4||P>=D-4?L[P+O]=N:L[P+O]=u[0][a[N>>>24]]^u[1][a[N>>>16&255]]^u[2][a[N>>>8&255]]^u[3][a[N&255]]}y.set_rounds(b+5)}var x={Uint8Array,Uint32Array},y=function(b,M,C){var w=0,S=0,I=0,T=0,k=0,E=0,A=0,L=0,D=0,R=0,N=0,P=0,O=0,W=0,G=0,H=0,V=0,B=0,j=0,U=0,X=0,Z=new b.Uint32Array(C),$=new b.Uint8Array(C);function J(oe,ie,Pe,Ee,We,ht,Ze,Je){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0,We=We|0,ht=ht|0,Ze=Ze|0,Je=Je|0;var On=0,St=0,It=0,oi=0,Ft=0,ln=0,xl=0,Nt=0;for(On=Pe|1024,St=Pe|2048,It=Pe|3072,We=We^Z[(oe|0)>>2],ht=ht^Z[(oe|4)>>2],Ze=Ze^Z[(oe|8)>>2],Je=Je^Z[(oe|12)>>2],Nt=16;(Nt|0)<=Ee<<4;Nt=Nt+16|0)oi=Z[(Pe|We>>22&1020)>>2]^Z[(On|ht>>14&1020)>>2]^Z[(St|Ze>>6&1020)>>2]^Z[(It|Je<<2&1020)>>2]^Z[(oe|Nt|0)>>2],Ft=Z[(Pe|ht>>22&1020)>>2]^Z[(On|Ze>>14&1020)>>2]^Z[(St|Je>>6&1020)>>2]^Z[(It|We<<2&1020)>>2]^Z[(oe|Nt|4)>>2],ln=Z[(Pe|Ze>>22&1020)>>2]^Z[(On|Je>>14&1020)>>2]^Z[(St|We>>6&1020)>>2]^Z[(It|ht<<2&1020)>>2]^Z[(oe|Nt|8)>>2],xl=Z[(Pe|Je>>22&1020)>>2]^Z[(On|We>>14&1020)>>2]^Z[(St|ht>>6&1020)>>2]^Z[(It|Ze<<2&1020)>>2]^Z[(oe|Nt|12)>>2],We=oi,ht=Ft,Ze=ln,Je=xl;w=Z[(ie|We>>22&1020)>>2]<<24^Z[(ie|ht>>14&1020)>>2]<<16^Z[(ie|Ze>>6&1020)>>2]<<8^Z[(ie|Je<<2&1020)>>2]^Z[(oe|Nt|0)>>2],S=Z[(ie|ht>>22&1020)>>2]<<24^Z[(ie|Ze>>14&1020)>>2]<<16^Z[(ie|Je>>6&1020)>>2]<<8^Z[(ie|We<<2&1020)>>2]^Z[(oe|Nt|4)>>2],I=Z[(ie|Ze>>22&1020)>>2]<<24^Z[(ie|Je>>14&1020)>>2]<<16^Z[(ie|We>>6&1020)>>2]<<8^Z[(ie|ht<<2&1020)>>2]^Z[(oe|Nt|8)>>2],T=Z[(ie|Je>>22&1020)>>2]<<24^Z[(ie|We>>14&1020)>>2]<<16^Z[(ie|ht>>6&1020)>>2]<<8^Z[(ie|Ze<<2&1020)>>2]^Z[(oe|Nt|12)>>2]}function Q(oe,ie,Pe,Ee){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0,J(0,2048,4096,X,k^oe,E^ie,A^Pe,L^Ee),k=w,E=S,A=I,L=T}function _(oe,ie,Pe,Ee){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0;var We=0;J(1024,3072,8192,X,oe,Ee,Pe,ie),We=S,S=T,T=We,w=w^k,S=S^E,I=I^A,T=T^L,k=oe,E=ie,A=Pe,L=Ee}function ae(oe,ie,Pe,Ee){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0;var We=0,ht=0,Ze=0,Je=0,On=0,St=0,It=0,oi=0,Ft=0,ln=0;for(oe=oe^k,ie=ie^E,Pe=Pe^A,Ee=Ee^L,We=V|0,ht=B|0,Ze=j|0,Je=U|0;(Ft|0)<128;Ft=Ft+1|0)We>>>31&&(On=On^oe,St=St^ie,It=It^Pe,oi=oi^Ee),We=We<<1|ht>>>31,ht=ht<<1|Ze>>>31,Ze=Ze<<1|Je>>>31,Je=Je<<1,ln=Ee&1,Ee=Ee>>>1|Pe<<31,Pe=Pe>>>1|ie<<31,ie=ie>>>1|oe<<31,oe=oe>>>1,ln&&(oe=oe^3774873600);k=On,E=St,A=It,L=oi}function ce(oe){oe=oe|0,X=oe}function he(oe,ie,Pe,Ee){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0,w=oe,S=ie,I=Pe,T=Ee}function de(oe,ie,Pe,Ee){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0,k=oe,E=ie,A=Pe,L=Ee}function Te(oe,ie,Pe,Ee){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0,D=oe,R=ie,N=Pe,P=Ee}function Fe(oe,ie,Pe,Ee){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0,O=oe,W=ie,G=Pe,H=Ee}function He(oe,ie,Pe,Ee){oe=oe|0,ie=ie|0,Pe=Pe|0,Ee=Ee|0,P=~H&P|H&Ee,N=~G&N|G&Pe,R=~W&R|W&ie,D=~O&D|O&oe}function ue(oe){return oe=oe|0,oe&15?-1:($[oe|0]=w>>>24,$[oe|1]=w>>>16&255,$[oe|2]=w>>>8&255,$[oe|3]=w&255,$[oe|4]=S>>>24,$[oe|5]=S>>>16&255,$[oe|6]=S>>>8&255,$[oe|7]=S&255,$[oe|8]=I>>>24,$[oe|9]=I>>>16&255,$[oe|10]=I>>>8&255,$[oe|11]=I&255,$[oe|12]=T>>>24,$[oe|13]=T>>>16&255,$[oe|14]=T>>>8&255,$[oe|15]=T&255,16)}function Ie(oe){return oe=oe|0,oe&15?-1:($[oe|0]=k>>>24,$[oe|1]=k>>>16&255,$[oe|2]=k>>>8&255,$[oe|3]=k&255,$[oe|4]=E>>>24,$[oe|5]=E>>>16&255,$[oe|6]=E>>>8&255,$[oe|7]=E&255,$[oe|8]=A>>>24,$[oe|9]=A>>>16&255,$[oe|10]=A>>>8&255,$[oe|11]=A&255,$[oe|12]=L>>>24,$[oe|13]=L>>>16&255,$[oe|14]=L>>>8&255,$[oe|15]=L&255,16)}function Ve(oe,ie,Pe){oe=oe|0,ie=ie|0,Pe=Pe|0;var Ee=0;if(ie&15)return-1;for(;(Pe|0)>=16;)$e[oe&7]($[ie|0]<<24|$[ie|1]<<16|$[ie|2]<<8|$[ie|3],$[ie|4]<<24|$[ie|5]<<16|$[ie|6]<<8|$[ie|7],$[ie|8]<<24|$[ie|9]<<16|$[ie|10]<<8|$[ie|11],$[ie|12]<<24|$[ie|13]<<16|$[ie|14]<<8|$[ie|15]),$[ie|0]=w>>>24,$[ie|1]=w>>>16&255,$[ie|2]=w>>>8&255,$[ie|3]=w&255,$[ie|4]=S>>>24,$[ie|5]=S>>>16&255,$[ie|6]=S>>>8&255,$[ie|7]=S&255,$[ie|8]=I>>>24,$[ie|9]=I>>>16&255,$[ie|10]=I>>>8&255,$[ie|11]=I&255,$[ie|12]=T>>>24,$[ie|13]=T>>>16&255,$[ie|14]=T>>>8&255,$[ie|15]=T&255,Ee=Ee+16|0,ie=ie+16|0,Pe=Pe-16|0;return Ee|0}function je(oe,ie,Pe){oe=oe|0,ie=ie|0,Pe=Pe|0;var Ee=0;if(ie&15)return-1;for(;(Pe|0)>=16;)Yt[oe&1]($[ie|0]<<24|$[ie|1]<<16|$[ie|2]<<8|$[ie|3],$[ie|4]<<24|$[ie|5]<<16|$[ie|6]<<8|$[ie|7],$[ie|8]<<24|$[ie|9]<<16|$[ie|10]<<8|$[ie|11],$[ie|12]<<24|$[ie|13]<<16|$[ie|14]<<8|$[ie|15]),Ee=Ee+16|0,ie=ie+16|0,Pe=Pe-16|0;return Ee|0}var $e=[Q,Q,Q,_,_,_,_,_],Yt=[Q,Q];return{set_rounds:ce,set_state:he,set_iv:de,set_nonce:Te,set_mask:Fe,set_counter:He,get_state:ue,get_iv:Ie,cipher:Ve,mac:je}}(x,d,v);return y.set_key=m,y};return l.ENC={CBC:2},l.DEC={CBC:3},l.MAC={CBC:0},l.HEAP_DATA=16384,l}();function tie(e,i){let n=e?e.byteLength:i||65536;if(n&4095||n<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return e=e||new Uint8Array(new ArrayBuffer(n)),e}function IR(e,i,n,s,r){let o=e.length-i,t=o<r?o:r;return e.set(n.subarray(s,s+t),i),t}function kR(e){return e instanceof Uint8Array}function TR(...e){let i=e.reduce((r,o)=>r+o.length,0),n=new Uint8Array(i),s=0;for(let r=0;r<e.length;r++)n.set(e[r],s),s+=e[r].length;return n}var k6=class{constructor(i,n,s=!0,r){this.pos=0,this.len=0,this.mode=r,this.heap=tie().subarray(ma.HEAP_DATA),this.asm=new ma(null,this.heap.buffer),this.pos=0,this.len=0;let o=i.length;if(o!==16&&o!==24&&o!==32)throw new TypeError("illegal key size");let t=new DataView(i.buffer,i.byteOffset,i.byteLength);if(this.asm.set_key(o>>2,t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12),o>16?t.getUint32(16):0,o>16?t.getUint32(20):0,o>24?t.getUint32(24):0,o>24?t.getUint32(28):0),n!==void 0){if(n.length!==16)throw new TypeError("illegal iv size");let a=new DataView(n.buffer,n.byteOffset,n.byteLength);this.asm.set_iv(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}else this.asm.set_iv(0,0,0,0);this.padding=s}AES_Encrypt_process(i){if(!kR(i))throw new TypeError("data isn't of expected type");let n=this.asm,s=this.heap,r=ma.ENC[this.mode],o=ma.HEAP_DATA,t=this.pos,a=this.len,p=0,c=i.length||0,u=0,h=a+c&-16,l=0,d=new Uint8Array(h);for(;c>0;)l=IR(s,t+a,i,p,c),a+=l,p+=l,c-=l,l=n.cipher(r,o+t,a),l&&d.set(s.subarray(t,t+l),u),u+=l,l<a?(t+=l,a-=l):(t=0,a=0);return this.pos=t,this.len=a,d}AES_Encrypt_finish(){let i=this.asm,n=this.heap,s=ma.ENC[this.mode],r=ma.HEAP_DATA,o=this.pos,t=this.len,a=16-t%16,p=t;if(this.padding){for(let u=0;u<a;++u)n[o+t+u]=a;t+=a,p=t}else if(t%16)throw new TypeError("data length must be a multiple of the block size");let c=new Uint8Array(p);return t&&i.cipher(s,r+o,t),p&&c.set(n.subarray(o,o+p)),this.pos=0,this.len=0,c}AES_Decrypt_process(i){if(!kR(i))throw new TypeError("data isn't of expected type");let n=this.asm,s=this.heap,r=ma.DEC[this.mode],o=ma.HEAP_DATA,t=this.pos,a=this.len,p=0,c=i.length||0,u=0,h=a+c&-16,l=0,d=0;this.padding&&(l=a+c-h||16,h-=l);let v=new Uint8Array(h);for(;c>0;)d=IR(s,t+a,i,p,c),a+=d,p+=d,c-=d,d=n.cipher(r,o+t,a-(c?0:l)),d&&v.set(s.subarray(t,t+d),u),u+=d,d<a?(t+=d,a-=d):(t=0,a=0);return this.pos=t,this.len=a,v}AES_Decrypt_finish(){let i=this.asm,n=this.heap,s=ma.DEC[this.mode],r=ma.HEAP_DATA,o=this.pos,t=this.len,a=t;if(t>0){if(t%16)throw new Error("data length must be a multiple of the block size");if(i.cipher(s,r+o,t),this.padding){let c=n[o+a-1];if(c<1||c>16||c>a)throw new Error("bad padding");let u=0;for(let h=c;h>1;h--)u|=c^n[o+a-h];if(u)throw new Error("bad padding");a-=c}}let p=new Uint8Array(a);return a>0&&p.set(n.subarray(o,o+a)),this.pos=0,this.len=0,p}},cg=class e{constructor(i,n,s=!0,r){this.aes=r||new k6(i,n,s,"CBC")}static encrypt(i,n,s=!0,r){return new e(n,r,s).encrypt(i)}static decrypt(i,n,s=!0,r){return new e(n,r,s).decrypt(i)}encrypt(i){let n=this.aes.AES_Encrypt_process(i),s=this.aes.AES_Encrypt_finish();return TR(n,s)}decrypt(i){let n=this.aes.AES_Decrypt_process(i),s=this.aes.AES_Decrypt_finish();return TR(n,s)}};function Gs(e,i,n,s){var r=arguments.length,o=r<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,n):s,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,i,n,s);else for(var a=e.length-1;a>=0;a--)(t=e[a])&&(o=(r<3?t(o):r>3?t(i,n,o):t(i,n))||o);return r>3&&o&&Object.defineProperty(i,n,o),o}var nie=(()=>{let e=class extends F{};return Gs([F.field("public_key")],e.prototype,"from",void 0),Gs([F.field("uint64")],e.prototype,"nonce",void 0),Gs([F.field("bytes")],e.prototype,"ciphertext",void 0),Gs([F.field("uint32")],e.prototype,"checksum",void 0),e=Gs([F.type("sealed_message")],e),e})();var AR=(()=>{let e=class extends F{};return Gs([F.field("time_point_sec")],e.prototype,"expiration",void 0),e=Gs([F.type("link_info")],e),e})();var iie=(()=>{let e=class extends F{};return Gs([F.field("name")],e.prototype,"session_name",void 0),Gs([F.field("public_key")],e.prototype,"request_key",void 0),Gs([F.field("string",{extension:!0})],e.prototype,"user_agent",void 0),e=Gs([F.type("buoy_session")],e),e})();function T6(e,i,n){return fe(this,null,function*(){let s=yield CR(Se(q({},e),{WebSocket:i||WebSocket}));if(!s)throw new Error(s.rejected);if(typeof s.rejected=="string")throw new Error(s.rejected);let r=JSON.parse(s);if(r.sa===void 0||r.sp===void 0||r.cid===void 0)throw new Error(n("error.cancelled",{default:"The request was cancelled from Anchor."}));return r})}function rie(){let e="",i,n="0123456789abcdef";for(i=0;i<36;i+=1)switch(i){case 8:case 13:case 18:case 23:e+="-";break;case 14:e+="4";break;case 19:e+=n[Math.random()*4|8];break;default:e+=n[Math.random()*16|0]}return e}function E6(){if(LR())return"googlechrome://";if(DR())return"firefox:://";if(C1()&&ER())return"brave://";if(C1()){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=window.location.href.split("#")[0]+"#";for(let n=0;n<8;n++)i+=e.charAt(Math.floor(Math.random()*e.length));return i}return Rc()&&sie()?"android-intent://org.mozilla.firefox":Rc()&&oie()?"android-intent://com.microsoft.emmx":Rc()&&aie()?"android-intent://com.opera.browser":Rc()&&ER()?"android-intent://com.brave.browser":Rc()&&OR()?"android-intent://webview":Rc()&&RR()?"android-intent://com.android.chrome":window.location.href}function C1(){return/iP(ad|od|hone)/i.test(navigator.userAgent)}function LR(){return/CriOS/.test(navigator.userAgent)}function RR(){return/Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent)}function sie(){return/Firefox/i.test(navigator.userAgent)}function DR(){return/FxiOS/.test(navigator.userAgent)}function aie(){return/OPR/.test(navigator.userAgent)||/Opera/.test(navigator.userAgent)}function oie(){return/Edg/.test(navigator.userAgent)}function ER(){return navigator.brave&&typeof navigator.brave.isBrave=="function"}function Rc(){return/Android/.test(navigator.userAgent)}function OR(){return/wv/.test(navigator.userAgent)||/Android.*AppleWebKit/.test(navigator.userAgent)}function FR(){return C1()||LR()||RR()||DR()||Rc()||OR()}function PR(e,i){return fe(this,null,function*(){let n=ph.generate("K1"),s=n.toPublic(),r=iie.from({session_name:e.appName,request_key:s,user_agent:lie()}),o=!(e.chain||e.chains.length===1),t=BR(i),a=o?null:e.chain?Mr.from(e.chain.id.array):null,p=o?e.chains.map(h=>Mr.from(h.id.array)):[],c=rs.identity({callback:cie(t),scope:String(e.appName),chainId:a,chainIds:p,info:{link:r,scope:String(e.appName)}},e.esrOptions),u=c.clone();if(typeof window<"u"){let h=E6();u.setInfoKey("same_device",!0),u.setInfoKey("return_path",h)}return{callback:t,request:c,sameDeviceRequest:u,requestKey:s,privateKey:n}})}function NR(e,i){let n=BR(i);return e.setCallback(`${n.service}/${n.channel}`,!0),n}function lie(){let i="@wharfkit/protocol-esr 1.3.2";return typeof navigator<"u"&&(i+=" "+navigator.userAgent),i}function cie(e){let{service:i,channel:n}=e;return{url:`${i}/${n}`,background:!0}}function BR(e){return{service:e,channel:rie()}}function VR(e,i,n,s){let r=i.sharedSecret(n);s||(s=At.random());let o=kv.hash(yt.encode({object:s}).appending(r.array)),t=new cg(o.array.slice(0,32),o.array.slice(32,48)),a=rt.from(t.encrypt(rt.from(e,"utf8").array)),c=new DataView(vt.hash(o.array).array.buffer).getUint32(0,!0);return nie.from({from:i.toPublic(),nonce:s,ciphertext:a,checksum:c})}function GR(e,i){return fe(this,null,function*(){if(!e.sig||e.sig.length===0)throw new Error("Invalid response, must have at least one signature");let n;if(!i.chain&&i.chains.length>1){if(!e.cid)throw new Error("Multi chain response payload must specify resolved chain id (cid)")}else if(n=i.chain||i.chains[0],e.cid&&String(n.id)!==e.cid)throw new Error("Got response for wrong chain id")})}function A6(e){let i=[],n=0,s=e.sig;for(;s;)i.push(String(s)),s=e[`sig${n}`],n++;return[...new Set(i)].map(r=>nl.from(r))}function zR(e){return"tx"in e}var uie={title:"Connect with Anchor",body:"Scan with Anchor on your mobile device or click the button below to open on this device.",link:"Launch Anchor"},hie={title:"Complete using Anchor",body:'Please open your Anchor Wallet on "{{channelName}}" to review and approve this transaction.',label:"Sign manually or with another device",link:"Trigger Manually",await:"Waiting for response from Anchor"},die={expired:"The request expired, please try again.",invalid_response:"Invalid response from Anchor, must contain link_ch, link_key, link_name and cid flags.",not_completed:"The request was not completed.",cancelled:"The request was cancelled from Anchor."},fie={login:uie,transact:hie,error:die},pie={},vie={link:"\u542F\u52A8Anchor",body:"\u5728\u60A8\u7684\u8BBE\u5907\u4E0A\u4F7F\u7528Anchor\u626B\u63CF\u6216\u8005\u70B9\u51FB\u4E0B\u65B9\u6309\u94AE\u6253\u5F00\u3002",title:"\u8FDE\u63A5Anchor"},gie={cancelled:"\u8BF7\u6C42\u5DF2\u4ECEAnchor\u53D6\u6D88\u3002",not_completed:"\u6B64\u8BF7\u6C42\u672A\u5B8C\u6210\u3002",invalid_response:"\u65E0\u6548\u7684Anchor\u54CD\u5E94\uFF0C\u5FC5\u987B\u5305\u542Blink_ch, link_key, link_name\u548Ccid\u6807\u8BC6\u7B26\u3002",expired:"\u8BF7\u6C42\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u8BD5\u3002"},mie={await:"\u7B49\u5F85Anchor\u54CD\u5E94",link:"\u624B\u52A8\u89E6\u53D1",label:"\u624B\u52A8\u6216\u4F7F\u7528\u5176\u4ED6\u8BBE\u5907\u7B7E\u7EA6",body:'\u8BF7\u5728"{{channelName}}"\u4E0A\u6253\u5F00\u60A8\u7684Anchor\u94B1\u5305\u4EE5\u6D4F\u89C8\u5E76\u6279\u51C6\u6B64\u4EA4\u6613\u3002',title:"\u5B8C\u6210\u4F7F\u7528Anchor"},yie={login:vie,error:gie,transact:mie},xie={},bie={en:fie,ko:pie,"zh-Hans":yie,"zh-Hant":xie},ug=class extends Ch{constructor(i){super(),this.id="anchor",this.translations=bie,this.config={requiresChainSelect:!1,requiresPermissionSelect:!1},this.metadata=Cr.from({name:"Anchor",description:"",logo:xr.from({dark:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS40NCwgMCwgMCwgMS40NCwgLTguNTAxOTI1LCAtNTcuMDc0NTcpIiBzdHlsZT0iIj4KICAgIDx0aXRsZT5XaGl0ZTwvdGl0bGU+CiAgICA8Y2lyY2xlIGN4PSI5NC43OTMiIGN5PSIxMjguNTI0IiByPSI4MCIgZmlsbD0iI0ZCRkRGRiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gOTQuNzk5IDc4LjUyNCBDIDk3LjA5OCA3OC41MjQgOTkuMTk1IDc5LjgzNyAxMDAuMTk4IDgxLjkwNiBMIDEyNC4yMDQgMTMxLjQwNiBMIDEyNC43NDYgMTMyLjUyNCBMIDExMS40MDkgMTMyLjUyNCBMIDEwNy41MyAxMjQuNTI0IEwgODIuMDY5IDEyNC41MjQgTCA3OC4xODkgMTMyLjUyNCBMIDY0Ljg1MyAxMzIuNTI0IEwgNjUuMzk1IDEzMS40MDYgTCA4OS40MDEgODEuOTA2IEMgOTAuNDA0IDc5LjgzNyA5Mi41MDEgNzguNTI0IDk0Ljc5OSA3OC41MjQgWiBNIDg2LjkxOSAxMTQuNTI0IEwgMTAyLjY4IDExNC41MjQgTCA5NC43OTkgOTguMjc0IEwgODYuOTE5IDExNC41MjQgWiBNIDExMi43OTMgMTQ5LjUyNCBMIDEyNC43OTggMTQ5LjUyNCBDIDEyNC40MzcgMTY1LjY3NiAxMTEuMDY3IDE3OC41MjQgOTQuNzk5IDE3OC41MjQgQyA3OC41MzIgMTc4LjUyNCA2NS4xNjIgMTY1LjY3NiA2NC44MDEgMTQ5LjUyNCBMIDc2LjgwNiAxNDkuNTI0IEMgNzcuMDg3IDE1Ni44NzggODEuOTc0IDE2My4xNTUgODguNzkzIDE2NS41MiBMIDg4Ljc5MyAxNDEuNTI0IEMgODguNzkzIDEzOC4yMSA5MS40OCAxMzUuNTI0IDk0Ljc5MyAxMzUuNTI0IEMgOTguMTA3IDEzNS41MjQgMTAwLjc5MyAxMzguMjEgMTAwLjc5MyAxNDEuNTI0IEwgMTAwLjc5MyAxNjUuNTI0IEMgMTA3LjYyIDE2My4xNjIgMTEyLjUxMSAxNTYuODgzIDExMi43OTMgMTQ5LjUyNCBaIiBmaWxsPSIjMzY1MEEyIi8+CiAgPC9nPgo8L3N2Zz4=",light:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDE2MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjgwIiBjeT0iODAiIHI9IjgwIiBmaWxsPSIjMzY1MEEyIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNODAuMDA2MyAzMEM4Mi4zMDUxIDMwIDg0LjQwMTkgMzEuMzEzNCA4NS40MDUgMzMuMzgxOEwxMDkuNDExIDgyLjg4MjJMMTA5Ljk1MyA4NEg5Ni42MTYzTDkyLjczNjYgNzZINjcuMjc1OUw2My4zOTYxIDg0SDUwLjA1OTRMNTAuNjAxNyA4Mi44ODE4TDc0LjYwNzcgMzMuMzgxOEM3NS42MTA4IDMxLjMxMzQgNzcuNzA3NSAzMCA4MC4wMDYzIDMwWk03Mi4xMjU2IDY2SDg3Ljg4N0w4MC4wMDYzIDQ5Ljc1MDFMNzIuMTI1NiA2NlpNOTcuOTk5NSAxMDFIMTEwLjAwNUMxMDkuNjQ0IDExNy4xNTIgOTYuMjczOCAxMzAgODAuMDA2MyAxMzBDNjMuNzM4OCAxMzAgNTAuMzY4NiAxMTcuMTUyIDUwLjAwNzggMTAxSDYyLjAxMzFDNjIuMjk0MSAxMDguMzU0IDY3LjE4MDQgMTE0LjYzMSA3NC4wMDAzIDExNi45OTZWOTNDNzQuMDAwMyA4OS42ODYzIDc2LjY4NjYgODcgODAuMDAwMyA4N0M4My4zMTQgODcgODYuMDAwMyA4OS42ODYzIDg2LjAwMDMgOTNWMTE3QzkyLjgyNjUgMTE0LjYzOCA5Ny43MTgzIDEwOC4zNTkgOTcuOTk5NSAxMDFaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"}),homepage:"https://greymass.com/anchor",download:"https://greymass.com/anchor/download"}),this.buoyUrl=i?.buoyUrl||"https://cb.anchor.link",this.buoyWs=i?.buoyWs}login(i){return new Promise((n,s)=>{this.handleLogin(i).then(r=>{n(r)}).catch(r=>{s(r)})})}handleLogin(i){return fe(this,null,function*(){if(!i.ui)throw new Error("No UI available");let n=i.ui.getTranslate(this.id),{callback:s,request:r,sameDeviceRequest:o,requestKey:t,privateKey:a}=yield PR(i,this.buoyUrl),p=[{type:"link",label:n("login.link",{default:"Launch Anchor"}),data:{href:o.encode(!0,!1,"esr:"),label:n("login.link",{default:"Launch Anchor"}),variant:"primary"}}];FR()||p.unshift({type:"qr",data:r.encode(!0,!1,"esr:")}),window.location.href=o.encode(!0,!1,"esr:"),(i.ui?.prompt({title:n("login.title",{default:"Connect with Anchor"}),body:n("login.body",{default:"Scan with Anchor on your mobile device or click the button below to open on this device."}),elements:p})).catch(()=>{console.info("Modal closed")});let u=yield T6(s,this.buoyWs,n);if(GR(u,i),!u.cid||!u.sa||!u.sp)throw new Error("Invalid callback response");if(u.link_ch&&u.link_key&&u.link_name){this.data.requestKey=t,this.data.privateKey=a,this.data.signerKey=u.link_key&&Gi.from(u.link_key),this.data.channelUrl=u.link_ch,this.data.channelName=u.link_name;try{if(u.link_meta){let d=JSON.parse(u.link_meta);this.data.sameDevice=d.sameDevice,this.data.launchUrl=d.launchUrl,this.data.triggerUrl=d.triggerUrl}}catch{}}let l=(yield ol.fromPayload(u,i.esrOptions)).getIdentityProof(u.sig);return{chain:vt.from(u.cid),permissionLevel:jt.from({actor:u.sa,permission:u.sp}),identityProof:l}})}sign(i,n){return this.handleSigningRequest(i,n)}handleSigningRequest(i,n){return fe(this,null,function*(){if(!n.ui)throw new Error("No UI available");let s=n.ui.getTranslate(this.id),r=i.transaction.expiration.toDate(),o=new Date,t=Math.floor(r.getTime()-o.getTime()),a=yield n.createRequest({transaction:i.transaction});a.setInfoKey("link",AR.from({expiration:r}));let p=NR(a,this.buoyUrl),c=a.encode(!0,!1),u=this.data.sameDevice!==!1,h=a.clone(),l=E6();h.setInfoKey("same_device",!0),h.setInfoKey("return_path",l),this.data.sameDevice&&(this.data.launchUrl?window.location.href=this.data.launchUrl:C1()&&(window.location.href="anchor://link"));let d=()=>{n.ui?.prompt({title:s("transact.sign_manually.title",{default:"Sign manually"}),body:s("transact.sign_manually.body",{default:"Scan the QR-code with Anchor on another device or use the button to open it here."}),elements:[{type:"qr",data:String(c)},{type:"link",label:s("transact.sign_manually.link.title",{default:"Open Anchor"}),data:{href:String(h),label:s("transact.sign_manually.link.title",{default:"Open Anchor"})}}]})},v=n.ui.prompt({title:s("transact.title",{default:"Complete using Anchor"}),body:s("transact.body",{channelName:this.data.channelName,default:`Please open your Anchor Wallet on "${this.data.channelName}" to review and approve this transaction.`}),elements:[{type:"countdown",data:{label:s("transact.await",{default:"Waiting for response from Anchor"}),end:r.toISOString()}},{type:"button",label:s("transact.label",{default:"Sign manually or with another device"}),data:{onClick:u?()=>window.location.href=h.encode():d,label:s("transact.label",{default:"Sign manually or with another device"})}}]}),f=setTimeout(()=>{if(!n.ui)throw new Error("No UI available");v.cancel(s("error.expired",{default:"The request expired, please try again."}))},t);v.catch(()=>clearTimeout(f));let g=T6(p,this.buoyWs,s);if(this.data.channelUrl){let b=new URL(this.data.channelUrl).origin,M=new URL(this.data.channelUrl).pathname.substring(1),C=VR((this.data.sameDevice?h:a).encode(!0,!1,"esr:"),ph.from(this.data.privateKey),Gi.from(this.data.signerKey));SR(yt.encode({object:C}).array,{service:b,channel:M})}else window.location.href=h.encode();let m=yield Promise.race([g,v]).finally(()=>{clearTimeout(f)});if(zR(m)&&A6(m).length>0){let b=yield ol.fromPayload(m,n.esrOptions);return{signatures:A6(m),resolved:b}}let y=s("error.not_completed",{default:"The request was not completed."});throw v.cancel(y),new Error(y)})}};var hg=class extends Ch{constructor(){super(...arguments),this.config={requiresChainSelect:!0,requiresPermissionSelect:!1,requiresPermissionEntry:!0},this.metadata=Cr.from({name:"cleos",description:"Copy and paste the transactions to sign in cleos.",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAFiVAABYlQHZbTfTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAlESURBVHgB7d3vcRRHGgfgV1f33TiCWyIAIvAqgkMRsERgXwRIEZiLgCUCQwQsEYAj0GaAiGDd7W3Ksixgd2dW6ul+nqq3BvHBZVXRv+k/090RAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwD+dRGc2m80sPXI9KEXfrlKtT05OPkaHmg6A1NhzA3+a6qdUj0vBbdaplqlepzBYRyeaC4DS6J/FtuHPA/azTnXaSwg0EwCl4f+c6pfQtWeYPCx40kMITD4ANHyO5GMKgCfRuEkHQGr88/R4FdtJPRjb0xQCb6Nh/4qJSo3/RXq8C42f43kejft3TEzp8v8WJvg4vkfRuEkNAcoavrc+dyYNAZpeKp/MEEDjh/FNIt1Kt/9DaPzcMT2AOpjphyOoPgDKbP/TAEZXdfemrPO/C7gnrQ8Bag+Ay9D15x6ZA7gnpes/C+BoqvwQqCz5LeJ48maPvP97HbRuEUxLCoDlZnyXqc5LuNCJzUDRuFo/Bf4pxpPf9r+kodzrAP6mugBIobuI8cb+q1RnqfFfBfAPNU4CPotx5KOdTjV++LqqljjK+Pwyhlvlxh90b+g43jLg3ZrHcOvoYB83jKHFADjv6VRXGKK2IUDe8Tfk6O58vvvDgMIQ4Ntq6wEMPbf/PICdVRMAI32g8z6AndXUA5jFMFfG/rCfyZ4KfIsu73aDIVrqAXwOYC8t9QA+BbCXlgJgFsBeWgoAV3/DnloKgAcbe/1hLy0FQLYIYGetBcBYW4mhC60FwCwNA4QA7Ki1AMhebrZXiQHf0WIAfLk+HPiOFgMgm6dewKsAvqnVAMgWKQR+szQIX9dyAGT5UtF3Jgbhdq0HQDZLtSwXgzzTI4C/1HoxyDHMUi3zH1IIfLka7KoU3GrAXFLenZqPuHtf8zkVPQXAdXmlYB7wfYsYZp1CZJlC4CIq1MMQAO7TLFW+k/JDjd+nCAC4G3m3anVL0wIA7s7T2lakBADcrUVURADA3ZrXtBQtAODuPYpKCAC4ez9GJQQAdEwAQMcEAHRMAEDHWgqAfDPw61TrAHbSUgBcnpycLNLzSarnqVYBfFNzQ4AUAvma8Lz76jT9+DDVWWx7Bm4Phhua3g5c9mHnevPl78pXWLPy4yxgf/l7/nk0oLvzAK6FAhwkvUTm0QirANAxAQAdEwDQMQEAHRMA0DEBAB0TANAxAQAdEwDQMQEAHRMA0DEBAB0TANAxAQAdEwDQMQEAHRMA0DEBAB0TANAxAQAdEwDQMQEAHRMA0DEBAB0TANCx7m4Goi+bzeZBejxO9ag8c+W/m8X9eZX+v17F/q5ie8flMtX7csvVIAKA5pRGn+/vexqN3OFX5N9rXmqdfs/zFAKvYwABQDPKnX0/x7aBPIi2zVIt82W3KQQu4kDmAJi81Agep3qX/pgrv/Vbb/zXnQ+5rFQAMFm5q5/q1/THD9FWV39fh8wn/EkAMEnlrZcb/i/B7NBegABgctI/9jzOz939WfDF0ziAAGBSSpf/ZXDTD3EAqwBMRlk7XwSj0QNgEsqbfxGMSgBQvdT4X4TJvqMQAFQtNf48uXUeHIUAoFr5K7f0+DU4GgFAzc7DUt9RCQCqlN7+i9hu6OGIBAC1ehEcne8AqE55+89ifKtUb1L9nmo9xn76sZTf+eBv+g8lAKjR2G//VaqL1OBXwd8IAKpSNrXMYhz5BJ0zDf/rBAC1WcQ41qlOa+rm18gkILX5bwy3Do1/JwKAapTu/xin+Zxp/LsRANTkoD3tN+TJvo/BTgQANXkUw6xje2Q2OxIA1ORxDLPS9d+PAKAK5Sz/oeP/QWfk90gAUIuhb/8r6/37EwC0wsTfAQQAtRja/f8c7E0AUIuhAfAp2JsAoBZXMcyPwd4EALUYGgBDvyHokgCgFusYZlaWEtmDAKAWQ3sA2RifEndFAFCFtIafA2AdwzhDcE8CgJoMXcufH3pLbq8EADV5H8M5THQPAoCarGK4eblKjB0IAKpR9vGvY7jzFALmA3YgAKjNWDv6lnoC3ycAqM3LGE/uCbwqdwxyCwFAVcpy4CrGs0j1QRDczrHg1Ogi1TzGk78QXORKIZDnGfJqw2XUtYNwHvdAAFCdfLBHaqirOE6jeBzDDx9phiEAtXoe43wezDcIAKpUDve8CI5KAFCtFAJ5RWAVHI0AoHZ5KLAOjkIAULUyFDgL8wFHIQCoXvlE+HkwOgHAJKQQeBNCYHQCgMlIIbBMjydhTmA0AoBJKcOB0xACN/0eBxAATE6eGEz1MHwncN2bOIAAYLJSCJynRw6CdfRteeityAKASbvWG+j1e4F1DOgJCQCakCcIrwXBKvqwTnV26Ns/EwA0pQRBniT8EgZ5bNziR0SrVKdlUvRgtgPTpPJWXJaKzWaTtwDPUv0ntuHwQxxuXv5bh1rF4cOV3ODfDnnrXycA6EJ5Uw69d+BPKUyWMSwAXpdvGu6dIQB0TABAxwQAdEwAQMcEAHRMAEDHBAB0TABAxwQAdEwAQMcEAHRMAEDHBAB0rKYAGLpnexbAXloKAFc+w55qCoB1DPNgs9nMAthZNQEw0gkniwB2Vtsk4NATW54FsLPaAuCg202umaVhgBCAHdUWAKsY7qW5ANhNbQFw0PVGNzxI9SqA76oqANJEYF4KXMVw89QLEALwHTV+Cfg2xrFIIfDOcAC+rsYAWMZ4N7nMU70zMQi3qy4AyjDg/zGeWaplCoHLHAR6BPCXk6hQaqR5Iu8ythN6x5BD5mN5tnhvHMc1j2F7T57XcjNQlVeD5V5ACoHcC3gRx5GDZR7QuZq3A7+MPu97hztTbQCUuYDnARxN1QeCpBBYpcdFAEdR/YlAKQTOY5yPg4AbpnIk2FmYD4DRTSIAynzAaQgBGNVkDgUtB4YIAVrwKSoxqVOBSwg8iXF2DcJ9+RyVmNyx4Hk4kCrPCVgdYKqGnnw1msneC1BWB3JvYB0wHcsyp1WFKvcC7Guz2ZzH9jzAWUDdHo50AO4omrgZqPQG8gRh3j+wDqjTRU2NP2uiB3BT6hEsYtsjmAfU4X+p8b+MyjQZAF+Uvf/zUo/C7UHcvVVsG381E3/XNR0AtymhMCs/zgKOIzf4dU0TfgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMCu/gBMvdXsNeGJnQAAAABJRU5ErkJggg==",homepage:"https://github.com/antelopeio/leap",download:"https://github.com/antelopeio/leap"})}get id(){return"cleos"}login(i){return fe(this,null,function*(){if(!i.chain)throw new Error("The cleos wallet plugin requires a chain to be selected.");if(!i.permissionLevel)throw new Error("The cleos wallet plugin requires a permissionLevel to be specified.");return{chain:i.chain.id,permissionLevel:i.permissionLevel}})}sign(i,n){return fe(this,null,function*(){if(!n.ui)throw new Error("The cleos wallet plugin requires a UI to be provided.");return n.addHook(Mh.afterSign,()=>fe(this,null,function*(){let s=[];for(let t of i.transaction.actions){let a=yield n.abiCache.getAbi(t.account);s.push({account:t.account,name:t.name,authorization:t.authorization,data:yt.objectify(t.decodeData(a))})}let r=Se(q({},i.transaction),{actions:s}),o=`cleos -u ${n.chain.url} push transaction '${JSON.stringify(r,null,4)}'`;yield n.ui?.prompt({title:"Sign with cleos",body:"Copy the command to sign the transaction using cleos.",elements:[{type:"textarea",data:{content:o}},{type:"button",data:{label:"Copy to clipboard",onClick:()=>{!navigator.clipboard||!window.isSecureContext?alert("Copy to clipboard is not supported in this browser. Please copy the command manually."):navigator.clipboard.writeText(o)}}}]})})),{signatures:[]}})}};function w1(e,i){let n=!i?.manualCleanup;n&&!i?.injector&&Sd(w1);let s=n?i?.injector?.get(Xs)??ve(Xs):null,r=Mie(i?.equal),o;i?.requireSync?o=Eo({kind:0},{equal:r}):o=Eo({kind:1,value:i?.initialValue},{equal:r});let t=e.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(i?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(i?.requireSync&&o().kind===0)throw new Ue(601,!1);return s?.onDestroy(t.unsubscribe.bind(t)),Ba(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new Ue(601,!1)}},{equal:i?.equal})}function Mie(e=Object.is){return(i,n)=>i.kind===1&&n.kind===1&&e(i.value,n.value)}var O6={};function co(e,i){if(O6[e]=(O6[e]||0)+1,typeof i=="function")return L6(e,(...s)=>Se(q({},i(...s)),{type:e}));switch(i?i._as:"empty"){case"empty":return L6(e,()=>({type:e}));case"props":return L6(e,s=>Se(q({},s),{type:e}));default:throw new Error("Unexpected config.")}}function pg(){return{_as:"props",_p:void 0}}function L6(e,i){return Object.defineProperty(i,"type",{value:e,writable:!1})}function Cie(e,i){if(e==null)throw new Error(`${i} must be defined.`)}var I1="@ngrx/store/init",ya=(()=>{class e extends xt{constructor(){super({type:I1})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})(),wie=[ya],nD=new xe("@ngrx/store Internal Root Guard"),WR=new xe("@ngrx/store Internal Initial State"),k1=new xe("@ngrx/store Initial State"),iD=new xe("@ngrx/store Reducer Factory"),HR=new xe("@ngrx/store Internal Reducer Factory Provider"),rD=new xe("@ngrx/store Initial Reducers"),R6=new xe("@ngrx/store Internal Initial Reducers"),jR=new xe("@ngrx/store Store Features"),YR=new xe("@ngrx/store Internal Store Reducers"),D6=new xe("@ngrx/store Internal Feature Reducers"),UR=new xe("@ngrx/store Internal Feature Configs"),sD=new xe("@ngrx/store Internal Store Features"),ZR=new xe("@ngrx/store Internal Feature Reducers Token"),aD=new xe("@ngrx/store Feature Reducers"),XR=new xe("@ngrx/store User Provided Meta Reducers"),dg=new xe("@ngrx/store Meta Reducers"),$R=new xe("@ngrx/store Internal Resolved Meta Reducers"),JR=new xe("@ngrx/store User Runtime Checks Config"),KR=new xe("@ngrx/store Internal User Runtime Checks Config"),S1=new xe("@ngrx/store Internal Runtime Checks"),B6=new xe("@ngrx/store Check if Action types are unique"),Sie=new xe("@ngrx/store Root Store Provider"),Iie=new xe("@ngrx/store Feature State Provider");function V6(e,i={}){let n=Object.keys(e),s={};for(let o=0;o<n.length;o++){let t=n[o];typeof e[t]=="function"&&(s[t]=e[t])}let r=Object.keys(s);return function(t,a){t=t===void 0?i:t;let p=!1,c={};for(let u=0;u<r.length;u++){let h=r[u],l=s[h],d=t[h],v=l(d,a);c[h]=v,p=p||v!==d}return p?c:t}}function kie(e,i){return Object.keys(e).filter(n=>n!==i).reduce((n,s)=>Object.assign(n,{[s]:e[s]}),{})}function oD(...e){return function(i){if(e.length===0)return i;let n=e[e.length-1];return e.slice(0,-1).reduceRight((r,o)=>o(r),n(i))}}function lD(e,i){return Array.isArray(i)&&i.length>0&&(e=oD.apply(null,[...i,e])),(n,s)=>{let r=e(n);return(o,t)=>(o=o===void 0?s:o,r(o,t))}}function Tie(e){let i=Array.isArray(e)&&e.length>0?oD(...e):n=>n;return(n,s)=>(n=i(n),(r,o)=>(r=r===void 0?s:r,n(r,o)))}var Dc=class extends dt{},Fh=class extends ya{},vg="@ngrx/store/update-reducers",fg=(()=>{class e extends xt{get currentReducers(){return this.reducers}constructor(n,s,r,o){super(o(r,s)),this.dispatcher=n,this.initialState=s,this.reducers=r,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let s=n.reduce((r,{reducers:o,reducerFactory:t,metaReducers:a,initialState:p,key:c})=>{let u=typeof o=="function"?Tie(a)(o,p):lD(t,a)(o,p);return r[c]=u,r},{});this.addReducers(s)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(s=>s.key))}addReducer(n,s){this.addReducers({[n]:s})}addReducers(n){this.reducers=q(q({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(s=>{this.reducers=kie(this.reducers,s)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:vg,features:n})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(s){return new(s||e)(pe(Fh),pe(k1),pe(rD),pe(iD))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})(),Eie=[fg,{provide:Dc,useExisting:fg},{provide:Fh,useExisting:ya}],Oc=(()=>{class e extends ot{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})()}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})(),Aie=[Oc],Ph=class extends dt{},QR=(()=>{class e extends xt{static{this.INIT=I1}constructor(n,s,r,o){super(o);let a=n.pipe(Ma(id)).pipe(xo(s)),p={state:o},c=a.pipe(El(Lie,p));this.stateSubscription=c.subscribe(({state:u,action:h})=>{this.next(u),r.next(h)}),this.state=w1(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(s){return new(s||e)(pe(ya),pe(Dc),pe(Oc),pe(k1))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})();function Lie(e={state:void 0},[i,n]){let{state:s}=e;return{state:n(s,i),action:i}}var Rie=[QR,{provide:Ph,useExisting:QR}],er=(()=>{class e extends dt{constructor(n,s,r,o){super(),this.actionsObserver=s,this.reducerManager=r,this.injector=o,this.source=n,this.state=n.state}select(n,...s){return T1.call(null,n,...s)(this)}selectSignal(n,s){return Ba(()=>n(this.state()),s)}lift(n){let s=new e(this,this.actionsObserver,this.reducerManager);return s.operator=n,s}dispatch(n,s){if(typeof n=="function")return this.processDispatchFn(n,s);this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,s){this.reducerManager.addReducer(n,s)}removeReducer(n){this.reducerManager.removeReducer(n)}processDispatchFn(n,s){Cie(this.injector,"Store Injector");let r=s?.injector??Oie()??this.injector;return kp(()=>{let o=n();ur(()=>this.dispatch(o))},{injector:r})}static{this.\u0275fac=function(s){return new(s||e)(pe(Ph),pe(ya),pe(fg),pe(ri))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})(),Die=[er];function T1(e,i,...n){return function(r){let o;if(typeof e=="string"){let t=[i,...n].filter(Boolean);o=r.pipe(xm(e,...t))}else if(typeof e=="function")o=r.pipe(ze(t=>e(t,i)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(gs())}}function Oie(){try{return ve(ri)}catch{return}}var G6="https://ngrx.io/guide/store/configuration/runtime-checks";function _R(e){return e===void 0}function qR(e){return e===null}function cD(e){return Array.isArray(e)}function Fie(e){return typeof e=="string"}function Pie(e){return typeof e=="boolean"}function Nie(e){return typeof e=="number"}function uD(e){return typeof e=="object"&&e!==null}function Bie(e){return uD(e)&&!cD(e)}function Vie(e){if(!Bie(e))return!1;let i=Object.getPrototypeOf(e);return i===Object.prototype||i===null}function F6(e){return typeof e=="function"}function Gie(e){return F6(e)&&e.hasOwnProperty("\u0275cmp")}function zie(e,i){return Object.prototype.hasOwnProperty.call(e,i)}var Wie=!1;function Hie(){return Wie}function eD(e,i){return e===i}function jie(e,i,n){for(let s=0;s<e.length;s++)if(!n(e[s],i[s]))return!0;return!1}function hD(e,i=eD,n=eD){let s=null,r=null,o;function t(){s=null,r=null}function a(u=void 0){o={result:u}}function p(){o=void 0}function c(){if(o!==void 0)return o.result;if(!s)return r=e.apply(null,arguments),s=arguments,r;if(!jie(arguments,s,i))return r;let u=e.apply(null,arguments);return s=arguments,n(r,u)?r:(r=u,u)}return{memoized:c,reset:t,setResult:a,clearResult:p}}function E1(...e){return Uie(hD)(...e)}function Yie(e,i,n,s){if(n===void 0){let o=i.map(t=>t(e));return s.memoized.apply(null,o)}let r=i.map(o=>o(e,n));return s.memoized.apply(null,[...r,n])}function Uie(e,i={stateFn:Yie}){return function(...n){let s=n;if(Array.isArray(s[0])){let[u,...h]=s;s=[...u,...h]}else s.length===1&&Zie(s[0])&&(s=Xie(s[0]));let r=s.slice(0,s.length-1),o=s[s.length-1],t=r.filter(u=>u.release&&typeof u.release=="function"),a=e(function(...u){return o.apply(null,u)}),p=hD(function(u,h){return i.stateFn.apply(null,[u,r,h,a])});function c(){p.reset(),a.reset(),t.forEach(u=>u.release())}return Object.assign(p.memoized,{release:c,projector:a.memoized,setResult:p.setResult,clearResult:p.clearResult})}}function dD(e){return E1(i=>{let n=i[e];return!Hie()&&R4()&&!(e in i)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},i=>i)}function Zie(e){return!!e&&typeof e=="object"&&Object.values(e).every(i=>typeof i=="function")}function Xie(e){let i=Object.values(e),n=Object.keys(e),s=(...r)=>n.reduce((o,t,a)=>Se(q({},o),{[t]:r[a]}),{});return[...i,s]}function $ie(e){return e instanceof xe?ve(e):e}function Jie(e,i){return i.map((n,s)=>{if(e[s]instanceof xe){let r=ve(e[s]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:V6,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Kie(e){return e.map(i=>i instanceof xe?ve(i):i)}function fD(e){return typeof e=="function"?e():e}function Qie(e,i){return e.concat(i)}function _ie(){if(ve(er,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function qie(e,i){return function(n,s){let r=i.action(s)?P6(s):s,o=e(n,r);return i.state()?P6(o):o}}function P6(e){Object.freeze(e);let i=F6(e);return Object.getOwnPropertyNames(e).forEach(n=>{if(!n.startsWith("\u0275")&&zie(e,n)&&(!i||n!=="caller"&&n!=="callee"&&n!=="arguments")){let s=e[n];(uD(s)||F6(s))&&!Object.isFrozen(s)&&P6(s)}}),e}function ere(e,i){return function(n,s){if(i.action(s)){let o=N6(s);tD(o,"action")}let r=e(n,s);if(i.state()){let o=N6(r);tD(o,"state")}return r}}function N6(e,i=[]){return(_R(e)||qR(e))&&i.length===0?{path:["root"],value:e}:Object.keys(e).reduce((s,r)=>{if(s)return s;let o=e[r];return Gie(o)?s:_R(o)||qR(o)||Nie(o)||Pie(o)||Fie(o)||cD(o)?!1:Vie(o)?N6(o,[...i,r]):{path:[...i,r],value:o}},!1)}function tD(e,i){if(e===!1)return;let n=e.path.join("."),s=new Error(`Detected unserializable ${i} at "${n}". ${G6}#strict${i}serializability`);throw s.value=e.value,s.unserializablePath=n,s}function tre(e,i){return function(n,s){if(i.action(s)&&!rn.isInAngularZone())throw new Error(`Action '${s.type}' running outside NgZone. ${G6}#strictactionwithinngzone`);return e(n,s)}}function nre(e){return R4()?q({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ire({strictActionSerializability:e,strictStateSerializability:i}){return n=>e||i?ere(n,{action:s=>e&&!z6(s),state:()=>i}):n}function rre({strictActionImmutability:e,strictStateImmutability:i}){return n=>e||i?qie(n,{action:s=>e&&!z6(s),state:()=>i}):n}function z6(e){return e.type.startsWith("@ngrx")}function sre({strictActionWithinNgZone:e}){return i=>e?tre(i,{action:n=>e&&!z6(n)}):i}function are(e){return[{provide:KR,useValue:e},{provide:JR,useFactory:ore,deps:[KR]},{provide:S1,deps:[JR],useFactory:nre},{provide:dg,multi:!0,deps:[S1],useFactory:rre},{provide:dg,multi:!0,deps:[S1],useFactory:ire},{provide:dg,multi:!0,deps:[S1],useFactory:sre}]}function pD(){return[{provide:B6,multi:!0,deps:[S1],useFactory:lre}]}function ore(e){return e}function lre(e){if(!e.strictActionTypeUniqueness)return;let i=Object.entries(O6).filter(([,n])=>n>1).map(([n])=>n);if(i.length)throw new Error(`Action types are registered more than once, ${i.map(n=>`"${n}"`).join(", ")}. ${G6}#strictactiontypeuniqueness`)}function cre(e={},i={}){return[{provide:nD,useFactory:_ie},{provide:WR,useValue:i.initialState},{provide:k1,useFactory:fD,deps:[WR]},{provide:R6,useValue:e},{provide:YR,useExisting:e instanceof xe?e:R6},{provide:rD,deps:[R6,[new Fy(YR)]],useFactory:$ie},{provide:XR,useValue:i.metaReducers?i.metaReducers:[]},{provide:$R,deps:[dg,XR],useFactory:Qie},{provide:HR,useValue:i.reducerFactory?i.reducerFactory:V6},{provide:iD,deps:[HR,$R],useFactory:lD},wie,Eie,Aie,Rie,Die,are(i.runtimeChecks),pD()]}function ure(e,i,n={}){return[{provide:UR,multi:!0,useValue:e instanceof Object?{}:n},{provide:jR,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(n instanceof xe)&&n.reducerFactory?n.reducerFactory:V6,metaReducers:!(n instanceof xe)&&n.metaReducers?n.metaReducers:[],initialState:!(n instanceof xe)&&n.initialState?n.initialState:void 0}},{provide:sD,deps:[UR,jR],useFactory:Jie},{provide:D6,multi:!0,useValue:e instanceof Object?e.reducer:i},{provide:ZR,multi:!0,useExisting:i instanceof xe?i:D6},{provide:aD,multi:!0,deps:[D6,[new Fy(ZR)]],useFactory:Kie},pD()]}var A1=(()=>{class e{constructor(n,s,r,o,t,a){}static{this.\u0275fac=function(s){return new(s||e)(pe(ya),pe(Dc),pe(Oc),pe(er),pe(nD,8),pe(B6,8))}}static{this.\u0275mod=an({type:e})}static{this.\u0275inj=sn({})}}return e})(),gg=(()=>{class e{constructor(n,s,r,o,t){this.features=n,this.featureReducers=s,this.reducerManager=r;let a=n.map((p,c)=>{let h=s.shift()[c];return Se(q({},p),{reducers:h,initialState:fD(p.initialState)})});r.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(s){return new(s||e)(pe(sD),pe(aD),pe(fg),pe(A1),pe(B6,8))}}static{this.\u0275mod=an({type:e})}static{this.\u0275inj=sn({})}}return e})(),vD=(()=>{class e{static forRoot(n,s){return{ngModule:A1,providers:[...cre(n,s)]}}static forFeature(n,s,r={}){return{ngModule:gg,providers:[...ure(n,s,r)]}}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=an({type:e})}static{this.\u0275inj=sn({})}}return e})();function Fc(...e){let i=e.pop(),n=e.map(s=>s.type);return{reducer:i,types:n}}function gD(e,...i){let n=new Map;for(let s of i)for(let r of s.types){let o=n.get(r);if(o){let t=(a,p)=>s.reducer(o(a,p),p);n.set(r,t)}else n.set(r,s.reducer)}return function(s=e,r){let o=n.get(r.type);return o?o(s,r):s}}var hre=co("[User Preferences] Toggle Theme"),dre=co("[User Preferences] Set Hue",pg()),fre=co("[User Preferences] Set Hue1",pg()),pre=co("[User Preferences] Set Hue Theme",pg()),vre=co("[User Preferences] Set Dark Theme"),gre=co("[User Preferences] Set Light Theme"),uo={toggleTheme:hre,setHue0:dre,setHue1:fre,setHueTheme:pre,setDark:vre,setLight:gre};var W6=dD("user"),mre=E1(W6,e=>e.isDarkTheme),yre=E1(W6,e=>e.h0),xre=E1(W6,e=>e.h1),mD={isDarkTheme:mre,hue0:yre,hue1:xre};var Jt={actions:uo,selectors:mD};var Nh=class e{store=ve(er);save(i,n){try{localStorage.setItem(i,JSON.stringify(n))}catch(s){console.error("Error saving to localStorage",s)}}get(i,n=null){try{let s=localStorage.getItem(i);return s?JSON.parse(s):n}catch(s){return console.error("Error reading from localStorage",s),n}}remove(i){localStorage.removeItem(i)}saveUserPreferences(i,n){let s="preference-anonymuos";i&&(s=`preference-${i}`),this.save(s,n)}restoreUserPreferences(i){let n="preference-anonymuos";i&&(n=`preference-${i}`);let s=this.get(n,null);s?(s.isDarkTheme?this.store.dispatch(Jt.actions.setDark()):this.store.dispatch(Jt.actions.setLight()),typeof s.h0=="number"&&typeof s.h1=="number"&&this.store.dispatch(Jt.actions.setHueTheme({h0:s.h0,h1:s.h1}))):(this.store.dispatch(Jt.actions.setDark()),this.store.dispatch(Jt.actions.setHueTheme({h0:40,h1:100})))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var ai=class e{constructor(i){this.router=i;this.sessionKit=new Hv({appName:"session-connect",chains:[{id:"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11",url:"https://mainnet.telos.net"}],ui:new yR,walletPlugins:[new ug,new hg]})}sessionKit;localStorageService=ve(Nh);sessionSubject=new xt(void 0);session$=this.sessionSubject.asObservable();get currentSession(){return this.sessionSubject.value}login(){return fe(this,null,function*(){try{let{session:i}=yield this.sessionKit.login();this.sessionSubject.next(i);let n=i?.actor;return this.localStorageService.restoreUserPreferences(n.toString()),this.router.navigate(["/wallet"]),i}catch(i){throw console.error("Login failed:",i),i}})}logout(){return fe(this,null,function*(){let i=this.sessionSubject.value;i&&(yield this.sessionKit.logout(i),this.sessionSubject.next(void 0)),this.localStorageService.restoreUserPreferences(null)})}restoreSession(){return fe(this,null,function*(){let i=yield this.sessionKit.restore();this.sessionSubject.next(i);let n=i?.actor||null;return n?this.localStorageService.restoreUserPreferences(n.toString()):this.localStorageService.restoreUserPreferences(null),i})}static \u0275fac=function(n){return new(n||e)(pe(Lr))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Bh=class e{constructor(i){this.http=i;this.loadTokenList()}tokens$=new xt([]);loadTokenList(){this.http.get("assets/tokens_mainnet.json").subscribe({next:i=>{this.tokens$.next(i)},error:i=>console.error("Error loading token list:",i)})}getTokens(){return this.tokens$.asObservable()}getTokensValue(){return this.tokens$.getValue()}static \u0275fac=function(n){return new(n||e)(pe(Jl))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var ml=class e{constructor(i,n){this.sessionService=i;this.tokenListService=n;fs([this.sessionService.session$,this.tokenListService.getTokens()]).subscribe(([s,r])=>{s?.actor?this.updateAllBalances():this.balances$.next([])})}balances$=new xt([]);getAllBalances(){return this.balances$.asObservable()}updateSingleBalance(i){return fe(this,null,function*(){try{let n=yield this.fetchSingleBalance(i);this.addSingleBalanceToState(n)}catch(n){console.error(`\u274C Error updating single balance for ${i.symbol}:`,n)}})}updateAllBalances(){return fe(this,null,function*(){try{let i=yield this.fetchAllBalances();this.addAllBalancesToState(i)}catch(i){console.error("\u274C Error updating all balances:",i)}})}waitUntilBalanceChanges(i,n=1,s=10){return new Promise((r,o)=>{let t=Date.now(),a=()=>fe(this,null,function*(){let p=yield this.fetchSingleBalance(i),c=this.balances$.getValue().find(u=>u.token.symbol===i.symbol);p.amount.raw!==c?.amount.raw?(this.addSingleBalanceToState(p),r(p)):(Date.now()-t)/1e3>=s?o(new Error("Timeout: Balance did not change within the specified time.")):setTimeout(a,1e3)});setTimeout(a,n*1e3)})}fetchSingleBalance(i){return fe(this,null,function*(){let n=this.sessionService.currentSession;if(!n?.actor)throw new Error("No valid session.");let s=n.client.v1.chain;if(!s)throw new Error("No valid blockchain client.");try{let r={json:!0,code:i.account,scope:n.actor.toString(),table:"accounts",limit:100},o=yield s.get_table_rows(r);if(!o?.rows?.length)return console.warn(`\u26A0\uFE0F No balance found for ${i.symbol}. Returning zero balance.`),{amount:{raw:0,formatted:this.formatBalance(0,i)},token:i};let t=o.rows.find(u=>{if(u.balance){let[h,l]=u.balance.split(" ");return l===i.symbol}return!1});if(!t)return console.warn(`\u26A0\uFE0F No balance found for ${i.symbol}. Returning zero balance.`),{amount:{raw:0,formatted:this.formatBalance(0,i)},token:i};let[a,p]=t.balance.split(" "),c=parseFloat(a)*Math.pow(10,i.precision);return{amount:{raw:c,formatted:this.formatBalance(c,i)},token:i}}catch(r){return console.error(`\u274C Error fetching balance for ${i.symbol}:`,r),{amount:{raw:0,formatted:this.formatBalance(0,i)},token:i}}})}fetchAllBalances(){return fe(this,null,function*(){let i=this.sessionService.currentSession;if(!i?.actor)throw new Error("No active session.");let n=i.client.v1.chain;if(!n)throw new Error("No valid blockchain client.");let r=this.tokenListService.getTokensValue().reduce((p,c)=>(p[c.account]||(p[c.account]=[]),p[c.account].push(c),p),{}),o=Object.keys(r).map(p=>fe(this,null,function*(){let c={json:!0,code:p,scope:i.actor.toString(),table:"accounts",limit:100},u=yield n.get_table_rows(c);return r[p].map(l=>{let d=u?.rows?.find(m=>{if(m.balance){let[x,y]=m.balance.split(" ");return y===l.symbol}return!1});if(!d)return console.warn(`\u26A0\uFE0F No balance found for ${l.symbol} in contract ${p}. Returning zero balance.`),{amount:{raw:0,formatted:this.formatBalance(0,l)},token:l};let[v,f]=d.balance.split(" "),g=parseFloat(v)*Math.pow(10,l.precision);return{amount:{raw:g,formatted:this.formatBalance(g,l)},token:l}})}));return(yield Promise.all(o)).flat()})}addSingleBalanceToState(i){let n=this.balances$.getValue(),s=n.findIndex(r=>r.token.symbol===i.token.symbol);s!==-1?n[s].amount.raw!==i.amount.raw?(n[s]=i,this.balances$.next([...n])):console.log(`\u26A0\uFE0F No change detected in balance for ${i.token.symbol}.`):(n.push(i),this.balances$.next([...n]))}addAllBalancesToState(i){this.balances$.next(i)}formatBalance(i,n){let s=n.precision,r=Math.pow(10,s);return(i/r).toFixed(s)}static \u0275fac=function(n){return new(n||e)(pe(ai),pe(Bh))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var yg=class e{constructor(i,n,s){this.sessionService=i;this.tokenBalanceService=n;this.tokenListService=s;this.sessionService.session$.subscribe(r=>{r||this.resetAllTransfers()})}transferStatus$=new xt(new Map);getTransferStatus$(i){return this.transferStatus$.asObservable().pipe(ze(n=>n.get(i)||{state:"none"}))}resetTransferCycle(i){this.setTransferStatus(i,"none")}resetAllTransfers(){this.tokenListService.getTokensValue().forEach(n=>{this.resetTransferCycle(n.symbol)})}setTransferStatus(i,n,s,r=null){let o=this.transferStatus$.getValue();o.set(i,{state:n,message:s,summary:r}),this.transferStatus$.next(o)}makeTokenTransaction(i,n,s,r,o="",t){return fe(this,null,function*(){console.log(`\u{1F4E4} Initiating token transaction: ${s} ${t.symbol} from ${i} to ${n}`);let a=this.sessionService.currentSession;if(!a){console.error("\u274C No active session. Please log in."),this.setTransferStatus(t.symbol,"failure","No active session.",null);return}try{let p={account:r,name:"transfer",authorization:[{actor:i,permission:"active"}],data:{from:i,to:n,quantity:s,memo:o}};console.log("\u23F3 Sending transaction...");let u=(yield a.transact({actions:[p]})).response?.transaction_id||"Unknown TX";console.log(`\u2705 Transaction Successful: ${u}`);let h={from:a.actor.toString(),to:n,amount:s,transaction:u};console.log(`\u{1F7E2} Balance refresh requested for ${t.symbol}.`),this.setTransferStatus(t.symbol,"success",`Transferred ${s} to ${n}. TX: ${u.substring(0,10)}`,h),console.log(`\u{1F504} Waiting for balance update for ${t.symbol}...`),this.tokenBalanceService.waitUntilBalanceChanges(t).then(()=>console.log(`\u2705 Balance updated for ${t.symbol}.`)).catch(l=>console.error(`\u274C Error updating balance for ${t.symbol}:`,l))}catch(p){console.error("\u274C Transaction failed:",p);let c=p instanceof Error?p.message:"Transaction failed: Unknown error";this.setTransferStatus(t.symbol,"failure",c,null)}})}static \u0275fac=function(n){return new(n||e)(pe(ai),pe(ml),pe(Bh))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var xg=class e{accountKit;constructor(){let i=new pa({url:"https://mainnet.telos.net"});this.accountKit=new bh(Rv.Telos,{client:i})}validateAccount(i){return fe(this,null,function*(){try{return yield this.accountKit.load(i),!0}catch{return!1}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Cre=(e,i)=>({"c-token-transfer__form-button":!0,"c-token-transfer__form-button--available":e,"c-token-transfer__form-button--unavailable":i}),xD=e=>[e];function wre(e,i){e&1&&(re(0,"span",21),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.TO.VALIDATION.CHECKING")))}function Sre(e,i){e&1&&(re(0,"span",22),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.TO.VALIDATION.INVALID-PATTERN")))}function Ire(e,i){e&1&&(re(0,"span",22),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.TO.VALIDATION.INVALID-SELF")))}function kre(e,i){e&1&&(re(0,"span",22),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.TO.VALIDATION.INVALID-EXIST")))}function Tre(e,i){e&1&&(re(0,"span",23),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.TO.VALIDATION.VALID")))}function Ere(e,i){if(e&1&&(re(0,"p",17),mt(1,wre,3,3,"span",18)(2,Sre,3,3,"span",19)(3,Ire,3,3,"span",19)(4,kre,3,3,"span",19)(5,Tre,3,3,"span",20),le()),e&2){let n,s,r,o,t,a=it(2);ne(),Ne("ngIf",(n=a.form.get("recipient"))==null?null:n.pending),ne(),Ne("ngIf",(s=a.form.get("recipient"))==null||s.errors==null?null:s.errors.pattern),ne(),Ne("ngIf",(r=a.form.get("recipient"))==null||r.errors==null?null:r.errors.selfTransfer),ne(),Ne("ngIf",(o=a.form.get("recipient"))==null||o.errors==null?null:o.errors.accountNotFound),ne(),Ne("ngIf",((t=a.form.get("recipient"))==null?null:t.valid)&&!((t=a.form.get("recipient"))!=null&&t.pending))}}function Are(e,i){if(e&1){let n=Kt();re(0,"a",24),_e("click",function(){Mt(n);let r=it(2);return Ct(r.useMax())}),ge(1),Ae(2,"translate"),le()}e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.AMOUNT.USE-MAX")))}function Lre(e,i){e&1&&(re(0,"span",22),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.AMOUNT.VALIDATION.INVALID-AMOUNT")))}function Rre(e,i){e&1&&(re(0,"span",22),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.AMOUNT.VALIDATION.INVALID-MAX")))}function Dre(e,i){e&1&&(re(0,"span",23),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"COMPONENTS.TRANSFER-FORM.AMOUNT.VALIDATION.VALID")))}function Ore(e,i){if(e&1&&(re(0,"p",17),mt(1,Lre,3,3,"span",19)(2,Rre,3,3,"span",19)(3,Dre,3,3,"span",20),le()),e&2){let n,s,r,o=it(2);ne(),Ne("ngIf",(n=o.form.get("amount"))==null||n.errors==null?null:n.errors.invalidAmount),ne(),Ne("ngIf",(s=o.form.get("amount"))==null||s.errors==null?null:s.errors.outOfBalance),ne(),Ne("ngIf",(r=o.form.get("amount"))==null?null:r.valid)}}function Fre(e,i){if(e&1){let n=Kt();re(0,"div",2)(1,"div",3)(2,"p",4),ge(3),Ae(4,"translate"),le(),re(5,"p",5),ge(6),le()(),re(7,"form",6),_e("ngSubmit",function(){Mt(n);let r=it();return Ct(r.transfer())}),re(8,"div",7)(9,"label",8),ge(10),Ae(11,"translate"),le(),ct(12,"input",9),Ae(13,"translate"),mt(14,Ere,6,5,"p",10),le(),re(15,"div",7)(16,"div",11)(17,"label",12),ge(18),Ae(19,"translate"),le(),mt(20,Are,3,3,"a",13),le(),ct(21,"input",14),Ae(22,"translate"),mt(23,Ore,4,3,"p",10),le(),re(24,"div",15)(25,"button",16),ge(26),Ae(27,"translate"),Ae(28,"translate"),le()()()()}if(e&2){let n,s,r=it();ne(3),Ye(Oe(4,15,"COMPONENTS.TRANSFER-FORM.AVAILABLE")),ne(3),Lo(" ",r.balance==null||r.balance.amount==null?null:r.balance.amount.formatted," ",r.balance==null||r.balance.token==null?null:r.balance.token.symbol," "),ne(),Ne("formGroup",r.form),ne(3),Ye(Oe(11,17,"COMPONENTS.TRANSFER-FORM.TO.TITLE")),ne(2),Ul("placeholder",Oe(13,19,"COMPONENTS.TRANSFER-FORM.TO.INPUT")),ne(2),Ne("ngIf",(n=r.form.get("recipient"))==null?null:n.value),ne(4),Ye(Oe(19,21,"COMPONENTS.TRANSFER-FORM.AMOUNT.TITLE")),ne(2),Ne("ngIf",!r.isMaxAmount()),ne(),Ul("placeholder",Oe(22,23,"COMPONENTS.TRANSFER-FORM.AMOUNT.INPUT")),ne(2),Ne("ngIf",((s=r.form.get("amount"))==null?null:s.value)!==null),ne(2),Cp(o7(29,Cre,r.form.valid,!r.form.valid)),Ne("disabled",r.form.invalid||r.isLoading),ne(),Ut(" ",r.isLoading?Is(32,xD,Oe(27,25,"TYPES.BUTTON.PROCESSING")):Is(34,xD,Oe(28,27,"TYPES.BUTTON.TRANSFER"))," ")}}function Pre(e,i){if(e&1&&(re(0,"div",29)(1,"p")(2,"strong"),ge(3),Ae(4,"translate"),le(),ge(5),le(),re(6,"p")(7,"strong"),ge(8),Ae(9,"translate"),le(),ge(10),le(),re(11,"p")(12,"strong"),ge(13),Ae(14,"translate"),le(),ge(15),le(),re(16,"p")(17,"strong"),ge(18),Ae(19,"translate"),le(),re(20,"a",30),ge(21),le()()()),e&2){let n=it(2);ne(3),Ye(Oe(4,9,"TYPES.TRANSFER-SUMMARY.FROM")),ne(2),Ut(" ",n.transferStatus.summary.from,""),ne(3),Ye(Oe(9,11,"TYPES.TRANSFER-SUMMARY.TO")),ne(2),Ut(" ",n.transferStatus.summary.to,""),ne(3),Ye(Oe(14,13,"TYPES.TRANSFER-SUMMARY.AMOUNT")),ne(2),Ut(" ",n.transferStatus.summary.amount,""),ne(3),Ye(Oe(19,15,"TYPES.TRANSFER-SUMMARY.TRANSACTION")),ne(2),Ne("href","https://explorer.telos.net/transaction/"+n.transferStatus.summary.transaction,fu),ne(),Ut(" ",n.transferStatus.summary.transaction.substring(0,10)," ")}}function Nre(e,i){if(e&1){let n=Kt();re(0,"div",2)(1,"p",25)(2,"strong",26),ge(3),Ae(4,"translate"),le()(),mt(5,Pre,22,17,"div",27),re(6,"div",15)(7,"button",28),_e("click",function(){Mt(n);let r=it();return Ct(r.close())}),ge(8),Ae(9,"translate"),le()()()}if(e&2){let n=it();ne(3),Ye(Oe(4,3,"COMPONENTS.TRANSFER-FORM.SUCCSES")),ne(2),Ne("ngIf",n.transferStatus.summary),ne(3),Ye(Oe(9,5,"TYPES.BUTTON.CLOSE"))}}function Bre(e,i){if(e&1){let n=Kt();re(0,"div",2)(1,"p",25)(2,"strong",31),ge(3),Ae(4,"translate"),le()(),re(5,"p",32),ge(6),le(),re(7,"div",15)(8,"button",28),_e("click",function(){Mt(n);let r=it();return Ct(r.retry())}),ge(9),Ae(10,"translate"),le(),re(11,"button",28),_e("click",function(){Mt(n);let r=it();return Ct(r.close())}),ge(12),Ae(13,"translate"),le()()()}if(e&2){let n=it();ne(3),Ut(" ",Oe(4,4,"COMPONENTS.TRANSFER-FORM.FAILURE")," "),ne(3),Ye(n.transferStatus.message),ne(3),Ye(Oe(10,6,"TYPES.BUTTON.RETRY")),ne(3),Ye(Oe(13,8,"TYPES.BUTTON.CLOSE"))}}var bg=class e{constructor(i,n,s,r,o,t){this.fb=i;this.tokenBalanceService=n;this.tokenTransferService=s;this.sessionService=r;this.accountKitService=o;this.expandableManager=t}tokenSymbol;balance;form;isLoading=!1;destroy$=new ot;transferStatus={state:"none"};ngOnInit(){this.tokenTransferService.getTransferStatus$(this.tokenSymbol).pipe(Wt(this.destroy$)).subscribe(i=>{this.transferStatus=i}),this.form=this.fb.group({recipient:["",[zu.required,zu.pattern(/^[a-z1-5]{1,12}$/),this.selfTransferValidator()],[this.accountValidator()]],amount:[null,[zu.required,this.amountValidator()]]}),this.tokenBalanceService.getAllBalances().pipe(Wt(this.destroy$),ze(i=>i.find(n=>n.token.symbol===this.tokenSymbol)),gs()).subscribe(i=>{this.balance=i||null,this.balance&&this.form.get("amount")?.updateValueAndValidity()}),this.form.get("amount")?.valueChanges.pipe(vs(300),gs(),Wt(this.destroy$)).subscribe(i=>{this.enforceDecimalPrecision(i)}),this.expandableManager.state$.pipe(Wt(this.destroy$),ze(i=>i[`expandable-${this.tokenSymbol}`]),gs()).subscribe(i=>{i===!1&&setTimeout(()=>{this.resetForm()},500)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}selfTransferValidator(){return i=>{let n=this.sessionService.currentSession?.actor?.toString();return i.value===n?{selfTransfer:!0}:null}}accountValidator(){return i=>i.value?sd(300).pipe(En(()=>this.accountKitService.validateAccount(i.value)),ze(n=>n?null:{accountNotFound:!0}),Hi(()=>Xe({accountNotFound:!0}))):Xe(null)}amountValidator(){return i=>{if(!this.balance||!this.balance.token)return{invalidAmount:!0};let n=parseFloat(i.value);if(isNaN(n)||n<=0)return{invalidAmount:!0};let s=Math.pow(10,this.balance.token.precision),r=this.balance.amount.raw;return n*s>r?{outOfBalance:!0}:null}}enforceDecimalPrecision(i){if(i==null||!this.balance)return;let n=this.balance.token.precision,s=i.toString();if(s.includes(".")){let[r,o]=s.split(".");o.length>n&&(o=o.slice(0,n)),s=`${r}.${o}`}this.form.get("amount")?.setValue(s,{emitEvent:!1})}useMax(){if(!this.balance)return;let i=this.balance.amount.formatted;this.form.get("amount")?.setValue(i)}isMaxAmount(){return this.balance?this.form.get("amount")?.value===this.balance.amount.formatted:!1}transfer(){return fe(this,null,function*(){if(this.form.invalid)return;let{recipient:i,amount:n}=this.form.value,s=parseFloat(n);if(isNaN(s)||s<=0||!this.balance)return;let r=`${s.toFixed(this.balance.token.precision)} ${this.balance.token.symbol}`,o=this.sessionService.currentSession?.actor;if(!o)return;let t=this.balance.token;try{this.isLoading=!0,yield this.tokenTransferService.makeTokenTransaction(o.toString(),i,r,this.balance.token.account,`Transfer of ${r}`,t)}catch(a){console.error("Transfer failed:",a)}finally{this.isLoading=!1}})}retry(){this.tokenTransferService.resetTransferCycle(this.tokenSymbol)}close(){this.expandableManager.close(`expandable-${this.tokenSymbol}`)}resetForm(){this.tokenTransferService.resetTransferCycle(this.tokenSymbol),this.form.reset()}static \u0275fac=function(n){return new(n||e)(be(ZS),be(ml),be(yg),be(ai),be(xg),be(Zr))};static \u0275cmp=lt({type:e,selectors:[["app-token-transfer-form"]],inputs:{tokenSymbol:"tokenSymbol"},decls:4,vars:3,consts:[[1,"c-token-transfer"],["class","c-token-transfer__container",4,"ngIf"],[1,"c-token-transfer__container"],[1,"c-token-transfer__header"],[1,"c-token-transfer__header-text"],[1,"c-token-transfer__header-balance"],[1,"c-token-transfer__form",3,"ngSubmit","formGroup"],[1,"c-token-transfer__input-container"],["for","recipient",1,"c-token-transfer__form-title"],["id","recipient","type","text","formControlName","recipient",1,"c-token-transfer__form-input",3,"placeholder"],["class","c-token-transfer__status",4,"ngIf"],[1,"c-token-transfer__input-container-bar"],["for","amount",1,"c-token-transfer__form-title"],["class","c-token-transfer__form-max",3,"click",4,"ngIf"],["id","amount","type","text","formControlName","amount","autocomplete","off",1,"c-token-transfer__form-input",3,"placeholder"],[1,"c-token-transfer__input-buttons"],["type","submit",3,"disabled"],[1,"c-token-transfer__status"],["class","c-token-transfer__status-checking",4,"ngIf"],["class","c-token-transfer__status-invalid",4,"ngIf"],["class","c-token-transfer__status-valid",4,"ngIf"],[1,"c-token-transfer__status-checking"],[1,"c-token-transfer__status-invalid"],[1,"c-token-transfer__status-valid"],[1,"c-token-transfer__form-max",3,"click"],[1,"c-token-transfer__result"],[1,"c-token-transfer__result-success"],["class","c-token-transfer__summary-box",4,"ngIf"],[1,"c-token-transfer__form-button","c-token-transfer__form-button--available",3,"click"],[1,"c-token-transfer__summary-box"],["target","_blank",3,"href"],[1,"c-token-transfer__result-fail"],[1,"c-token-transfer__error-message"]],template:function(n,s){n&1&&(re(0,"div",0),mt(1,Fre,29,36,"div",1)(2,Nre,10,7,"div",1)(3,Bre,14,10,"div",1),le()),n&2&&(ne(),Ne("ngIf",s.transferStatus.state==="none"),ne(),Ne("ngIf",s.transferStatus.state==="success"),ne(),Ne("ngIf",s.transferStatus.state==="failure"))},dependencies:[Bt,$n,$S,jS,Hu,E2,NS,g5,m5,nn,Jn],styles:[".c-token-transfer__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px}.c-token-transfer__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.c-token-transfer__header-text[_ngcontent-%COMP%]{font-size:14px;color:var(--c-foreground-2);margin:0}.c-token-transfer__header-balance[_ngcontent-%COMP%]{font-weight:700;margin:0}.c-token-transfer__form-title[_ngcontent-%COMP%]{font-size:14px;color:var(--c-foreground-2);margin:0}.c-token-transfer__form-input[_ngcontent-%COMP%]{background-color:var(--c-background-0);border:1px solid var(--c-background-4);border-radius:20px;padding:10px 15px;color:var(--c-foreground-1);outline:none}.c-token-transfer__form-button--available[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:10pt;padding:6px 25px;border-radius:6px;transition:.3s;cursor:pointer;color:var(--c-accent-0);background-color:var(--c-background-1);border:1px solid var(--c-accent-0);border-color:var(--c-accent-0) var(--c-accent-0) var(--c-accent-1) var(--c-accent-1)}.c-token-transfer__form-button--available[_ngcontent-%COMP%]:hover{color:var(--c-background-0);background-color:var(--c-accent-0);border-color:var(--c-accent-2) var(--c-accent-2) var(--c-accent-1) var(--c-accent-1)}.c-token-transfer__form-button--unavailable[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:10pt;padding:6px 25px;border-radius:6px;transition:.3s;cursor:pointer;color:var(--c-foreground-0);border:none;cursor:not-allowed;opacity:.5;box-shadow:none}.c-token-transfer__form-max[_ngcontent-%COMP%]{color:var(--c-accent-0);cursor:pointer}.c-token-transfer__form-max[_ngcontent-%COMP%]:hover, .c-token-transfer__form-max[_ngcontent-%COMP%]:active{color:var(--c-foreground-2)}.c-token-transfer__form-max.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.3;cursor:default}.c-token-transfer__input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:30px}.c-token-transfer__input-container-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.c-token-transfer__status[_ngcontent-%COMP%]{margin:0}.c-token-transfer__status-checking[_ngcontent-%COMP%]{font-size:12px;color:var(--c-foreground-2);margin:2px 0}.c-token-transfer__status-valid[_ngcontent-%COMP%]{font-size:12px;color:var(--c-foreground-2);margin:2px 0;color:var(--c-success-0)}.c-token-transfer__status-invalid[_ngcontent-%COMP%]{font-size:12px;color:var(--c-foreground-2);margin:2px 0;color:var(--c-alert-0)}"]})};function Vre(e,i){e&1&&(re(0,"div",8)(1,"p"),ge(2),Ae(3,"translate"),le()()),e&2&&(ne(2),Ye(Oe(3,1,"PAGES.WALLET.LOADING")))}function Gre(e,i){if(e&1&&(re(0,"app-expandable",12)(1,"div",13)(2,"div",14),ct(3,"img",15),re(4,"p"),ge(5),re(6,"strong"),ge(7),le()()(),re(8,"div",16),ge(9,"\u25BC"),le()(),re(10,"div",17)(11,"div",14),ct(12,"img",15),re(13,"p"),ge(14),Ae(15,"translate"),le()(),re(16,"div",16),ge(17,"\u25B2"),le()(),re(18,"div",18),ct(19,"app-token-transfer-form",19),le()()),e&2){let n=i.$implicit;Ne("expandableId","expandable-"+n.token.symbol),ne(3),Ul("src",n.token.logo,fu),ne(2),Ut("",n.amount.formatted," "),ne(2),Ye(n.token.symbol),ne(5),Ul("src",n.token.logo,fu),ne(2),Lo("",Oe(15,8,"COMPONENTS.TRANSFER-FORM.TITLE")," ",n.token.symbol,""),ne(5),Ne("tokenSymbol",n.token.symbol)}}function zre(e,i){if(e&1){let n=Kt();re(0,"app-expandable-group",9),mt(1,Gre,20,10,"app-expandable",10),le(),re(2,"a",11),_e("click",function(){Mt(n);let r=it(2);return Ct(r.refreshBalances())}),ge(3),Ae(4,"translate"),Ae(5,"translate"),le()}if(e&2){let n=it(2);ne(),Ne("ngForOf",n.balances),ne(2),Lo("\u21BB ",Oe(4,3,"TYPES.BUTTON.REFRESH")," ",Oe(5,5,"PAGES.WALLET.NAME")," ")}}function Wre(e,i){if(e&1&&(re(0,"div",3)(1,"div",4)(2,"div",5),ge(3),Ae(4,"translate"),le(),re(5,"div",6),ge(6),Ae(7,"translate"),le()(),mt(8,Vre,4,3,"div",7)(9,zre,6,7,"ng-template",null,1,cr),le()),e&2){let n=Ss(10),s=it();pi("mobile",s.isMobileView),ne(3),Ut(" ",Oe(4,6,"PAGES.WALLET.TITLE")," "),ne(3),Ut(" ",Oe(7,8,"PAGES.WALLET.DESCRIPTION")," "),ne(2),Ne("ngIf",s.loading)("ngIfElse",n)}}function Hre(e,i){e&1&&(re(0,"div",3)(1,"div",6),ge(2),Ae(3,"translate"),le()()),e&2&&(ne(2),Ut(" ",Oe(3,1,"PAGES.WALLET.ERROR")," "))}var Mg=class e{constructor(i,n,s){this.sessionService=i;this.tokenBalanceService=n;this.breakpointObserver=s}balances=[];loading=!1;isMobileView=!1;balanceSubscription;destroy$=new ot;get actor(){return this.sessionService.currentSession?.actor.toString()}ngOnInit(){this.balanceSubscription=this.tokenBalanceService.getAllBalances().subscribe(i=>{this.balances=i,this.loading=!1}),this.breakpointObserver.observe(hr).pipe(Wt(this.destroy$)).subscribe(i=>{this.isMobileView=i.matches})}refreshBalances(){this.loading=!0,this.tokenBalanceService.updateAllBalances()}ngOnDestroy(){this.balanceSubscription&&this.balanceSubscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)(be(ai),be(ml),be(dr))};static \u0275cmp=lt({type:e,selectors:[["app-wallet"]],decls:3,vars:2,consts:[["noSession",""],["balanceList",""],["class","p-wallet",3,"mobile",4,"ngIf","ngIfElse"],[1,"p-wallet"],[1,"p-wallet__header"],[1,"p-wallet__header-title"],[1,"p-wallet__header-subtitle"],["class","p-wallet__loading",4,"ngIf","ngIfElse"],[1,"p-wallet__loading"],[1,"p-wallet__group"],["class","p-wallet__group-expandible",3,"expandableId",4,"ngFor","ngForOf"],[1,"p-wallet__refresh",3,"click"],[1,"p-wallet__group-expandible",3,"expandableId"],["closedHeader","",1,"p-wallet__balance-head","p-wallet__balance-head--closed"],[1,"p-wallet__balance-head-left"],[1,"p-wallet__balance-icon",3,"src"],[1,"p-wallet__balance-arrow"],["openHeader","",1,"p-wallet__balance-head","p-wallet__balance-head--open"],["body","",1,"p-wallet__balance-body"],[3,"tokenSymbol"]],template:function(n,s){if(n&1&&mt(0,Wre,11,10,"div",2)(1,Hre,4,3,"ng-template",null,0,cr),n&2){let r=Ss(2);Ne("ngIf",s.actor)("ngIfElse",r)}},dependencies:[Bt,Ro,$n,_s,ju,bg,nn,Jn],styles:["[_nghost-%COMP%]{padding:15px;display:flex;flex-direction:column;justify-content:center;align-items:center}.p-wallet[_ngcontent-%COMP%]{width:100%;max-width:770px;display:flex;flex-direction:column;gap:20px}.p-wallet.mobile[_ngcontent-%COMP%]{max-width:570px}.p-wallet__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.p-wallet__header-title[_ngcontent-%COMP%]{font-size:24px;color:var(--c-foreground-1);margin:20px 0}.p-wallet__header-subtitle[_ngcontent-%COMP%]{font-size:17px;color:var(--c-foreground-2);margin:5px 0}.p-wallet__loading[_ngcontent-%COMP%]{font-size:17px;color:var(--c-foreground-2);margin:5px 0;color:var(--c-accent-0)}.p-wallet__group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.p-wallet__balance-arrow[_ngcontent-%COMP%]{font-size:10pt}.p-wallet__balance-icon[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:50%}.p-wallet__balance-head[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}.p-wallet__balance-head-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:10px}.p-wallet__refresh[_ngcontent-%COMP%]{text-decoration:none;color:var(--c-foreground-2);cursor:pointer;margin-top:15px;color:var(--c-accent-0)}.p-wallet__refresh[_ngcontent-%COMP%]:hover, .p-wallet__refresh[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}.p-wallet__refresh[_ngcontent-%COMP%]:hover, .p-wallet__refresh[_ngcontent-%COMP%]:active{color:var(--c-foreground-2)}"]})};var jre=["stateContent"],Yre=e=>({"c-toggle__button--active":e});function Ure(e,i){}function Zre(e,i){if(e&1){let n=Kt();re(0,"button",2),_e("click",function(){let r=Mt(n).index,o=it();return Ct(o.setState(r))}),mt(1,Ure,0,0,"ng-template",3),le()}if(e&2){let n=i.$implicit,s=i.index,r=it();Ne("ngClass",Is(2,Yre,r.currentState===s)),ne(),Ne("ngTemplateOutlet",n)}}var Cg=class e{projectedContents;stateChange=new Ht;currentState=0;ngAfterContentInit(){this.projectedContents.length===0&&console.warn("ToggleComponent: No projected content found.")}setState(i){this.currentState=i,this.stateChange.emit(this.currentState)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=lt({type:e,selectors:[["app-toggle"]],contentQueries:function(n,s,r){if(n&1&&mu(r,jre,4),n&2){let o;Hr(o=jr())&&(s.projectedContents=o)}},inputs:{currentState:"currentState"},outputs:{stateChange:"stateChange"},decls:2,vars:1,consts:[[1,"c-toggle"],["class","c-toggle__button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"c-toggle__button",3,"click","ngClass"],[3,"ngTemplateOutlet"]],template:function(n,s){n&1&&(re(0,"div",0),mt(1,Zre,2,4,"button",1),le()),n&2&&(ne(),Ne("ngForOf",s.projectedContents))},dependencies:[Bt,Mu,Ro,P7],styles:[".c-toggle[_ngcontent-%COMP%]{display:flex;gap:5px;border-radius:8px;padding:5px}.c-toggle__button[_ngcontent-%COMP%]{background-color:var(--c-background-1);color:var(--c-foreground-2);border:1px solid var(--c-background-4);border-radius:8px;padding:0 12px;cursor:pointer;display:flex;justify-content:center;align-items:center}.c-toggle__button[_ngcontent-%COMP%]:hover, .c-toggle__button[_ngcontent-%COMP%]:active{box-shadow:var(--c-shadow-1)}.c-toggle__button--active[_ngcontent-%COMP%]{color:var(--c-foreground-2);background-color:var(--c-background-3);border:1px solid var(--c-background-4);box-shadow:none}"]})};var Xre=["*"];var bD=[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}]];var MD=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]];var wg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]];var CD=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]];var wD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]];var SD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]];var ID=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]];var kD=[["path",{d:"M17 12v4a1 1 0 0 1-1 1h-4",key:"uk4fdo"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M17 8V7",key:"q2g9wo"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M7 17h.01",key:"19xn7k"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{x:"7",y:"7",width:"5",height:"5",rx:"1",key:"m9kyts"}]];var TD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var ED=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]];var AD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var LD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]];var RD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]];var L1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},j6=new xe("LucideIcons",{factory:()=>new R1({})}),R1=class{constructor(i){this.icons=i}getIcon(i){return this.hasIcon(i)?this.icons[i]:null}hasIcon(i){return typeof this.icons=="object"&&i in this.icons}},$re=(()=>{class e{constructor(){this.color=L1.stroke,this.size=L1.width,this.strokeWidth=L1["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Jre(e,i=3){return parseFloat(e.toFixed(i)).toString(10)}var Vh=(()=>{class e{constructor(n,s,r,o,t){this.elem=n,this.renderer=s,this.changeDetector=r,this.iconProviders=o,this.iconConfig=t,this.absoluteStrokeWidth=!1,this.defaultSize=L1.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let s=this.img??this.name;if(typeof s=="string"){let r=this.getIcon(this.toPascalCase(s));if(r)this.replaceElement(r);else throw new Error(`The "${s}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(s))this.replaceElement(s);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let s=Se(q({},L1),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?Jre(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),r=this.createElement(["svg",s,n]);r.classList.add("lucide"),typeof this.name=="string"&&r.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&r.classList.add(...this.class.split(/ /).map(t=>t.trim()).filter(t=>t.length>0));let o=this.elem.nativeElement.childNodes;for(let t of o)this.renderer.removeChild(this.elem.nativeElement,t);this.renderer.appendChild(this.elem.nativeElement,r)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(s,r,o)=>r.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let s=parseInt(n,10);if(isNaN(s))throw new Error(`${n} is not numeric.`);return s}return n}getIcon(n){for(let s of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(s.hasIcon(n))return s.getIcon(n);return null}createElement([n,s,r=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(s).forEach(t=>{let a=typeof s[t]=="string"?s[t]:s[t].toString(10);this.renderer.setAttribute(o,t,a)}),r.length&&r.forEach(t=>{let a=this.createElement(t);this.renderer.appendChild(o,a)}),o}}return e.\u0275fac=function(n){return new(n||e)(be(fi),be(Tr),be(Pi),be(j6),be($re))},e.\u0275cmp=lt({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Oi],ngContentSelectors:Xre,decls:1,vars:0,template:function(n,s){n&1&&(Wr(),Xi(0))},encapsulation:2}),e})(),Y6=class{constructor(i){this.icons=i}},Kre=e=>new R1(e??{}),yl=(()=>{class e{static pick(n){return{ngModule:e,providers:[{provide:j6,multi:!0,useValue:new R1(n)},{provide:j6,multi:!0,useFactory:Kre,deps:[[new sp,Y6]]}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=an({type:e}),e.\u0275inj=sn({imports:[[]]}),e})();function Qre(e,i){e&1&&(re(0,"p"),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"PAGES.PREFERENCES.MODE.DARK")))}function _re(e,i){e&1&&(re(0,"p"),ge(1),Ae(2,"translate"),le()),e&2&&(ne(),Ye(Oe(2,1,"PAGES.PREFERENCES.MODE.LIGHT")))}var Sg=class e{constructor(i,n){this.translate=i;this.store=n;this.hue0$=this.store.pipe(T1(Jt.selectors.hue0)),this.hue1$=this.store.pipe(T1(Jt.selectors.hue1)),this.currentState$=this.store.pipe(T1(Jt.selectors.isDarkTheme),ze(s=>s?0:1))}GlobeIcon=wg;hue0$;hue1$;currentState$;hue0Subject=new ot;hue1Subject=new ot;destroy$=new ot;ngOnInit(){this.hue0Subject.pipe(vs(100),gs(),Wt(this.destroy$)).subscribe(i=>{this.store.dispatch(Jt.actions.setHue0({h0:i}))}),this.hue1Subject.pipe(vs(100),gs(),Wt(this.destroy$)).subscribe(i=>{this.store.dispatch(Jt.actions.setHue1({h1:i}))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onStateChange(i){switch(i){case 0:this.store.dispatch(Jt.actions.setDark());break;case 1:this.store.dispatch(Jt.actions.setLight());break}}setLang(i){this.translate.use(i)}setHueTheme(i){let n,s;switch(i){case"igneous":n=40,s=10;break;case"emerald":n=140,s=170;break;default:n=190,s=220}this.store.dispatch(Jt.actions.setHueTheme({h0:n,h1:s}))}static \u0275fac=function(n){return new(n||e)(be(Ya),be(er))};static \u0275cmp=lt({type:e,selectors:[["app-preferences"]],decls:28,vars:21,consts:[["stateContent",""],[1,"p-preferences"],[1,"p-preferences__section"],[1,"p-preferences__lang"],[1,"p-preferences__lang-option",3,"click"],[3,"stateChange","currentState"]],template:function(n,s){if(n&1){let r=Kt();re(0,"div",1)(1,"h2"),ge(2),Ae(3,"translate"),le(),re(4,"p"),ge(5),Ae(6,"translate"),le(),re(7,"div",2)(8,"h3"),ge(9),Ae(10,"translate"),le(),re(11,"div",3)(12,"a",4),_e("click",function(){return Mt(r),Ct(s.setLang("en"))}),ge(13),Ae(14,"translate"),le(),re(15,"a",4),_e("click",function(){return Mt(r),Ct(s.setLang("es"))}),ge(16),Ae(17,"translate"),le()()(),re(18,"div",2)(19,"h3"),ge(20),Ae(21,"translate"),le(),re(22,"app-toggle",5),Ae(23,"async"),_e("stateChange",function(t){return Mt(r),Ct(s.onStateChange(t))}),mt(24,Qre,3,3,"ng-template",null,0,cr)(26,_re,3,3,"ng-template",null,0,cr),le()()()}if(n&2){let r;ne(2),Ye(Oe(3,7,"PAGES.PREFERENCES.TITLE")),ne(3),Ye(Oe(6,9,"PAGES.PREFERENCES.DESCRIPTION")),ne(4),Ye(Oe(10,11,"PAGES.PREFERENCES.LANGUAGE.TITLE")),ne(4),Ye(Oe(14,13,"PAGES.PREFERENCES.LANGUAGE.EN")),ne(3),Ye(Oe(17,15,"PAGES.PREFERENCES.LANGUAGE.ES")),ne(4),Ye(Oe(21,17,"PAGES.PREFERENCES.MODE.TITLE")),ne(2),Ne("currentState",(r=Oe(23,19,s.currentState$))!==null&&r!==void 0?r:0)}},dependencies:[Bt,Js,Cg,nn,Jn,yl],styles:["[_nghost-%COMP%]{padding:15px;display:flex;flex-direction:column;justify-content:center;align-items:center}.p-preferences[_ngcontent-%COMP%]{width:100%;max-width:500px;display:flex;flex-direction:column;gap:20px}.p-preferences__lang[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;padding:10px}.p-preferences__lang-option[_ngcontent-%COMP%]{text-decoration:none;color:var(--c-foreground-2);cursor:pointer}.p-preferences__lang-option[_ngcontent-%COMP%]:hover, .p-preferences__lang-option[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}.p-preferences__btn-default-theme[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:10pt;padding:6px 25px;border-radius:6px;transition:.3s;cursor:pointer;color:var(--c-background-0);background-color:var(--c-accent-0);border:1px solid var(--c-accent-0);border-color:var(--c-accent-2) var(--c-accent-2) var(--c-accent-1) var(--c-accent-1);color:var(--c-foreground-1);border:1px solid var(--c-background-4);background-image:var(--c-background-0)}.p-preferences__btn-default-theme[_ngcontent-%COMP%]:hover{color:var(--c-accent-0);background-color:var(--c-background-1);border-color:var(--c-accent-0) var(--c-accent-0) var(--c-accent-1) var(--c-accent-1)}.p-preferences__btn-default-theme[_ngcontent-%COMP%]:hover, .p-preferences__btn-default-theme[_ngcontent-%COMP%]:active{border:1px solid var(--c-background-0);color:var(--c-background-0);background-image:linear-gradient(30deg,#36c,#247d8f)}.p-preferences__btn-igneous-theme[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:10pt;padding:6px 25px;border-radius:6px;transition:.3s;cursor:pointer;color:var(--c-background-0);background-color:var(--c-accent-0);border:1px solid var(--c-accent-0);border-color:var(--c-accent-2) var(--c-accent-2) var(--c-accent-1) var(--c-accent-1);color:var(--c-foreground-1);border:1px solid var(--c-background-4);background-image:var(--c-background-0)}.p-preferences__btn-igneous-theme[_ngcontent-%COMP%]:hover{color:var(--c-accent-0);background-color:var(--c-background-1);border-color:var(--c-accent-0) var(--c-accent-0) var(--c-accent-1) var(--c-accent-1)}.p-preferences__btn-igneous-theme[_ngcontent-%COMP%]:hover, .p-preferences__btn-igneous-theme[_ngcontent-%COMP%]:active{border:1px solid var(--c-background-0);color:var(--c-background-0);background-image:linear-gradient(30deg,#d94426,#a17112)}.p-preferences__btn-emerald-theme[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:10pt;padding:6px 25px;border-radius:6px;transition:.3s;cursor:pointer;color:var(--c-background-0);background-color:var(--c-accent-0);border:1px solid var(--c-accent-0);border-color:var(--c-accent-2) var(--c-accent-2) var(--c-accent-1) var(--c-accent-1);color:var(--c-foreground-1);border:1px solid var(--c-background-4);background-image:var(--c-background-0)}.p-preferences__btn-emerald-theme[_ngcontent-%COMP%]:hover{color:var(--c-accent-0);background-color:var(--c-background-1);border-color:var(--c-accent-0) var(--c-accent-0) var(--c-accent-1) var(--c-accent-1)}.p-preferences__btn-emerald-theme[_ngcontent-%COMP%]:hover, .p-preferences__btn-emerald-theme[_ngcontent-%COMP%]:active{border:1px solid var(--c-background-0);color:var(--c-background-0);background-image:linear-gradient(30deg,#2dd2b7,#169c43)}"]})};var qre=[[["","dropdown-button",""]],[["","dropdown-body",""]]],ese=["[dropdown-button]","[dropdown-body]"];function tse(e,i){if(e&1){let n=Kt();re(0,"div",4),_e("click",function(){Mt(n);let r=it();return Ct(r.closeDropdown())}),le()}}function nse(e,i){if(e&1){let n=Kt();re(0,"div",5),_e("click",function(){Mt(n);let r=it();return Ct(r.closeDropdown())}),Xi(1,1),le()}}var Gh=class e{isOpen=!1;toggleDropdown(){this.isOpen=!this.isOpen}closeDropdown(){this.isOpen=!1}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=lt({type:e,selectors:[["app-drop-down"]],ngContentSelectors:ese,decls:5,vars:2,consts:[[1,"c-dropdown"],[3,"click"],["class","c-dropdown__overlay",3,"click",4,"ngIf"],["class","c-dropdown__content",3,"click",4,"ngIf"],[1,"c-dropdown__overlay",3,"click"],[1,"c-dropdown__content",3,"click"]],template:function(n,s){n&1&&(Wr(qre),re(0,"div",0)(1,"div",1),_e("click",function(){return s.toggleDropdown()}),Xi(2),le(),mt(3,tse,1,0,"div",2)(4,nse,2,0,"div",3),le()),n&2&&(ne(3),Ne("ngIf",s.isOpen),ne(),Ne("ngIf",s.isOpen))},dependencies:[Bt,$n],styles:[".c-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.c-dropdown__content[_ngcontent-%COMP%]{position:absolute;top:50px;right:0;background-color:var(--c-background-0);min-width:160px;box-shadow:0 8px 16px #0003;padding:10px;z-index:100;border-radius:8px}.c-dropdown__overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:99;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}"]})};function ise(e,i){if(e&1){let n=Kt();re(0,"button",3),_e("click",function(){Mt(n);let r=it();return Ct(r.login())}),ge(1),Ae(2,"translate"),le()}e&2&&(ne(),Ye(Oe(2,1,"TYPES.BUTTON.LOGIN")))}function rse(e,i){if(e&1){let n=Kt();re(0,"div",4)(1,"app-drop-down")(2,"button",5),ct(3,"lucide-icon",6),ge(4),le(),re(5,"div",7)(6,"a",8),ge(7),Ae(8,"translate"),le(),re(9,"a",9),ge(10),Ae(11,"translate"),le(),re(12,"a",10),ge(13),Ae(14,"translate"),le(),ct(15,"hr",11),re(16,"a",12),_e("click",function(){Mt(n);let r=it();return Ct(r.logout())}),ge(17),Ae(18,"translate"),le()()()()}if(e&2){let n=i.ngIf,s=it();ne(3),Ne("img",s.UserIcon),ne(),Ut(" ",n.actor," "),ne(3),Ye(Oe(8,6,"PAGES.WALLET.NAME")),ne(3),Ye(Oe(11,8,"PAGES.ACCOUNTS.NAME")),ne(3),Ye(Oe(14,10,"PAGES.PREFERENCES.NAME")),ne(4),Ye(Oe(18,12,"TYPES.BUTTON.LOGOUT"))}}var zh=class e{constructor(i,n){this.sessionService=i;this.expandibles=n}UserIcon=AD;login(){return fe(this,null,function*(){try{yield this.sessionService.login()}catch(i){console.error("Login failed:",i)}})}logout(){return fe(this,null,function*(){yield this.sessionService.logout(),this.expandibles.closeAll()})}static \u0275fac=function(n){return new(n||e)(be(ai),be(Zr))};static \u0275cmp=lt({type:e,selectors:[["app-login"]],decls:5,vars:6,consts:[[1,"c-login"],["class","c-login__btn",3,"click",4,"ngIf"],["class","c-login__menu",4,"ngIf"],[1,"c-login__btn",3,"click"],[1,"c-login__menu"],["dropdown-button","",1,"c-login__btn--active"],["size","18",3,"img"],["dropdown-body","",1,"c-login__menu-body"],["routerLink","/wallet",1,"c-login__menu-option"],["routerLink","/accounts",1,"c-login__menu-option"],["routerLink","/preferences",1,"c-login__menu-option"],[1,"c-login__menu-separator"],[1,"c-login__menu-option",3,"click"]],template:function(n,s){n&1&&(re(0,"div",0),mt(1,ise,3,3,"button",1),Ae(2,"async"),mt(3,rse,19,14,"div",2),Ae(4,"async"),le()),n&2&&(ne(),Ne("ngIf",!Oe(2,2,s.sessionService.session$)),ne(2),Ne("ngIf",Oe(4,4,s.sessionService.session$)))},dependencies:[Bt,$n,Js,Gh,No,Qs,yl,Vh,nn,Jn],styles:[".c-login__btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:10pt;padding:6px 25px;border-radius:6px;transition:.3s;cursor:pointer;color:var(--c-accent-0);background-color:var(--c-background-1);border:1px solid var(--c-accent-0);border-color:var(--c-accent-0) var(--c-accent-0) var(--c-accent-1) var(--c-accent-1)}.c-login__btn[_ngcontent-%COMP%]:hover{color:var(--c-background-0);background-color:var(--c-accent-0);border-color:var(--c-accent-2) var(--c-accent-2) var(--c-accent-1) var(--c-accent-1)}.c-login__btn--active[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:10pt;padding:6px 25px;border-radius:6px;transition:.3s;cursor:pointer;color:var(--c-accent-0);background-color:var(--c-background-1);border:1px solid var(--c-accent-0);border-color:var(--c-accent-0) var(--c-accent-0) var(--c-accent-1) var(--c-accent-1)}.c-login__btn--active[_ngcontent-%COMP%]:hover{color:var(--c-background-0);background-color:var(--c-accent-0);border-color:var(--c-accent-2) var(--c-accent-2) var(--c-accent-1) var(--c-accent-1)}.c-login__menu-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;padding:10px}.c-login__menu-option[_ngcontent-%COMP%]{text-decoration:none;color:var(--c-foreground-2);cursor:pointer}.c-login__menu-option[_ngcontent-%COMP%]:hover, .c-login__menu-option[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}.c-login__menu-separator[_ngcontent-%COMP%]{width:calc(100% + -0px);margin:10px 0;padding:0;border:0;background-color:var(--c-background-4);height:1px}"]})};function sse(e,i){if(e&1&&(qn(0),re(1,"p",4),ge(2),Ae(3,"translate"),le(),re(4,"p",5),ge(5,"-"),ct(6,"br"),ge(7,"-"),ct(8,"br"),ge(9,"-"),ct(10,"br"),ge(11,"-"),le(),re(12,"a",6),ge(13),Ae(14,"translate"),le(),ei()),e&2){let n=i.ngIf;ne(2),Lo("",Oe(3,3,"PAGES.ACCOUNTS.CONNECTED")," ",n.actor,""),ne(11),Ut("+ ",Oe(14,5,"PAGES.ACCOUNTS.ADD"),"")}}function ase(e,i){e&1&&(re(0,"p",4),ge(1),Ae(2,"translate"),le(),ct(3,"app-login")),e&2&&(ne(),Ye(Oe(2,1,"PAGES.ACCOUNTS.ERROR")))}var Ig=class e{constructor(i){this.sessionService=i}static \u0275fac=function(n){return new(n||e)(be(ai))};static \u0275cmp=lt({type:e,selectors:[["app-accounts"]],decls:11,vars:10,consts:[["loginTemplate",""],[1,"p-accounts"],[1,"p-accounts__title"],[4,"ngIf","ngIfElse"],[1,"p-accounts__subtitle"],[1,"p-accounts__contained"],[1,"p-accounts__add"]],template:function(n,s){if(n&1&&(re(0,"div",1)(1,"div",2),ge(2),Ae(3,"translate"),le(),re(4,"p"),ge(5),Ae(6,"translate"),le(),mt(7,sse,15,7,"ng-container",3),Ae(8,"async"),mt(9,ase,4,3,"ng-template",null,0,cr),le()),n&2){let r=Ss(10);ne(2),Ye(Oe(3,4,"PAGES.ACCOUNTS.TITLE")),ne(3),Ye(Oe(6,6,"PAGES.ACCOUNTS.DESCRIPTION")),ne(2),Ne("ngIf",Oe(8,8,s.sessionService.session$))("ngIfElse",r)}},dependencies:[Bt,$n,Js,zh,nn,Jn],styles:["[_nghost-%COMP%]{padding:15px;display:flex;flex-direction:column;justify-content:center;align-items:center}.p-accounts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.p-accounts__title[_ngcontent-%COMP%]{font-size:24px;color:var(--c-foreground-1);margin:20px 0}.p-accounts__subtitle[_ngcontent-%COMP%]{font-size:17px;color:var(--c-foreground-2);margin:5px 0}.p-accounts__contained[_ngcontent-%COMP%]{font-size:small;border:1px solid var(--c-background-2);border-radius:4px;background-color:var(--c-background-1);padding:20px 30px}.p-accounts__add[_ngcontent-%COMP%]{text-decoration:none;color:var(--c-foreground-2);cursor:pointer;color:var(--c-accent-0)}.p-accounts__add[_ngcontent-%COMP%]:hover, .p-accounts__add[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}.p-accounts__add[_ngcontent-%COMP%]:hover, .p-accounts__add[_ngcontent-%COMP%]:active{color:var(--c-foreground-2)}"]})};var DD=[{path:"",component:l2},{path:"races",component:G2},{path:"completed",component:W2},{path:"bets",component:z2},{path:"wallet",component:Mg},{path:"preferences",component:Sg},{path:"accounts",component:Ig}];var O1="PERFORM_ACTION",ose="REFRESH",VD="RESET",GD="ROLLBACK",zD="COMMIT",WD="SWEEP",HD="TOGGLE_ACTION",lse="SET_ACTIONS_ACTIVE",jD="JUMP_TO_STATE",YD="JUMP_TO_ACTION",r8="IMPORT_STATE",UD="LOCK_CHANGES",ZD="PAUSE_RECORDING",Wh=class{constructor(i,n){if(this.action=i,this.timestamp=n,this.type=O1,typeof i.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Z6=class{constructor(){this.type=ose}},X6=class{constructor(i){this.timestamp=i,this.type=VD}},$6=class{constructor(i){this.timestamp=i,this.type=GD}},J6=class{constructor(i){this.timestamp=i,this.type=zD}},K6=class{constructor(){this.type=WD}},Q6=class{constructor(i){this.id=i,this.type=HD}};var _6=class{constructor(i){this.index=i,this.type=jD}},q6=class{constructor(i){this.actionId=i,this.type=YD}},e8=class{constructor(i){this.nextLiftedState=i,this.type=r8}},t8=class{constructor(i){this.status=i,this.type=UD}},n8=class{constructor(i){this.status=i,this.type=ZD}};var Ag=new xe("@ngrx/store-devtools Options"),OD=new xe("@ngrx/store-devtools Initial Config");function XD(){return null}var cse="NgRx Store DevTools";function use(e){let i={maxAge:!1,monitor:XD,actionSanitizer:void 0,stateSanitizer:void 0,name:cse,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},n=typeof e=="function"?e():e,s=n.logOnly?{pause:!0,export:!0,test:!0}:!1,r=n.features||s||i.features;r.import===!0&&(r.import="custom");let o=Object.assign({},i,{features:r},n);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function FD(e,i){return e.filter(n=>i.indexOf(n)<0)}function $D(e){let{computedStates:i,currentStateIndex:n}=e;if(n>=i.length){let{state:r}=i[i.length-1];return r}let{state:s}=i[n];return s}function D1(e){return new Wh(e,+Date.now())}function hse(e,i){return Object.keys(i).reduce((n,s)=>{let r=Number(s);return n[r]=JD(e,i[r],r),n},{})}function JD(e,i,n){return Se(q({},i),{action:e(i.action,n)})}function dse(e,i){return i.map((n,s)=>({state:KD(e,n.state,s),error:n.error}))}function KD(e,i,n){return e(i,n)}function QD(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function fse(e,i,n,s){let r=[],o={},t=[];return e.stagedActionIds.forEach((a,p)=>{let c=e.actionsById[a];c&&(p&&s8(e.computedStates[p],c,i,n,s)||(o[a]=c,r.push(a),t.push(e.computedStates[p])))}),Se(q({},e),{stagedActionIds:r,actionsById:o,computedStates:t})}function s8(e,i,n,s,r){let o=n&&!n(e,i.action),t=s&&!i.action.type.match(s.map(p=>PD(p)).join("|")),a=r&&i.action.type.match(r.map(p=>PD(p)).join("|"));return o||t||a}function PD(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _D(e){return{ngZone:e?ve(rn):null,connectInZone:e}}var Lg=(()=>{class e extends ya{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Zi(e)))(r||e)}})()}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})(),kg={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},i8=new xe("@ngrx/store-devtools Redux Devtools Extension"),qD=(()=>{class e{constructor(n,s,r){this.config=s,this.dispatcher=r,this.zoneConfig=_D(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,s){if(this.devtoolsExtension)if(n.type===O1){if(s.isLocked||s.isPaused)return;let r=$D(s);if(QD(this.config)&&s8(r,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?KD(this.config.stateSanitizer,r,s.currentStateIndex):r,t=this.config.actionSanitizer?JD(this.config.actionSanitizer,n,s.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(t,o))}else{let r=Se(q({},s),{stagedActionIds:s.stagedActionIds,actionsById:this.config.actionSanitizer?hse(this.config.actionSanitizer,s.actionsById):s.actionsById,computedStates:this.config.stateSanitizer?dse(this.config.stateSanitizer,s.computedStates):s.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new dt(n=>{let s=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=s,s.init(),s.subscribe(r=>n.next(r)),s.unsubscribe}):ii}createActionStreams(){let n=this.createChangesObservable().pipe(ad()),s=n.pipe(en(c=>c.type===kg.START)),r=n.pipe(en(c=>c.type===kg.STOP)),o=n.pipe(en(c=>c.type===kg.DISPATCH),ze(c=>this.unwrapAction(c.payload)),ir(c=>c.type===r8?this.dispatcher.pipe(en(u=>u.type===vg),pm(1e3),vs(1e3),ze(()=>c),Hi(()=>Xe(c)),bn(1)):Xe(c))),a=n.pipe(en(c=>c.type===kg.ACTION),ze(c=>this.unwrapAction(c.payload))).pipe(Wt(r)),p=o.pipe(Wt(r));this.start$=s.pipe(Wt(r)),this.actions$=this.start$.pipe(En(()=>a)),this.liftedActions$=this.start$.pipe(En(()=>p))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let s={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(s.maxAge=n.maxAge),s}sendToReduxDevtools(n){try{n()}catch(s){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",s)}}static{this.\u0275fac=function(s){return new(s||e)(pe(i8),pe(Ag),pe(Lg))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})(),Eg={type:I1},pse="@ngrx/store-devtools/recompute",vse={type:pse};function eO(e,i,n,s,r){if(s)return{state:n,error:"Interrupted by an error up the chain"};let o=n,t;try{o=e(n,i)}catch(a){t=a.toString(),r.handleError(a)}return{state:o,error:t}}function Tg(e,i,n,s,r,o,t,a,p){if(i>=e.length&&e.length===o.length)return e;let c=e.slice(0,i),u=o.length-(p?1:0);for(let h=i;h<u;h++){let l=o[h],d=r[l].action,v=c[h-1],f=v?v.state:s,g=v?v.error:void 0,x=t.indexOf(l)>-1?v:eO(n,d,f,g,a);c.push(x)}return p&&c.push(e[e.length-1]),c}function gse(e,i){return{monitorState:i(void 0,{}),nextActionId:1,actionsById:{0:D1(Eg)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function mse(e,i,n,s,r={}){return o=>(t,a)=>{let{monitorState:p,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:l,committedState:d,currentStateIndex:v,computedStates:f,isLocked:g,isPaused:m}=t||i;t||(c=Object.create(c));function x(M){let C=M,w=h.slice(1,C+1);for(let S=0;S<w.length;S++)if(f[S+1].error){C=S,w=h.slice(1,C+1);break}else delete c[w[S]];l=l.filter(S=>w.indexOf(S)===-1),h=[0,...h.slice(C+1)],d=f[C].state,f=f.slice(C),v=v>C?v-C:0}function y(){c={0:D1(Eg)},u=1,h=[0],l=[],d=f[v].state,v=0,f=[]}let b=0;switch(a.type){case UD:{g=a.status,b=1/0;break}case ZD:{m=a.status,m?(h=[...h,u],c[u]=new Wh({type:"@ngrx/devtools/pause"},+Date.now()),u++,b=h.length-1,f=f.concat(f[f.length-1]),v===h.length-2&&v++,b=1/0):y();break}case VD:{c={0:D1(Eg)},u=1,h=[0],l=[],d=e,v=0,f=[];break}case zD:{y();break}case GD:{c={0:D1(Eg)},u=1,h=[0],l=[],v=0,f=[];break}case HD:{let{id:M}=a;l.indexOf(M)===-1?l=[M,...l]:l=l.filter(w=>w!==M),b=h.indexOf(M);break}case lse:{let{start:M,end:C,active:w}=a,S=[];for(let I=M;I<C;I++)S.push(I);w?l=FD(l,S):l=[...l,...S],b=h.indexOf(M);break}case jD:{v=a.index,b=1/0;break}case YD:{let M=h.indexOf(a.actionId);M!==-1&&(v=M),b=1/0;break}case WD:{h=FD(h,l),l=[],v=Math.min(v,h.length-1);break}case O1:{if(g)return t||i;if(m||t&&s8(t.computedStates[v],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let C=f[f.length-1];f=[...f.slice(0,-1),eO(o,a.action,C.state,C.error,n)],b=1/0;break}r.maxAge&&h.length===r.maxAge&&x(1),v===h.length-1&&v++;let M=u++;c[M]=a,h=[...h,M],b=h.length-1;break}case r8:{({monitorState:p,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:l,committedState:d,currentStateIndex:v,computedStates:f,isLocked:g,isPaused:m}=a.nextLiftedState);break}case I1:{b=0,r.maxAge&&h.length>r.maxAge&&(f=Tg(f,b,o,d,c,h,l,n,m),x(h.length-r.maxAge),b=1/0);break}case vg:{if(f.filter(C=>C.error).length>0)b=0,r.maxAge&&h.length>r.maxAge&&(f=Tg(f,b,o,d,c,h,l,n,m),x(h.length-r.maxAge),b=1/0);else{if(!m&&!g){v===h.length-1&&v++;let C=u++;c[C]=new Wh(a,+Date.now()),h=[...h,C],b=h.length-1,f=Tg(f,b,o,d,c,h,l,n,m)}f=f.map(C=>Se(q({},C),{state:o(C.state,vse)})),v=h.length-1,r.maxAge&&h.length>r.maxAge&&x(h.length-r.maxAge),b=1/0}break}default:{b=1/0;break}}return f=Tg(f,b,o,d,c,h,l,n,m),p=s(p,a),{monitorState:p,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:l,committedState:d,currentStateIndex:v,computedStates:f,isLocked:g,isPaused:m}}}var ND=(()=>{class e{constructor(n,s,r,o,t,a,p,c){let u=gse(p,c.monitor),h=mse(p,u,a,c.monitor,c),l=Tl(Tl(s.asObservable().pipe(od(1)),o.actions$).pipe(ze(D1)),n,o.liftedActions$).pipe(Ma(id)),d=r.pipe(ze(h)),v=_D(c.connectInZone),f=new Sl(1);this.liftedStateSubscription=l.pipe(xo(d),BD(v),El(({state:x},[y,b])=>{let M=b(x,y);return y.type!==O1&&QD(c)&&(M=fse(M,c.predicate,c.actionsSafelist,c.actionsBlocklist)),o.notify(y,M),{state:M,action:y}},{state:u,action:null})).subscribe(({state:x,action:y})=>{if(f.next(x),y.type===O1){let b=y.action;t.next(b)}}),this.extensionStartSubscription=o.start$.pipe(BD(v)).subscribe(()=>{this.refresh()});let g=f.asObservable(),m=g.pipe(ze($D));Object.defineProperty(m,"state",{value:w1(m,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=g,this.state=m}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new Wh(n,+Date.now()))}refresh(){this.dispatch(new Z6)}reset(){this.dispatch(new X6(+Date.now()))}rollback(){this.dispatch(new $6(+Date.now()))}commit(){this.dispatch(new J6(+Date.now()))}sweep(){this.dispatch(new K6)}toggleAction(n){this.dispatch(new Q6(n))}jumpToAction(n){this.dispatch(new q6(n))}jumpToState(n){this.dispatch(new _6(n))}importState(n){this.dispatch(new e8(n))}lockChanges(n){this.dispatch(new t8(n))}pauseRecording(n){this.dispatch(new n8(n))}static{this.\u0275fac=function(s){return new(s||e)(pe(Lg),pe(ya),pe(Dc),pe(qD),pe(Oc),pe(ar),pe(k1),pe(Ag))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})();function BD({ngZone:e,connectInZone:i}){return n=>i?new dt(s=>n.subscribe({next:r=>e.run(()=>s.next(r)),error:r=>e.run(()=>s.error(r)),complete:()=>e.run(()=>s.complete())})):n}var yse=new xe("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function xse(e,i){return!!e||i.monitor!==XD}function bse(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Mse(e){return e.state}function Cse(e={}){return bs([qD,Lg,ND,{provide:OD,useValue:e},{provide:yse,deps:[i8,Ag],useFactory:xse},{provide:i8,useFactory:bse},{provide:Ag,deps:[OD],useFactory:use},{provide:Ph,deps:[ND],useFactory:Mse},{provide:Fh,useExisting:Lg}])}var tO=(()=>{class e{static instrument(n={}){return{ngModule:e,providers:[Cse(n)]}}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=an({type:e})}static{this.\u0275inj=sn({})}}return e})();var wse={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Dg="__@ngrx/effects_create__";function ho(e,i={}){let n=i.functional?e:e(),s=q(q({},wse),i);return Object.defineProperty(n,Dg,{value:s}),n}function Sse(e){return Object.getOwnPropertyNames(e).filter(s=>e[s]&&e[s].hasOwnProperty(Dg)?e[s][Dg].hasOwnProperty("dispatch"):!1).map(s=>{let r=e[s][Dg];return q({propertyName:s},r)})}function Ise(e){return Sse(e)}function sO(e){return Object.getPrototypeOf(e)}function kse(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function aO(e){return typeof e=="function"}function nO(e){return e.filter(aO)}function Tse(e){return e instanceof xe||aO(e)}function Ese(e,i,n){let s=sO(e),o=!!s&&s.constructor.name!=="Object"?s.constructor.name:null,t=Ise(e).map(({propertyName:a,dispatch:p,useEffectsErrorHandler:c})=>{let u=typeof e[a]=="function"?e[a]():e[a],h=c?n(u,i):u;return p===!1?h.pipe(vm()):h.pipe(ym()).pipe(ze(d=>({effect:e[a],notification:d,propertyName:a,sourceName:o,sourceInstance:e})))});return Tl(...t)}var Ase=10;function oO(e,i,n=Ase){return e.pipe(Hi(s=>(i&&i.handleError(s),n<=1?e:oO(e,i,n-1))))}var lO=(()=>{class e extends dt{constructor(n){super(),n&&(this.source=n)}lift(n){let s=new e;return s.source=this,s.operator=n,s}static{this.\u0275fac=function(s){return new(s||e)(pe(Oc))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fo(...e){return en(i=>e.some(n=>typeof n=="string"?n===i.type:n.type===i.type))}var cO=new xe("@ngrx/effects Internal Root Guard"),Rg=new xe("@ngrx/effects User Provided Effects"),a8=new xe("@ngrx/effects Internal Root Effects"),uO=new xe("@ngrx/effects Internal Root Effects Instances"),iO=new xe("@ngrx/effects Internal Feature Effects"),hO=new xe("@ngrx/effects Internal Feature Effects Instance Groups"),Lse=new xe("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>oO}),dO="@ngrx/effects/init",Zbe=co(dO);function Rse(e,i){if(e.notification.kind==="N"){let n=e.notification.value;!Dse(n)&&i.handleError(new Error(`Effect ${Ose(e)} dispatched an invalid action: ${Fse(n)}`))}}function Dse(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Ose({propertyName:e,sourceInstance:i,sourceName:n}){let s=typeof i[e]=="function";return!!n?`"${n}.${String(e)}${s?"()":""}"`:`"${String(e)}()"`}function Fse(e){try{return JSON.stringify(e)}catch{return e}}var Pse="ngrxOnIdentifyEffects";function Nse(e){return o8(e,Pse)}var Bse="ngrxOnRunEffects";function Vse(e){return o8(e,Bse)}var Gse="ngrxOnInitEffects";function zse(e){return o8(e,Gse)}function o8(e,i){return e&&i in e&&typeof e[i]=="function"}var fO=(()=>{class e extends ot{constructor(n,s){super(),this.errorHandler=n,this.effectsErrorHandler=s}addEffects(n){this.next(n)}toActions(){return this.pipe(y0(n=>kse(n)?sO(n):n),Tn(n=>n.pipe(y0(Wse))),Tn(n=>{let s=n.pipe(m0(o=>Hse(this.errorHandler,this.effectsErrorHandler)(o)),ze(o=>(Rse(o,this.errorHandler),o.notification)),en(o=>o.kind==="N"&&o.value!=null),gm()),r=n.pipe(bn(1),en(zse),ze(o=>o.ngrxOnInitEffects()));return Tl(s,r)}))}static{this.\u0275fac=function(s){return new(s||e)(pe(ar),pe(Lse))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Wse(e){return Nse(e)?e.ngrxOnIdentifyEffects():""}function Hse(e,i){return n=>{let s=Ese(n,e,i);return Vse(n)?n.ngrxOnRunEffects(s):s}}var pO=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(n,s){this.effectSources=n,this.store=s,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(s){return new(s||e)(pe(fO),pe(er))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vO=(()=>{class e{constructor(n,s,r,o,t,a,p){this.sources=n,s.start();for(let c of o)n.addEffects(c);r.dispatch({type:dO})}addEffects(n){this.sources.addEffects(n)}static{this.\u0275fac=function(s){return new(s||e)(pe(fO),pe(pO),pe(er),pe(uO),pe(A1,8),pe(gg,8),pe(cO,8))}}static{this.\u0275mod=an({type:e})}static{this.\u0275inj=sn({})}}return e})(),jse=(()=>{class e{constructor(n,s,r,o){let t=s.flat();for(let a of t)n.addEffects(a)}static{this.\u0275fac=function(s){return new(s||e)(pe(vO),pe(hO),pe(A1,8),pe(gg,8))}}static{this.\u0275mod=an({type:e})}static{this.\u0275inj=sn({})}}return e})(),gO=(()=>{class e{static forFeature(...n){let s=n.flat(),r=nO(s);return{ngModule:jse,providers:[r,{provide:iO,multi:!0,useValue:s},{provide:Rg,multi:!0,useValue:[]},{provide:hO,multi:!0,useFactory:rO,deps:[iO,Rg]}]}}static forRoot(...n){let s=n.flat(),r=nO(s);return{ngModule:vO,providers:[r,{provide:a8,useValue:[s]},{provide:cO,useFactory:Yse},{provide:Rg,multi:!0,useValue:[]},{provide:uO,useFactory:rO,deps:[a8,Rg]}]}}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=an({type:e})}static{this.\u0275inj=sn({})}}return e})();function rO(e,i){let n=[];for(let s of e)n.push(...s);for(let s of i)n.push(...s);return n.map(s=>Tse(s)?ve(s):s)}function Yse(){let e=ve(pO,{optional:!0,skipSelf:!0}),i=ve(a8,{self:!0});if(!(i.length===1&&i[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Use={isDarkTheme:!0,h0:170,h1:220},mO=gD(Use,Fc(uo.toggleTheme,e=>Se(q({},e),{isDarkTheme:!e.isDarkTheme})),Fc(uo.setDark,e=>Se(q({},e),{isDarkTheme:!0})),Fc(uo.setLight,e=>Se(q({},e),{isDarkTheme:!1})),Fc(uo.setHue0,(e,{h0:i})=>Se(q({},e),{h0:i})),Fc(uo.setHue1,(e,{h1:i})=>Se(q({},e),{h1:i})),Fc(uo.setHueTheme,(e,{h0:i,h1:n})=>Se(q({},e),{h0:i,h1:n})));var Og=class e{actions$=ve(lO);store=ve(er);localStorageService=ve(Nh);sessionService=ve(ai);initPreferences$=ho(()=>this.actions$.pipe(fo("@ngrx/effects/init"),dn(()=>{this.sessionService.restoreSession()})),{dispatch:!1});savePreferences$=ho(()=>this.actions$.pipe(fo(Jt.actions.toggleTheme,Jt.actions.setDark,Jt.actions.setLight,Jt.actions.setHue0,Jt.actions.setHue1,Jt.actions.setHueTheme),xo(this.store.select(i=>i.user)),dn(([i,n])=>{let s=this.sessionService.currentSession?.actor.toString()??null;this.localStorageService.saveUserPreferences(s,n)})),{dispatch:!1});toggleTheme$=ho(()=>this.actions$.pipe(fo(Jt.actions.toggleTheme),xo(this.store.select(Jt.selectors.isDarkTheme)),dn(([i,n])=>{document.body.classList.toggle("dark-theme",n),document.body.classList.toggle("light-theme",!n)})),{dispatch:!1});setDark$=ho(()=>this.actions$.pipe(fo(Jt.actions.setDark),dn(()=>{document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")})),{dispatch:!1});setLight$=ho(()=>this.actions$.pipe(fo(Jt.actions.setLight),dn(()=>{document.body.classList.add("light-theme"),document.body.classList.remove("dark-theme")})),{dispatch:!1});setHue0$=ho(()=>this.actions$.pipe(fo(Jt.actions.setHue0),dn(({h0:i})=>{document.documentElement.style.setProperty("--h0",i.toString())})),{dispatch:!1});setHue1$=ho(()=>this.actions$.pipe(fo(Jt.actions.setHue1),dn(({h1:i})=>{document.documentElement.style.setProperty("--h1",i.toString())})),{dispatch:!1});setHueTheme$=ho(()=>this.actions$.pipe(fo(Jt.actions.setHueTheme),dn(({h0:i,h1:n})=>{document.documentElement.style.setProperty("--h0",i.toString()),document.documentElement.style.setProperty("--h1",n.toString())})),{dispatch:!1});static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac})};var yO=[Og],xO={user:mO};var bO=(()=>{class e{http;prefix;suffix;constructor(n,s="/assets/i18n/",r=".json"){this.http=n,this.prefix=s,this.suffix=r}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}static \u0275fac=function(s){return new(s||e)(pe(Jl),pe(String),pe(String))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function Zse(e){return new bO(e,"/assets/locals/",".json")}var MO={providers:[p7({eventCoalescing:!0}),rS(DD),nw(iw()),By(vD.forRoot(xO,{runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}),tO.instrument({maxAge:25,logOnly:!1}),gO.forRoot(yO),o2.forRoot({loader:{provide:Vo,useFactory:Zse,deps:[Jl]}}))]};var Hh=class e{state=new xt({});state$=this.state.asObservable();open(i){this.state.next(Se(q({},this.state.getValue()),{[i]:!0}))}close(i){this.state.next(Se(q({},this.state.getValue()),{[i]:!1}))}toggle(i){let n=this.state.getValue();this.state.next(Se(q({},n),{[i]:!n[i]}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};function Xse(e,i){if(e&1){let n=Kt();qn(0),re(1,"nav",2)(2,"div",3),ct(3,"img",4),re(4,"a",5),ge(5),Ae(6,"translate"),le(),re(7,"a",6),ge(8),Ae(9,"translate"),le(),re(10,"a",7),ge(11),Ae(12,"translate"),le()(),re(13,"div",3)(14,"app-drop-down"),ct(15,"lucide-icon",8),re(16,"div",9)(17,"a",10),_e("click",function(){Mt(n);let r=it();return Ct(r.setLang("en"))}),ge(18),Ae(19,"translate"),le(),re(20,"a",10),_e("click",function(){Mt(n);let r=it();return Ct(r.setLang("es"))}),ge(21),Ae(22,"translate"),le()()(),re(23,"lucide-icon",11),_e("click",function(){Mt(n);let r=it();return Ct(r.toggleTheme())}),le(),ct(24,"app-login"),le()(),ei()}if(e&2){let n=it();ne(5),Ye(Oe(6,7,"PAGES.RACES.NAME")),ne(3),Ye(Oe(9,9,"PAGES.COMPLETED.NAME")),ne(3),Ye(Oe(12,11,"PAGES.BETS.NAME")),ne(4),Ne("img",n.GlobeIcon),ne(3),Ye(Oe(19,13,"PAGES.PREFERENCES.LANGUAGE.EN")),ne(3),Ye(Oe(22,15,"PAGES.PREFERENCES.LANGUAGE.ES")),ne(2),Ne("img",n.isDarkTheme?n.SunIcon:n.MoonIcon)}}function $se(e,i){if(e&1){let n=Kt();re(0,"nav",2)(1,"div",12),ct(2,"img",13)(3,"app-login"),re(4,"lucide-icon",11),_e("click",function(){Mt(n);let r=it();return Ct(r.toggleTheme())}),le()()()}if(e&2){let n=it();ne(4),Ne("img",n.isDarkTheme?n.SunIcon:n.MoonIcon)}}var Fg=class e{constructor(i,n,s,r){this.store=i;this.breakpointObserver=n;this.sideContainerService=s;this.translate=r}MenuIcon=SD;QrIcon=kD;SunIcon=ED;MoonIcon=ID;GlobeIcon=wg;isDarkTheme=!1;isMobileView=!1;menuId="mobile-menu";destroy$=new ot;ngOnInit(){this.store.select(Jt.selectors.isDarkTheme).pipe(Wt(this.destroy$)).subscribe(i=>{this.isDarkTheme=i}),this.breakpointObserver.observe(hr).pipe(Wt(this.destroy$)).subscribe(i=>{this.isMobileView=i.matches})}toggleTheme(){this.isDarkTheme?this.store.dispatch(Jt.actions.setLight()):this.store.dispatch(Jt.actions.setDark())}toggleMobileSideMenu(){this.sideContainerService.toggle("mobile-side-menu")}setLang(i){this.translate.use(i)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)(be(er),be(dr),be(Hh),be(Ya))};static \u0275cmp=lt({type:e,selectors:[["app-nav-bar"]],decls:3,vars:2,consts:[["mobileNav",""],[4,"ngIf","ngIfElse"],[1,"c-navbar"],[1,"c-navbar__row"],["src","assets/game-img/gold-horse.png","routerLink","/","width","50px"],["routerLink","/races","routerLinkActive","active-link",1,"c-navbar__button"],["routerLink","/completed","routerLinkActive","active-link",1,"c-navbar__button"],["routerLink","/bets","routerLinkActive","active-link",1,"c-navbar__button"],["dropdown-button","",1,"c-navbar__icon","lucide_icons",3,"img"],["dropdown-body","",1,"c-navbar__dropdown"],[1,"c-navbar__dropdown-option",3,"click"],[1,"c-navbar__icon","lucide_icons",3,"click","img"],[1,"c-navbar__row","c-navbar__row--mobile"],["src","assets/game-img/gold-horse.png","routerLink","/","width","40px"]],template:function(n,s){if(n&1&&mt(0,Xse,25,17,"ng-container",1)(1,$se,5,1,"ng-template",null,0,cr),n&2){let r=Ss(2);Ne("ngIf",!s.isMobileView)("ngIfElse",r)}},dependencies:[Bt,$n,No,Qs,Fu,zh,yl,Vh,Gh,nn,Jn],styles:[".c-navbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:var(--c-background-1);padding:1rem 2rem}.c-navbar__row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:20px}.c-navbar__row--mobile[_ngcontent-%COMP%]{flex-grow:1;justify-content:space-between}.c-navbar__logo[_ngcontent-%COMP%]{text-decoration:none;color:var(--c-foreground-2);cursor:pointer}.c-navbar__logo[_ngcontent-%COMP%]:hover, .c-navbar__logo[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}.c-navbar__button[_ngcontent-%COMP%]{text-decoration:none;color:var(--c-foreground-2);cursor:pointer;margin-left:10px}.c-navbar__button[_ngcontent-%COMP%]:hover, .c-navbar__button[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}.c-navbar__icon[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;color:var(--c-foreground-2);width:26px;height:26px;color:var(--c-accent-0)}.c-navbar__icon[_ngcontent-%COMP%]:hover, .c-navbar__icon[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}.c-navbar__icon[_ngcontent-%COMP%]:hover, .c-navbar__icon[_ngcontent-%COMP%]:active{color:var(--c-foreground-2)}.c-navbar__dropdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;padding:10px}.c-navbar__dropdown-option[_ngcontent-%COMP%]{text-decoration:none;color:var(--c-foreground-2);cursor:pointer}.c-navbar__dropdown-option[_ngcontent-%COMP%]:hover, .c-navbar__dropdown-option[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}"]})};var Jse=["*"],Kse=e=>({"c-side-container__overlay":!0,"c-side-container__overlay--open":e}),Qse=(e,i,n)=>({"c-side-container__content":!0,"c-side-container__content--open":e,"c-side-container__content--left":i,"c-side-container__content--right":n}),Pg=class e{constructor(i){this.sideContainerService=i}id;side="right";isOpen=!1;subscription;ngOnInit(){this.subscription=this.sideContainerService.state$.subscribe(i=>{this.isOpen=!!i[this.id]})}close(){this.sideContainerService.close(this.id)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)(be(Hh))};static \u0275cmp=lt({type:e,selectors:[["app-side-container"]],inputs:{id:"id",side:"side"},ngContentSelectors:Jse,decls:3,vars:8,consts:[[3,"click","ngClass"]],template:function(n,s){n&1&&(Wr(),re(0,"div",0),_e("click",function(){return s.close()}),le(),re(1,"div",0),_e("click",function(){return s.close()}),Xi(2),le()),n&2&&(Ne("ngClass",Is(2,Kse,s.isOpen)),ne(),Ne("ngClass",l7(4,Qse,s.isOpen,s.side==="left",s.side==="right")))},dependencies:[Bt,Mu],styles:[".c-side-container__overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;background:#0000;transition:.2s ease-out;z-index:99}.c-side-container__overlay--open[_ngcontent-%COMP%]{background:#0000004d;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);pointer-events:auto}.c-side-container__content[_ngcontent-%COMP%]{position:fixed;top:0;width:80%;max-width:400px;height:100%;background:var(--c-background-0);border:1px solid var(--c-background-3);padding:10px;transition:transform .5s ease-out;z-index:100}.c-side-container__content--right[_ngcontent-%COMP%]{right:0;transform:translate(100%);border-radius:20px 0 0}.c-side-container__content--left[_ngcontent-%COMP%]{left:0;transform:translate(-100%);border-radius:0 20px 0 0}.c-side-container__content--open[_ngcontent-%COMP%]{transform:translate(0)}"]})};var Ng=class e{constructor(i){this.sessionService=i}ChartCandlestickIcon=bD;SettingsIcon=TD;CoinsIcon=MD;WalletIcon=RD;LogoutIcon=wD;ListTreeIcon=CD;UsersIcon=LD;logout(){return fe(this,null,function*(){yield this.sessionService.logout()})}static \u0275fac=function(n){return new(n||e)(be(ai))};static \u0275cmp=lt({type:e,selectors:[["app-side-menu-mobile"]],decls:40,vars:28,consts:[["id","mobile-side-menu","side","right",1,"c-side-menu"],[1,"c-side-menu__header"],[1,"c-side-menu__separator"],["routerLink","/upcoming","routerLinkActive","active-link",1,"c-side-menu__option"],[3,"img"],["routerLink","/ongoing","routerLinkActive","active-link",1,"c-side-menu__option"],["routerLink","/completed","routerLinkActive","active-link",1,"c-side-menu__option"],["routerLink","/wallet","routerLinkActive","active-link",1,"c-side-menu__option"],["routerLink","/preferences","routerLinkActive","active-link",1,"c-side-menu__option"],["routerLink","/accounts","routerLinkActive","active-link",1,"c-side-menu__option"],["routerLink","/","routerLinkActive","active-link",1,"c-side-menu__option",3,"click"]],template:function(n,s){n&1&&(re(0,"app-side-container",0)(1,"p",1),ge(2,"Mobile side-menu head"),le(),ct(3,"hr",2),re(4,"a",3),ct(5,"lucide-icon",4),re(6,"p"),ge(7),Ae(8,"translate"),le()(),re(9,"a",5),ct(10,"lucide-icon",4),re(11,"p"),ge(12),Ae(13,"translate"),le()(),re(14,"a",6),ct(15,"lucide-icon",4),re(16,"p"),ge(17),Ae(18,"translate"),le()(),ct(19,"hr",2),re(20,"a",7),ct(21,"lucide-icon",4),re(22,"p"),ge(23),Ae(24,"translate"),le()(),re(25,"a",8),ct(26,"lucide-icon",4),re(27,"p"),ge(28),Ae(29,"translate"),le()(),re(30,"a",9),ct(31,"lucide-icon",4),re(32,"p"),ge(33),Ae(34,"translate"),le()(),re(35,"a",10),_e("click",function(){return s.logout()}),ct(36,"lucide-icon",4),re(37,"p"),ge(38),Ae(39,"translate"),le()()()),n&2&&(ne(5),Ne("img",s.ChartCandlestickIcon),ne(2),Ye(Oe(8,14,"PAGES.UPCOMING.NAME")),ne(3),Ne("img",s.ListTreeIcon),ne(2),Ye(Oe(13,16,"PAGES.ONGOING.NAME")),ne(3),Ne("img",s.CoinsIcon),ne(2),Ye(Oe(18,18,"PAGES.COMPLETED.NAME")),ne(4),Ne("img",s.WalletIcon),ne(2),Ye(Oe(24,20,"PAGES.WALLET.NAME")),ne(3),Ne("img",s.SettingsIcon),ne(2),Ye(Oe(29,22,"PAGES.PREFERENCES.NAME")),ne(3),Ne("img",s.UsersIcon),ne(2),Ye(Oe(34,24,"PAGES.ACCOUNTS.NAME")),ne(3),Ne("img",s.LogoutIcon),ne(2),Ye(Oe(39,26,"TYPES.BUTTON.LOGOUT")))},dependencies:[Pg,yl,Vh,No,Qs,Fu,nn,Jn],styles:[".c-side-menu__header[_ngcontent-%COMP%]{color:var(--c-foreground-2);border:1px solid var(--c-background-1);border-radius:10px;padding:30px 20px;margin:0 0 10px}.c-side-menu__option[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;display:flex;align-items:center;gap:10px;color:var(--c-foreground-2);border:1px solid var(--c-background-0);border-radius:10px;padding:0 20px}.c-side-menu__option[_ngcontent-%COMP%]:hover, .c-side-menu__option[_ngcontent-%COMP%]:active{color:var(--c-accent-0)}.c-side-menu__option[_ngcontent-%COMP%]:hover, .c-side-menu__option[_ngcontent-%COMP%]:active{background-color:var(--c-background-1);color:var(--c-foreground-0)}.c-side-menu__separator[_ngcontent-%COMP%]{width:calc(100% + -0px);margin:10px 0;padding:0;border:0;background-color:var(--c-background-4);height:1px}"]})};function _se(e,i){e&1&&(re(0,"nav",1)(1,"div",2),ct(2,"img",3),re(3,"span",4),ge(4),Ae(5,"translate"),le()(),re(6,"div",5),ct(7,"img",6),re(8,"span",4),ge(9),Ae(10,"translate"),le()(),re(11,"div",7),ct(12,"img",8),re(13,"span",4),ge(14),Ae(15,"translate"),le()()()),e&2&&(ne(4),Ye(Oe(5,3,"PAGES.RACES.NAME")),ne(5),Ye(Oe(10,5,"PAGES.COMPLETED.NAME")),ne(5),Ye(Oe(15,7,"PAGES.BETS.NAME")))}var Bg=class e{constructor(i){this.breakpointObserver=i}isMobileView=!1;destroy$=new ot;ngOnInit(){this.breakpointObserver.observe(hr).pipe(Wt(this.destroy$)).subscribe(i=>{this.isMobileView=i.matches})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)(be(dr))};static \u0275cmp=lt({type:e,selectors:[["app-races-menu-mobile"]],decls:1,vars:1,consts:[["class","c-races-menu",4,"ngIf"],[1,"c-races-menu"],["routerLink","/races","routerLinkActive","active",1,"c-races-menu__item"],["src","assets/game-img/gold-race.png","alt","Races",1,"c-races-menu__icon"],[1,"c-races-menu__txt"],["routerLink","/completed","routerLinkActive","active",1,"c-races-menu__item"],["src","assets/game-img/gold-trophy.png","alt","Completed",1,"c-races-menu__icon"],["routerLink","/bets","routerLinkActive","active",1,"c-races-menu__item"],["src","assets/game-img/gold-horseshoe.png","alt","Bets",1,"c-races-menu__icon"]],template:function(n,s){n&1&&mt(0,_se,16,9,"nav",0),n&2&&Ne("ngIf",s.isMobileView)},dependencies:[Bt,$n,No,Qs,Fu,qS,nn,Jn],styles:[".c-races-menu[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;height:70px;display:flex;align-items:center;justify-content:space-between;background-color:var(--c-background-2);border-top:1px solid var(--c-background-4);padding:5px 10px;z-index:90}.c-races-menu__item[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;min-width:70px;padding:5px 20px;color:var(--c-foreground-2);transition:.5s}.c-races-menu__item[_ngcontent-%COMP%]:hover, .c-races-menu__item[_ngcontent-%COMP%]:active, .c-races-menu__item.active[_ngcontent-%COMP%]{color:var(--c-accent-0)}.c-races-menu__icon[_ngcontent-%COMP%]{width:26px;height:26px}.c-races-menu__txt[_ngcontent-%COMP%]{font-size:14px;margin-top:4px}"]})};var Vg=class e{constructor(i,n,s){this.router=i;this.sessionService=n;this.breakpointObserver=s;this.setupRedirectLogic()}destroy$=new ot;setupRedirectLogic(){let i=!1;this.breakpointObserver.observe(hr).pipe(Wt(this.destroy$)).subscribe(n=>{i=n.matches}),this.sessionService.session$.pipe(Wt(this.destroy$)).subscribe(n=>{n?i&&this.router.navigate(["/races"]):i?this.router.navigate(["/races"]):this.router.navigate(["/races"])})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||e)(pe(Lr),pe(ai),pe(dr))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Gg=class e{constructor(i,n,s){this.redirectService=i;this.translate=n;this.raceManagerService=s;this.translate.use("en")}title="my-angular-app";static \u0275fac=function(n){return new(n||e)(be(Vg),be(Ya),be(Xr))};static \u0275cmp=lt({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"navbar"],[1,"view"]],template:function(n,s){n&1&&(ct(0,"app-nav-bar",0),re(1,"div",1),ct(2,"router-outlet"),le(),ct(3,"app-side-menu-mobile")(4,"app-races-menu-mobile"))},dependencies:[N3,Fg,Ng,Bg,nn],styles:["[_nghost-%COMP%]{height:100vh;display:flex;flex-direction:column;overflow:hidden;align-items:center}.navbar[_ngcontent-%COMP%]{width:100%}.view[_ngcontent-%COMP%]{width:100%;flex-grow:1;overflow-y:auto;background:linear-gradient(#0000000f,#0000 50px);padding-bottom:80px;scrollbar-width:thin;scrollbar-color:var(--c-accent-0) var(--c-background-1)}.view[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--c-background-1)}.view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-accent-0);border-radius:4px;border:2px solid var(--c-background-1)}"]})};pw(Gg,MO).catch(e=>console.error(e));
